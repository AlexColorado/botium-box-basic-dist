var _0x54b4=['dialogflow','Google\x20Dialogflow','koreai-webhook','Kore.ai','fbpagereceiver','Facebook\x20Messenger\x20Bots','botpress','Botpress.io','simplerest','Generic\x20HTTP/JSON\x20Interface','lex','Amazon\x20Lex','alexa-avs','Alexa\x20Voice\x20Service','alexa-smapi','Alexa\x20Skill\x20Management\x20API','google-assistant','Google\x20Assistant','wechat','webdriverio','WebdriverIO\x20(Selenium\x20or\x20Appium)','docker','Dockerize\x20Facebook/Slack/Botkit\x20Chatbot','fbdirect','Connect\x20Live\x20Facebook\x20Chatbot','webspeech','BOTIUMBOX_DISABLE_CONNECTORS','findIndex','splice','BOTIUMBOX_ENABLE_CONNECTORS','value','botium-box-server-charts-query','TODAY','utc','LASTWEEK','LAST2WEEKS','LASTMONTH','LAST2MONTHS','endOf','chartData','called\x20chartFailedCountByTestSetByDay\x20','chartFailedCountByTestSetByDay_','{\x20id\x20createdAt\x20testSets\x20{\x20id\x20name\x20}\x20chartData\x20}','createdAt','groupBy','ceil','sortBy','chartFailedCountByChatbotByDay_','{\x20id\x20createdAt\x20chatbot\x20{\x20id\x20name\x20}\x20chartData\x20}','isBefore','chartTestSetResultCount_','{\x20id\x20createdAt\x20chartData\x20}','UNKNOWN','lastTestSessionId','testCaseLastTotalCount','testCaseLastSuccessCount','testCaseLastSuccessRate','countByTestSetId','previousRun','previousTestSessionId','testCasePreviousTotalCount','testCasePreviousSuccessCount','testCasePreviousSuccessRate','testCaseTrend','GOOD','BAD','lastRun','chartTestProjectTrainingStatusByTestSet_','chartTestProjectTrainingStatusByDeviceSet_','{\x20id\x20createdAt\x20deviceSets\x20{\x20id\x20name\x20}\x20chartData\x20}','No\x20Device\x20Set','Invalid\x20request','{\x20id\x20name\x20password\x20email\x20roles\x20}','No\x20such\x20user\x20found:\x20','compare','Invalid\x20password','Agent','Agent\x20not\x20found\x20','createChatbot','Chatbot','Chatbot\x20not\x20found\x20','deleteChatbot','botium-box-server-mutation-testsession','Job\x20Creation\x20Job\x20for\x20Test\x20Session\x20','deleteManyTestSessionJobLogs','deleteManyTestSessionTestCaseResults','deleteTestSession','Error\x20deleting\x20test\x20session\x20','{\x20id\x20name\x20jobs\x20{\x20jobId\x20}\x20}','jobId','cancelTestSession\x20-\x20Failed\x20to\x20remove\x20job\x20','cancelTestSession\x20-\x20removed\x20job\x20','cancelTestSession\x20-\x20sending\x20cancel\x20test\x20session\x20event\x20','\x20to\x20agent\x20','process.cancel.','Cancel\x20Test\x20Session\x20Job\x20for\x20Test\x20Session\x20',',\x20Agent\x20','createTestSession','{\x20id\x20name\x20chatbot\x20{\x20id\x20}\x20testSets\x20{\x20id\x20}\x20deviceSets\x20{\x20id\x20}\x20agent\x20{\x20id\x20}\x20batchCount\x20}','Test\x20Project\x20','\x20not\x20found','\x20-\x20Test\x20Session','BoxTriggered','createTestProject','\x20-\x20Initial\x20Test\x20Session','QuickStart','TestProject','updateTestProject','deleteTestProject','botium-box-server-mutation-settings','hash','roles','USER','User\x20not\x20found\x20','ADMIN','Only\x20admin\x20can\x20update\x20users','admin','updateUser','Not\x20allowed\x20to\x20delete\x20user\x20\x22admin\x22','deleteUser','Error\x20deleting\x20User\x20','createApiKey','ApiKey\x20not\x20found\x20','key','updateApiKey','deleteApiKey','DeviceProvider\x20type\x20INTEGRATED\x20not\x20allowed\x20to\x20create','\x20not\x20supported\x20in\x20this\x20version','createDeviceProvider','DeviceProvider','DeviceProvider\x20not\x20found\x20','DeviceProvider\x20type\x20INTEGRATED\x20not\x20allowed\x20to\x20delete','updateSystemSettings','botium-box-server-mutation-deviceset','createDeviceSet','DeviceSet\x20not\x20found\x20','{\x20id\x20devices\x20{\x20id\x20}\x20}','devices','deleteDeviceSet','Error\x20deleting\x20DeviceSet\x20','asyncIterator','testSessionProgress','subscription','CREATED','UPDATED','testSessionJobLog','testSessionTestCaseResult','Query','Mutation','Subscription','request.user','request.apiKey','Not\x20logged\x20in','Unauthorized,\x20incorrect\x20role','botium-box-middleware-jwt','APIKEY','body','headers','lookupApiKey','Api\x20Key\x20found\x20-\x20','JWT_AUTOLOGIN_USERNAME','Auto\x20login\x20user\x20','authorization','Bearer','token','use','botium-box-server-fbproxy','\x20{\x20id\x20name\x20capabilities\x20{\x20name\x20type\x20stringValue\x20intValue\x20booleanValue\x20jsonValue\x20}\x20}\x20','/api/fbproxy/','FBPAGERECEIVER_ENDPOINT','FBPAGERECEIVER_VERIFYTOKEN','FBPAGERECEIVER_ACCESSTOKEN','FBPAGERECEIVER_APPSECRET','endpoint','json','bind',',\x20endpoint:\x20','botium-box-server-endpoints-attachments','params','getExcel','attachment;\x20filename=','Excel\x20not\x20found\x20-\x20','sendStatus','Excel\x20lookup\x20error\x20-\x20','/api/attachment/screenshot/:id','getAttachment','writeHead','inline;\x20filename=','mimeType','Attachment\x20lookup\x20error\x20-\x20','botium-box-server-endpoints-build','\x20\x20\x20\x20\x20','toLowerCase','X-BOTIUM-','REPORTER','junit','csv','send','VALID\x20REPORTER\x20OPTIONS:\x20json,\x20junit,\x20csv','setHeader','Content-disposition','.json','text/xml','.xml','.csv','Test\x20Session\x20lookup\x20error\x20-\x20','Content-Type','sendTestSessionOutput\x20callbackUrl\x20','\x20ready\x20for\x20test\x20session\x20','\x20failed\x20for\x20test\x20session\x20','findSimpleTestSessionResults','testSessionStatus','testCaseName','testCaseSource','testCaseSuccess','testCaseErr','testCaseDuration','testSetName','testcaseName','err','\x22;\x22','next','WAIT','CALLBACKURL','CALLBACKMETHOD','POST','BUILDID','BUILDCOMMENT','STRING','CAPS','SOURCES','ENVS','batchCount','Creating\x20Test\x20Session\x20','{\x20id\x20status\x20}','Test\x20Project\x20start\x20error\x20-\x20','{\x20id\x20name\x20status\x20}','{\x20id\x20name\x20jobs\x20{\x20id\x20logs\x20{\x20createdAt\x20log\x20}\x20}\x20}','set','text/plain','write','Job\x20Output\x20(','logs','##############################################################\x0a','{\x20id\x20logs\x20{\x20createdAt\x20log\x20}\x20}','end','Test\x20Session\x20Job\x20lookup\x20error\x20-\x20','{\x20id\x20status\x20name\x20results\x20{\x20id\x20testcaseName\x20createdAt\x20success\x20err\x20duration\x20steps\x20{\x20step\x20expected\x20not\x20actual\x20stepDuration\x20botDuration\x20err\x20}\x20}\x20}','testCaseId','convoStepIndex','convoStepSender','convoStepNot','convoStepExpected','convoStepDuration','convoStepBotDuration','convoStepErr','buttons','BUTTON\x20','text','media','mediaUri','step','stepDuration','botDuration','VALID\x20REPORTER\x20OPTIONS:\x20json,\x20csv','nameOrId','post','/api/triggerbuild/:code','/api/build/:nameOrId','/api/log/:nameOrId','/api/version','50mb','/api/attachment/*','/api/build/*','/api/log/*','/api/joblog/*','/api/transcript/*','botium-box-server-index','PRISMA_SCHEMA','src/generated/prisma.graphql','PRISMA_ENDPOINT','PRISMA_DEBUG','PRISMA_SECRET','exit','BOTIUMBOX_QUEUE_SETTINGS','Got\x20queue\x20settings\x20\x27','prefix','BOTIUMBOX_QUEUE_PREFIX','BOTIUMBOX_QUEUE_REDISURL','connecting\x20to\x20Botium\x20queue\x20\x27','setMaxListeners','./botiumwork','Using\x20BOTIUM_TEMPDIR\x20','./testsets','ERROR\x20verifying\x20TESTSETDIR\x20\x27','GRAPHQL_SCHEMA','./src/schema.graphql','PORT','/subscriptions','Authorization','/playground','BOTIUMBOX_STATIC_PATH','static','\x20for\x20incoming\x20requests,\x20static\x20files\x20served\x20from\x20','startListeners','uncaughtException','UNCAUGHTEXCEPTION','stack','warning','WARNING','object','undefined','node-cache','botium-core/src/scripting/Constants','botium-core/src/Source','botium-core/src/Capabilities','natural','botium-core','uuid/v1','ioredis','url','jsonwebtoken','watson-developer-cloud/assistant/v1','botium-core/src/scripting/CompilerTxt','kue','randomatic','graphql-yoga','util','express-jwt','body-parser','botium-connector-fbpagereceiver/src/proxy','request-promise-native','slugify','lodash','debug','xml','dotenv-flow','graphql-redis-subscriptions','prisma-binding','express','function','amd','path','botium-core/src/repos/GitRepo','mkdirp','moment','bcryptjs','main','nodeCache','Source','Capabilities','rimraf','botiumCore','v1$1','graphqlYoga','expressJwt','bodyParser','requestPromiseNative','dotenvFlow','graphqlRedisSubscriptions','prismaBinding','connectHistoryApiFallback','hasOwnProperty','default','COMMUNITY\x20EDITION','release/1.3.1','f919f64eadb550a5d682bc818e8c564765200a6a','2019-03-15T09:17:38+01:00','log','BOTIUM\x20BOX\x20-\x20SERVER','buildTarget','buildBranch','BUILD_REVISION:\x20','buildDate','botium-box-server-cache','cache','get','Serving\x20key\x20','resolve','loading','\x20already\x20running,\x20waiting\x20...','push','listeners','Load\x20process\x20for\x20key\x20','\x20started,\x20waiting\x20...','then','\x20ready,\x20notifying\x20listeners\x20...','forEach','catch','del','flushAll','query','expandConvos','expandUtterancesToConvos','expandUtterancesIncomprehension','scriptType','map','script','scripts','filter','SCRIPTING_TYPE_PCONVO','SCRIPTING_FORMAT_TXT','SCRIPTING_TYPE_UTTERANCES','folders','globFilter','excels','filename','filecontent','hasPartialConvos','hasUtterances','worksheetsConvos','worksheetsPartialConvos','worksheetsUtterances','startCol','botium-retrieve-all-test-cases','convos','format','Compile','content','SCRIPTING_TYPE_CONVO','sourceTag','inspect','pconvos','name',':\x20Partial\x20Convo\x20Script\x20compilation\x20failed:\x20','utterances','ReadScriptsFromDirectory','\x20script\x20compilation\x20failed:\x20','length','all','base64','caps','SCRIPTING_XLSX_STARTROW','SCRIPTING_FORMAT_XSLX','SCRIPTING_XLSX_SHEETNAMES_PCONVOS','SCRIPTING_XLSX_STARTCOL','assign','RegexpTokenizer','random','charAt','toLocaleLowerCase','toLocaleUpperCase','substr','join','indexOf','split','round','sort','startsWith','concat','Case\x20sensitivity','Duplicate\x20space','Emojis','$1\x0a','slice','Enter\x20instead\x20of\x20space','replace','Double\x20character','has','add','delete','Aale,\x20Ahle','Ai,\x20Ei','Annalen,\x20analen','Bad,\x20bat','bald,\x20ballt','Band,\x20bannt','Beete,\x20bete','Block,\x20Blog','Boot,\x20bot','Bund,\x20bunt','Chor,\x20Korps','Code,\x20Kot','das,\x20dass','dehnen,\x20denen','erhält,\x20erhellt','Fälle,\x20Felle','fetter,\x20Vetter','fließt,\x20fliehst,\x20fliest','Fühler,\x20Phyla','Geld,\x20gellt','Gewand,\x20gewandt','Grad,\x20Grat','Graf,\x20Graph','Halt,\x20hallt','hallte,\x20halte','hält,\x20Held,\x20hellt','Hämmer,\x20Hemmer','harrt,\x20hart','hasst,\x20hast','Häute,\x20heute','Hund,\x20Hunt','kannte,\x20Kante','konnten,\x20Konten','Kuh,\x20Coup','küsste,\x20Küste','Laib,\x20Leib','Laie,\x20Leihe','laichen,\x20Leichen','lasst,\x20Last','läuten,\x20Leuten','Lärche,\x20Lerche','Leere,\x20Lehre','leeren,\x20lehren','Leerstelle,\x20Lehrstelle','Leid,\x20leiht','Lid,\x20Lied','lies,\x20ließ','liest,\x20least','Mahl,\x20Mal','Mähre,\x20Märe,\x20Meere','mahlen,\x20malen','man,\x20Mann','Märkte,\x20merkte','Meer,\x20mehr','misst,\x20Mist','Mohr,\x20Moor','mühten,\x20Mythen','Mund,\x20Munt','Nachnahme,\x20Nachname','nahmen,\x20Namen','packt,\x20Pakt','pisste,\x20Piste','rächen,\x20Rechen','rächt,\x20Recht','Rad,\x20Rat','Rain,\x20rein','Reis,\x20reiß','ruhte,\x20Rute,\x20Route','säen,\x20sähen','Sätzen,\x20setzen','schafft,\x20Schaft','schallten,\x20schalten','Schänke,\x20schenke','schellte,\x20Schelte','Schlächter,\x20schlechter','Schwälle,\x20Schwelle','Schwämme,\x20Schwemme','Seen,\x20sehen','seid,\x20seiht,\x20seit','Sohle,\x20Sole','späht,\x20spät','Stadt,\x20statt','Städte,\x20Stätte','Ställe,\x20Stelle','stehlen,\x20Stelen','Tod,\x20tot','Trend,\x20trennt','Uhrzeit,\x20Urzeit','Verband,\x20verbannt','Verben,\x20werben','verließ,\x20Verlies','verwaist,\x20verweist','Villen,\x20Willen','Waage,\x20vage','Wahl,\x20Wal','wahr,\x20war','Waise,\x20Weise','Wald,\x20wallt','Wälle,\x20Welle','Wände,\x20Wende','Weck,\x20weg','weis,\x20weiß','weist,\x20weißt','wieder,\x20wider','acclamation,acclimation','adolescence,adolescents','aeration,erration','aerie,airy','affect,effect','ail,ale','air,heir,err,ere','aisle,isle,I\x27ll','allowed,aloud','allude,elude','altar,alter','arc,ark','are,our','ate,eight','aye,I,eye','bail,bale','bait,bate','ball,bawl','band,banned','bard,barred','base,bass','based,baste','bazaar,bizarre','be,bee','bean,been','been,bin','beer,bier','bell,belle','berry,bury','better,bettor','bight,bite','bird,burred','blew,blue','boar,bore,boor','board,bored','boarder,border','bode,bowed','bold,bowled','bolder,boulder,bowlder','bole,bowl','boos,booze','bough,bow','boy,buoy','braise,braze,brays,braize','bread,bred','brewed,brood','brews,bruise','bridal,bridle','burro,burrow','but,butt','buy,bye,by','cache,cash','callous,callus','can\x27t,cant','cannon,canon','caries,carries','cast,caste','cede,seed','censor,sensor','cent,sent,scent','cereal,serial','cession,session','chance,chants','chews,choose','chic,sheik','choir,quire','chord,cored,cord','clause,claws','click,clique','close,clothes','coal,cole','coaled,cold','coated,coded','cocks,cox','complement,compliment','coo,coup','correspondence,correspondents','cosign,cosine','councilor,counselor','crewed,crude','crews,cruise','cue,queue','currant,current','Dane,deign','dear,deer','dense,dents','dependence,dependents','dew,due,do','die,dye','dire,dyer','discreet,discrete','doe,dough','does,doze,doughs','done,dun','dual,duel','earn,urn','either,ether','emigrant,immigrant','ewe,you,yew','faint,feint','fair,fare','fairy,ferry','fate,fete','faze,phase','feat,feet','find,fined','finish,Finnish','fir,fur','flair,flare','flea,flee','flecks,flex','flew,flue','flour,flower','for,four,fore','forego,forgo','foreword,forward','forth,fourth','foul,fowl','frees,frieze,freeze','friar,fryer','gage,gauge','gait,gate','gel,jell','gild,guild','gneiss,nice','gored,gourd','grade,grayed,greyed','grate,great','grays,greys,graze','grisly,grizzly','groan,grown','guessed,guest','guide,guyed','hail,hale','hair,hare','hairy,harry','hall,haul','halve,have','hangar,hanger','he\x27d,heed','he\x27ll,heel,heal','hear,here','heard,herd','heated,heeded','hew,hue','hi,high','higher,hire','him,hymn','ho,hoe','hoar,whore','hoard,horde','hoarse,horse','hoes,hose','hole,whole','holey,wholly,holy','hostel,hostile','hour,our','idle,idol','immanent,imminent','in,inn','incidence,incidents','incite,insight','instance,instants','intense,intents','intension,intention','it\x27s,its','jam,jamb','knave,nave','knead,need,kneed','knew,new','knight,night','knit,nit','know,no','knows,nose','lacks,lax','lain,lane','lam,lamb','lay,lei','lays,laze','leach,leech','lead,led','leak,leek','lessen,lesson','let\x27s,lets','levee,levy','lickerish,licorice','lie,lye','load,lode','loan,lone','loch,lock','locks,lox','loop,loupe','loos,lose','lose,loose','made,maid','mail,male','maize,maze,Mays','mall,maul','manner,manor','marshal,martial','massed,mast','mat,matte','mean,mien','meat,mete,meet','medal,mettle,meddle,metal','might,mite','mind,mined','miner,minor','missed,mist','moat,mote','muscle,mussel','mussed,must','nay,neigh','nicks,nix','none,nun','oh,owe','oohs,ooze','overseas,oversees','paced,paste','packed,pact','pail,pale','pain,pane','pair,pear,pare','parish,perish','passed,past','patience,patients','peace,piece','pearl,purl','pedal,petal,peddle','peer,pier','penance,pennants','per,purr','pi,pie','plainer,planer,planar','plait,plate','pleas,please','poor,pour,pore','praise,preys,prays','pray,prey','precedence,precedents','premier,premiere','presence,presents','pride,pried','prier,prior','pries,prize','prince,prints','principal,principle','profit,prophet','raid,rayed','rain,rein,reign','raise,raze,rays','rap,wrap','rapt,wrapped,wrapt','re-lay,relay','read,reed','real,reel','recede,reseed','residence,residents','rest,wrest','right,write,rite,wright','ring,wring','road,rowed,rode','roe,row','roil,royal','role,roll','root,route','rose,rows','rues,ruse','rung,wrung','sea,see','seam,seem','seas,seize,sees','sects,sex','sew,sow,so','shake,sheik','shear,sheer','shoe,shoo','sic,sick','sics,six','side,sighed','sighs,size','sign,sine','slay,sleigh','sleight,slight','slew,slough','soared,sword','sold,soled','some,sum','son,sun','stake,steak','step,steppe','storey,story','straight,strait','suite,sweet','tacked,tact','tacks,tax','tail,tale','taper,tapir','tarry,terry','taught,taut','tea,tee','team,teem','tears,tiers','teas,tees,tease','tense,tents','than,then','threw,through','throne,thrown','thyme,time','tier,tire','tighten,titan','to,two,too','toad,towed,toed','told,tolled','tray,trey','udder,utter','vain,vein,vane','vale,veil','vial,vile','vice,vise','wade,weighed','wail,whale','waist,waste','waiver,waver','wale,whale','ward,warred','wax,whacks','way,whey,weigh','we,wee','we\x27d,weed','we\x27ll,wheel,weal,wheal','we\x27re,whir','we\x27ve,weave','wearer,where\x27re','weather,whether','wet,whet','which,witch','whiled,wild','whined,wined,wind','whirled,world','whit,wit','whither,wither','who\x27s,whose','whoa,woe','wood,would','yack,yak','yoke,yolk','yore,your,you\x27re','you\x27ll,Yule','adieu,ado','ant,aunt','aural,oral','marry,merry','rout,route','seated,seeded','shone,shown','trader,traitor','vary\x20and\x20very','trim','Missing\x20character','qwertz\x20vs\x20qwerty\x20keyboard','Sausage\x20fingers','from','shift','Shift\x20characters','metadata','habits','typo','Unknown\x20ID:\x20','keys','duplicate\x20utterance\x20:\x20<','>\x20created\x20by\x20','stringify','humanifiersToExecute','botium-box-clone-testset','_JUST_BOT','BuildCompiler','BOTIUM_TEMPDIR','Aa0','sync','Failed\x20rimraf\x20','size','both','neither','values','process','Cloning\x20finished:\x20','env','TESTSETDIR','_CLONED_','writeFile','.utterances.txt','GetCompiler','Decompile','.convo.txt','messageText','sender','bot','toHumanify','utterancesToHumanifyCount','There\x20is\x20already\x20an\x20utterance\x20','\x20in\x20the\x20testset!','cloneDeep','uniq','Execute','humanifiedRefs','humanifiedRefCount','duplicates','clonedConvoCount','\x20\x0a{\x0a\x20\x20id\x0a\x20\x20name\x0a\x20\x20expandConvos\x0a\x20\x20expandUtterancesToConvos\x0a\x20\x20expandUtterancesIncomprehension\x0a\x20\x20tags\x0a\x20\x20scripts\x20{\x20id\x20script\x20scriptType\x20}\x0a\x20\x20repositories\x20{\x20id\x20giturl\x20gitbranch\x20gitdir\x20globFilter\x20}\x0a\x20\x20folders\x20{\x20id\x20path\x20globFilter\x20}\x0a\x20\x20excels\x20{\x20id\x20filename\x20filecontent\x20hasConvos\x20hasPartialConvos\x20hasUtterances\x20worksheetsConvos\x20worksheetsPartialConvos\x20worksheetsUtterances\x20startRow\x20startCol\x20}\x0a}','mutation','exists','TestSet\x20not\x20found\x20','updateTestSet','deleteTestSet','{id}','createTestSetScript','TestSetScript','updateTestSetScript','deleteTestSetScript','TestSetFolder','TestSetFolder\x20not\x20found\x20','deleteTestSetFolder','createTestSetExcel','TestSetExcel\x20not\x20found\x20','updateTestSetExcel','deleteTestSetExcel','CloneTestset','basename','\x20cloned\x20to\x20\x22','\x22,\x20percentage\x20','tags','Cloned','cloned','createTestSet','testSet','sources','header','order','description','conversation','partialConvos','{\x20statsCompiledConvos\x20{\x20id\x20}\x20}','statsCompiledConvos','botium-box-testset-scanner','TESTSETDIR_PUBLIC','readdirSync','reduce','statSync','isFile','testSetFolders','sep','Folder\x20','\x20already\x20in\x20use\x20-\x20','\x20in\x20Test\x20Set\x20','\x20files','{\x20id\x20}','scanDirForTestSets\x20','\x20with\x20','\x20Failed\x20to\x20create\x20','data','botium-box-server-livechat','BOTIUMBOX_LIVECHAT_IDLE_TIMEOUT','redis','subscribe','livechat.send','livechat.stop','Redis\x20subscribe\x20failed:\x20','Livechat\x20Redis\x20connected\x20to\x20','\x20channels.','message',')\x20sending\x20convoStep\x20','publish','Auto\x20cleanup\x20of\x20conversation\x20','\x20after\x20','ms\x20idle\x20time','Automatically\x20closed\x20chatbot\x20connection\x20after\x20','Stop','stopConversation(',')\x20Stop\x20failed:\x20',')\x20Clean\x20failed:\x20',')\x20container\x20stopped.','listenerQueue\x20err:\x20','MESSAGE_SENTTOBOT','MESSAGE_RECEIVEDFROMBOT','Build','liveChatStartBot(',')\x20container\x20built,\x20now\x20starting','Start','expire','ttl','updateConversation(',')\x20TTL(seconds):\x20','isArray','Conversation\x20not\x20available\x20(anymore).','Decompiled\x20script:\x20','botium-box-server-agents-utils','queueSettings','testSessionTestCaseResultAttachment','{\x20id\x20name\x20mimeType\x20base64\x20}','testSetExcel','now','toISOString','apiKeys','{\x20id\x20name\x20}','testSession','{\x20id\x20name\x20status\x0a\x20\x20\x20\x20results\x20{\x20id\x20testcaseName\x20testcaseSource\x20success\x20err\x20duration\x20testSet\x20{\x20id\x20name\x20}\x20}\x20}','group','invalid\x20agent\x20event,\x20name\x20or\x20group\x20not\x20given\x20','reject','agent','{\x20id,\x20name,\x20capabilities\x20{\x20name\x20type\x20stringValue\x20intValue\x20booleanValue\x20jsonValue\x20}\x20}','type','TEXT','stringValue','BOOLEAN','booleanValue','JSON','jsonValue','botium-box-server-charts-mutation','{\x20id\x20status\x20results\x20{\x20success\x20testSet\x20{\x20id\x20}\x20}\x20jobs\x20{\x20status\x20totalCount\x20failedCount\x20successCount\x20}\x20}','status','READY','FAILED','totalCount','jobs','failedCount','successCount','results','success','NULL','countByDeviceSetId','deviceSet','updateChartCacheForTestSession\x20','\x20chartData\x20updated:\x20','updateTestSession','chartsCache','flush','Test\x20Session\x20','\x20not\x20configured','process.run.','process.run','combineBotiumCapabilities','chatbot','capabilities','composeBotiumCapabilities','testProject','getServerDefaultCapabilities','\x20testSessionCaps:\x20','startTestSession\x20','envs','testSets','createTestSessionJob','PENDING','queueConnector','create','Processing\x20Job\x20#','\x20for\x20Test\x20Session\x20','save','Saving\x20batchJob\x20failed:\x20','updateTestSessionJob','TestSessionJob\x20for\x20TestSession\x20','\x20id:\x20','\x20registration\x20failed\x20(jobId:\x20','):\x20','deviceSets','provider','protocol','port','pathname','SAUCELABS','parse','username','password','LOCALSELENIUM','INTEGRATED','\x20adding\x20capability\x20for\x20starting\x20integrated\x20PhantomJS','\x20testSessionDevices:\x20','deviceName','repositories','deviceOptions','startTestSession\x20failed:\x20','createTestSessionJobLog','testSessionJobCompleted\x20failed:\x20','updateManyTestSessions','RUNNING','Test\x20Session\x20Job\x20','\x20RUNNING.','\x20set\x20Test\x20Session\x20','\x20RUNNING\x20failed:\x20','updateManyTestSessionJobs','isNumber','\x20Job\x20RUNNING.','\x20Job\x20RUNNING\x20failed:\x20','\x20set\x20Test\x20Session\x20Job\x20progressPercent\x20','\x20failed:\x20','testcase','transcript','convoBegin','convoEnd','duration','diff','steps','expected','isString','not','actual','stepBegin','stepEnd','botBegin','botEnd','testSetFilename','testSetId','testSetScript','testSetScriptId','testSetRepository','testSetRepositoryId','testSetFolderId','testSetExcelId','deviceSetId','attachments','createTestSessionTestCaseResult','TestResult\x20for\x20TestCase\x20\x22','\x22\x20in\x20TestSession\x20\x22','\x22\x20registered\x20(jobId:\x20','\x22\x20registration\x20failed\x20(jobId:\x20','testSessionProgress\x20-\x20Testsession\x20\x22','\x22,\x20Job\x20',',\x20progress\x20','\x20completed:\x20','Job\x20completed','Job\x20failed:\x20','testSessionJobFailed\x20failed:\x20','{\x20id\x20name\x20status\x20jobs\x20{\x20status\x20finished\x20failedCount\x20}\x20}','find','Test\x20Session\x20testSessionCheckFinished\x20','\x20waiting\x20for\x20other\x20jobs\x20to\x20finish.','\x20failed\x20(job\x20failed:\x20',',\x20result\x20failed:\x20','testSessionCheckFinished\x20test\x20session\x20','\x20success','testSessionCheckFinished\x20','testSessionId','sendProgressProcessingQueue\x20for\x20testSessionIds:\x20','ctx','TEST_SESSION_PROGRESS','findAgentFromJobData','{\x20id,\x20name\x20}','updateAgent','Agent\x20','botium-box-server-agents-registeragent','BOTIUMBOX_AGENTREGISTRATION','\x20not\x20yet\x20registered,\x20automatically\x20registering.','createAgent','\x20registered,\x20config:\x20','\x20registration\x20failed:\x20','ctxFactory','start','agent.heartbeat','agent.heartbeat:\x20','agent.register','agent.register:\x20','box.createprocessingjobs','box.createprocessingjobs:\x20','error','job\x20failed\x20attempt','toJSON','Job\x20','attempts','Job','\x20failed\x20finally,\x20','\x20-\x20Err:\x20','\x20-\x20Job\x20Data:\x20','process.progress','process.ready.success:\x20','process.ready.failed','botium-box-server-testcasecleanup','testSessionTestCaseResults','{\x20id\x20attachments\x20{\x20id\x20}\x20}','Found\x20','\x20(older\x20than\x20','deleteManyTestSessionTestCaseResultAttachments','Found\x20no\x20screenshots\x20to\x20cleanup\x20for\x20','\x20transcripts\x20to\x20cleanup\x20for\x20','deleteManyTestSessionTestCaseResultTranscripts','\x20results\x20to\x20cleanup\x20for\x20','updateManyTestSessionTestCaseResults','runCleanup\x20started\x20...','systemSettingses','keepTestCaseSuccessScreenshotsDays','subtract','days','startOf','day','toDate','runCleanupScreenshots\x20keepTestCaseSuccessScreenshotsDays\x20failed:\x20','keepTestCaseFailedScreenshotsDays','runCleanupScreenshots\x20keepTestCaseFailedScreenshotsDays\x20failed:\x20','keepTestCaseSuccessConversationDays','runCleanupTranscripts\x20keepTestCaseSuccessConversationDays\x20failed:\x20','keepTestCaseFailedConversationDays','runCleanupTranscripts\x20keepTestCaseFailedConversationDays\x20failed:\x20','cleanupJobIntervalMinutes\x20not\x20configured,\x20not\x20scheduling\x20cleanup\x20task.','cleanupJobIntervalMinutes','box.testcasecleanup','delayed','error\x20checking\x20job\x20states:\x20','remove','Removed\x20duplicate\x20Scheduled\x20Test\x20Case\x20Cleanup\x20Job\x20','Scheduled\x20Test\x20Case\x20Cleanup\x20Job','removeOnComplete','delay','Scheduled\x20Test\x20Case\x20Cleanup\x20Job\x20','Test\x20Case\x20Cleanup\x20ready.','JWT_AUDIENCE','JWT_ISSUER','botiumbox','sign','JWT_EXPIRY_DAYS','toString','verify','JWT_SECRET','{\x20id\x20name\x20email\x20roles\x20}','request','user','name_ASC','agents','botium-box-server-resolvers-chatbots','chatbots','workspaces','workspace_id','Conversation\x20','\x20not\x20available.',')\x20saving\x20test\x20case\x20for\x20test\x20set\x20','liveChatSaveConvoSteps(','\x20-\x20','createdAt_DESC','testSessions','testSessionJob','testSessionJobLogs','Utterances','no\x20script\x20provided','testSetFolder','testSetExcels','possibleOptions','deviceProvider','https://saucelabs.com/rest/v1/info/platforms/all','device','long_name','short_version','DESKTOP','MOBILEBROWSER','iphone','api_name','Safari','ipad','iOS','Android','uniqBy','orderBy','asc','TESTOBJECTS','https://app.testobject.com/api/rest/v2/devices','auth','includes','eu1','osVersion','MOBILEAPP','PhantomJS\x20Virtual\x20Browser','phantomjs','Generic\x20Browser\x20(manually\x20set\x20capabilities)','Google\x20Chrome\x20(Headless)','chrome','--disable-gpu','testProjects','users','apiKey','echo','Botium\x20Sample\x20Chatbot\x20(Echo)','watson','IBM\x20Watson\x20Assistant\x20API','directline3','Microsoft\x20Bot\x20Framework\x20(Directline\x203)'];(function(_0x4a0ecf,_0x3580af){var _0x49b089=function(_0x3d8c51){while(--_0x3d8c51){_0x4a0ecf['push'](_0x4a0ecf['shift']());}};var _0x48d2=function(){var _0x51fb31={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0xf6e259,_0x2489b5,_0x121fd,_0x1fde4c){_0x1fde4c=_0x1fde4c||{};var _0x207dd8=_0x2489b5+'='+_0x121fd;var _0x2ef281=0x0;for(var _0x2ef281=0x0,_0x40c697=_0xf6e259['length'];_0x2ef281<_0x40c697;_0x2ef281++){var _0x3e028b=_0xf6e259[_0x2ef281];_0x207dd8+=';\x20'+_0x3e028b;var _0x335810=_0xf6e259[_0x3e028b];_0xf6e259['push'](_0x335810);_0x40c697=_0xf6e259['length'];if(_0x335810!==!![]){_0x207dd8+='='+_0x335810;}}_0x1fde4c['cookie']=_0x207dd8;},'removeCookie':function(){return'dev';},'getCookie':function(_0x551e27,_0x577d6d){_0x551e27=_0x551e27||function(_0x17b61d){return _0x17b61d;};var _0xcd915d=_0x551e27(new RegExp('(?:^|;\x20)'+_0x577d6d['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x3a5f64=function(_0x91b500,_0x4f6010){_0x91b500(++_0x4f6010);};_0x3a5f64(_0x49b089,_0x3580af);return _0xcd915d?decodeURIComponent(_0xcd915d[0x1]):undefined;}};var _0xcca978=function(){var _0x57d481=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x57d481['test'](_0x51fb31['removeCookie']['toString']());};_0x51fb31['updateCookie']=_0xcca978;var _0x12dc62='';var _0x51e86d=_0x51fb31['updateCookie']();if(!_0x51e86d){_0x51fb31['setCookie'](['*'],'counter',0x1);}else if(_0x51e86d){_0x12dc62=_0x51fb31['getCookie'](null,'counter');}else{_0x51fb31['removeCookie']();}};_0x48d2();}(_0x54b4,0x136));var _0x3397=function(_0x5ed194,_0x59087c){_0x5ed194=_0x5ed194-0x0;var _0x1dc0d3=_0x54b4[_0x5ed194];return _0x1dc0d3;};(function(_0x222211,_0x5306e9){var _0x25ec54=function(){var _0x2201db=!![];return function(_0x164dc7,_0x243c3b){var _0x259d68=_0x2201db?function(){if(_0x243c3b){var _0x4645ad=_0x243c3b['apply'](_0x164dc7,arguments);_0x243c3b=null;return _0x4645ad;}}:function(){};_0x2201db=![];return _0x259d68;};}();var _0x3dcce1=_0x25ec54(this,function(){var _0x2f3e31=function(){return'\x64\x65\x76';},_0x3a89c9=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x291ebd=function(){var _0x2d0e6a=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x2d0e6a['\x74\x65\x73\x74'](_0x2f3e31['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x6e77c2=function(){var _0x230109=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x230109['\x74\x65\x73\x74'](_0x3a89c9['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x4c9db8=function(_0x439300){var _0x1a9870=~-0x1>>0x1+0xff%0x0;if(_0x439300['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x1a9870)){_0x16d43f(_0x439300);}};var _0x16d43f=function(_0x3e08c5){var _0x296519=~-0x4>>0x1+0xff%0x0;if(_0x3e08c5['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x296519){_0x4c9db8(_0x3e08c5);}};if(!_0x291ebd()){if(!_0x6e77c2()){_0x4c9db8('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x4c9db8('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x4c9db8('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x3dcce1();typeof exports===_0x3397('0x0')&&typeof module!==_0x3397('0x1')?module['exports']=_0x5306e9(require(_0x3397('0x2')),require('path'),require(_0x3397('0x3')),require(_0x3397('0x4')),require('botium-core/src/repos/GitRepo'),require(_0x3397('0x5')),require(_0x3397('0x6')),require('fs'),require('mkdirp'),require('rimraf'),require(_0x3397('0x7')),require(_0x3397('0x8')),require(_0x3397('0x9')),require('better-queue'),require(_0x3397('0xa')),require(_0x3397('0xb')),require(_0x3397('0xc')),require(_0x3397('0xd')),require('moment'),require(_0x3397('0xe')),require(_0x3397('0xf')),require('bcryptjs'),require(_0x3397('0x10')),require('lodash.get'),require(_0x3397('0x11')),require(_0x3397('0x12')),require(_0x3397('0x13')),require(_0x3397('0x14')),require(_0x3397('0x15')),require(_0x3397('0x16')),require(_0x3397('0x17')),require(_0x3397('0x18')),require(_0x3397('0x19')),require(_0x3397('0x1a')),require(_0x3397('0x1b')),require(_0x3397('0x1c')),require(_0x3397('0x1d')),require('connect-history-api-fallback')):typeof define===_0x3397('0x1e')&&define[_0x3397('0x1f')]?define([_0x3397('0x2'),_0x3397('0x20'),_0x3397('0x3'),_0x3397('0x4'),_0x3397('0x21'),'botium-core/src/Capabilities',_0x3397('0x6'),'fs',_0x3397('0x22'),'rimraf','botium-core','uuid/v1',_0x3397('0x9'),'better-queue',_0x3397('0xa'),'jsonwebtoken',_0x3397('0xc'),_0x3397('0xd'),_0x3397('0x23'),_0x3397('0xe'),_0x3397('0xf'),_0x3397('0x24'),_0x3397('0x10'),'lodash.get',_0x3397('0x11'),_0x3397('0x12'),_0x3397('0x13'),'botium-connector-fbpagereceiver/src/proxy','request-promise-native',_0x3397('0x16'),_0x3397('0x17'),_0x3397('0x18'),_0x3397('0x19'),_0x3397('0x1a'),'graphql-redis-subscriptions','prisma-binding',_0x3397('0x1d'),'connect-history-api-fallback'],_0x5306e9):_0x222211[_0x3397('0x25')]=_0x5306e9(_0x222211[_0x3397('0x26')],_0x222211['path'],_0x222211['Constants'],_0x222211[_0x3397('0x27')],_0x222211['GitRepo'],_0x222211[_0x3397('0x28')],_0x222211[_0x3397('0x6')],_0x222211['fs'],_0x222211[_0x3397('0x22')],_0x222211[_0x3397('0x29')],_0x222211[_0x3397('0x2a')],_0x222211['v1'],_0x222211['ioredis'],_0x222211['betterQueue'],_0x222211[_0x3397('0xa')],_0x222211[_0x3397('0xb')],_0x222211[_0x3397('0x2b')],_0x222211['CompilerTxt'],_0x222211[_0x3397('0x23')],_0x222211[_0x3397('0xe')],_0x222211['randomatic'],_0x222211['bcryptjs'],_0x222211[_0x3397('0x2c')],_0x222211[_0x3397('0x17')],_0x222211[_0x3397('0x11')],_0x222211[_0x3397('0x2d')],_0x222211[_0x3397('0x2e')],_0x222211['proxy'],_0x222211[_0x3397('0x2f')],_0x222211[_0x3397('0x16')],_0x222211['lodash$1'],_0x222211['debug'],_0x222211[_0x3397('0x19')],_0x222211[_0x3397('0x30')],_0x222211[_0x3397('0x31')],_0x222211[_0x3397('0x32')],_0x222211['express'],_0x222211[_0x3397('0x33')]);}(this,function(_0x2c8fec,_0x3c3f22,_0x597b75,_0x77f95a,_0x11cc40,_0xf1fe4c,_0x33cc11,_0x464ab8,_0x196394,_0x319945,_0x358b35,_0x561070,_0x1b4e71,_0x276521,_0x442653,_0x50c547,_0x38e439,_0x33c0a9,_0x12e11a,_0x5a59a4,_0xb05a44,_0x501db2,_0x328356,_0x40a32a,_0x12bf23,_0xe5cf37,_0x11aa75,_0x77419a,_0x4c9086,_0xed50bd,_0x5087e3,_0x3ac7e8,_0x52e163,_0x244489,_0x147272,_0x166150,_0x5d2b47,_0x2d5763){'use strict';_0x2c8fec=_0x2c8fec&&_0x2c8fec[_0x3397('0x34')](_0x3397('0x35'))?_0x2c8fec[_0x3397('0x35')]:_0x2c8fec;_0x3c3f22=_0x3c3f22&&_0x3c3f22[_0x3397('0x34')](_0x3397('0x35'))?_0x3c3f22['default']:_0x3c3f22;_0x597b75=_0x597b75&&_0x597b75[_0x3397('0x34')](_0x3397('0x35'))?_0x597b75[_0x3397('0x35')]:_0x597b75;_0x77f95a=_0x77f95a&&_0x77f95a['hasOwnProperty'](_0x3397('0x35'))?_0x77f95a[_0x3397('0x35')]:_0x77f95a;_0x11cc40=_0x11cc40&&_0x11cc40[_0x3397('0x34')](_0x3397('0x35'))?_0x11cc40['default']:_0x11cc40;_0xf1fe4c=_0xf1fe4c&&_0xf1fe4c['hasOwnProperty'](_0x3397('0x35'))?_0xf1fe4c['default']:_0xf1fe4c;_0x33cc11=_0x33cc11&&_0x33cc11[_0x3397('0x34')](_0x3397('0x35'))?_0x33cc11[_0x3397('0x35')]:_0x33cc11;_0x464ab8=_0x464ab8&&_0x464ab8[_0x3397('0x34')](_0x3397('0x35'))?_0x464ab8[_0x3397('0x35')]:_0x464ab8;_0x196394=_0x196394&&_0x196394['hasOwnProperty'](_0x3397('0x35'))?_0x196394[_0x3397('0x35')]:_0x196394;_0x319945=_0x319945&&_0x319945[_0x3397('0x34')](_0x3397('0x35'))?_0x319945[_0x3397('0x35')]:_0x319945;_0x358b35=_0x358b35&&_0x358b35['hasOwnProperty'](_0x3397('0x35'))?_0x358b35[_0x3397('0x35')]:_0x358b35;_0x561070=_0x561070&&_0x561070[_0x3397('0x34')](_0x3397('0x35'))?_0x561070[_0x3397('0x35')]:_0x561070;_0x1b4e71=_0x1b4e71&&_0x1b4e71['hasOwnProperty'](_0x3397('0x35'))?_0x1b4e71['default']:_0x1b4e71;_0x276521=_0x276521&&_0x276521[_0x3397('0x34')]('default')?_0x276521[_0x3397('0x35')]:_0x276521;_0x442653=_0x442653&&_0x442653[_0x3397('0x34')](_0x3397('0x35'))?_0x442653[_0x3397('0x35')]:_0x442653;_0x50c547=_0x50c547&&_0x50c547['hasOwnProperty'](_0x3397('0x35'))?_0x50c547[_0x3397('0x35')]:_0x50c547;_0x38e439=_0x38e439&&_0x38e439[_0x3397('0x34')](_0x3397('0x35'))?_0x38e439[_0x3397('0x35')]:_0x38e439;_0x33c0a9=_0x33c0a9&&_0x33c0a9[_0x3397('0x34')](_0x3397('0x35'))?_0x33c0a9[_0x3397('0x35')]:_0x33c0a9;_0x12e11a=_0x12e11a&&_0x12e11a[_0x3397('0x34')](_0x3397('0x35'))?_0x12e11a[_0x3397('0x35')]:_0x12e11a;_0x5a59a4=_0x5a59a4&&_0x5a59a4[_0x3397('0x34')](_0x3397('0x35'))?_0x5a59a4[_0x3397('0x35')]:_0x5a59a4;_0xb05a44=_0xb05a44&&_0xb05a44[_0x3397('0x34')](_0x3397('0x35'))?_0xb05a44[_0x3397('0x35')]:_0xb05a44;_0x501db2=_0x501db2&&_0x501db2[_0x3397('0x34')](_0x3397('0x35'))?_0x501db2[_0x3397('0x35')]:_0x501db2;_0x328356=_0x328356&&_0x328356['hasOwnProperty'](_0x3397('0x35'))?_0x328356[_0x3397('0x35')]:_0x328356;_0x40a32a=_0x40a32a&&_0x40a32a[_0x3397('0x34')]('default')?_0x40a32a['default']:_0x40a32a;_0x12bf23=_0x12bf23&&_0x12bf23['hasOwnProperty'](_0x3397('0x35'))?_0x12bf23[_0x3397('0x35')]:_0x12bf23;_0xe5cf37=_0xe5cf37&&_0xe5cf37[_0x3397('0x34')](_0x3397('0x35'))?_0xe5cf37[_0x3397('0x35')]:_0xe5cf37;_0x11aa75=_0x11aa75&&_0x11aa75[_0x3397('0x34')](_0x3397('0x35'))?_0x11aa75[_0x3397('0x35')]:_0x11aa75;_0x77419a=_0x77419a&&_0x77419a[_0x3397('0x34')](_0x3397('0x35'))?_0x77419a[_0x3397('0x35')]:_0x77419a;_0x4c9086=_0x4c9086&&_0x4c9086[_0x3397('0x34')](_0x3397('0x35'))?_0x4c9086['default']:_0x4c9086;_0xed50bd=_0xed50bd&&_0xed50bd[_0x3397('0x34')](_0x3397('0x35'))?_0xed50bd['default']:_0xed50bd;_0x5087e3=_0x5087e3&&_0x5087e3[_0x3397('0x34')](_0x3397('0x35'))?_0x5087e3[_0x3397('0x35')]:_0x5087e3;_0x3ac7e8=_0x3ac7e8&&_0x3ac7e8[_0x3397('0x34')](_0x3397('0x35'))?_0x3ac7e8['default']:_0x3ac7e8;_0x52e163=_0x52e163&&_0x52e163[_0x3397('0x34')]('default')?_0x52e163[_0x3397('0x35')]:_0x52e163;_0x244489=_0x244489&&_0x244489['hasOwnProperty'](_0x3397('0x35'))?_0x244489[_0x3397('0x35')]:_0x244489;_0x147272=_0x147272&&_0x147272['hasOwnProperty'](_0x3397('0x35'))?_0x147272[_0x3397('0x35')]:_0x147272;_0x166150=_0x166150&&_0x166150['hasOwnProperty']('default')?_0x166150['default']:_0x166150;_0x5d2b47=_0x5d2b47&&_0x5d2b47[_0x3397('0x34')]('default')?_0x5d2b47[_0x3397('0x35')]:_0x5d2b47;_0x2d5763=_0x2d5763&&_0x2d5763[_0x3397('0x34')](_0x3397('0x35'))?_0x2d5763[_0x3397('0x35')]:_0x2d5763;const _0x3858b9={'buildTarget':_0x3397('0x36'),'buildBranch':_0x3397('0x37'),'buildRevision':_0x3397('0x38'),'buildDate':_0x3397('0x39')};const _0x11eda9=()=>{console[_0x3397('0x3a')](_0x3397('0x3b'));console[_0x3397('0x3a')]('BUILD_TARGET:\x20'+_0x3858b9[_0x3397('0x3c')]);console['log']('BUILD_BRANCH:\x20'+_0x3858b9[_0x3397('0x3d')]);console[_0x3397('0x3a')](_0x3397('0x3e')+_0x3858b9['buildRevision']);console[_0x3397('0x3a')]('BUILD_TIMESTAMP:\x20'+_0x3858b9[_0x3397('0x3f')]);};var _0x19fd03={'buildInfo':_0x3858b9,'printVersion':_0x11eda9};const _0x5464ea=_0x3ac7e8(_0x3397('0x40'));var _0x3ed425=class Cache{constructor(_0x49900e){this[_0x3397('0x41')]=new _0x2c8fec({'stdTTL':_0x49900e,'checkperiod':_0x49900e*0.2,'useClones':![]});this['loading']={};}[_0x3397('0x42')](_0x2ac4ff,_0x3c4dbf){const _0x1a06c5=this[_0x3397('0x41')][_0x3397('0x42')](_0x2ac4ff);if(_0x1a06c5){_0x5464ea(_0x3397('0x43')+_0x2ac4ff+'\x20from\x20cache');return Promise[_0x3397('0x44')](_0x1a06c5);}if(this[_0x3397('0x45')][_0x2ac4ff]){_0x5464ea('Load\x20process\x20for\x20key\x20'+_0x2ac4ff+_0x3397('0x46'));const _0x4860cf=new Promise((_0x28ba39,_0x4a2a48)=>{this[_0x3397('0x45')][_0x2ac4ff]['listeners'][_0x3397('0x47')]({'resolve':_0x28ba39,'reject':_0x4a2a48});});return _0x4860cf;}this['loading'][_0x2ac4ff]=this['loading'][_0x2ac4ff]||{'listeners':[]};const _0x3e9797=new Promise((_0x1dc674,_0x31bc10)=>{this[_0x3397('0x45')][_0x2ac4ff][_0x3397('0x48')][_0x3397('0x47')]({'resolve':_0x1dc674,'reject':_0x31bc10});});_0x5464ea(_0x3397('0x49')+_0x2ac4ff+_0x3397('0x4a'));_0x3c4dbf()[_0x3397('0x4b')](_0x135797=>{_0x5464ea('Load\x20process\x20for\x20key\x20'+_0x2ac4ff+_0x3397('0x4c'));this[_0x3397('0x41')]['set'](_0x2ac4ff,_0x135797);this[_0x3397('0x45')][_0x2ac4ff][_0x3397('0x48')][_0x3397('0x4d')](({resolve})=>resolve(_0x135797));delete this[_0x3397('0x45')][_0x2ac4ff];})[_0x3397('0x4e')](_0x436d2a=>{this[_0x3397('0x45')][_0x2ac4ff][_0x3397('0x48')]['forEach'](({reject})=>reject(_0x436d2a));delete this[_0x3397('0x45')][_0x2ac4ff];});return _0x3e9797;}[_0x3397('0x4f')](_0xb80bd){this[_0x3397('0x41')][_0x3397('0x4f')](_0xb80bd);}['delStartWith'](_0x4149fe=''){if(!_0x4149fe){return;}const _0x39e986=this[_0x3397('0x41')]['keys']();for(const _0x7f638c of _0x39e986){if(_0x7f638c['indexOf'](_0x4149fe)===0x0){this['del'](_0x7f638c);}}}['flush'](){this[_0x3397('0x41')][_0x3397('0x50')]();}};const _0x189884=(_0xe05654,_0x5accab)=>{return _0xe05654[_0x3397('0x51')]['testSet']({'where':{'id':_0x5accab}});};const _0x3fee99=_0x2f8edc=>{return{'id':_0x2f8edc['id'],'name':_0x2f8edc['name'],'expandConvos':_0x2f8edc[_0x3397('0x52')],'expandUtterancesToConvos':_0x2f8edc[_0x3397('0x53')],'expandUtterancesIncomprehension':_0x2f8edc[_0x3397('0x54')],'convos':_0x2f8edc['scripts']&&_0x2f8edc['scripts']['filter'](_0x6970d5=>_0x6970d5[_0x3397('0x55')]==='SCRIPTING_TYPE_CONVO')[_0x3397('0x56')](_0x2d626a=>({'format':'SCRIPTING_FORMAT_TXT','content':_0x2d626a[_0x3397('0x57')],'sourceTag':{'testSetId':_0x2f8edc['id'],'testSetScriptId':_0x2d626a['id']}})),'pconvos':_0x2f8edc['scripts']&&_0x2f8edc[_0x3397('0x58')][_0x3397('0x59')](_0x3ec443=>_0x3ec443[_0x3397('0x55')]===_0x3397('0x5a'))['map'](_0x57a07f=>({'format':_0x3397('0x5b'),'content':_0x57a07f[_0x3397('0x57')],'sourceTag':{'testSetId':_0x2f8edc['id'],'testSetScriptId':_0x57a07f['id']}})),'utterances':_0x2f8edc[_0x3397('0x58')]&&_0x2f8edc[_0x3397('0x58')][_0x3397('0x59')](_0x5306a2=>_0x5306a2['scriptType']===_0x3397('0x5c'))[_0x3397('0x56')](_0x32489e=>({'format':_0x3397('0x5b'),'content':_0x32489e[_0x3397('0x57')],'sourceTag':{'testSetId':_0x2f8edc['id'],'testSetScriptId':_0x32489e['id']}})),'folders':_0x2f8edc[_0x3397('0x5d')]&&_0x2f8edc['folders']['map'](_0xfe5233=>({'id':_0xfe5233['id'],'path':_0xfe5233[_0x3397('0x20')],'globFilter':_0xfe5233[_0x3397('0x5e')],'sourceTag':{'testSetId':_0x2f8edc['id'],'testSetFolderId':_0xfe5233['id']}})),'excels':_0x2f8edc['excels']&&_0x2f8edc[_0x3397('0x5f')][_0x3397('0x56')](_0x4e8e14=>({'id':_0x4e8e14['id'],'filename':_0x4e8e14[_0x3397('0x60')],'filecontent':_0x4e8e14[_0x3397('0x61')],'hasConvos':_0x4e8e14['hasConvos'],'hasPartialConvos':_0x4e8e14[_0x3397('0x62')],'hasUtterances':_0x4e8e14[_0x3397('0x63')],'worksheetsConvos':_0x4e8e14[_0x3397('0x64')],'worksheetsPartialConvos':_0x4e8e14[_0x3397('0x65')],'worksheetsUtterances':_0x4e8e14[_0x3397('0x66')],'startRow':_0x4e8e14['startRow'],'startCol':_0x4e8e14[_0x3397('0x67')],'sourceTag':{'testSetId':_0x2f8edc['id'],'testSetExcelId':_0x4e8e14['id']}}))};};var _0x5206f7={'FindFullTestSet':_0x189884,'RetrieveTestSetDetails':_0x3fee99};const _0x3cfbaa=_0x3ac7e8(_0x3397('0x68'));var _0x585984=(_0x2d149a,_0x5b8a32,_0x191ba1,_0x411043)=>{_0x2d149a[_0x3397('0x69')]&&_0x2d149a[_0x3397('0x69')]['forEach'](_0x138f1f=>{let _0x234770=[];try{if(_0x138f1f[_0x3397('0x6a')]===_0x597b75[_0x3397('0x5b')]){_0x234770=_0x5b8a32[_0x3397('0x6b')](_0x138f1f[_0x3397('0x6c')],_0x597b75['SCRIPTING_FORMAT_TXT'],_0x597b75[_0x3397('0x6d')]);}if(_0x234770)_0x234770[_0x3397('0x4d')](_0x4e4604=>{_0x4e4604[_0x3397('0x6e')]=_0x138f1f[_0x3397('0x6e')];});}catch(_0x48bca5){_0x3cfbaa(_0x48bca5);throw new Error(_0x2d149a['name']+':\x20Convo\x20Script\x20compilation\x20failed:\x20'+_0x12bf23[_0x3397('0x6f')](_0x48bca5));}});_0x2d149a[_0x3397('0x70')]&&_0x2d149a[_0x3397('0x70')]['forEach'](_0x4f0f34=>{let _0x1410ca=[];try{if(_0x4f0f34[_0x3397('0x6a')]===_0x597b75[_0x3397('0x5b')]){_0x1410ca=_0x5b8a32[_0x3397('0x6b')](_0x4f0f34['content'],_0x597b75[_0x3397('0x5b')],_0x597b75[_0x3397('0x5a')]);}if(_0x1410ca)_0x1410ca[_0x3397('0x4d')](_0x3b7c1c=>{_0x3b7c1c[_0x3397('0x6e')]=_0x4f0f34[_0x3397('0x6e')];});}catch(_0x429ebc){_0x3cfbaa(_0x429ebc);throw new Error(_0x2d149a[_0x3397('0x71')]+_0x3397('0x72')+_0x12bf23[_0x3397('0x6f')](_0x429ebc));}});_0x2d149a[_0x3397('0x73')]&&_0x2d149a['utterances'][_0x3397('0x4d')](_0x281373=>{let _0x48a098=[];try{if(_0x281373[_0x3397('0x6a')]===_0x597b75[_0x3397('0x5b')]){_0x48a098=_0x5b8a32[_0x3397('0x6b')](_0x281373[_0x3397('0x6c')],_0x597b75[_0x3397('0x5b')],_0x597b75['SCRIPTING_TYPE_UTTERANCES']);}if(_0x48a098)_0x48a098[_0x3397('0x4d')](_0x52e2ab=>{_0x52e2ab[_0x3397('0x6e')]=_0x281373[_0x3397('0x6e')];});}catch(_0xc4a2df){_0x3cfbaa(_0xc4a2df);throw new Error(_0x2d149a[_0x3397('0x71')]+':\x20Utterance\x20script\x20compilation\x20failed:\x20'+_0x12bf23[_0x3397('0x6f')](_0xc4a2df));}});_0x2d149a[_0x3397('0x5d')]&&_0x2d149a[_0x3397('0x5d')][_0x3397('0x4d')](_0x9d69f6=>{try{const {convos,pconvos,utterances}=_0x5b8a32[_0x3397('0x74')](_0x9d69f6[_0x3397('0x20')],_0x9d69f6[_0x3397('0x5e')]);convos&&convos[_0x3397('0x4d')](_0x1bf8b8=>{_0x1bf8b8[_0x3397('0x6e')]=Object['assign']({},_0x1bf8b8['sourceTag'],_0x9d69f6[_0x3397('0x6e')]);});pconvos&&pconvos[_0x3397('0x4d')](_0x6ae035=>{_0x6ae035[_0x3397('0x6e')]=Object['assign']({},_0x6ae035[_0x3397('0x6e')],_0x9d69f6['sourceTag']);});utterances&&utterances['forEach'](_0x30f49c=>{_0x30f49c[_0x3397('0x6e')]=Object['assign']({},_0x30f49c['sourceTag'],_0x9d69f6['sourceTag']);});}catch(_0x105335){_0x3cfbaa(_0x105335);throw new Error(_0x2d149a[_0x3397('0x71')]+':\x20Folder\x20'+_0x9d69f6+_0x3397('0x75')+_0x12bf23[_0x3397('0x6f')](_0x105335));}});let _0x238519=Promise[_0x3397('0x44')]();if(_0x2d149a['excels']&&_0x2d149a[_0x3397('0x5f')][_0x3397('0x76')]>0x0){_0x238519=Promise[_0x3397('0x77')](_0x2d149a[_0x3397('0x5f')]['map'](({id,filename,filecontent,hasConvos,hasPartialConvos,hasUtterances,worksheetsConvos,worksheetsPartialConvos,worksheetsUtterances,startRow,startCol,sourceTag})=>{return new Promise(_0x2576e6=>{const _0x5b6d6a=Buffer['from'](filecontent,_0x3397('0x78'));let _0x2cfad2=[];let _0x28ff0b=[];let _0x2215e4=[];if(hasConvos){if(worksheetsConvos)_0x5b8a32[_0x3397('0x79')][_0xf1fe4c['SCRIPTING_XLSX_SHEETNAMES']]=worksheetsConvos;if(!isNaN(startRow))_0x5b8a32[_0x3397('0x79')][_0xf1fe4c[_0x3397('0x7a')]]=startRow;if(!isNaN(startCol))_0x5b8a32[_0x3397('0x79')][_0xf1fe4c['SCRIPTING_XLSX_STARTCOL']]=startCol;_0x2cfad2=_0x5b8a32[_0x3397('0x6b')](_0x5b6d6a,_0x597b75[_0x3397('0x7b')],_0x597b75[_0x3397('0x6d')]);}if(hasPartialConvos){if(worksheetsPartialConvos)_0x5b8a32['caps'][_0xf1fe4c[_0x3397('0x7c')]]=worksheetsPartialConvos;if(!isNaN(startRow))_0x5b8a32[_0x3397('0x79')][_0xf1fe4c[_0x3397('0x7a')]]=startRow;if(!isNaN(startCol))_0x5b8a32[_0x3397('0x79')][_0xf1fe4c['SCRIPTING_XLSX_STARTCOL']]=startCol;_0x28ff0b=_0x5b8a32[_0x3397('0x6b')](_0x5b6d6a,_0x597b75[_0x3397('0x7b')],_0x597b75[_0x3397('0x5a')]);}if(hasUtterances){if(worksheetsUtterances)_0x5b8a32[_0x3397('0x79')][_0xf1fe4c['SCRIPTING_XLSX_SHEETNAMES_UTTERANCES']]=worksheetsUtterances;if(!isNaN(startRow))_0x5b8a32[_0x3397('0x79')][_0xf1fe4c['SCRIPTING_XLSX_STARTROW']]=startRow;if(!isNaN(startCol))_0x5b8a32[_0x3397('0x79')][_0xf1fe4c[_0x3397('0x7d')]]=startCol;_0x2215e4=_0x5b8a32[_0x3397('0x6b')](_0x5b6d6a,_0x597b75['SCRIPTING_FORMAT_XSLX'],_0x597b75[_0x3397('0x5c')]);}_0x2cfad2&&_0x2cfad2[_0x3397('0x4d')](_0x130c8b=>{_0x130c8b[_0x3397('0x6e')]=Object[_0x3397('0x7e')]({},_0x130c8b[_0x3397('0x6e')],sourceTag);});_0x28ff0b&&_0x28ff0b[_0x3397('0x4d')](_0x53b135=>{_0x53b135[_0x3397('0x6e')]=Object[_0x3397('0x7e')]({},_0x53b135['sourceTag'],sourceTag);});_0x2215e4&&_0x2215e4[_0x3397('0x4d')](_0x342299=>{_0x342299[_0x3397('0x6e')]=Object['assign']({},_0x342299[_0x3397('0x6e')],sourceTag);});_0x2576e6();});}));}let _0x3f6ff7=Promise['resolve']();return Promise['all']([_0x3f6ff7,_0x238519]);};const _0x100ca6=new _0x33cc11[(_0x3397('0x7f'))]({'pattern':/([A-zÀ-ÿ-$]+|[0-9._]+|.|!|\?|'|"|:|;|,|-)/i});const _0x3f68ba='$';const _0x3c2d12=_0xf2094a=>{return _0x100ca6['tokenize'](_0xf2094a);};const _0x809d68=_0x13245b=>{return _0x3c2d12(_0x13245b)[_0x3397('0x59')](_0x44c957=>!_0x41fc1b(_0x44c957));};var _0x2a2a3e=_0x809d68;const _0x366ec7=_0x49adc9=>{return _0x49adc9===_0x49adc9['toLocaleLowerCase']();};var _0x52562c=_0x3d7589=>{return Math[_0x3397('0x80')]()<_0x3d7589;};var _0x3c0488=_0x17874d=>{const _0x4e35b7=_0x809d68(_0x17874d)['sort']((_0x256ba7,_0x2fedab)=>_0x2fedab[_0x3397('0x76')]-_0x256ba7[_0x3397('0x76')]);return _0x4e35b7[_0x3397('0x76')]?_0x4e35b7[0x0]:'';};var _0x41783c=(_0x9f4886,_0x1633dc,_0x16c27e)=>{const _0x449951=_0x366ec7(_0x9f4886[_0x3397('0x81')](_0x1633dc))?_0x16c27e[_0x3397('0x82')]():_0x16c27e[_0x3397('0x83')]();return _0x362376(_0x9f4886,_0x1633dc,_0x449951);};const _0x362376=(_0x1f6d34,_0x3ebba5,_0x41873a)=>{return[_0x1f6d34[_0x3397('0x84')](0x0,_0x3ebba5),_0x41873a,_0x1f6d34[_0x3397('0x84')](_0x3ebba5+0x1)][_0x3397('0x85')]('');};var _0x49b1ff=_0x362376;var _0x5d0db5=(_0x5e2627,_0x5f204c,_0x45ae3c)=>{return[_0x5e2627['substr'](0x0,_0x5f204c),_0x45ae3c,_0x5e2627['substr'](_0x5f204c)][_0x3397('0x85')]('');};var _0x2efa00=(_0x19d51a,_0x3bbbde,_0x582ffb)=>{const _0x131f80=_0x19d51a[_0x3397('0x86')](_0x3bbbde);return[_0x19d51a[_0x3397('0x84')](0x0,_0x131f80),_0x582ffb,_0x19d51a[_0x3397('0x84')](_0x131f80+_0x3bbbde[_0x3397('0x76')])]['join']('');};var _0x232839=_0x59bb81=>{var _0x4c5dc5=_0x59bb81[_0x3397('0x87')]('');var _0x186b17=_0x4c5dc5['reverse']();var _0x4cf0fe=_0x186b17[_0x3397('0x85')]('');return _0x4cf0fe;};var _0x1a6775={'1':['2','q'],'2':['1','q','w','3'],'3':['2','w','e','4'],'4':['3','e','r','5'],'5':['4','r','t','6'],'6':['5','t','y','z','7'],'7':['6','y','z','u','8'],'8':['7','u','i','9'],'9':['8','i','o','0'],'0':['9','o','p'],'q':['1','2','w','a'],'w':['q','a','s','e','3','2'],'e':['w','s','d','r','4','3'],'r':['e','d','f','t','5','4'],'t':['r','f','g','y','z','6','5'],'y':['t','g','h','u','7','6','x','s','a'],'u':['y','z','h','j','i','8','7'],'i':['u','j','k','o','9','8'],'o':['i','k','l','p','0','9'],'p':['o','l','0'],'a':['y','z','s','w','q'],'s':['a','y','z','x','d','e','w'],'d':['s','x','c','f','r','e'],'f':['d','c','v','g','t','r'],'g':['f','v','b','h','y','z','t'],'h':['g','b','n','j','u','y','z'],'j':['h','n','m','k','i','u'],'k':['j','m','l','o','i'],'l':['k','p','o'],'z':['x','s','a','t','g','h','u','7','6'],'x':['y','z','c','d','s'],'c':['x','v','f','d'],'v':['c','b','g','f'],'b':['v','n','h','g'],'n':['b','m','j','h'],'m':['n','k','j'],'ö':['l','p','ü','ä','-','.'],'ä':['-','ö','ü','+','#'],'ü':['p','ö','ä','+','´','ß'],'ß':['ü','p','0']};var _0x2f4e51=(_0x255d53,_0x4f3955=0x3)=>{if(_0x255d53[_0x3397('0x76')]<=_0x4f3955){return _0x255d53;}const _0x23e3f0=[];const _0x593018=(_0x255d53[_0x3397('0x76')]-_0x4f3955)/_0x4f3955/0x2;for(let _0x134c7c=0x0;_0x134c7c<_0x4f3955;_0x134c7c++){_0x23e3f0[_0x3397('0x47')](_0x255d53[Math[_0x3397('0x88')](_0x593018+_0x134c7c*(_0x255d53[_0x3397('0x76')]/_0x4f3955))]);}return _0x23e3f0;};const _0x2ec7d5=(_0x1b8507,_0x5ae3fb)=>{const _0x3f388f=_0x3c2d12(_0x1b8507)[_0x3397('0x89')]((_0x226bab,_0x31bcfa)=>_0x31bcfa[_0x3397('0x76')]-_0x226bab[_0x3397('0x76')]);for(let _0x518b3f=0x0;_0x518b3f<_0x3f388f[_0x3397('0x76')];_0x518b3f++){const _0x53dcc5=_0x3f388f[_0x518b3f];let _0x49c6e0=0x0;do{_0x49c6e0=_0x1b8507[_0x3397('0x86')](_0x53dcc5,_0x49c6e0);if(_0x49c6e0>=0x0){if(_0x49c6e0<=_0x5ae3fb&&_0x5ae3fb<_0x49c6e0+_0x53dcc5['length']){return _0x53dcc5;}_0x49c6e0++;}}while(_0x49c6e0>=0x0);}return null;};const _0x41fc1b=_0x11a5b9=>{return _0x11a5b9&&_0x11a5b9[_0x3397('0x76')]>0x1&&_0x11a5b9[_0x3397('0x8a')](_0x3f68ba);};var _0x309575=(_0x17c92f,_0x16c444)=>{const _0x14b3aa=_0x2ec7d5(_0x17c92f,_0x16c444);if(!_0x14b3aa){return![];}return!_0x41fc1b(_0x14b3aa);};var _0x212bf7={'tokenize':_0x2a2a3e,'evaluateProbability':_0x52562c,'getLongestToken':_0x3c0488,'replaceCharAtCaseSensitive':_0x41783c,'replaceCharAt':_0x49b1ff,'insertAt':_0x5d0db5,'replaceWith':_0x2efa00,'reverse':_0x232839,'keymap':_0x1a6775,'normalizeNumberOfResult':_0x2f4e51,'isModifiableWord':_0x309575};const {normalizeNumberOfResult:normalizeNumberOfResult$1,isModifiableWord:isModifiableWord$1}=_0x212bf7;var _0x2a316d=_0x1821f4=>{let _0x5de537=[''];const _0x75d217=_0x1821f4[_0x3397('0x82')]();for(let _0x1aa90a=0x0;_0x1aa90a<_0x1821f4[_0x3397('0x76')];_0x1aa90a++){const _0x4bc11f=_0x1821f4[_0x3397('0x81')](_0x1aa90a)!==_0x75d217[_0x3397('0x81')](_0x1aa90a)&&isModifiableWord$1(_0x1821f4,_0x1aa90a);if(_0x4bc11f){_0x5de537=_0x5de537['concat'](_0x5de537);}for(let _0x3f09aa=0x0;_0x3f09aa<_0x5de537[_0x3397('0x76')];_0x3f09aa++){const _0x267cc4=_0x4bc11f&&_0x3f09aa<_0x5de537['length']/0x2;_0x5de537[_0x3f09aa]=_0x5de537[_0x3f09aa][_0x3397('0x8b')](_0x267cc4?_0x75d217[_0x3397('0x81')](_0x1aa90a):_0x1821f4[_0x3397('0x81')](_0x1aa90a));}}_0x5de537=_0x5de537['slice'](0x1);return normalizeNumberOfResult$1(_0x5de537);};var _0x21b73b={'id':_0x3397('0x8c')};var _0x532283={'execute':_0x2a316d,'metadata':_0x21b73b};const {normalizeNumberOfResult:normalizeNumberOfResult$2}=_0x212bf7;var _0x16d6a9=_0x1f6f25=>{const _0x1b8d4b=_0x1f6f25[_0x3397('0x87')](/(?<! ) (?! )/);let _0x36def4=[_0x1b8d4b[0x0]];for(let _0x22b25c=0x1;_0x22b25c<_0x1b8d4b[_0x3397('0x76')];_0x22b25c++){_0x36def4=_0x36def4['concat'](_0x36def4);for(let _0x382ced=0x0;_0x382ced<_0x36def4[_0x3397('0x76')];_0x382ced++){_0x36def4[_0x382ced]=_0x36def4[_0x382ced]+(_0x382ced<_0x36def4[_0x3397('0x76')]/0x2?'\x20':'\x20\x20');_0x36def4[_0x382ced]=_0x36def4[_0x382ced]+_0x1b8d4b[_0x22b25c];}}_0x36def4=_0x36def4['slice'](0x1);return normalizeNumberOfResult$2(_0x36def4);};var _0xb842f5={'id':_0x3397('0x8d')};var _0x116e28={'execute':_0x16d6a9,'metadata':_0xb842f5};var _0x20a29e=_0x5d1691=>{return[_0x5d1691+'\x20:)'];};var _0x53c8f6={'id':_0x3397('0x8e')};var _0xa3293c={'execute':_0x20a29e,'metadata':_0x53c8f6};const {normalizeNumberOfResult:normalizeNumberOfResult$3}=_0x212bf7;var _0x276ce7=_0x5d6a5c=>{let _0x56bebe=[''];const _0x5318bd=_0x5d6a5c['replace'](/(.) /g,_0x3397('0x8f'));for(let _0xcbe269=0x0;_0xcbe269<_0x5d6a5c['length'];_0xcbe269++){if(_0x5d6a5c['charAt'](_0xcbe269)!==_0x5318bd[_0x3397('0x81')](_0xcbe269)){_0x56bebe=_0x56bebe[_0x3397('0x8b')](_0x56bebe);}for(let _0x14fb5a=0x0;_0x14fb5a<_0x56bebe[_0x3397('0x76')];_0x14fb5a++){_0x56bebe[_0x14fb5a]=_0x56bebe[_0x14fb5a][_0x3397('0x8b')](_0x14fb5a<_0x56bebe[_0x3397('0x76')]/0x2?_0x5d6a5c[_0x3397('0x81')](_0xcbe269):_0x5318bd['charAt'](_0xcbe269));}}_0x56bebe=_0x56bebe[_0x3397('0x90')](0x1);return normalizeNumberOfResult$3(_0x56bebe);};var _0x3a5ddc={'id':_0x3397('0x91')};var _0x4da252={'execute':_0x276ce7,'metadata':_0x3a5ddc};var _0x3ccd89=_0x236f7d=>{return[_0x236f7d[_0x3397('0x92')]('\x20,','\x20')[_0x3397('0x92')](',\x20','\x20')['replace'](',','\x20')];};var _0xacffae={'id':'Missing\x20punctiation\x20mark'};var _0xa34111={'execute':_0x3ccd89,'metadata':_0xacffae};var _0x5c9c16=[_0x532283,_0x116e28,_0xa3293c,_0x4da252,_0xa34111];const {getLongestToken:getLongestToken$1,insertAt:insertAt$1,replaceWith:replaceWith$1}=_0x212bf7;var _0x103a50=_0x5e81eb=>{const _0x42345b=[];const _0x112b2e=getLongestToken$1(_0x5e81eb);if(_0x112b2e[_0x3397('0x76')]<0x5){return _0x42345b;}_0x43441b(_0x112b2e)[_0x3397('0x4d')](_0x31b21d=>{_0x42345b['push'](replaceWith$1(_0x5e81eb,_0x112b2e,_0x31b21d));});return _0x42345b;};const _0x43441b=_0x31975a=>{const _0x19f464=[];let _0x5b9fc1=_0x31975a;const _0x2ea6d5=[0x2,_0x31975a[_0x3397('0x76')]-0x2];_0x2ea6d5[_0x3397('0x4d')](_0x1a217c=>{_0x19f464['push'](insertAt$1(_0x31975a,_0x1a217c,_0x31975a[_0x1a217c]));_0x5b9fc1=insertAt$1(_0x5b9fc1,_0x1a217c,_0x5b9fc1[_0x1a217c]);});_0x19f464[_0x3397('0x47')](_0x5b9fc1);return _0x19f464;};var _0x37557a={'id':_0x3397('0x93')};var _0x2fe360={'execute':_0x103a50,'metadata':_0x37557a};const {getLongestToken:getLongestToken$2,replaceWith:replaceWith$2,reverse:reverse$1}=_0x212bf7;var _0x48a7d0=_0x102a31=>{const _0x5379aa=[];const _0x2b4fd8=getLongestToken$2(_0x102a31);if(_0x2b4fd8[_0x3397('0x76')]<0x7){return _0x5379aa;}_0x480881(_0x2b4fd8)[_0x3397('0x4d')](_0x401e12=>{_0x5379aa[_0x3397('0x47')](replaceWith$2(_0x102a31,_0x2b4fd8,_0x401e12));});return _0x5379aa;};const _0x480881=_0x1d0ecd=>{const _0x2892b2=new Set([_0x1d0ecd]);const _0x500cd9=[0x1,0x2];_0x500cd9['forEach'](_0x56ed6c=>{let _0xd70807=_0x56ed6c;let _0x4102b7=![];do{const _0x5801df=_0x1d0ecd['substr'](_0xd70807,0x3);const _0x241c38=replaceWith$2(_0x1d0ecd,_0x5801df,reverse$1(_0x5801df));if(!_0x2892b2[_0x3397('0x94')](_0x241c38)){_0x2892b2[_0x3397('0x95')](_0x241c38);_0x4102b7=!![];}_0xd70807++;if(_0xd70807>=_0x1d0ecd[_0x3397('0x76')]-0x2){_0x4102b7=!![];}}while(!_0x4102b7);});_0x2892b2[_0x3397('0x96')](_0x1d0ecd);return _0x2892b2;};var _0x4939a7={'id':_0x3397('0x8d')};var _0x7fe0e3={'execute':_0x48a7d0,'metadata':_0x4939a7};const {tokenize:tokenize$1,replaceWith:replaceWith$3}=_0x212bf7;const _0xc2e3de=[_0x3397('0x97'),_0x3397('0x98'),_0x3397('0x99'),'aß,\x20Aas',_0x3397('0x9a'),_0x3397('0x9b'),'Bällen,\x20bellen',_0x3397('0x9c'),_0x3397('0x9d'),'bis,\x20Biss',_0x3397('0x9e'),_0x3397('0x9f'),'Boote,\x20Bote','Bug,\x20buk',_0x3397('0xa0'),_0x3397('0xa1'),_0x3397('0xa2'),_0x3397('0xa3'),_0x3397('0xa4'),_0x3397('0xa5'),'Fähre,\x20faire',_0x3397('0xa6'),'fällt,\x20Feld','Färse,\x20Ferse,\x20Verse','fast,\x20fasst',_0x3397('0xa7'),'fiel,\x20viel',_0x3397('0xa8'),'frisst,\x20Frist',_0x3397('0xa9'),_0x3397('0xaa'),_0x3397('0xab'),_0x3397('0xac'),_0x3397('0xad'),_0x3397('0xae'),_0x3397('0xaf'),_0x3397('0xb0'),_0x3397('0xb1'),'hängst,\x20Hengst',_0x3397('0xb2'),_0x3397('0xb3'),_0x3397('0xb4'),'Heer,\x20hehr,\x20her','Hemd,\x20hemmt','hohl,\x20hol',_0x3397('0xb5'),'isst,\x20ist',_0x3397('0xb6'),_0x3397('0xb7'),_0x3397('0xb8'),_0x3397('0xb9'),_0x3397('0xba'),_0x3397('0xbb'),_0x3397('0xbc'),_0x3397('0xbd'),_0x3397('0xbe'),_0x3397('0xbf'),_0x3397('0xc0'),_0x3397('0xc1'),_0x3397('0xc2'),_0x3397('0xc3'),_0x3397('0xc4'),_0x3397('0xc5'),_0x3397('0xc6'),_0x3397('0xc7'),_0x3397('0xc8'),_0x3397('0xc9'),_0x3397('0xca'),_0x3397('0xcb'),_0x3397('0xcc'),'Miene,\x20Mine',_0x3397('0xcd'),_0x3397('0xce'),_0x3397('0xcf'),_0x3397('0xd0'),_0x3397('0xd1'),_0x3397('0xd2'),_0x3397('0xd3'),_0x3397('0xd4'),_0x3397('0xd5'),_0x3397('0xd6'),_0x3397('0xd7'),_0x3397('0xd8'),'Rede,\x20Reede',_0x3397('0xd9'),'reist,\x20reißt',_0x3397('0xda'),_0x3397('0xdb'),'Sämann,\x20Seemann',_0x3397('0xdc'),'Saite,\x20Seite','seid,\x20seit',_0x3397('0xdd'),_0x3397('0xde'),_0x3397('0xdf'),_0x3397('0xe0'),_0x3397('0xe1'),'Schlämme,\x20schlemme',_0x3397('0xe2'),_0x3397('0xe3'),_0x3397('0xe4'),_0x3397('0xe5'),'sie,\x20sieh','Siegel,\x20Sigel',_0x3397('0xe6'),'Sold,\x20sollt',_0x3397('0xe7'),_0x3397('0xe8'),_0x3397('0xe9'),_0x3397('0xea'),'starrt,\x20Start',_0x3397('0xeb'),'stiehl,\x20Stiel,\x20Stil',_0x3397('0xec'),_0x3397('0xed'),_0x3397('0xee'),_0x3397('0xef'),_0x3397('0xf0'),_0x3397('0xf1'),_0x3397('0xf2'),_0x3397('0xf3'),_0x3397('0xf4'),'Waagen,\x20wagen',_0x3397('0xf5'),_0x3397('0xf6'),'wahre,\x20Ware',_0x3397('0xf7'),_0x3397('0xf8'),_0x3397('0xf9'),_0x3397('0xfa'),_0x3397('0xfb'),'Wehr,\x20wer','wehrt,\x20Wert','weiht,\x20weit',_0x3397('0xfc'),_0x3397('0xfd'),_0x3397('0xfe'),'wird,\x20Wirt','Zunahme,\x20Zuname','accept,except',_0x3397('0xff'),'acts,ax,axe',_0x3397('0x100'),_0x3397('0x101'),_0x3397('0x102'),_0x3397('0x103'),'aid,aide',_0x3397('0x104'),_0x3397('0x105'),_0x3397('0x106'),'all,awl',_0x3397('0x107'),_0x3397('0x108'),_0x3397('0x109'),'appose,oppose',_0x3397('0x10a'),_0x3397('0x10b'),'ascent,assent',_0x3397('0x10c'),'away,aweigh',_0x3397('0x10d'),'bade,bayed',_0x3397('0x10e'),_0x3397('0x10f'),'bald,bawled,balled',_0x3397('0x110'),_0x3397('0x111'),_0x3397('0x112'),'bare,bear','baron,barren',_0x3397('0x113'),_0x3397('0x114'),_0x3397('0x115'),_0x3397('0x116'),'beach,beech',_0x3397('0x117'),'beat,beet',_0x3397('0x118'),_0x3397('0x119'),_0x3397('0x11a'),_0x3397('0x11b'),'berth,birth',_0x3397('0x11c'),_0x3397('0x11d'),'billed,build',_0x3397('0x11e'),_0x3397('0x11f'),_0x3397('0x120'),_0x3397('0x121'),_0x3397('0x122'),_0x3397('0x123'),_0x3397('0x124'),_0x3397('0x125'),_0x3397('0x126'),_0x3397('0x127'),_0x3397('0x128'),_0x3397('0x129'),'braid,brayed',_0x3397('0x12a'),'brake,break','breach,breech',_0x3397('0x12b'),_0x3397('0x12c'),_0x3397('0x12d'),_0x3397('0x12e'),_0x3397('0x12f'),'bus,buss','bused,bust',_0x3397('0x130'),_0x3397('0x131'),_0x3397('0x132'),_0x3397('0x133'),_0x3397('0x134'),_0x3397('0x135'),'canter,cantor','carat,carrot,caret',_0x3397('0x136'),_0x3397('0x137'),_0x3397('0x138'),'cell,sell','cellar,seller',_0x3397('0x139'),_0x3397('0x13a'),'cents,sense,scents',_0x3397('0x13b'),_0x3397('0x13c'),'chaise,chase','chalk,chock',_0x3397('0x13d'),'chased,chaste','cheap,cheep',_0x3397('0x13e'),_0x3397('0x13f'),_0x3397('0x140'),_0x3397('0x141'),'chute,shoot','cite,site,sight',_0x3397('0x142'),_0x3397('0x143'),_0x3397('0x144'),_0x3397('0x145'),_0x3397('0x146'),'coarse,course',_0x3397('0x147'),_0x3397('0x148'),_0x3397('0x149'),'contingence,contingents',_0x3397('0x14a'),'coop,coupe',_0x3397('0x14b'),_0x3397('0x14c'),'council,counsel',_0x3397('0x14d'),'creak,creek',_0x3397('0x14e'),_0x3397('0x14f'),_0x3397('0x150'),_0x3397('0x151'),'curser,cursor','dam,damn',_0x3397('0x152'),'days,daze',_0x3397('0x153'),_0x3397('0x154'),_0x3397('0x155'),_0x3397('0x156'),_0x3397('0x157'),_0x3397('0x158'),_0x3397('0x159'),_0x3397('0x15a'),_0x3397('0x15b'),_0x3397('0x15c'),_0x3397('0x15d'),'ducked,duct',_0x3397('0x15e'),_0x3397('0x15f'),_0x3397('0x160'),'eutopia,utopia',_0x3397('0x161'),'eyed,I\x27d','fain,feign',_0x3397('0x162'),_0x3397('0x163'),_0x3397('0x164'),_0x3397('0x165'),_0x3397('0x166'),_0x3397('0x167'),'feudal,futile',_0x3397('0x168'),_0x3397('0x169'),_0x3397('0x16a'),_0x3397('0x16b'),_0x3397('0x16c'),_0x3397('0x16d'),_0x3397('0x16e'),_0x3397('0x16f'),'foaled,fold',_0x3397('0x170'),_0x3397('0x171'),_0x3397('0x172'),_0x3397('0x173'),_0x3397('0x174'),_0x3397('0x175'),_0x3397('0x176'),_0x3397('0x177'),_0x3397('0x178'),_0x3397('0x179'),'gene,jean',_0x3397('0x17a'),_0x3397('0x17b'),_0x3397('0x17c'),_0x3397('0x17d'),_0x3397('0x17e'),_0x3397('0x17f'),_0x3397('0x180'),_0x3397('0x181'),_0x3397('0x182'),_0x3397('0x183'),'guise,guys',_0x3397('0x184'),_0x3397('0x185'),_0x3397('0x186'),_0x3397('0x187'),_0x3397('0x188'),_0x3397('0x189'),'hay,hey','hays,haze',_0x3397('0x18a'),_0x3397('0x18b'),_0x3397('0x18c'),_0x3397('0x18d'),_0x3397('0x18e'),_0x3397('0x18f'),_0x3397('0x190'),_0x3397('0x191'),_0x3397('0x192'),_0x3397('0x193'),_0x3397('0x194'),_0x3397('0x195'),_0x3397('0x196'),_0x3397('0x197'),'hold,holed',_0x3397('0x198'),_0x3397('0x199'),_0x3397('0x19a'),_0x3397('0x19b'),_0x3397('0x19c'),_0x3397('0x19d'),_0x3397('0x19e'),_0x3397('0x19f'),_0x3397('0x1a0'),_0x3397('0x1a1'),_0x3397('0x1a2'),_0x3397('0x1a3'),_0x3397('0x1a4'),_0x3397('0x1a5'),_0x3397('0x1a6'),_0x3397('0x1a7'),_0x3397('0x1a8'),_0x3397('0x1a9'),_0x3397('0x1aa'),'knot,not,naught',_0x3397('0x1ab'),_0x3397('0x1ac'),_0x3397('0x1ad'),'lade,laid',_0x3397('0x1ae'),'lair,layer',_0x3397('0x1af'),'laps,lapse',_0x3397('0x1b0'),_0x3397('0x1b1'),_0x3397('0x1b2'),_0x3397('0x1b3'),_0x3397('0x1b4'),'lean,lien','leased,least','lends,lens',_0x3397('0x1b5'),'lesser,lessor',_0x3397('0x1b6'),_0x3397('0x1b7'),'liar,lyre','lichen,liken',_0x3397('0x1b8'),_0x3397('0x1b9'),'links,lynx','lo,low',_0x3397('0x1ba'),_0x3397('0x1bb'),_0x3397('0x1bc'),_0x3397('0x1bd'),_0x3397('0x1be'),_0x3397('0x1bf'),_0x3397('0x1c0'),_0x3397('0x1c1'),_0x3397('0x1c2'),'main,mane',_0x3397('0x1c3'),_0x3397('0x1c4'),_0x3397('0x1c5'),_0x3397('0x1c6'),_0x3397('0x1c7'),_0x3397('0x1c8'),_0x3397('0x1c9'),_0x3397('0x1ca'),_0x3397('0x1cb'),_0x3397('0x1cc'),'mince,mints',_0x3397('0x1cd'),_0x3397('0x1ce'),_0x3397('0x1cf'),_0x3397('0x1d0'),'mood,mooed','moor,more','morning,mourning',_0x3397('0x1d1'),_0x3397('0x1d2'),'naval,navel',_0x3397('0x1d3'),_0x3397('0x1d4'),_0x3397('0x1d5'),'oar,ore,or','ode,owed',_0x3397('0x1d6'),'once,wants','one,won',_0x3397('0x1d7'),_0x3397('0x1d8'),_0x3397('0x1d9'),_0x3397('0x1da'),_0x3397('0x1db'),_0x3397('0x1dc'),_0x3397('0x1dd'),'palate,pallet,palette',_0x3397('0x1de'),_0x3397('0x1df'),_0x3397('0x1e0'),'pause,paws',_0x3397('0x1e1'),'peak,pique,peek','peal,peel',_0x3397('0x1e2'),_0x3397('0x1e3'),_0x3397('0x1e4'),_0x3397('0x1e5'),_0x3397('0x1e6'),_0x3397('0x1e7'),'plain,plane',_0x3397('0x1e8'),_0x3397('0x1e9'),_0x3397('0x1ea'),'pole,poll',_0x3397('0x1eb'),'populace,populous',_0x3397('0x1ec'),_0x3397('0x1ed'),_0x3397('0x1ee'),_0x3397('0x1ef'),_0x3397('0x1f0'),_0x3397('0x1f1'),_0x3397('0x1f2'),_0x3397('0x1f3'),_0x3397('0x1f4'),_0x3397('0x1f5'),_0x3397('0x1f6'),'rack,wrack',_0x3397('0x1f7'),'rail,rale',_0x3397('0x1f8'),_0x3397('0x1f9'),_0x3397('0x1fa'),_0x3397('0x1fb'),'re-cover,recover',_0x3397('0x1fc'),'read,red',_0x3397('0x1fd'),_0x3397('0x1fe'),_0x3397('0x1ff'),'reek,wreak',_0x3397('0x200'),_0x3397('0x201'),'retch,wretch','rhyme,rime',_0x3397('0x202'),_0x3397('0x203'),'ringer,wringer','rise,ryes',_0x3397('0x204'),_0x3397('0x205'),_0x3397('0x206'),_0x3397('0x207'),'roomer,rumor,rumour',_0x3397('0x208'),_0x3397('0x209'),'rote,wrote','rude,rued',_0x3397('0x20a'),_0x3397('0x20b'),'rye,wry','sail,sale','scene,seen',_0x3397('0x20c'),_0x3397('0x20d'),'sear,seer',_0x3397('0x20e'),_0x3397('0x20f'),_0x3397('0x210'),_0x3397('0x211'),_0x3397('0x212'),_0x3397('0x213'),_0x3397('0x214'),_0x3397('0x215'),_0x3397('0x216'),_0x3397('0x217'),_0x3397('0x218'),_0x3397('0x219'),_0x3397('0x21a'),_0x3397('0x21b'),'soar,sore',_0x3397('0x21c'),_0x3397('0x21d'),'sole,soul',_0x3397('0x21e'),_0x3397('0x21f'),'stair,stare',_0x3397('0x220'),'steal,steel',_0x3397('0x221'),_0x3397('0x222'),_0x3397('0x223'),_0x3397('0x224'),_0x3397('0x225'),_0x3397('0x226'),_0x3397('0x227'),_0x3397('0x228'),_0x3397('0x229'),_0x3397('0x22a'),_0x3397('0x22b'),_0x3397('0x22c'),_0x3397('0x22d'),_0x3397('0x22e'),_0x3397('0x22f'),_0x3397('0x230'),'there,they\x27re,their',_0x3397('0x231'),_0x3397('0x232'),_0x3397('0x233'),'tide,tied',_0x3397('0x234'),_0x3397('0x235'),_0x3397('0x236'),_0x3397('0x237'),'toe,tow',_0x3397('0x238'),'tracked,tract',_0x3397('0x239'),_0x3397('0x23a'),_0x3397('0x23b'),_0x3397('0x23c'),_0x3397('0x23d'),_0x3397('0x23e'),_0x3397('0x23f'),_0x3397('0x240'),_0x3397('0x241'),'wait,weight','waive,wave',_0x3397('0x242'),_0x3397('0x243'),'war,wore',_0x3397('0x244'),'ware,where,wear','warn,worn',_0x3397('0x245'),_0x3397('0x246'),_0x3397('0x247'),_0x3397('0x248'),_0x3397('0x249'),'we\x27re,weir,were',_0x3397('0x24a'),_0x3397('0x24b'),'weak,week',_0x3397('0x24c'),_0x3397('0x24d'),_0x3397('0x24e'),'wheeled,wield',_0x3397('0x24f'),'while,wile',_0x3397('0x250'),'whine,wine',_0x3397('0x251'),_0x3397('0x252'),_0x3397('0x253'),_0x3397('0x254'),_0x3397('0x255'),_0x3397('0x256'),_0x3397('0x257'),_0x3397('0x258'),'yaw,your,yore,you\x27re',_0x3397('0x259'),_0x3397('0x25a'),_0x3397('0x25b'),'aahed,odd',_0x3397('0x25c'),_0x3397('0x25d'),_0x3397('0x25e'),_0x3397('0x25f'),_0x3397('0x260'),_0x3397('0x261'),_0x3397('0x262'),'tidal,title',_0x3397('0x263'),_0x3397('0x264')];let _0x42ef1c;var _0x4334a3=_0x24d8ec=>{const _0x35bc19=tokenize$1(_0x24d8ec);let _0x12072d=_0x24d8ec;_0x35bc19['forEach'](_0x30341e=>{const _0x54f840=_0x39aeaf(_0x30341e);if(_0x54f840){_0x12072d=replaceWith$3(_0x12072d,_0x30341e,_0x54f840);}});if(_0x12072d!==_0x24d8ec){return[_0x12072d];}return[];};const _0x320c0c=()=>{if(_0x42ef1c){return _0x42ef1c;}const _0x3b2c8c=_0xc2e3de[_0x3397('0x56')](function(_0x2c652d){return _0x2c652d[_0x3397('0x82')]()[_0x3397('0x265')]()[_0x3397('0x87')](',');});_0x42ef1c=[];_0x3b2c8c['forEach'](function(_0x3998ae){_0x3998ae[_0x3397('0x4d')](function(_0x4c4291){_0x42ef1c[_0x4c4291]=_0x3998ae[_0x3397('0x59')](_0x39585b=>_0x39585b!==_0x4c4291);});});return _0x42ef1c;};const _0x39aeaf=_0x47f4be=>{const _0xc2e3de=_0x320c0c();_0x47f4be=_0x47f4be[_0x3397('0x82')]();if(!(_0x47f4be in _0xc2e3de)){return;}return _0xc2e3de[_0x47f4be][0x0];};var _0x2e1b42={'id':'Homophones'};var _0x107dfd={'execute':_0x4334a3,'metadata':_0x2e1b42};const {getLongestToken:getLongestToken$3,replaceCharAtCaseSensitive:replaceCharAtCaseSensitive$1,replaceWith:replaceWith$4,keymap:keymap$1}=_0x212bf7;var _0x1b40f2=_0x293a8f=>{const _0x18c1c2=[];const _0x3e2631=getLongestToken$3(_0x293a8f);if(_0x3e2631[_0x3397('0x76')]<0x5){return _0x18c1c2;}_0x2d1145(_0x3e2631)['forEach'](_0x403bd3=>{_0x18c1c2[_0x3397('0x47')](replaceWith$4(_0x293a8f,_0x3e2631,_0x403bd3));});return _0x18c1c2;};const _0x2d1145=_0x5d35ae=>{const _0x385989=[];const _0x599523=[0x2,_0x5d35ae[_0x3397('0x76')]-0x2];_0x599523[_0x3397('0x4d')](_0x262590=>{const _0x11ecde=_0x5d35ae[_0x262590][_0x3397('0x82')]();if(_0x11ecde in keymap$1){const _0x26f99d=keymap$1[_0x11ecde];const _0x458fa0=[_0x26f99d[0x0],_0x26f99d[_0x26f99d[_0x3397('0x76')]-0x1]];_0x458fa0[_0x3397('0x4d')](_0x1ad754=>{_0x385989[_0x3397('0x47')](replaceCharAtCaseSensitive$1(_0x5d35ae,_0x262590,_0x1ad754));});}});return _0x385989;};var _0x128d81={'id':'Mishit'};var _0x1d7644={'execute':_0x1b40f2,'metadata':_0x128d81};const {getLongestToken:getLongestToken$4,replaceCharAtCaseSensitive:replaceCharAtCaseSensitive$2,replaceWith:replaceWith$5}=_0x212bf7;var _0x404bc7=_0x574c42=>{const _0x1ce067=[];const _0x5398b2=getLongestToken$4(_0x574c42);if(_0x5398b2[_0x3397('0x76')]<0x5){return _0x1ce067;}_0xedc41c(_0x5398b2)[_0x3397('0x4d')](_0x11f203=>{_0x1ce067['push'](replaceWith$5(_0x574c42,_0x5398b2,_0x11f203));});return _0x1ce067;};const _0xedc41c=_0x3dd69b=>{const _0x474986=[];const _0x34179a=[0x2,_0x3dd69b[_0x3397('0x76')]-0x2];_0x34179a[_0x3397('0x4d')](_0x212793=>{_0x474986[_0x3397('0x47')](replaceCharAtCaseSensitive$2(_0x3dd69b,_0x212793,''));});return _0x474986;};var _0x3be003={'id':_0x3397('0x266')};var _0x21bb38={'execute':_0x404bc7,'metadata':_0x3be003};const {getLongestToken:getLongestToken$5,replaceWith:replaceWith$6,reverse:reverse$2}=_0x212bf7;var _0x1c0a7f=_0x57b899=>{const _0x20c408=[];const _0x359dbc=getLongestToken$5(_0x57b899);if(_0x359dbc[_0x3397('0x76')]<0x5){return _0x20c408;}_0x597fd9(_0x359dbc)[_0x3397('0x4d')](_0x4fa995=>{_0x20c408['push'](replaceWith$6(_0x57b899,_0x359dbc,_0x4fa995));});return _0x20c408;};const _0x597fd9=_0x1d3ff6=>{const _0x53c30b=new Set([_0x1d3ff6]);const _0x1cc966=[0x2,_0x1d3ff6[_0x3397('0x76')]-0x2];_0x1cc966['forEach'](_0x569e12=>{let _0x34bc4a=_0x569e12;let _0x4fbe93=![];do{const _0x295345=_0x1d3ff6[_0x3397('0x84')](_0x34bc4a,0x2);const _0x1d6a7a=replaceWith$6(_0x1d3ff6,_0x295345,reverse$2(_0x295345));if(!_0x53c30b[_0x3397('0x94')](_0x1d6a7a)){_0x53c30b[_0x3397('0x95')](_0x1d6a7a);_0x4fbe93=!![];}_0x34bc4a++;if(_0x34bc4a>=_0x1d3ff6[_0x3397('0x76')]-0x2){_0x4fbe93=!![];}}while(!_0x4fbe93);});_0x53c30b['delete'](_0x1d3ff6);return _0x53c30b;};var _0x42c338={'id':'Mixing\x20character'};var _0x1194df={'execute':_0x1c0a7f,'metadata':_0x42c338};const {replaceCharAt:replaceCharAt$1}=_0x212bf7;const _0x130542={'z':'y','Z':'Y','y':'z','Y':'Z'};var _0x43a30e=_0x1af7ab=>{let _0x2401a8=_0x1af7ab;for(let _0x271c64=0x0;_0x271c64<_0x2401a8['length'];_0x271c64++){const _0x2b8a0b=_0x2401a8[_0x3397('0x81')](_0x271c64);if(_0x2b8a0b in _0x130542){_0x2401a8=replaceCharAt$1(_0x2401a8,_0x271c64,_0x130542[_0x2b8a0b]);}}if(_0x2401a8===_0x1af7ab){return[];}return[_0x2401a8];};var _0x58b766={'id':_0x3397('0x267')};var _0x3df8a6={'execute':_0x43a30e,'metadata':_0x58b766};const {getLongestToken:getLongestToken$6,replaceCharAtCaseSensitive:replaceCharAtCaseSensitive$3,replaceWith:replaceWith$7,keymap:keymap$2}=_0x212bf7;var _0x271ac3=_0x5199ae=>{const _0x510b85=[];const _0x215c7f=getLongestToken$6(_0x5199ae);if(_0x215c7f[_0x3397('0x76')]<0x5){return _0x510b85;}_0x5c1676(_0x215c7f)[_0x3397('0x4d')](_0x3313db=>{_0x510b85[_0x3397('0x47')](replaceWith$7(_0x5199ae,_0x215c7f,_0x3313db));});return _0x510b85;};const _0x5c1676=_0x5836ae=>{const _0x17350e=[];const _0x3ca6ad=Math[_0x3397('0x88')](_0x5836ae[_0x3397('0x76')]/0x2);const _0x150401=_0x5836ae[_0x3ca6ad]['toLocaleLowerCase']();if(_0x150401 in keymap$2){const _0x56452e=keymap$2[_0x150401];const _0x36145f=[_0x56452e[0x0],_0x56452e[_0x56452e['length']-0x1]];_0x36145f[_0x3397('0x4d')](_0x199645=>{_0x17350e['push'](replaceCharAtCaseSensitive$3(_0x5836ae,_0x3ca6ad,_0x5836ae[_0x3ca6ad]+_0x199645));});}return _0x17350e;};var _0x1e2f80={'id':_0x3397('0x268')};var _0x2eff3f={'execute':_0x271ac3,'metadata':_0x1e2f80};const {getLongestToken:getLongestToken$7,replaceWith:replaceWith$8}=_0x212bf7;var _0x5c5f4=_0x5bcb65=>{const _0x91ec97=[];const _0x401301=getLongestToken$7(_0x5bcb65);if(_0x401301['length']<0x7){return _0x91ec97;}_0x26fd78(_0x401301)[_0x3397('0x4d')](_0x1b2f39=>{_0x91ec97['push'](replaceWith$8(_0x5bcb65,_0x401301,_0x1b2f39));});return _0x91ec97;};const _0x26fd78=_0x49ec36=>{const _0x5cfa52=new Set([_0x49ec36]);const _0x3e114d=[0x1,0x2];_0x3e114d['forEach'](_0x5e3ed6=>{let _0x2bab61=_0x5e3ed6;let _0x3c06c8=![];do{const _0x407516=_0x49ec36[_0x3397('0x84')](_0x2bab61,0x3)[_0x3397('0x87')]('');let _0xe8f2d8=Array[_0x3397('0x269')](_0x407516);_0xe8f2d8[_0x3397('0x47')](_0xe8f2d8[0x0]);_0xe8f2d8[_0x3397('0x26a')]();const _0x4adafd=replaceWith$8(_0x49ec36,_0x407516['join'](''),_0xe8f2d8[_0x3397('0x85')](''));if(!_0x5cfa52[_0x3397('0x94')](_0x4adafd)){_0x5cfa52['add'](_0x4adafd);_0x3c06c8=!![];}_0x2bab61++;if(_0x2bab61>=_0x49ec36[_0x3397('0x76')]-0x2){_0x3c06c8=!![];}}while(!_0x3c06c8);});_0x5cfa52[_0x3397('0x96')](_0x49ec36);return _0x5cfa52;};var _0x21bca1={'id':_0x3397('0x26b')};var _0x4c1dd5={'execute':_0x5c5f4,'metadata':_0x21bca1};var _0x1cacbd=[_0x2fe360,_0x7fe0e3,_0x107dfd,_0x1d7644,_0x21bb38,_0x1194df,_0x3df8a6,_0x2eff3f,_0x4c1dd5];const _0x1f1930=_0x5c9c16[_0x3397('0x8b')](_0x1cacbd);const _0xff2acd={};_0x1f1930[_0x3397('0x4d')](_0xda11ce=>{_0xff2acd[_0xda11ce[_0x3397('0x26c')]['id']]=_0xda11ce;});const _0x2ae67={};_0x5c9c16['forEach'](_0xb1ad01=>{_0x2ae67[_0xb1ad01[_0x3397('0x26c')]['id']]=_0x3397('0x26d');});_0x1cacbd['forEach'](_0xfb699f=>{_0x2ae67[_0xfb699f['metadata']['id']]=_0x3397('0x26e');});var _0x1de8cd=_0x153b5f=>{if(!(_0x153b5f in _0x2ae67)){throw Error(_0x3397('0x26f')+_0x153b5f);}return _0xff2acd[_0x153b5f];};var _0x40b8e5=Object[_0x3397('0x270')](_0xff2acd);var _0x504f1d=[[_0x5c9c16,_0x1cacbd],[_0x5c9c16],[_0x1cacbd]];var _0x3c4b58=[[_0x5c9c16],[_0x1cacbd]];var _0x559848={'GetMutatorById':_0x1de8cd,'allMutatorNames':_0x40b8e5,'pipelineAllMutatorCombined':_0x504f1d,'pipelineAllMutatorNotCombined':_0x3c4b58};const {pipelineAllMutatorCombined:pipelineAllMutatorCombined$1,pipelineAllMutatorNotCombined:pipelineAllMutatorNotCombined$1,GetMutatorById:GetMutatorById$1,allMutatorNames:allMutatorNames$1}=_0x559848;var _0x30581b=pipelineAllMutatorCombined$1;var _0x2a1032=pipelineAllMutatorNotCombined$1;var _0x50edd5=allMutatorNames$1;var _0xc3b034=(_0xa6ddb6,_0x3f1237)=>{const _0x56b998=_0x4ecffc(_0x3f1237);return _0x249972(_0xa6ddb6,_0x56b998);};const _0x249972=(_0x51e6c6,_0x30c11b)=>{let _0x4a1f01=new Set();for(const _0x2d7204 of _0x30c11b){let _0x5c82cf=[_0x51e6c6];for(const _0x3e4e5f of _0x2d7204){let _0x458e18=[];for(const _0x241669 of _0x3e4e5f){for(const _0x564f29 of _0x5c82cf){_0x458e18=_0x458e18[_0x3397('0x8b')](_0x241669['execute'](_0x564f29));}}_0x5c82cf=_0x458e18;}for(const _0x51d4ec of _0x5c82cf){if(_0x4a1f01[_0x3397('0x94')](_0x51d4ec)){console[_0x3397('0x3a')](_0x3397('0x271')+_0x51d4ec+_0x3397('0x272')+JSON[_0x3397('0x273')](_0x2d7204,0x2));}else{_0x4a1f01[_0x3397('0x95')](_0x51d4ec);}}}return[..._0x4a1f01];};var _0x4413e2=_0x249972;const _0x4ecffc=_0x4c530a=>{if(!_0x4c530a[_0x3397('0x274')]||!_0x4c530a[_0x3397('0x274')][_0x3397('0x76')]){return[[pipelineAllMutatorNotCombined$1]];}const _0x4e9809=_0x2a095b=>_0x2a095b[_0x3397('0x56')](_0x5750ad=>GetMutatorById$1(_0x5750ad));return[[_0x4e9809(_0x4c530a[_0x3397('0x274')])]];};var _0x34b0c0={'pipelineAllMutatorCombined':_0x30581b,'pipelineAllMutatorNotCombined':_0x2a1032,'allHumanifiers':_0x50edd5,'Execute':_0xc3b034,'ExecutePipeline':_0x4413e2};const _0x10430d=_0x3ac7e8(_0x3397('0x275'));const {BotDriver}=_0x358b35;const {RetrieveTestSetDetails:RetrieveTestSetDetails$1}=_0x5206f7;const _0xd9fa44=_0x3397('0x276');var _0x2f2cec={'humanifiers':_0x34b0c0['allHumanifiers']};var _0x2c3818=(_0x232d39,_0x51c6af)=>{const _0x2f8959=new BotDriver();const _0xafae37=_0x2f8959[_0x3397('0x277')]();const _0x3b1ffb=_0x3c3f22[_0x3397('0x85')](process['env'][_0x3397('0x278')],_0xed50bd(_0x232d39['name'])+'_CLONED_'+_0xb05a44(_0x3397('0x279'),0x5));_0x196394[_0x3397('0x27a')](_0x3b1ffb);return _0x585984(RetrieveTestSetDetails$1(_0x232d39),_0xafae37,_0x3b1ffb,_0x2f8959['sources'])[_0x3397('0x4b')](()=>{_0x319945(_0x3b1ffb,_0x43d0c5=>{if(_0x43d0c5){_0x10430d(_0x3397('0x27b')+_0x3b1ffb+':\x20'+_0x43d0c5);}});const _0xec8e8e={};const _0x3d543a=_0x3c954c(_0xafae37,_0x51c6af);_0xec8e8e[_0x3397('0x73')]={'all':Object[_0x3397('0x270')](_0x3d543a[_0x3397('0x77')])[_0x3397('0x76')],'me':_0x3d543a['me'][_0x3397('0x27c')],'bot':_0x3d543a['bot'][_0x3397('0x27c')],'both':_0x3d543a[_0x3397('0x27d')][_0x3397('0x27c')],'neither':_0x3d543a[_0x3397('0x27e')][_0x3397('0x27c')],'toHumanify':Object[_0x3397('0x27f')](_0x3d543a['toHumanify'])['filter'](_0x5cf5d5=>_0x5cf5d5)[_0x3397('0x76')],'allUtteranceCount':_0x3d543a['allUtteranceCount'],'utterancesToHumanifyCount':_0x3d543a['utterancesToHumanifyCount']};_0xec8e8e[_0x3397('0x280')]=_0x4d34ef(_0xafae37,_0x3d543a,_0x51c6af);_0x10430d(_0x3397('0x281')+JSON['stringify'](_0xec8e8e));return _0x56a3ab(_0xafae37,_0x232d39['name']);});};const _0x56a3ab=(_0x1a523c,_0x5cedf8)=>{const _0x18d4de=_0x3c3f22[_0x3397('0x85')](process[_0x3397('0x282')][_0x3397('0x283')],_0xed50bd(_0x5cedf8)+_0x3397('0x284')+_0xb05a44(_0x3397('0x279'),0x5));_0x196394[_0x3397('0x27a')](_0x18d4de);const _0x4962f8=Object[_0x3397('0x270')](_0x1a523c['utterances']);for(let _0x121b79=0x0;_0x121b79<_0x4962f8[_0x3397('0x76')];_0x121b79++){let _0x3dc212=[_0x4962f8[_0x121b79]][_0x3397('0x8b')](_0x1a523c[_0x3397('0x73')][_0x4962f8[_0x121b79]][_0x3397('0x73')])['join']('\x0d\x0a');_0x464ab8[_0x3397('0x285')](_0x3c3f22[_0x3397('0x85')](_0x18d4de,_0x4962f8[_0x121b79]+_0x3397('0x286')),_0x3dc212,function(_0x1f3e6a){if(_0x1f3e6a){throw _0x1f3e6a;}});}const _0xd9dd75=_0x1a523c[_0x3397('0x287')](_0x597b75[_0x3397('0x5b')]);for(let _0x3d9c89=0x0;_0x3d9c89<_0x1a523c['convos'][_0x3397('0x76')];_0x3d9c89++){let _0x3dc212=_0xd9dd75[_0x3397('0x288')]([_0x1a523c['convos'][_0x3d9c89]]);_0x464ab8[_0x3397('0x285')](_0x3c3f22[_0x3397('0x85')](_0x18d4de,'c'+_0x3d9c89+_0x3397('0x289')),_0x3dc212,function(_0x2a6c87){if(_0x2a6c87){throw _0x2a6c87;}});}return _0x18d4de;};const _0x3c954c=(_0x5d013b,_0x1ca7d1)=>{const _0x20d0b7={'all':_0x5d013b[_0x3397('0x73')],'me':new Set(),'bot':new Set(),'both':null,'neither':null,'toHumanify':{},'allUtteranceCount':0x0,'utterancesToHumanifyCount':0x0};_0x20d0b7[_0x3397('0x27e')]=new Set(Object[_0x3397('0x270')](_0x20d0b7[_0x3397('0x77')]));_0x5d013b[_0x3397('0x69')]['forEach'](_0x577a52=>{_0x577a52['conversation']['forEach'](_0x129473=>{if(_0x129473[_0x3397('0x28a')]&&_0x129473[_0x3397('0x28a')]in _0x20d0b7[_0x3397('0x77')]){_0x20d0b7[_0x129473[_0x3397('0x28b')]][_0x3397('0x95')](_0x129473['messageText']);_0x20d0b7[_0x3397('0x27e')][_0x3397('0x96')](_0x129473[_0x3397('0x28a')]);}});});const _0x113599=_0x5087e3['uniq'](Array[_0x3397('0x269')](_0x20d0b7['me']))[_0x3397('0x59')](_0x5bda44=>_0x20d0b7[_0x3397('0x28c')]['has'](_0x5bda44));_0x20d0b7[_0x3397('0x27d')]=new Set(_0x113599);const _0x485668={};let _0x4ab932=0x0;let _0x2abf72=0x0;if(_0x1ca7d1['humanifiersToExecute']&&_0x1ca7d1['humanifiersToExecute'][_0x3397('0x76')]){[..._0x20d0b7['me'],..._0x113599,..._0x20d0b7[_0x3397('0x27e')]][_0x3397('0x4d')](_0x8de5ea=>{_0x2abf72+=_0x20d0b7[_0x3397('0x77')][_0x8de5ea]['utterances']['length'];let _0x31dc3c=Math[_0x3397('0x88')](_0x2abf72*_0x1ca7d1['percentToHumanify']-_0x4ab932);if(_0x4ab932===0x0&&_0x31dc3c===0x0){_0x31dc3c=0x1;}_0x485668[_0x8de5ea]=_0x31dc3c;_0x4ab932+=_0x31dc3c;});}_0x20d0b7[_0x3397('0x28d')]=_0x485668;_0x20d0b7['allUtteranceCount']=_0x2abf72;_0x20d0b7[_0x3397('0x28e')]=_0x4ab932;return _0x20d0b7;};const _0x4d34ef=(_0xffadce,_0xf57df1,_0x51a013)=>{_0xf57df1['both'][_0x3397('0x4d')](_0x359d4b=>{if(_0xf57df1[_0x3397('0x28d')][_0x359d4b]){let _0x2c9668=_0x359d4b+_0xd9fa44;if(_0x2c9668 in _0xffadce[_0x3397('0x73')]){throw new Error(_0x3397('0x28f')+_0x2c9668+_0x3397('0x290'));}}});const _0x5a8811={'humanifiedRefs':[],'humanifiedRefCount':0x0,'humanifiedUtterancesCount':0x0,'duplicates':0x0};_0xf57df1[_0x3397('0x27d')][_0x3397('0x4d')](_0x4a7c78=>{if(_0xf57df1[_0x3397('0x28d')][_0x4a7c78]){_0xffadce[_0x3397('0x73')][_0x4a7c78+_0xd9fa44]=_0x5087e3[_0x3397('0x291')](_0xffadce['utterances'][_0x4a7c78]);}});const _0x3c918a=_0x2aeaa6=>{_0xffadce[_0x3397('0x73')][_0x2aeaa6][_0x3397('0x73')]=_0x5087e3[_0x3397('0x292')](_0xffadce['utterances'][_0x2aeaa6][_0x3397('0x73')]);const _0x599219=_0xf57df1[_0x3397('0x28d')][_0x2aeaa6];const _0x2a73cc=_0xffadce[_0x3397('0x73')][_0x2aeaa6]['utterances'];let _0x4e5a9a=0x0;for(let _0x37827c=0x0;_0x37827c<_0x599219;_0x37827c++){const _0x22ae24=_0x34b0c0[_0x3397('0x293')](_0x2a73cc[_0x37827c],{'humanifiersToExecute':_0x51a013['humanifiersToExecute']});_0xffadce['utterances'][_0x2aeaa6][_0x3397('0x73')]=_0xffadce['utterances'][_0x2aeaa6][_0x3397('0x73')]['concat'](_0x22ae24);_0x4e5a9a+=_0x22ae24[_0x3397('0x76')];}let _0x1c6143=_0xffadce[_0x3397('0x73')][_0x2aeaa6][_0x3397('0x73')][_0x3397('0x76')];_0xffadce['utterances'][_0x2aeaa6]['utterances']=_0x5087e3[_0x3397('0x292')](_0xffadce['utterances'][_0x2aeaa6][_0x3397('0x73')]);return{'humanifiedRefCount':_0x599219,'humanifiedUtterancesCount':_0x4e5a9a,'duplicates':_0x1c6143-_0xffadce['utterances'][_0x2aeaa6]['length']};};Object[_0x3397('0x270')](_0xf57df1[_0x3397('0x28d')])[_0x3397('0x4d')](_0x4d4b6=>{if(_0xf57df1['toHumanify'][_0x4d4b6]){const _0x22eefc=_0x3c918a(_0x4d4b6);_0x5a8811[_0x3397('0x294')][_0x3397('0x47')](_0x4d4b6);_0x5a8811[_0x3397('0x295')]+=_0x22eefc[_0x3397('0x295')];_0x5a8811['humanifiedUtterancesCount']+=_0x22eefc['humanifiedUtterancesCount'];_0x5a8811[_0x3397('0x296')]+=_0x22eefc[_0x3397('0x296')];}});const _0x16f272=(_0x163310,_0xf57df1)=>{_0x163310['conversation']['forEach'](_0x540c58=>{if(_0x540c58['messageText']&&_0xf57df1[_0x3397('0x27d')][_0x3397('0x94')](_0x540c58[_0x3397('0x28a')])){return!![];}});return![];};const _0x410e73=[];_0xffadce['convos'][_0x3397('0x4d')](_0x3f7d5f=>{if(_0x16f272(_0x3f7d5f,_0xf57df1));});_0xffadce[_0x3397('0x69')]=_0xffadce[_0x3397('0x69')]['concat'](_0x410e73);_0x5a8811[_0x3397('0x297')]=_0x410e73[_0x3397('0x76')];return _0x5a8811;};var _0xcb551a={'possibleOptions':_0x2f2cec,'CloneTestset':_0x2c3818};const {BotDriver:BotDriver$1}=_0x358b35;const {RetrieveTestSetDetails:RetrieveTestSetDetails$2}=_0x5206f7;const _0x2ba2e0=_0x3ac7e8('botium-box-mutate-testset');const _0x5323c9=_0x3397('0x298');var _0x519ddf={async 'createTestSet'(_0x31f222,{testSet},_0x43a2de,_0x465549){return _0x43a2de['db'][_0x3397('0x299')]['createTestSet']({'data':testSet},_0x465549);},async 'updateTestSet'(_0xdf058a,{id,testSet},_0x80747a,_0x29a9fc){const _0x28719a=await _0x80747a['db'][_0x3397('0x29a')]['TestSet']({'id':id});if(!_0x28719a){throw new Error(_0x3397('0x29b')+id);}return _0x80747a['db'][_0x3397('0x299')][_0x3397('0x29c')]({'where':{'id':id},'data':testSet},_0x29a9fc);},async 'deleteTestSet'(_0x166ec4,{id},_0x1aa2bd){return new Promise((_0x42736d,_0x3a03e2)=>{_0x1aa2bd['db'][_0x3397('0x299')][_0x3397('0x29d')]({'where':{'id':id}},_0x3397('0x29e'))[_0x3397('0x4b')](()=>_0x42736d(!![]))[_0x3397('0x4e')](_0x13d4ea=>_0x3a03e2(_0x13d4ea));});},async 'createTestSetScript'(_0x18d3b7,{testSetScript},_0x580c85,_0x19ea50){return _0x580c85['db']['mutation'][_0x3397('0x29f')]({'data':testSetScript},_0x19ea50);},async 'updateTestSetScript'(_0x428c3c,{id,testSetScript},_0x11e865,_0xbda026){const _0xf1dbb2=await _0x11e865['db'][_0x3397('0x29a')][_0x3397('0x2a0')]({'id':id});if(!_0xf1dbb2){throw new Error('TestSetScript\x20not\x20found\x20'+id);}return _0x11e865['db']['mutation'][_0x3397('0x2a1')]({'where':{'id':id},'data':testSetScript},_0xbda026);},async 'deleteTestSetScript'(_0x4c2d81,{id},_0x33f031){return new Promise((_0x2a1560,_0x5dd7f9)=>{_0x33f031['db'][_0x3397('0x299')][_0x3397('0x2a2')]({'where':{'id':id}},_0x3397('0x29e'))[_0x3397('0x4b')](()=>_0x2a1560(!![]))['catch'](_0x298910=>_0x5dd7f9(_0x298910));});},async 'createTestSetRepository'(_0x248581,{testSetRepository},_0x4af52d,_0x55aea6){},async 'updateTestSetRepository'(_0x4ea2e1,{id,testSetRepository},_0x4052af,_0x5bf1e2){},async 'deleteTestSetRepository'(_0x2ff4f2,{id},_0x496535){},async 'createTestSetFolder'(_0x46e58a,{testSetFolder},_0x2f3e6f,_0x25e3a4){return _0x2f3e6f['db'][_0x3397('0x299')]['createTestSetFolder']({'data':testSetFolder},_0x25e3a4);},async 'updateTestSetFolder'(_0x4788da,{id,testSetFolder},_0x4266fb,_0x48c265){const _0x2f0bfb=await _0x4266fb['db'][_0x3397('0x29a')][_0x3397('0x2a3')]({'id':id});if(!_0x2f0bfb){throw new Error(_0x3397('0x2a4')+id);}return _0x4266fb['db'][_0x3397('0x299')]['updateTestSetFolder']({'where':{'id':id},'data':testSetFolder},_0x48c265);},async 'deleteTestSetFolder'(_0xac55a1,{id},_0x320ab6){return new Promise((_0x43b186,_0x3e97cf)=>{_0x320ab6['db'][_0x3397('0x299')][_0x3397('0x2a5')]({'where':{'id':id}},_0x3397('0x29e'))['then'](()=>_0x43b186(!![]))['catch'](_0x550b6c=>_0x3e97cf(_0x550b6c));});},async 'createTestSetExcel'(_0x40b2eb,{testSetExcel},_0x4e0167,_0x51c4e6){return _0x4e0167['db'][_0x3397('0x299')][_0x3397('0x2a6')]({'data':testSetExcel},_0x51c4e6);},async 'updateTestSetExcel'(_0x5f0263,{id,testSetExcel},_0x3d6e92,_0x16766e){const _0x41383e=await _0x3d6e92['db'][_0x3397('0x29a')]['TestSetExcel']({'id':id});if(!_0x41383e){throw new Error(_0x3397('0x2a7')+id);}return _0x3d6e92['db'][_0x3397('0x299')][_0x3397('0x2a8')]({'where':{'id':id},'data':testSetExcel},_0x16766e);},async 'deleteTestSetExcel'(_0x19f27a,{id},_0x764ea3){return new Promise((_0x43331c,_0x43bb37)=>{_0x764ea3['db'][_0x3397('0x299')][_0x3397('0x2a9')]({'where':{'id':id}},'{id}')[_0x3397('0x4b')](()=>_0x43331c(!![]))['catch'](_0x1150e8=>_0x43bb37(_0x1150e8));});},async 'cloneTestSet'(_0x2f91ce,{id,options:_0xbc5dd8},_0x525262,_0x58524d){const _0x1880e0=await _0x525262['db'][_0x3397('0x51')]['testSet']({'where':{'id':id}},_0x5323c9);if(!_0x1880e0){throw new Error(_0x3397('0x29b')+id);}const _0x33c4ad=await _0xcb551a[_0x3397('0x2aa')](_0x1880e0,_0xbc5dd8);const _0x56e6fc=_0x1880e0[_0x3397('0x71')]+'/'+_0x3c3f22[_0x3397('0x2ab')](_0x33c4ad);const _0x3a9829=_0x1880e0[_0x3397('0x71')]+_0x3397('0x2ac')+_0x3c3f22[_0x3397('0x2ab')](_0x33c4ad)+'\x22,\x20Humanifiers\x20\x22'+(_0xbc5dd8[_0x3397('0x274')]&&_0xbc5dd8['humanifiersToExecute'][_0x3397('0x85')](',\x20'))+_0x3397('0x2ad')+_0xbc5dd8['percentToHumanify']+'.';const _0x422747={'data':{..._0x1880e0,'name':_0x56e6fc,'description':_0x3a9829,'tags':{'set':_0x1880e0[_0x3397('0x2ae')]?[..._0x1880e0[_0x3397('0x2ae')],_0x3397('0x2af')]:[_0x3397('0x2af')]},'folders':{'create':[{'name':_0x3397('0x2b0'),'path':_0x3c3f22[_0x3397('0x44')](_0x33c4ad)}]},'repositories':{},'scripts':[],'excels':{}}};delete _0x422747['data']['id'];return _0x525262['db'][_0x3397('0x299')][_0x3397('0x2b1')](_0x422747,_0x58524d);},async 'updateTestSetStats'(_0xe4e2df,{id},_0x1d6415,_0x326207){const _0x3f5875=await _0x1d6415['db']['query'][_0x3397('0x2b2')]({'where':{'id':id}},_0x5323c9);if(!_0x3f5875){throw new Error('TestSet\x20not\x20found\x20'+id);}const _0x111386=new BotDriver$1();const _0x542a36=_0x111386[_0x3397('0x277')]();const _0xd82cf6=_0x3c3f22['join'](process[_0x3397('0x282')][_0x3397('0x278')],_0xed50bd(_0x3f5875['name'])+'_STATS_'+_0xb05a44(_0x3397('0x279'),0x5));_0x196394[_0x3397('0x27a')](_0xd82cf6);const _0x267a6a=RetrieveTestSetDetails$2(_0x3f5875);try{await _0x585984(_0x267a6a,_0x542a36,_0xd82cf6,_0x111386[_0x3397('0x2b3')]);const _0x290224=_0x542a36[_0x3397('0x69')]&&_0x542a36[_0x3397('0x69')][_0x3397('0x56')](_0x170da7=>({'name':_0x170da7[_0x3397('0x2b4')][_0x3397('0x71')],'order':_0x170da7[_0x3397('0x2b4')][_0x3397('0x2b5')],'description':_0x170da7['header'][_0x3397('0x2b6')],'sourceTag':JSON[_0x3397('0x273')](_0x170da7[_0x3397('0x6e')]),'stepCount':_0x170da7[_0x3397('0x2b7')]&&_0x170da7['conversation'][_0x3397('0x76')]||0x0}))||[];const _0x27cc22=_0x542a36[_0x3397('0x2b8')]&&Object[_0x3397('0x27f')](_0x542a36[_0x3397('0x2b8')])['map'](_0x5ae21b=>({'name':_0x5ae21b['header']['name'],'description':_0x5ae21b['header'][_0x3397('0x2b6')],'sourceTag':JSON[_0x3397('0x273')](_0x5ae21b[_0x3397('0x6e')]),'stepCount':_0x5ae21b[_0x3397('0x2b7')]&&_0x5ae21b['conversation']['length']||0x0}))||[];const _0x5eaf4d=_0x290224[_0x3397('0x76')];const _0x127d66=_0x27cc22[_0x3397('0x76')];const _0x562f73=Object['keys'](_0x542a36[_0x3397('0x73')])['reduce']((_0xe969d7,_0x2b1a2d)=>_0xe969d7+_0x542a36[_0x3397('0x73')][_0x2b1a2d][_0x3397('0x73')][_0x3397('0x76')],0x0);const _0x4692a5=await _0x1d6415['db']['query']['testSet']({'where':{'id':id}},_0x3397('0x2b9'));return await _0x1d6415['db'][_0x3397('0x299')][_0x3397('0x29c')]({'where':{'id':id},'data':{'statsUpdatedAt':new Date(),'statsConvoCount':_0x5eaf4d||0x0,'statsPartialConvoCount':_0x127d66||0x0,'statsUtterancesCount':_0x562f73||0x0,'statsCompiledConvos':{'create':_0x290224[_0x3397('0x8b')](_0x27cc22),'deleteMany':{'id_in':_0x4692a5[_0x3397('0x2ba')]&&_0x4692a5[_0x3397('0x2ba')][_0x3397('0x56')](_0x332db0=>_0x332db0['id'])||[]}}}},_0x326207);}finally{_0x319945(_0xd82cf6,_0x599a56=>{if(_0x599a56){_0x2ba2e0('Failed\x20rimraf\x20'+_0xd82cf6+':\x20'+_0x599a56);}});}}};const {updateTestSetStats}=_0x519ddf;const _0x3ab0a5=_0x3ac7e8(_0x3397('0x2bb'));const _0x3ee03d=(_0x11260a,_0x2800e4)=>{if(process[_0x3397('0x282')]['TESTSETDIR_PUBLIC']){return _0x3c3f22[_0x3397('0x44')](process[_0x3397('0x282')][_0x3397('0x2bc')],_0x2800e4);}else{return _0x3c3f22[_0x3397('0x44')](_0x11260a,_0x2800e4);}};const _0x58f61d=(_0x83d3e2,_0x4760b1)=>{return _0x464ab8[_0x3397('0x2bd')](_0x83d3e2)[_0x3397('0x2be')]((_0x37ad29,_0x2d0865)=>{const _0x44537c=_0x3c3f22[_0x3397('0x85')](_0x83d3e2,_0x2d0865);if(_0x4760b1(_0x44537c))_0x37ad29[_0x3397('0x47')](_0x2d0865);return _0x37ad29;},[]);};const _0x1c98d0=_0x215f21=>{return _0x58f61d(_0x215f21,_0x3c3736=>_0x464ab8[_0x3397('0x2bf')](_0x3c3736)['isDirectory']());};const _0x1397b5=_0x1f6cbf=>{return _0x58f61d(_0x1f6cbf,_0x1049c6=>_0x464ab8[_0x3397('0x2bf')](_0x1049c6)[_0x3397('0x2c0')]());};const _0x226b72=async(_0x518907,_0x3808eb)=>{let _0x234edd=await _0x518907['query']['testSetFolders']({'where':{'path':_0x3808eb}},'{\x20id\x20name\x20testSet\x20{\x20id\x20name\x20}\x20}');if(!_0x234edd||_0x234edd['length']===0x0){_0x234edd=await _0x518907[_0x3397('0x51')][_0x3397('0x2c1')]({'where':{'path':_0x3808eb+_0x3c3f22[_0x3397('0x2c2')]}},'{\x20id\x20name\x20testSet\x20{\x20id\x20name\x20}\x20}');}if(_0x234edd&&_0x234edd['length']>0x0){_0x3ab0a5(_0x3397('0x2c3')+_0x3808eb+_0x3397('0x2c4')+_0x234edd[0x0][_0x3397('0x71')]+_0x3397('0x2c5')+_0x234edd[0x0][_0x3397('0x2b2')][_0x3397('0x71')]);return!![];}return![];};const _0x198dd4=async(_0x19ba25,_0x4edc31,_0x8a3104)=>{const _0x2a4942=_0x3c3f22['join'](_0x4edc31,_0x8a3104);_0x3ab0a5('scanDirForTestSets\x20scanning\x20'+_0x2a4942+'\x20...');const _0x207261=_0x1c98d0(_0x2a4942);const _0x5f19ae=_0x1397b5(_0x2a4942);if(_0x207261&&_0x207261[_0x3397('0x76')]>0x0){await _0x207261[_0x3397('0x4d')](async _0xf0fa03=>{const _0x513eae=_0x3ee03d(_0x4edc31,_0x3c3f22[_0x3397('0x85')](_0x8a3104,_0xf0fa03));const _0x1862ac=await _0x226b72(_0x19ba25,_0x513eae);if(_0x1862ac)return;await _0x198dd4(_0x19ba25,_0x4edc31,_0x3c3f22[_0x3397('0x85')](_0x8a3104,_0xf0fa03));});}else if(_0x5f19ae&&_0x5f19ae[_0x3397('0x76')]>0x0){const _0x5d6065={'data':{'name':_0x8a3104[_0x3397('0x87')](_0x3c3f22['sep'])[_0x3397('0x85')]('/'),'description':'Imported\x20from\x20directory\x20'+_0x2a4942+',\x20'+_0x5f19ae[_0x3397('0x76')]+_0x3397('0x2c6'),'expandConvos':!![],'expandUtterancesToConvos':!![],'tags':{'set':_0x8a3104['split'](_0x3c3f22[_0x3397('0x2c2')])},'folders':{'create':[{'name':_0x8a3104,'path':_0x3ee03d(_0x4edc31,_0x8a3104)}]}}};try{const _0x2b5ca6=await _0x19ba25[_0x3397('0x299')][_0x3397('0x2b1')](_0x5d6065,_0x3397('0x2c7'));_0x3ab0a5(_0x3397('0x2c8')+_0x8a3104+'\x20Imported\x20Test\x20Set\x20'+_0x2b5ca6['id']+_0x3397('0x2c9')+_0x5f19ae[_0x3397('0x76')]+_0x3397('0x2c6'));await updateTestSetStats(undefined,{'id':_0x2b5ca6['id']},{'db':_0x19ba25});_0x3ab0a5(_0x3397('0x2c8')+_0x8a3104+'\x20Updated\x20Test\x20Set\x20Stats\x20'+_0x2b5ca6['id']);}catch(_0x5db081){_0x3ab0a5('scanDirForTestSets\x20'+_0x8a3104+_0x3397('0x2ca')+_0x5d6065[_0x3397('0x2cb')]+':\x20'+_0x5db081);}}};var _0x1c7f8c=_0x472af0=>{(async()=>{_0x198dd4(_0x472af0,process[_0x3397('0x282')][_0x3397('0x283')],'.');})()[_0x3397('0x4e')](_0xafe9e4=>{_0x3ab0a5('scanForTestSets\x20failed:\x20'+_0xafe9e4);});};var _0x2f4fa1={'scanForTestSets':_0x1c7f8c};const _0xcd33f6=_0x3ac7e8(_0x3397('0x2cc'));const _0x1414f3=_0x358b35['BotDriver'];const _0x2b4492=process[_0x3397('0x282')][_0x3397('0x2cd')]||0x493e0;const _0xbd46e7={};const _0x2076e6={};const _0x6c2ece=async({db,pubsub,queueSettings})=>{return new Promise((_0x38a4d9,_0x4665e0)=>{const _0x429a97=new _0x1b4e71(_0x3210cd[_0x3397('0x2ce')]);_0x429a97[_0x3397('0x2cf')](_0x3397('0x2d0'),_0x3397('0x2d1'),(_0x498fb7,_0xa9e8bd)=>{if(_0x498fb7){_0x4665e0(new Error(_0x3397('0x2d2')+_0x498fb7));}else{_0xcd33f6(_0x3397('0x2d3')+_0xa9e8bd+_0x3397('0x2d4'));_0x38a4d9();}});_0x429a97['on'](_0x3397('0x2d5'),async(_0x425d8b,_0x2315e4)=>{const {conversationId,convoStep}=JSON['parse'](_0x2315e4);if(!_0xbd46e7[conversationId])return;const _0x88eaed=_0xbd46e7[conversationId];if(_0x425d8b==='livechat.send'){_0xcd33f6('liveChatSendToBot('+conversationId+_0x3397('0x2d6')+convoStep);try{await _0x88eaed['UserSays'](convoStep);}catch(_0x5cd8c3){_0xcd33f6('liveChatSendToBot\x20UserSays\x20failed:\x20'+_0x5cd8c3);_0x194f12[_0x3397('0x2d7')](conversationId,{'liveChatConvoStepAdded':{'err':''+_0x5cd8c3}});}}else if(_0x425d8b===_0x3397('0x2d1')){_0x271730(conversationId);}});});};const _0x4acebd=({conversationId,queueSettings,pubsub})=>{if(_0x2076e6[conversationId])clearTimeout(_0x2076e6[conversationId]);_0x2076e6[conversationId]=setTimeout(async()=>{const _0x57d7aa=new _0x1b4e71(_0x3210cd[_0x3397('0x2ce')]);_0xcd33f6(_0x3397('0x2d8')+conversationId+_0x3397('0x2d9')+_0x2b4492+_0x3397('0x2da'));_0x271730(conversationId);await _0x57d7aa['del'](conversationId);_0x194f12['publish'](conversationId,{'liveChatConvoStepAdded':{'err':_0x3397('0x2db')+_0x2b4492+_0x3397('0x2da')}});},_0x2b4492);};const _0x271730=async _0x3933e3=>{if(_0x2076e6[_0x3933e3])clearTimeout(_0x2076e6[_0x3933e3]);delete _0x2076e6[_0x3933e3];const _0x12e9b6=_0xbd46e7[_0x3933e3];if(!_0x12e9b6)return;try{await _0x12e9b6[_0x3397('0x2dc')]();}catch(_0x43d950){_0xcd33f6(_0x3397('0x2dd')+_0x3933e3+_0x3397('0x2de')+_0x43d950);}try{await _0x12e9b6['Clean']();}catch(_0x7d3ec5){_0xcd33f6(_0x3397('0x2dd')+_0x3933e3+_0x3397('0x2df')+_0x7d3ec5);}_0xcd33f6('stopConversation('+_0x3933e3+_0x3397('0x2e0'));delete _0xbd46e7[_0x3933e3];};const _0x14f219=async({caps},{pubsub,queueSettings})=>{const _0x12d3bf=new _0x1b4e71(_0x3210cd[_0x3397('0x2ce')]);const _0x280de3=_0x561070();const _0xbd6a30=new _0x1414f3(caps);var _0x5d1790=new _0x276521(async(_0xb46653,_0x16c642)=>{try{const _0x581afe=await _0x501401({'conversationId':_0x280de3},{'queueSettings':_0x3210cd});const _0x5481d1=_0x581afe[_0x3397('0x76')];const _0x3670b7=JSON[_0x3397('0x273')](Object['assign'](_0xb46653,{'convoStepIndex':_0x5481d1}));_0x194f12[_0x3397('0x2d7')](_0x280de3,{'liveChatConvoStepAdded':{'convoStep':_0x3670b7}});_0x581afe[_0x3397('0x47')](_0x3670b7);_0x2b732f(_0x280de3,_0x581afe,_0x12d3bf);_0x4acebd({'conversationId':_0x280de3,'queueSettings':_0x3210cd,'pubsub':_0x194f12});}catch(_0x241e7a){_0xcd33f6(_0x3397('0x2e1')+_0x241e7a);}_0x16c642();});_0xbd6a30['on'](_0x3397('0x2e2'),(_0x2b61e5,_0x4fe0cf)=>_0x5d1790[_0x3397('0x47')](_0x4fe0cf));_0xbd6a30['on'](_0x3397('0x2e3'),(_0x393ec8,_0x15a7ba)=>_0x5d1790['push'](_0x15a7ba));const _0x51728c=await _0xbd6a30[_0x3397('0x2e4')]();_0xbd46e7[_0x280de3]=_0x51728c;_0xcd33f6(_0x3397('0x2e5')+_0x280de3+_0x3397('0x2e6'));await _0x51728c[_0x3397('0x2e7')]();_0xcd33f6(_0x3397('0x2e5')+_0x280de3+')\x20container\x20started.');_0x2b732f(_0x280de3,[],_0x12d3bf);_0x4acebd({'conversationId':_0x280de3,'queueSettings':_0x3210cd,'pubsub':_0x194f12});return _0x280de3;};const _0x50be79=async({conversationId,convoStep},{queueSettings})=>{const _0x317a39=new _0x1b4e71(_0x3210cd[_0x3397('0x2ce')]);_0x317a39[_0x3397('0x2d7')](_0x3397('0x2d0'),JSON[_0x3397('0x273')]({'conversationId':conversationId,'convoStep':convoStep}));};const _0x101253=async({conversationId},{queueSettings})=>{const _0x4d1c26=new _0x1b4e71(_0x3210cd[_0x3397('0x2ce')]);_0x4d1c26[_0x3397('0x2d7')]('livechat.stop',JSON['stringify']({'conversationId':conversationId}));};const _0x501401=async({conversationId},{queueSettings})=>{const _0x442428=new _0x1b4e71(_0x3210cd[_0x3397('0x2ce')]);const _0x2607fb=await _0x442428[_0x3397('0x42')](conversationId);return _0x2607fb&&JSON['parse'](_0x2607fb);};const _0x2b732f=async(_0x168439,_0x16b64c,_0x373075)=>{await _0x373075['set'](_0x168439,JSON[_0x3397('0x273')](_0x16b64c));await _0x373075[_0x3397('0x2e8')](_0x168439,_0x2b4492/0x3e8);const _0x10c721=await _0x373075[_0x3397('0x2e9')](_0x168439);_0xcd33f6(_0x3397('0x2ea')+_0x168439+_0x3397('0x2eb')+_0x10c721);};const _0x3dcdd3=async({caps,conversationId,testCaseName},{queueSettings})=>{const _0x1a5d0b=await _0x501401({'conversationId':conversationId},{'queueSettings':_0x3210cd});if(!_0x5087e3[_0x3397('0x2ec')](_0x1a5d0b))throw new Error(_0x3397('0x2ed'));const _0x49a5f5=new _0x1414f3(caps);const _0x73a702=_0x49a5f5['BuildCompiler']();const _0x2d8738={'header':{'name':testCaseName},'conversation':_0x1a5d0b['map'](_0x1c7542=>JSON['parse'](_0x1c7542))};const _0x3cdd97=_0x73a702[_0x3397('0x288')]([_0x2d8738],_0x3397('0x5b'));_0xcd33f6(_0x3397('0x2ee')+_0x3cdd97);return _0x3cdd97;};var _0x55bbfa={'startListeners':_0x6c2ece,'startBot':_0x14f219,'sendToBot':_0x50be79,'stopBot':_0x101253,'getConversation':_0x501401,'getConversationScript':_0x3dcdd3};const _0x44196b=_0x3ac7e8(_0x3397('0x2ef'));var _0x1bd089=_0x41a7ac=>{return{'FBPAGERECEIVER_REDISURL':_0x41a7ac&&_0x41a7ac[_0x3397('0x2f0')]&&_0x41a7ac['queueSettings'][_0x3397('0x2ce')]};};var _0x3fa3da=(_0x23e686,_0x2d6c7f)=>{return _0x23e686[_0x3397('0x51')][_0x3397('0x2f1')]({'where':{'id':_0x2d6c7f}},_0x3397('0x2f2'));};var _0x3d8a81=(_0x159e3e,_0x29e206)=>{return _0x159e3e[_0x3397('0x51')][_0x3397('0x2f3')]({'where':{'id':_0x29e206}},'{\x20id\x20filename\x20filecontent\x20}');};var _0x5d347d=(_0x53ebb0,_0x54b29d)=>{const _0x26f70f=new Date(Date[_0x3397('0x2f4')]())[_0x3397('0x2f5')]();if(!_0x54b29d)return;const _0x8cdae0={'where':{'AND':[{'key':_0x54b29d},{'OR':[{'validFrom':null},{'validFrom_lte':_0x26f70f}]},{'OR':[{'validTo':null},{'validTo_gte':_0x26f70f}]}]}};return _0x53ebb0[_0x3397('0x51')][_0x3397('0x2f6')](_0x8cdae0,_0x3397('0x2f7'))[_0x3397('0x4b')](_0x1af2db=>{if(!_0x1af2db||_0x1af2db[_0x3397('0x76')]===0x0)return null;return _0x1af2db[0x0];});};var _0x4da9d7=(_0x5040b9,_0x56c86c)=>{return _0x5040b9[_0x3397('0x51')][_0x3397('0x2f8')]({'where':{'id':_0x56c86c}},'{\x20\x0a\x20\x20\x20\x20id\x20\x0a\x20\x20\x20\x20name\x20\x0a\x20\x20\x20\x20batchCount\x20\x0a\x20\x20\x20\x20chatbot\x20{\x20\x0a\x20\x20\x20\x20\x20\x20id\x20\x0a\x20\x20\x20\x20\x20\x20name\x20\x0a\x20\x20\x20\x20\x20\x20capabilities\x20{\x20name\x20type\x20stringValue\x20intValue\x20booleanValue\x20jsonValue\x20}\x20\x0a\x20\x20\x20\x20\x20\x20sources\x20{\x20name\x20type\x20stringValue\x20intValue\x20booleanValue\x20jsonValue\x20}\x20\x0a\x20\x20\x20\x20\x20\x20envs\x20{\x20name\x20type\x20stringValue\x20intValue\x20booleanValue\x20jsonValue\x20}\x20\x0a\x20\x20\x20\x20}\x20\x0a\x20\x20\x20\x20testSets\x20{\x20\x0a\x20\x20\x20\x20\x20\x20id\x20\x0a\x20\x20\x20\x20\x20\x20name\x20\x0a\x20\x20\x20\x20\x20\x20expandConvos\x0a\x20\x20\x20\x20\x20\x20expandUtterancesToConvos\x0a\x20\x20\x20\x20\x20\x20expandUtterancesIncomprehension\x0a\x20\x20\x20\x20\x20\x20scripts\x20{\x20id\x20script\x20scriptType\x20}\x20\x0a\x20\x20\x20\x20\x20\x20repositories\x20{\x20id\x20giturl\x20gitbranch\x20gitdir\x20globFilter\x20}\x20\x0a\x20\x20\x20\x20\x20\x20folders\x20{\x20id\x20path\x20globFilter\x20}\x0a\x20\x20\x20\x20\x20\x20excels\x20{\x20id\x20filename\x20filecontent\x20hasConvos\x20hasPartialConvos\x20hasUtterances\x20worksheetsConvos\x20worksheetsPartialConvos\x20worksheetsUtterances\x20startRow\x20startCol\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20deviceSets\x20{\x20id\x20name\x20provider\x20{\x20id\x20name\x20type\x20url\x20username\x20password\x20}\x20devices\x20{\x20id\x20name\x20capabilities\x20}\x20}\x20\x0a\x20\x20\x20\x20testProject\x20{\x20id\x20name\x20capabilities\x20{\x20name\x20type\x20stringValue\x20intValue\x20booleanValue\x20jsonValue\x20}\x20}\x0a\x20\x20\x20\x20agent\x20{\x20id\x20name\x20}\x20\x0a\x20\x20\x20\x20capabilities\x20{\x20name\x20type\x20stringValue\x20intValue\x20booleanValue\x20jsonValue\x20}\x20\x0a\x20\x20\x20\x20sources\x20{\x20name\x20type\x20stringValue\x20intValue\x20booleanValue\x20jsonValue\x20}\x20\x0a\x20\x20\x20\x20envs\x20{\x20name\x20type\x20stringValue\x20intValue\x20booleanValue\x20jsonValue\x20}\x20\x0a\x20\x20\x20\x20}');};var _0xfe4e54=(_0x45cd85,_0x18b973)=>{return _0x45cd85['query'][_0x3397('0x2f8')]({'where':{'id':_0x18b973}},_0x3397('0x2f9'));};var _0x2ab467=(_0x20a121,_0x2cf516,_0x99c705)=>{if(!_0x2cf516[_0x3397('0x2cb')][_0x3397('0x71')]||!_0x2cf516[_0x3397('0x2cb')][_0x3397('0x2fa')]){const _0xf99099=_0x3397('0x2fb')+_0x2cf516[_0x3397('0x2cb')];_0x44196b(_0xf99099);return Promise[_0x3397('0x2fc')](_0xf99099);}return _0x20a121[_0x3397('0x51')][_0x3397('0x2fd')]({'where':{'name':_0x2cf516['data'][_0x3397('0x71')]}},_0x99c705||_0x3397('0x2fe'));};var _0x21c8d2=_0x5a7693=>{return _0x5a7693&&_0x5a7693[_0x3397('0x2be')]((_0x10b061,_0x1a988d)=>{if(_0x1a988d[_0x3397('0x2ff')]==='STRING'||_0x1a988d[_0x3397('0x2ff')]===_0x3397('0x300')){_0x10b061[_0x1a988d[_0x3397('0x71')]]=_0x1a988d['stringValue']?_0x1a988d[_0x3397('0x301')][_0x3397('0x92')](/\\n/g,'\x0a'):'';}if(_0x1a988d[_0x3397('0x2ff')]==='INT'){_0x10b061[_0x1a988d[_0x3397('0x71')]]=parseInt(_0x1a988d['intValue']);}if(_0x1a988d['type']===_0x3397('0x302')){_0x10b061[_0x1a988d[_0x3397('0x71')]]=!!_0x1a988d[_0x3397('0x303')];}if(_0x1a988d[_0x3397('0x2ff')]===_0x3397('0x304')){_0x10b061[_0x1a988d['name']]=_0x1a988d[_0x3397('0x305')];}return _0x10b061;},{});};var _0x1d3b3f=(..._0x19fcac)=>{const _0x36138e={};_0x19fcac&&_0x19fcac['forEach'](_0x108673=>{_0x108673&&Object[_0x3397('0x270')](_0x108673)['forEach'](_0x3f71a3=>{_0x36138e[_0x3f71a3]=_0x108673[_0x3f71a3];});});return _0x36138e;};var _0x47e16f={'getServerDefaultCapabilities':_0x1bd089,'getAttachment':_0x3fa3da,'getExcel':_0x3d8a81,'lookupApiKey':_0x5d347d,'findFullTestSession':_0x4da9d7,'findSimpleTestSessionResults':_0xfe4e54,'findAgentFromJobData':_0x2ab467,'composeBotiumCapabilities':_0x21c8d2,'combineBotiumCapabilities':_0x1d3b3f};const _0x4b184b=_0x3ac7e8(_0x3397('0x306'));var _0x2670c9={'updateChartCacheForTestSession'(_0x994cd0,{testSessionId},_0x3bf8f6,_0x337218){return _0x3bf8f6['db'][_0x3397('0x51')][_0x3397('0x2f8')]({'where':{'id':testSessionId}},_0x3397('0x307'))[_0x3397('0x4b')](_0x176812=>{if(!_0x176812)return;const _0x201661={};if(_0x176812[_0x3397('0x308')]===_0x3397('0x309')||_0x176812['status']===_0x3397('0x30a')){_0x201661[_0x3397('0x30b')]=_0x176812[_0x3397('0x30c')][_0x3397('0x59')](_0x5b0b2f=>_0x5b0b2f[_0x3397('0x308')]===_0x3397('0x309')||_0x5b0b2f[_0x3397('0x308')]===_0x3397('0x30a'))[_0x3397('0x2be')]((_0x4e6389,_0x20615d)=>_0x4e6389+(_0x20615d[_0x3397('0x30b')]||0x0),0x0)||0x0;_0x201661[_0x3397('0x30d')]=_0x176812['jobs']['filter'](_0x34b94c=>_0x34b94c[_0x3397('0x308')]===_0x3397('0x309')||_0x34b94c[_0x3397('0x308')]===_0x3397('0x30a'))[_0x3397('0x2be')]((_0xcfaafd,_0x15940e)=>_0xcfaafd+(_0x15940e[_0x3397('0x30d')]||0x0),0x0)||0x0;_0x201661['successCount']=_0x176812[_0x3397('0x30c')]['filter'](_0x2540b9=>_0x2540b9[_0x3397('0x308')]===_0x3397('0x309')||_0x2540b9[_0x3397('0x308')]==='FAILED')[_0x3397('0x2be')]((_0x33f6bb,_0x25a30d)=>_0x33f6bb+(_0x25a30d[_0x3397('0x30e')]||0x0),0x0)||0x0;}else{_0x201661[_0x3397('0x30b')]=_0x176812[_0x3397('0x30f')][_0x3397('0x76')];_0x201661['failedCount']=_0x176812[_0x3397('0x30f')][_0x3397('0x59')](_0x70dbb7=>!_0x70dbb7[_0x3397('0x310')])[_0x3397('0x76')];_0x201661[_0x3397('0x30e')]=_0x176812['results']['filter'](_0x5e7ff0=>_0x5e7ff0[_0x3397('0x310')])['length'];}_0x201661['countByTestSetId']=_0x176812[_0x3397('0x30f')]['reduce']((_0x2f05ad,_0x4b6fec)=>{const _0x171f1a=_0x4b6fec[_0x3397('0x2b2')]?_0x4b6fec[_0x3397('0x2b2')]['id']:_0x3397('0x311');if(!_0x2f05ad[_0x171f1a]){_0x2f05ad[_0x171f1a]={'totalCount':0x0,'failedCount':0x0,'successCount':0x0};}_0x2f05ad[_0x171f1a][_0x3397('0x30b')]++;if(_0x4b6fec['success'])_0x2f05ad[_0x171f1a][_0x3397('0x30e')]++;else _0x2f05ad[_0x171f1a][_0x3397('0x30d')]++;return _0x2f05ad;},{});_0x201661[_0x3397('0x312')]=_0x176812[_0x3397('0x30f')][_0x3397('0x2be')]((_0x1c7dca,_0x47fa4a)=>{const _0x4ddcde=_0x47fa4a['deviceSet']?_0x47fa4a[_0x3397('0x313')]['id']:_0x3397('0x311');if(!_0x1c7dca[_0x4ddcde]){_0x1c7dca[_0x4ddcde]={'totalCount':0x0,'failedCount':0x0,'successCount':0x0};}_0x1c7dca[_0x4ddcde][_0x3397('0x30b')]++;if(_0x47fa4a['success'])_0x1c7dca[_0x4ddcde]['successCount']++;else _0x1c7dca[_0x4ddcde][_0x3397('0x30d')]++;return _0x1c7dca;},{});_0x4b184b(_0x3397('0x314')+testSessionId+_0x3397('0x315')+_0x12bf23[_0x3397('0x6f')](_0x201661));return _0x3bf8f6['db'][_0x3397('0x299')][_0x3397('0x316')]({'where':{'id':_0x176812['id']},'data':{'chartData':JSON['stringify'](_0x201661)}})['then'](()=>_0x201661);})[_0x3397('0x4b')](_0x3684a9=>{_0x3bf8f6[_0x3397('0x317')][_0x3397('0x318')]();return _0x3684a9;});}};const {URL}=_0x442653;const _0x1e9c00=_0x3ac7e8('botium-box-server-agents-testsession');const {RetrieveTestSetDetails:RetrieveTestSetDetails$3}=_0x5206f7;const {updateChartCacheForTestSession}=_0x2670c9;var _0x3631ef=async(_0xa7480e,{testSessionId})=>{try{const _0x426a41=await _0x47e16f['findFullTestSession'](_0xa7480e['db'],testSessionId);if(!_0x426a41){throw new Error(_0x3397('0x319')+testSessionId+_0x3397('0x31a'));}const _0x5c2abe=_0x426a41[_0x3397('0x2fd')]?_0x3397('0x31b')+_0x426a41['agent'][_0x3397('0x71')]:_0x3397('0x31c');_0x1e9c00('startTestSession\x20'+_0x426a41['id']+'\x20queueToSend:\x20'+_0x5c2abe);const _0x437a73=_0x47e16f[_0x3397('0x31d')]({'PROJECTNAME':_0x426a41[_0x3397('0x71')]},_0x47e16f['composeBotiumCapabilities'](_0x426a41[_0x3397('0x31e')][_0x3397('0x31f')]),_0x426a41['testProject']&&_0x47e16f[_0x3397('0x320')](_0x426a41[_0x3397('0x321')][_0x3397('0x31f')])||[],_0x47e16f[_0x3397('0x320')](_0x426a41['capabilities']),_0x47e16f[_0x3397('0x322')](_0xa7480e));_0x1e9c00('startTestSession\x20'+_0x426a41['id']+_0x3397('0x323')+JSON[_0x3397('0x273')](_0x437a73));const _0x1f8785=_0x47e16f['combineBotiumCapabilities'](_0x47e16f[_0x3397('0x320')](_0x426a41[_0x3397('0x31e')][_0x3397('0x2b3')]),_0x47e16f[_0x3397('0x320')](_0x426a41[_0x3397('0x2b3')]));_0x1e9c00(_0x3397('0x324')+_0x426a41['id']+'\x20testSessionSources:\x20'+JSON[_0x3397('0x273')](_0x1f8785));const _0x234268=_0x47e16f[_0x3397('0x31d')](_0x47e16f[_0x3397('0x320')](_0x426a41[_0x3397('0x31e')][_0x3397('0x325')]),_0x47e16f[_0x3397('0x320')](_0x426a41['envs']));_0x1e9c00(_0x3397('0x324')+_0x426a41['id']+'\x20testSessionEnvs:\x20'+JSON[_0x3397('0x273')](_0x234268));const _0x322d66=_0x426a41[_0x3397('0x326')][_0x3397('0x56')](_0x3bd3dd=>RetrieveTestSetDetails$3(_0x3bd3dd));_0x1e9c00('startTestSession\x20'+_0x426a41['id']+'\x20testSessionTestSets:\x20'+JSON[_0x3397('0x273')](_0x322d66));let _0x497d5e=0x1;const _0x8c690d=async(_0x3a030c,_0x3880af)=>{for(let _0x1228e4=0x1;_0x1228e4<=_0x497d5e;_0x1228e4++){const _0x24b8aa=await _0xa7480e['db']['mutation'][_0x3397('0x327')]({'data':{'status':_0x3397('0x328'),'progressPercent':0x0,'testSession':{'connect':{'id':_0x426a41['id']}}}},_0x3397('0x2c7'));const _0xe93858=_0xa7480e[_0x3397('0x329')][_0x3397('0x32a')](_0x5c2abe,{'title':_0x3397('0x32b')+_0x1228e4+'/'+_0x497d5e+_0x3397('0x32c')+_0x426a41[_0x3397('0x71')],'testSessionId':_0x426a41['id'],'testSessionName':_0x426a41[_0x3397('0x71')],'testSessionJobId':_0x24b8aa['id'],'botium':{'Capabilities':_0x3a030c,'Sources':_0x1f8785,'Envs':_0x234268},'testSets':_0x3880af,'batchNum':_0x1228e4,'batchCount':_0x497d5e})['removeOnComplete'](!![])[_0x3397('0x32d')](_0x4125d7=>{if(_0x4125d7)return _0x1e9c00(_0x3397('0x32e')+_0x4125d7);const _0x9caa28=_0xe93858['id'];_0xa7480e['db'][_0x3397('0x299')][_0x3397('0x32f')]({'data':{'jobId':_0x9caa28},'where':{'id':_0x24b8aa['id']}})[_0x3397('0x4b')](()=>{_0x1e9c00(_0x3397('0x330')+_0x426a41[_0x3397('0x71')]+'\x20registered\x20(jobId:\x20'+_0x9caa28+_0x3397('0x331')+_0x24b8aa['id']+')');})[_0x3397('0x4e')](_0x4125d7=>{_0x1e9c00('TestSessionJob\x20for\x20TestSession\x20'+_0x426a41[_0x3397('0x71')]+_0x3397('0x332')+_0x9caa28+_0x3397('0x333')+_0x4125d7);});});}};if(_0x426a41['deviceSets']&&_0x426a41[_0x3397('0x334')][_0x3397('0x76')]>0x0){const _0x453e04=_0x426a41[_0x3397('0x334')][_0x3397('0x2be')]((_0x2cff36,_0x10253c)=>{return[..._0x2cff36,..._0x10253c['devices'][_0x3397('0x56')](_0x4f4703=>{const _0x96b3ad=_0x10253c[_0x3397('0x335')][_0x3397('0xa')]&&new URL(_0x10253c['provider'][_0x3397('0xa')]);const _0x582e09=_0x96b3ad?{'protocol':_0x96b3ad&&_0x96b3ad[_0x3397('0x336')][_0x3397('0x92')](':',''),'host':_0x96b3ad&&_0x96b3ad['host'],'port':_0x96b3ad&&_0x96b3ad[_0x3397('0x337')],'path':_0x96b3ad&&_0x96b3ad[_0x3397('0x338')]}:{};if(_0x10253c[_0x3397('0x335')][_0x3397('0x2ff')]===_0x3397('0x339')){return{'deviceSetId':_0x10253c['id'],'deviceName':_0x4f4703[_0x3397('0x71')],'deviceOptions':Object[_0x3397('0x7e')]({'desiredCapabilities':Object[_0x3397('0x7e')]({},JSON[_0x3397('0x33a')](_0x4f4703[_0x3397('0x31f')]),{'name':_0x426a41[_0x3397('0x71')],'username':_0x10253c[_0x3397('0x335')][_0x3397('0x33b')],'accessKey':_0x10253c['provider'][_0x3397('0x33c')]})},_0x582e09)};}else if(_0x10253c['provider']['type']==='TESTOBJECTS'){return{'deviceSetId':_0x10253c['id'],'deviceName':_0x4f4703[_0x3397('0x71')],'deviceOptions':Object[_0x3397('0x7e')]({'desiredCapabilities':Object[_0x3397('0x7e')]({},JSON['parse'](_0x4f4703[_0x3397('0x31f')]),{'testobject_suite_name':_0x426a41[_0x3397('0x71')],'testobject_api_key':_0x10253c[_0x3397('0x335')]['password']})},_0x582e09)};}else if(_0x10253c[_0x3397('0x335')][_0x3397('0x2ff')]===_0x3397('0x33d')){return{'deviceSetId':_0x10253c['id'],'deviceName':_0x4f4703[_0x3397('0x71')],'deviceOptions':Object['assign']({'desiredCapabilities':Object[_0x3397('0x7e')]({},JSON[_0x3397('0x33a')](_0x4f4703['capabilities']),{'name':_0x426a41['name']})},_0x582e09)};}else{if(_0x10253c[_0x3397('0x335')]['type']===_0x3397('0x33e')){_0x1e9c00('startTestSession\x20'+_0x426a41['id']+_0x3397('0x33f'));_0x437a73['WEBDRIVERIO_START_PHANTOMJS']=!![];}return{'deviceSetId':_0x10253c['id'],'deviceName':_0x4f4703[_0x3397('0x71')],'deviceOptions':Object['assign']({'desiredCapabilities':Object[_0x3397('0x7e')]({},JSON[_0x3397('0x33a')](_0x4f4703['capabilities']),{'name':_0x426a41[_0x3397('0x71')]})},_0x582e09)};}})];},[]);_0x1e9c00('startTestSession\x20'+_0x426a41['id']+_0x3397('0x340')+JSON[_0x3397('0x273')](_0x453e04,null,0x2));let _0x2c659b=Promise[_0x3397('0x44')]();_0x453e04[_0x3397('0x4d')](_0x9c5e0d=>{const _0x18ef93=_0x211da6=>{return _0x211da6&&_0x211da6['forEach'](_0x3ed6f8=>{_0x3ed6f8[_0x3397('0x6e')]=Object['assign']({},_0x3ed6f8[_0x3397('0x6e')],{'deviceSetId':_0x9c5e0d['deviceSetId'],'deviceName':_0x9c5e0d[_0x3397('0x341')]});});};const _0x20e41e=_0x5087e3['cloneDeep'](_0x322d66);_0x20e41e[_0x3397('0x4d')](_0x4ff699=>{_0x18ef93(_0x4ff699[_0x3397('0x69')]);_0x18ef93(_0x4ff699[_0x3397('0x73')]);_0x18ef93(_0x4ff699[_0x3397('0x342')]);_0x18ef93(_0x4ff699[_0x3397('0x5d')]);_0x18ef93(_0x4ff699['excels']);});const _0x57a032=Object[_0x3397('0x7e')]({},_0x437a73,{'WEBDRIVERIO_OPTIONS':_0x9c5e0d[_0x3397('0x343')]});_0x2c659b=_0x2c659b[_0x3397('0x4b')](()=>_0x8c690d(_0x57a032,_0x20e41e));});await _0x2c659b;}else{await _0x8c690d(_0x437a73,_0x322d66);}}catch(_0x408448){_0x1e9c00(_0x3397('0x344')+_0x408448);throw _0x408448;}};var _0x2260ea=async(_0x4db110,{testSessionJobId,log})=>{try{await _0x4db110['db'][_0x3397('0x299')][_0x3397('0x345')]({'data':{'log':log,'testSessionJob':{'connect':{'id':testSessionJobId}}}},_0x3397('0x2c7'));}catch(_0x2bbed7){_0x1e9c00(_0x3397('0x346')+_0x2bbed7);throw _0x2bbed7;}};var _0x543211=async(_0x1ed98c,{testSessionId,testSessionJobId,batchNum,progress,..._0x534492})=>{try{const {count}=await _0x1ed98c['db'][_0x3397('0x299')][_0x3397('0x347')]({'data':{'status':_0x3397('0x348')},'where':{'id':testSessionId,'status':_0x3397('0x328')}});if(count>0x0){_0x1e9c00(_0x3397('0x349')+testSessionJobId+'/#'+batchNum+'\x20set\x20Test\x20Session\x20'+testSessionId+_0x3397('0x34a'));}}catch(_0x472a5a){_0x1e9c00(_0x3397('0x349')+testSessionJobId+'/#'+batchNum+_0x3397('0x34b')+testSessionId+_0x3397('0x34c')+_0x472a5a);throw _0x472a5a;}try{const {count}=await _0x1ed98c['db'][_0x3397('0x299')][_0x3397('0x34d')]({'data':{'status':'RUNNING','started':new Date(Date[_0x3397('0x2f4')]())[_0x3397('0x2f5')](),'progressPercent':_0x5087e3[_0x3397('0x34e')](progress)&&progress},'where':{'id':testSessionJobId,'status':_0x3397('0x328')}});if(count>0x0){_0x1e9c00('Test\x20Session\x20Job\x20'+testSessionJobId+'/#'+batchNum+_0x3397('0x34b')+testSessionId+_0x3397('0x34f'));}}catch(_0x28ed26){_0x1e9c00('Test\x20Session\x20Job\x20'+testSessionJobId+'/#'+batchNum+_0x3397('0x34b')+testSessionId+_0x3397('0x350')+_0x28ed26);throw _0x28ed26;}if(_0x5087e3[_0x3397('0x34e')](progress)){try{const {count}=await _0x1ed98c['db'][_0x3397('0x299')]['updateManyTestSessionJobs']({'data':{'progressPercent':progress},'where':{'id':testSessionJobId,'progressPercent_lt':progress}});if(count>0x0){_0x1e9c00(_0x3397('0x349')+testSessionJobId+'/#'+batchNum+_0x3397('0x351')+progress+'.');}}catch(_0x37e49d){_0x1e9c00(_0x3397('0x349')+testSessionJobId+'/#'+batchNum+_0x3397('0x351')+progress+_0x3397('0x352')+_0x37e49d);throw _0x37e49d;}}if(_0x534492['testcase']){const _0xb5a109={'testcaseName':_0x534492[_0x3397('0x353')],'testcaseSource':_0x534492['source'],'success':_0x534492[_0x3397('0x310')],'err':_0x534492['err'],'testSession':{'connect':{'id':testSessionId}}};if(_0x534492[_0x3397('0x354')]){if(_0x534492['transcript'][_0x3397('0x355')]&&_0x534492['transcript'][_0x3397('0x356')]){_0xb5a109[_0x3397('0x357')]=_0x12e11a(_0x534492['transcript'][_0x3397('0x356')])[_0x3397('0x358')](_0x534492['transcript']['convoBegin']);}if(_0x534492[_0x3397('0x354')][_0x3397('0x359')]){_0xb5a109[_0x3397('0x359')]={'create':_0x534492[_0x3397('0x354')][_0x3397('0x359')][_0x3397('0x56')]((_0xce07c6,_0x89ce86)=>{return{'step':_0x89ce86,'sender':_0xce07c6[_0x3397('0x35a')]&&_0xce07c6[_0x3397('0x35a')][_0x3397('0x28b')],'expected':_0x5087e3[_0x3397('0x35b')](_0xce07c6[_0x3397('0x35a')])?_0xce07c6[_0x3397('0x35a')]:JSON['stringify'](_0xce07c6[_0x3397('0x35a')]),'not':!!_0xce07c6[_0x3397('0x35c')],'actual':_0x5087e3[_0x3397('0x35b')](_0xce07c6[_0x3397('0x35d')])?_0xce07c6[_0x3397('0x35d')]:JSON[_0x3397('0x273')](_0xce07c6[_0x3397('0x35d')]),'stepDuration':_0xce07c6[_0x3397('0x35e')]&&_0xce07c6[_0x3397('0x35f')]&&_0x12e11a(_0xce07c6['stepEnd'])['diff'](_0xce07c6[_0x3397('0x35e')]),'botDuration':_0xce07c6[_0x3397('0x360')]&&_0xce07c6['botEnd']&&_0x12e11a(_0xce07c6[_0x3397('0x361')])['diff'](_0xce07c6[_0x3397('0x360')]),'err':_0xce07c6['err']};})};}}if(_0x534492[_0x3397('0x6e')]){if(_0x534492[_0x3397('0x6e')][_0x3397('0x60')]){_0xb5a109[_0x3397('0x362')]=_0x534492[_0x3397('0x6e')][_0x3397('0x60')];}if(_0x534492[_0x3397('0x6e')]['testSetId']){_0xb5a109[_0x3397('0x2b2')]={'connect':{'id':_0x534492[_0x3397('0x6e')][_0x3397('0x363')]}};}if(_0x534492['sourceTag']['testSetScriptId']){_0xb5a109[_0x3397('0x364')]={'connect':{'id':_0x534492[_0x3397('0x6e')][_0x3397('0x365')]}};}if(_0x534492[_0x3397('0x6e')]['testSetRepositoryId']){_0xb5a109[_0x3397('0x366')]={'connect':{'id':_0x534492[_0x3397('0x6e')][_0x3397('0x367')]}};}if(_0x534492[_0x3397('0x6e')][_0x3397('0x368')]){_0xb5a109['testSetFolder']={'connect':{'id':_0x534492[_0x3397('0x6e')][_0x3397('0x368')]}};}if(_0x534492['sourceTag']['testSetExcelId']){_0xb5a109[_0x3397('0x2f3')]={'connect':{'id':_0x534492['sourceTag'][_0x3397('0x369')]}};}if(_0x534492[_0x3397('0x6e')][_0x3397('0x36a')]){_0xb5a109['deviceSet']={'connect':{'id':_0x534492['sourceTag'][_0x3397('0x36a')]}};}if(_0x534492['sourceTag'][_0x3397('0x341')]){_0xb5a109[_0x3397('0x341')]=_0x534492['sourceTag'][_0x3397('0x341')];}}if(_0x534492[_0x3397('0x36b')]){_0xb5a109['attachments']={'create':_0x534492[_0x3397('0x36b')][_0x3397('0x56')](_0x2aa6df=>{return{'name':_0x2aa6df['name'],'mimeType':_0x2aa6df['mimeType'],'base64':_0x2aa6df[_0x3397('0x78')]};})};}try{const _0x19b119=await _0x1ed98c['db']['mutation'][_0x3397('0x36c')]({'data':_0xb5a109},'{\x20id\x20}');_0x1e9c00(_0x3397('0x36d')+_0x534492[_0x3397('0x353')]+_0x3397('0x36e')+testSessionId+_0x3397('0x36f')+testSessionJobId+'/#'+batchNum+'\x20id:\x20'+_0x19b119['id']+')');}catch(_0x2d3751){_0x1e9c00(_0x3397('0x36d')+_0x534492[_0x3397('0x353')]+_0x3397('0x36e')+testSessionId+_0x3397('0x370')+testSessionJobId+'/#'+batchNum+_0x3397('0x333')+_0x2d3751);throw _0x2d3751;}}_0x1e9c00(_0x3397('0x371')+testSessionId+_0x3397('0x372')+testSessionJobId+'/#'+batchNum+_0x3397('0x373')+progress+',\x20ready.');_0x24fdc9(_0x1ed98c,testSessionId);};var _0x2783ce=async(_0x4719ec,{testSessionId,testSessionJobId,result})=>{try{_0x1e9c00('Test\x20Session\x20Job\x20'+testSessionJobId+'/'+testSessionId+_0x3397('0x374')+JSON[_0x3397('0x273')](result));await _0x4719ec['db'][_0x3397('0x299')][_0x3397('0x32f')]({'data':{'status':_0x3397('0x309'),'finished':new Date(Date[_0x3397('0x2f4')]())['toISOString'](),'progressPercent':0x64,'totalCount':result&&result['totalCount'],'failedCount':result&&result[_0x3397('0x30d')],'successCount':result&&result[_0x3397('0x30e')]},'where':{'id':testSessionJobId}},_0x3397('0x2c7'));await _0x4719ec['db'][_0x3397('0x299')][_0x3397('0x345')]({'data':{'log':_0x3397('0x375'),'testSessionJob':{'connect':{'id':testSessionJobId}}}},_0x3397('0x2c7'));_0x24fdc9(_0x4719ec,testSessionId);}catch(_0x1a944b){_0x1e9c00(_0x3397('0x346')+_0x1a944b);throw _0x1a944b;}};var _0x30c52f=async(_0x388bbe,{testSessionId,testSessionJobId,result,err})=>{try{_0x1e9c00(_0x3397('0x349')+testSessionJobId+'/'+testSessionId+_0x3397('0x352')+err+'.');await _0x388bbe['db']['mutation'][_0x3397('0x32f')]({'data':{'status':_0x3397('0x30a'),'finished':new Date(Date['now']())[_0x3397('0x2f5')](),'progressPercent':0x64,'totalCount':result&&result[_0x3397('0x30b')],'failedCount':result&&result[_0x3397('0x30d')],'successCount':result&&result['successCount'],'err':err},'where':{'id':testSessionJobId}},'{\x20id\x20}');await _0x388bbe['db'][_0x3397('0x299')][_0x3397('0x345')]({'data':{'log':_0x3397('0x376')+err,'testSessionJob':{'connect':{'id':testSessionJobId}}}},'{\x20id\x20}');_0x24fdc9(_0x388bbe,testSessionId);}catch(_0x15cb93){_0x1e9c00(_0x3397('0x377')+_0x15cb93);throw _0x15cb93;}};var _0x2bf609=async(_0x15b026,{testSessionId,testSessionJobId})=>{try{const _0x5c12c3=await _0x15b026['db'][_0x3397('0x51')]['testSession']({'where':{'id':testSessionId}},_0x3397('0x378'));if(!_0x5c12c3){return;}if(_0x5c12c3[_0x3397('0x30c')]&&_0x5c12c3[_0x3397('0x30c')][_0x3397('0x379')](_0x6ee4a3=>_0x6ee4a3[_0x3397('0x308')]!==_0x3397('0x309')&&_0x6ee4a3[_0x3397('0x308')]!==_0x3397('0x30a'))){_0x1e9c00(_0x3397('0x37a')+testSessionId+'/'+testSessionJobId+_0x3397('0x37b'));return;}const _0x48d2b6=_0x5c12c3['jobs']&&!!_0x5c12c3[_0x3397('0x30c')]['find'](_0x5abae9=>_0x5abae9[_0x3397('0x308')]==='FAILED');const _0x134b5a=_0x5c12c3['jobs']&&!!_0x5c12c3[_0x3397('0x30c')]['find'](_0x4b4f8e=>_0x4b4f8e['failedCount']>0x0);if(_0x48d2b6||_0x134b5a){_0x1e9c00('testSessionCheckFinished\x20test\x20session\x20'+testSessionId+'/'+_0x5c12c3['name']+_0x3397('0x37c')+_0x48d2b6+_0x3397('0x37d')+_0x134b5a+')');await _0x15b026['db'][_0x3397('0x299')]['updateTestSession']({'where':{'id':testSessionId},'data':{'status':'FAILED'}});}else{_0x1e9c00(_0x3397('0x37e')+testSessionId+'/'+_0x5c12c3[_0x3397('0x71')]+_0x3397('0x37f'));await _0x15b026['db'][_0x3397('0x299')][_0x3397('0x316')]({'where':{'id':testSessionId},'data':{'status':_0x3397('0x309')}});}_0x24fdc9(_0x15b026,testSessionId);}catch(_0x1b443a){_0x1e9c00(_0x3397('0x380')+testSessionId+_0x3397('0x352')+_0x1b443a);throw _0x1b443a;}};const _0xa7f4d0=new _0x276521(async(_0x412c2c,_0xb7ad27)=>{const _0x2d5b16=_0x5087e3[_0x3397('0x292')](_0x412c2c['map'](_0x1a639c=>_0x1a639c[_0x3397('0x381')]));_0x1e9c00(_0x3397('0x382')+_0x2d5b16);_0x2d5b16['forEach'](async _0x3f7b90=>{try{await updateChartCacheForTestSession(null,{'testSessionId':_0x3f7b90},_0x412c2c[0x0][_0x3397('0x383')]);}catch(_0x641f5f){_0x1e9c00('updateChartCacheForTestSession\x20failed:\x20'+_0x641f5f);}_0x412c2c[0x0][_0x3397('0x383')]['pubsub'][_0x3397('0x2d7')](_0x3397('0x384'),{'testSessionProgress':{'id':_0x3f7b90}});});_0xb7ad27();},{'batchSize':0x3e8,'batchDelay':0xbb8});const _0x24fdc9=(_0x3d83d5,_0x1054c2)=>{_0xa7f4d0[_0x3397('0x47')]({'testSessionId':_0x1054c2,'ctx':_0x3d83d5});};var _0x36e5d4={'startTestSession':_0x3631ef,'testSessionLog':_0x2260ea,'testSessionProgress':_0x543211,'testSessionSetJobCompletedResult':_0x2783ce,'testSessionSetJobFailedErr':_0x30c52f,'testSessionCheckFinished':_0x2bf609};const _0x416bf4=_0x3ac7e8('botium-box-server-agents-heartbeat');var _0x3a777c=(_0x40a67c,_0x30f480,_0x399e3b)=>{_0x47e16f[_0x3397('0x385')](_0x40a67c['db'],_0x30f480,_0x3397('0x386'))[_0x3397('0x4b')](_0x154c6a=>{if(_0x154c6a){_0x40a67c['db'][_0x3397('0x299')][_0x3397('0x387')]({'where':{'id':_0x154c6a['id']},'data':{'heartbeat':new Date(Date[_0x3397('0x2f4')]())[_0x3397('0x2f5')]()}})[_0x3397('0x4b')](()=>_0x399e3b());}else{const _0x5db3fb=_0x3397('0x388')+_0x30f480[_0x3397('0x2cb')][_0x3397('0x71')]+'\x20not\x20configured';_0x416bf4(_0x5db3fb);return _0x399e3b(_0x5db3fb);}})[_0x3397('0x4e')](_0x3ad1a2=>{return _0x399e3b(_0x3ad1a2);});};const _0x5d757a=_0x3ac7e8(_0x3397('0x389'));var _0xe9bf8d=async(_0x3ea814,_0x286d5d,_0x444ecc)=>{const _0x369e79=process[_0x3397('0x282')][_0x3397('0x38a')]&&process['env'][_0x3397('0x38a')]==='AUTO'||!![];try{let _0x516d16=await _0x47e16f[_0x3397('0x385')](_0x3ea814['db'],_0x286d5d);if(!_0x516d16){if(_0x369e79){_0x5d757a(_0x3397('0x388')+_0x286d5d[_0x3397('0x2cb')][_0x3397('0x71')]+_0x3397('0x38b'));_0x516d16=await _0x3ea814['db']['mutation'][_0x3397('0x38c')]({'data':{'name':_0x286d5d[_0x3397('0x2cb')]['name']}});}else{const _0x1dc5b8=_0x3397('0x388')+_0x286d5d['data'][_0x3397('0x71')]+'\x20not\x20configured';_0x5d757a(_0x1dc5b8);return _0x444ecc(_0x1dc5b8);}}const _0xbdaf48=_0x47e16f[_0x3397('0x320')](_0x516d16[_0x3397('0x31f')]);const _0x5de54f={'debug':![],'botium':{'Capabilities':_0xbdaf48}};_0x5d757a(_0x3397('0x388')+_0x286d5d['data'][_0x3397('0x71')]+_0x3397('0x38d')+JSON['stringify'](_0x5de54f));return _0x444ecc(null,_0x5de54f);}catch(_0x5d16e5){_0x5d757a(_0x3397('0x388')+_0x286d5d[_0x3397('0x2cb')][_0x3397('0x71')]+_0x3397('0x38e')+_0x12bf23[_0x3397('0x6f')](_0x5d16e5));_0x444ecc(_0x5d16e5);}};const _0x53ecd9=_0x3ac7e8('botium-box-server-agents');const {startTestSession:startTestSession$1,testSessionSetJobCompletedResult:testSessionSetJobCompletedResult$1,testSessionSetJobFailedErr:testSessionSetJobFailedErr$1,testSessionLog:testSessionLog$1,testSessionProgress:testSessionProgress$1,testSessionCheckFinished:testSessionCheckFinished$1}=_0x36e5d4;var _0xa2990b=class AgentsConnector{constructor(_0x3534a4){this[_0x3397('0x38f')]=_0x3534a4;}[_0x3397('0x390')](){const _0x1ed79c=this[_0x3397('0x38f')]();let _0x54b70e=0x1;_0x1ed79c['queueConnector'][_0x3397('0x280')](_0x3397('0x391'),_0x54b70e,(_0xab4897,_0x3fffde)=>{_0x53ecd9(_0x3397('0x392')+JSON[_0x3397('0x273')](_0xab4897[_0x3397('0x2cb')]));_0x3a777c(_0x1ed79c,_0xab4897,_0x3fffde);});_0x1ed79c['queueConnector']['process'](_0x3397('0x393'),_0x54b70e,(_0x3e44c0,_0x3fc499)=>{_0x53ecd9(_0x3397('0x394')+JSON['stringify'](_0x3e44c0[_0x3397('0x2cb')]));_0xe9bf8d(_0x1ed79c,_0x3e44c0,_0x3fc499);});_0x1ed79c['queueConnector'][_0x3397('0x280')](_0x3397('0x395'),_0x54b70e,(_0x1387fb,_0x489368)=>{_0x53ecd9(_0x3397('0x396')+JSON['stringify'](_0x1387fb[_0x3397('0x2cb')]));startTestSession$1(_0x1ed79c,_0x1387fb[_0x3397('0x2cb')])[_0x3397('0x4b')](()=>_0x489368())[_0x3397('0x4e')](_0x489368);});_0x1ed79c['queueConnector']['on'](_0x3397('0x397'),_0x539cfd=>{_0x53ecd9('ERROR\x20connecting\x20to\x20queue:');_0x53ecd9(_0x539cfd);});_0x1ed79c[_0x3397('0x329')]['on'](_0x3397('0x398'),(_0x109dab,_0x491cc2)=>{_0x5a59a4['Job'][_0x3397('0x42')](_0x109dab,(_0x4c0513,_0x3a2c86)=>{if(_0x4c0513)return;_0x3a2c86=_0x3a2c86[_0x3397('0x399')]();_0x53ecd9(_0x3397('0x39a')+_0x109dab+'/'+_0x3a2c86[_0x3397('0x2ff')]+'\x20failed\x20attempt,\x20'+JSON[_0x3397('0x273')](_0x3a2c86[_0x3397('0x39b')])+'\x20-\x20Err:\x20'+_0x491cc2);});})['on']('job\x20failed',(_0x35ead5,_0x5a645d)=>{_0x5a59a4[_0x3397('0x39c')][_0x3397('0x42')](_0x35ead5,(_0x44564a,_0x4c634f)=>{if(_0x44564a)return;_0x4c634f=_0x4c634f[_0x3397('0x399')]();_0x53ecd9(_0x3397('0x39a')+_0x35ead5+'/'+_0x4c634f['type']+_0x3397('0x39d')+JSON[_0x3397('0x273')](_0x4c634f['attempts'])+_0x3397('0x39e')+_0x5a645d+_0x3397('0x39f')+JSON[_0x3397('0x273')](_0x4c634f['data']));});});_0x1ed79c[_0x3397('0x329')][_0x3397('0x280')](_0x3397('0x3a0'),_0x54b70e,async(_0x19166f,_0x3f8c3e)=>{try{await testSessionProgress$1(_0x1ed79c,_0x19166f[_0x3397('0x2cb')]);_0x3f8c3e();}catch(_0x5ddd40){_0x3f8c3e(_0x5ddd40);}});_0x1ed79c[_0x3397('0x329')][_0x3397('0x280')]('process.log',_0x54b70e,async(_0x45ff78,_0x2f0501)=>{try{await testSessionLog$1(_0x1ed79c,_0x45ff78[_0x3397('0x2cb')]);_0x2f0501();}catch(_0x3325b0){_0x2f0501(_0x3325b0);}});_0x1ed79c['queueConnector']['process']('process.ready.success',_0x54b70e,async(_0x36acb1,_0x3f8c10)=>{_0x53ecd9(_0x3397('0x3a1')+JSON[_0x3397('0x273')](_0x36acb1[_0x3397('0x2cb')]));try{await testSessionSetJobCompletedResult$1(_0x1ed79c,_0x36acb1[_0x3397('0x2cb')]);await testSessionCheckFinished$1(_0x1ed79c,_0x36acb1['data']);_0x3f8c10();}catch(_0x4f2013){_0x3f8c10(_0x4f2013);}});_0x1ed79c[_0x3397('0x329')][_0x3397('0x280')](_0x3397('0x3a2'),_0x54b70e,async(_0x5a58a6,_0x21f65a)=>{_0x53ecd9('process.ready.failed:\x20'+JSON['stringify'](_0x5a58a6[_0x3397('0x2cb')]));try{await testSessionSetJobFailedErr$1(_0x1ed79c,_0x5a58a6[_0x3397('0x2cb')]);await testSessionCheckFinished$1(_0x1ed79c,_0x5a58a6['data']);_0x21f65a();}catch(_0x1f4001){_0x21f65a(_0x1f4001);}});}};const _0x294f1e=_0x3ac7e8(_0x3397('0x3a3'));const _0x4892e7=async(_0x5c7e3b,_0x76c2bc,_0x11a2dc,_0x4e280a)=>{const _0x418632=await _0x5c7e3b['db'][_0x3397('0x51')][_0x3397('0x3a4')]({'where':{'createdAt_lte':_0x76c2bc,'success':_0x4e280a,'attachments_some':{'base64_not':''}}},_0x3397('0x3a5'));if(_0x418632[_0x3397('0x76')]>0x0){_0x294f1e(_0x3397('0x3a6')+_0x418632[_0x3397('0x76')]+'\x20screenshots\x20to\x20cleanup\x20for\x20'+_0x11a2dc+_0x3397('0x3a7')+_0x76c2bc);await _0x5c7e3b['db'][_0x3397('0x299')][_0x3397('0x3a8')]({'where':{'id_in':_0x418632[_0x3397('0x2be')]((_0x52e2c4,_0x1f6e68)=>_0x52e2c4['concat'](_0x1f6e68[_0x3397('0x36b')][_0x3397('0x56')](_0x54cc07=>_0x54cc07['id'])),[])}});}else{_0x294f1e(_0x3397('0x3a9')+_0x11a2dc+_0x3397('0x3a7')+_0x76c2bc);}};const _0xbd6703=async(_0x1d7251,_0x20b08d,_0x52773b,_0x43fde6)=>{const _0xa3a99a=await _0x1d7251['db'][_0x3397('0x51')][_0x3397('0x3a4')]({'where':{'createdAt_lte':_0x20b08d,'success':_0x43fde6,'steps_some':{'expected_not':''}}},'{\x20id\x20steps\x20{\x20id\x20}\x20}');if(_0xa3a99a[_0x3397('0x76')]>0x0){_0x294f1e('Found\x20'+_0xa3a99a[_0x3397('0x76')]+_0x3397('0x3aa')+_0x52773b+_0x3397('0x3a7')+_0x20b08d);await _0x1d7251['db'][_0x3397('0x299')][_0x3397('0x3ab')]({'where':{'id_in':_0xa3a99a[_0x3397('0x2be')]((_0x4e8e12,_0x15fed1)=>_0x4e8e12['concat'](_0x15fed1[_0x3397('0x359')]['map'](_0xd00706=>_0xd00706['id'])),[])}});}else{_0x294f1e('Found\x20no\x20transcripts\x20to\x20cleanup\x20for\x20'+_0x52773b+'\x20(older\x20than\x20'+_0x20b08d);}};const _0x1a4d0d=async(_0x10de96,_0x24e5f8,_0x209f89,_0x1fcd45)=>{const _0x539882=await _0x10de96['db'][_0x3397('0x51')][_0x3397('0x3a4')]({'where':{'createdAt_lte':_0x24e5f8,'success':_0x1fcd45,'testcaseSource_not':''}},_0x3397('0x2c7'));if(_0x539882[_0x3397('0x76')]>0x0){_0x294f1e(_0x3397('0x3a6')+_0x539882[_0x3397('0x76')]+_0x3397('0x3ac')+_0x209f89+_0x3397('0x3a7')+_0x24e5f8);await _0x10de96['db'][_0x3397('0x299')][_0x3397('0x3ad')]({'data':{'testcaseSource':''},'where':{'id_in':_0x539882[_0x3397('0x56')](_0x233016=>_0x233016['id'])}});}else{_0x294f1e('Found\x20no\x20results\x20to\x20cleanup\x20for\x20'+_0x209f89+_0x3397('0x3a7')+_0x24e5f8);}};const _0xe1f869=async _0x41544a=>{_0x294f1e(_0x3397('0x3ae'));const _0x445c59=await _0x41544a['db'][_0x3397('0x51')][_0x3397('0x3af')]();if(_0x445c59&&!isNaN(_0x445c59[0x0][_0x3397('0x3b0')])){const _0x5942fd=_0x12e11a()[_0x3397('0x3b1')](_0x445c59[0x0][_0x3397('0x3b0')],_0x3397('0x3b2'))[_0x3397('0x3b3')](_0x3397('0x3b4'))[_0x3397('0x3b5')]();try{await _0x4892e7(_0x41544a,_0x5942fd,'keepTestCaseSuccessScreenshotsDays',!![]);}catch(_0x16ca50){_0x294f1e(_0x3397('0x3b6')+_0x16ca50);}}if(_0x445c59&&!isNaN(_0x445c59[0x0]['keepTestCaseFailedScreenshotsDays'])){const _0x4683f0=_0x12e11a()[_0x3397('0x3b1')](_0x445c59[0x0][_0x3397('0x3b7')],_0x3397('0x3b2'))[_0x3397('0x3b3')](_0x3397('0x3b4'))['toDate']();try{await _0x4892e7(_0x41544a,_0x4683f0,_0x3397('0x3b7'),![]);}catch(_0xdd7d0a){_0x294f1e(_0x3397('0x3b8')+_0xdd7d0a);}}if(_0x445c59&&!isNaN(_0x445c59[0x0][_0x3397('0x3b9')])){const _0x45ce8d=_0x12e11a()[_0x3397('0x3b1')](_0x445c59[0x0][_0x3397('0x3b9')],_0x3397('0x3b2'))[_0x3397('0x3b3')]('day')[_0x3397('0x3b5')]();try{await _0xbd6703(_0x41544a,_0x45ce8d,_0x3397('0x3b9'),!![]);}catch(_0x3b4ea2){_0x294f1e(_0x3397('0x3ba')+_0x3b4ea2);}try{await _0x1a4d0d(_0x41544a,_0x45ce8d,_0x3397('0x3b9'),!![]);}catch(_0xe08fe0){_0x294f1e('runCleanupDetails\x20keepTestCaseSuccessConversationDays\x20failed:\x20'+_0xe08fe0);}}if(_0x445c59&&!isNaN(_0x445c59[0x0][_0x3397('0x3bb')])){const _0x51794d=_0x12e11a()[_0x3397('0x3b1')](_0x445c59[0x0]['keepTestCaseFailedConversationDays'],'days')[_0x3397('0x3b3')](_0x3397('0x3b4'))[_0x3397('0x3b5')]();try{await _0xbd6703(_0x41544a,_0x51794d,_0x3397('0x3bb'),![]);}catch(_0x561461){_0x294f1e(_0x3397('0x3bc')+_0x561461);}try{await _0x1a4d0d(_0x41544a,_0x51794d,_0x3397('0x3bb'),![]);}catch(_0x2d13b8){_0x294f1e('runCleanupDetails\x20keepTestCaseFailedConversationDays\x20failed:\x20'+_0x2d13b8);}}};const _0x23f915=async(_0x12f3ab,_0x3a3935)=>{const _0x16e56d=await _0x12f3ab['db'][_0x3397('0x51')][_0x3397('0x3af')]();if(isNaN(_0x3a3935)&&(!_0x16e56d||!_0x16e56d[0x0]['cleanupJobIntervalMinutes'])){_0x294f1e(_0x3397('0x3bd'));return;}const _0xd5dbf0=isNaN(_0x3a3935)?_0x16e56d[0x0][_0x3397('0x3be')]*0x3c*0x3e8:_0x3a3935;return new Promise(_0x413450=>{_0x5a59a4['Job']['rangeByType'](_0x3397('0x3bf'),_0x3397('0x3c0'),0x0,0xa,'',(_0x107b40,_0x5c5f4a)=>{if(_0x107b40){_0x294f1e(_0x3397('0x3c1')+_0x107b40);return _0x413450();}_0x5c5f4a&&_0x5c5f4a[_0x3397('0x76')]&&_0x5c5f4a['forEach'](_0x5dfb1f=>{_0x5dfb1f[_0x3397('0x3c2')](_0x107b40=>{if(_0x107b40)_0x294f1e('Removing\x20Scheduled\x20Test\x20Case\x20Cleanup\x20Job\x20'+_0x5dfb1f['id']+_0x3397('0x352')+_0x107b40);else _0x294f1e(_0x3397('0x3c3')+_0x5dfb1f['id']+'.');});});const _0x527f0b=_0x12f3ab[_0x3397('0x329')]['create'](_0x3397('0x3bf'),{'title':_0x3397('0x3c4')})[_0x3397('0x3c5')](!![])[_0x3397('0x3c6')](_0xd5dbf0)[_0x3397('0x32d')](_0x107b40=>{if(_0x107b40){_0x294f1e('Scheduling\x20Test\x20Case\x20Cleanup\x20Job\x20failed:\x20'+_0x107b40);}else{const _0x4585d2=_0x527f0b['id'];_0x294f1e(_0x3397('0x3c7')+_0x4585d2+',\x20next\x20run\x20delay:\x20'+_0xd5dbf0);}return _0x413450();});});});};var _0xcd329a=_0x2e934c=>{_0x2e934c[_0x3397('0x329')][_0x3397('0x280')]('box.testcasecleanup',async(_0x38998a,_0x18920e)=>{try{await _0xe1f869(_0x2e934c);_0x294f1e(_0x3397('0x3c8'));_0x18920e();await _0x23f915(_0x2e934c);}catch(_0x39a93a){_0x294f1e('Test\x20Case\x20Cleanup\x20failed:\x20'+_0x39a93a);_0x18920e();await _0x23f915(_0x2e934c);}});_0x23f915(_0x2e934c,0x0);};var _0x47d288=class Maintainance{constructor(_0x238997){this[_0x3397('0x38f')]=_0x238997;}['start'](){const _0x56628c=this['ctxFactory']();_0xcd329a(_0x56628c);}};const _0x300b43=()=>({'secret':process[_0x3397('0x282')]['JWT_SECRET'],'audience':process['env'][_0x3397('0x3c9')]||'botiumbox','issuer':process[_0x3397('0x282')][_0x3397('0x3ca')]||_0x3397('0x3cb')});const _0x44d6a7=_0x4e62c3=>({'id':_0x4e62c3});const _0x55d55f=_0x3c9f29=>_0x3c9f29&&_0x3c9f29['id'];const _0x1de4a4=_0x506283=>{return _0x50c547[_0x3397('0x3cc')](_0x44d6a7(_0x506283['id']),process[_0x3397('0x282')]['JWT_SECRET'],{'expiresIn':0x15180*(process[_0x3397('0x282')][_0x3397('0x3cd')]||0x1e),'audience':process[_0x3397('0x282')][_0x3397('0x3c9')]||_0x3397('0x3cb'),'issuer':process[_0x3397('0x282')][_0x3397('0x3ca')]||_0x3397('0x3cb'),'subject':_0x506283['id'][_0x3397('0x3ce')]()});};const _0x445dca=async(_0x1096ce,_0x1e3351)=>{const _0x461dab=_0x50c547[_0x3397('0x3cf')](_0x1096ce,process[_0x3397('0x282')][_0x3397('0x3d0')],{'audience':process[_0x3397('0x282')][_0x3397('0x3c9')]||_0x3397('0x3cb'),'issuer':process['env']['JWT_ISSUER']||_0x3397('0x3cb')});const _0x572da4=await _0x1e3351[_0x3397('0x51')]['user']({'where':{'id':_0x55d55f(_0x461dab)}},_0x3397('0x3d1'));return _0x572da4;};var _0x301af3={'jwtSettings':_0x300b43,'userIdToToken':_0x44d6a7,'tokenToUserId':_0x55d55f,'generateToken':_0x1de4a4,'validateToken':_0x445dca};const {generateToken:generateToken$1}=_0x301af3;var _0x17087d={async 'me'(_0x4390a6,_0x4dbe57,_0x4fe0b0,_0xbd6235){return _0x4fe0b0[_0x3397('0x3d2')]&&_0x4fe0b0[_0x3397('0x3d2')][_0x3397('0x3d3')];},async 'autologin'(_0x4e6f74,_0x1f2ecb,_0x181f8e,_0x101842){if(_0x181f8e[_0x3397('0x3d2')]&&_0x181f8e['request'][_0x3397('0x3d3')]){return{'user':_0x181f8e[_0x3397('0x3d2')][_0x3397('0x3d3')],'token':generateToken$1(_0x181f8e[_0x3397('0x3d2')][_0x3397('0x3d3')])};}}};var _0x475a16={'agents'(_0xadfad9,{where,orderBy,skip,first},_0x640bb3,_0x5bd624){orderBy=orderBy||_0x3397('0x3d4');return _0x640bb3['db'][_0x3397('0x51')][_0x3397('0x3d5')]({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x5bd624);},'agent'(_0x358353,{id},_0x242956,_0x3d11ea){return _0x242956['db'][_0x3397('0x51')][_0x3397('0x2fd')]({'where':{'id':id}},_0x3d11ea);}};const _0x1f5074=_0x3ac7e8(_0x3397('0x3d6'));var _0x123d6e={'chatbots'(_0x193809,{where,orderBy,skip,first},_0x2e74b4,_0x782e05){orderBy=orderBy||_0x3397('0x3d4');return _0x2e74b4['db'][_0x3397('0x51')][_0x3397('0x3d7')]({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x782e05);},'chatbot'(_0x31128c,{id},_0x1b7413,_0x896629){return _0x1b7413['db'][_0x3397('0x51')]['chatbot']({'where':{'id':id}},_0x896629);},'availablewatsonworkspaces'(_0x1ba577,{url:_0x3cb12e,version,apikey,username,password}){return new Promise((_0x3da79e,_0x2bf0a6)=>{const _0x1db9e6={'url':_0x3cb12e,'version':version};if(apikey){Object[_0x3397('0x7e')](_0x1db9e6,{'iam_apikey':apikey});}else{Object[_0x3397('0x7e')](_0x1db9e6,{'username':username,'password':password});}_0x1f5074('listWorkspaces\x20for\x20watson\x20assistant:\x20'+JSON[_0x3397('0x273')](_0x1db9e6));const _0x53f39e=new _0x38e439(_0x1db9e6);_0x53f39e['listWorkspaces']((_0x16c3d7,_0xeb8494)=>{if(_0x16c3d7){_0x2bf0a6(_0x16c3d7);}else{const _0x34fd55=_0xeb8494[_0x3397('0x3d8')]['map'](_0x116331=>({'name':_0x116331['name'],'description':_0x116331['description'],'value':_0x116331[_0x3397('0x3d9')]}));_0x3da79e(_0x34fd55);}});});}};const _0x285574=_0x3ac7e8(_0x3397('0x2cc'));const {startBot:startBot$1,sendToBot:sendToBot$1,stopBot:stopBot$1,getConversation:getConversation$1,getConversationScript:getConversationScript$1}=_0x55bbfa;const {composeBotiumCapabilities:composeBotiumCapabilities$1,combineBotiumCapabilities:combineBotiumCapabilities$1,getServerDefaultCapabilities:getServerDefaultCapabilities$1}=_0x47e16f;const _0x18b56d=async(_0x20fcdf,_0x3a7e0b,_0x40a7d8)=>{const _0x2ac2ef=await _0x3a7e0b[_0x3397('0x51')][_0x3397('0x31e')]({'where':{'id':_0x20fcdf}},'{\x20id\x20name\x20capabilities\x20{\x20name\x20type\x20stringValue\x20intValue\x20booleanValue\x20jsonValue\x20}\x20}');const _0x28048a=combineBotiumCapabilities$1(composeBotiumCapabilities$1(_0x2ac2ef[_0x3397('0x31f')]),getServerDefaultCapabilities$1({'queueSettings':_0x40a7d8}));return _0x28048a;};var _0x1b36ec={'Subscription':{'liveChatConvoStepAdded':{'subscribe':(_0x1c8c58,{conversationId},{pubsub})=>_0x194f12['asyncIterator'](conversationId)}},'Query':{async 'liveChatConvoSteps'(_0x3656bc,{conversationId},_0x33bb84){try{return getConversation$1({'conversationId':conversationId},_0x33bb84);}catch(_0x1fcb6f){_0x285574(_0x1fcb6f);throw new Error(_0x3397('0x3da')+conversationId+_0x3397('0x3db'));}}},'Mutation':{async 'liveChatStartBot'(_0x3ccf30,{chatbotId},{db,pubsub,queueSettings}){const _0x4ebdfa=await _0x18b56d(chatbotId,db,_0x3210cd);const _0x58708f=await startBot$1({'caps':_0x4ebdfa},{'pubsub':_0x194f12,'queueSettings':_0x3210cd});return _0x58708f;},async 'liveChatSendToBot'(_0x5b03c8,{conversationId,convoStep},{queueSettings}){await sendToBot$1({'conversationId':conversationId,'convoStep':JSON[_0x3397('0x33a')](convoStep)},{'queueSettings':_0x3210cd});return!![];},async 'liveChatStopBot'(_0x305dcc,{conversationId},{queueSettings}){await stopBot$1({'conversationId':conversationId},{'queueSettings':_0x3210cd});return!![];},async 'liveChatSaveConvoSteps'(_0x16a568,{chatbotId,conversationId,testSetId,newTestSetName,testCaseName},{db,queueSettings}){const _0x5281e9=await _0x18b56d(chatbotId,db,_0x3210cd);let _0x4e8b56=null;if(newTestSetName){_0x4e8b56=await db['mutation']['createTestSet']({'data':{'name':newTestSetName}},_0x3397('0x2f7'));}else{_0x4e8b56=await db['query'][_0x3397('0x2b2')]({'where':{'id':testSetId}},_0x3397('0x2f7'));}_0x285574('liveChatSaveConvoSteps('+conversationId+_0x3397('0x3dc')+_0x4e8b56['id']+'/'+_0x4e8b56[_0x3397('0x71')]);const _0x552882=await getConversationScript$1({'caps':_0x5281e9,'conversationId':conversationId,'testCaseName':testCaseName},{'queueSettings':_0x3210cd});let _0x4f174e=await db[_0x3397('0x299')][_0x3397('0x29f')]({'data':{'name':testCaseName,'script':_0x552882,'scriptType':_0x3397('0x6d'),'testSet':{'connect':{'id':_0x4e8b56['id']}}}},_0x3397('0x2f7'));_0x285574(_0x3397('0x3dd')+conversationId+')\x20saved\x20test\x20case\x20for\x20test\x20set\x20'+_0x4e8b56['id']+'/'+_0x4e8b56[_0x3397('0x71')]+_0x3397('0x3de')+_0x4f174e['id']+'/'+_0x4f174e[_0x3397('0x71')]);return _0x4f174e['id'];}}};var _0x408e1b={'testsessions'(_0x58d8ea,{where,orderBy,skip,first},_0xa1ea6b,_0x2061fd){orderBy=orderBy||_0x3397('0x3df');skip=isNaN(skip)?0x0:skip;first=isNaN(first)?0x64:first;return _0xa1ea6b['db'][_0x3397('0x51')][_0x3397('0x3e0')]({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x2061fd);},'testsession'(_0x32a7c5,{id},_0x45a40b,_0x2f85ab){return _0x45a40b['db'][_0x3397('0x51')][_0x3397('0x2f8')]({'where':{'id':id}},_0x2f85ab);},'testsessiontestcaseresults'(_0x4ebd3c,{where,orderBy,skip,first},_0x27a4d9,_0x201340){orderBy=orderBy||_0x3397('0x3df');skip=isNaN(skip)?0x0:skip;first=isNaN(first)?0x64:first;return _0x27a4d9['db'][_0x3397('0x51')][_0x3397('0x3a4')]({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x201340);},'testsessiontestcaseresult'(_0x5b8872,{id},_0x29be34,_0xb30457){return _0x29be34['db']['query']['testSessionTestCaseResult']({'where':{'id':id}},_0xb30457);},'testsessionjob'(_0x429214,{id},_0x335be2,_0x2e1dac){return _0x335be2['db']['query'][_0x3397('0x3e1')]({'where':{'id':id}},_0x2e1dac);},'testsessionjoblogs'(_0x2b549d,{jobId,orderBy,skip,first},_0x1cae2b,_0x166947){return _0x1cae2b['db'][_0x3397('0x51')][_0x3397('0x3e2')]({'where':{'testSessionJob':{'id':jobId}},'orderBy':orderBy,'skip':skip,'first':first},_0x166947);}};var _0x9a3a50={'testsets'(_0x4fae2a,{where,orderBy,skip,first},_0x1f2dad,_0x1a735b){orderBy=orderBy||'name_ASC';return _0x1f2dad['db']['query']['testSets']({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x1a735b);},'testset'(_0x29018f,{id},_0x1b1b37,_0x368e68){return _0x1b1b37['db'][_0x3397('0x51')][_0x3397('0x2b2')]({'where':{'id':id}},_0x368e68);},'testsetscripts'(_0x488283,{testSetId,skip,first},_0x248baf,_0x4b510a){return _0x248baf['db']['query']['testSetScripts']({'where':{'testSet':{'id':testSetId}},'skip':skip,'first':first},_0x4b510a);},'testsetscript'(_0x166a91,{id},_0x53a078,_0x3245fa){return _0x53a078['db'][_0x3397('0x51')][_0x3397('0x364')]({'where':{'id':id}},_0x3245fa);},'validatetestsetscript'(_0x13fb55,{script,scriptType}){const _0x3329b1=new _0x33c0a9({'AddConvos':()=>{},'AddPartialConvos':()=>{},'AddUtterances':()=>{},'IsAsserterValid':()=>!![],'IsUserInputValid':()=>!![],'scriptingEvents':{}},{'SCRIPTING_TXT_EOL':'\x0a'});const _0x83214b=_0x3329b1[_0x3397('0x6b')](script,scriptType);if(_0x83214b&&_0x83214b['length']>0x0){if(scriptType===_0x3397('0x5c')){return Promise[_0x3397('0x44')]({'name':_0x83214b[0x0][_0x3397('0x71')],'description':_0x3397('0x3e3'),'script':script,'scriptType':scriptType});}else{return Promise[_0x3397('0x44')]({'name':_0x83214b[0x0][_0x3397('0x2b4')][_0x3397('0x71')],'description':_0x83214b[0x0][_0x3397('0x2b4')][_0x3397('0x2b6')],'script':script,'scriptType':scriptType});}}else{return Promise[_0x3397('0x2fc')](new Error(_0x3397('0x3e4')));}},'testsetrepositories'(_0x38a6a6,{testSetId,skip,first},_0x457283,_0x58e6e8){return _0x457283['db'][_0x3397('0x51')]['testSetRepositories']({'where':{'testSet':{'id':testSetId}},'skip':skip,'first':first},_0x58e6e8);},'testsetrepository'(_0x4f541f,{id},_0x58cce2,_0x57d38d){return _0x58cce2['db']['query'][_0x3397('0x366')]({'where':{'id':id}},_0x57d38d);},'testsetfolders'(_0x51690b,{testSetId,skip,first},_0x325e9e,_0x478864){return _0x325e9e['db']['query'][_0x3397('0x2c1')]({'where':{'testSet':{'id':testSetId}},'skip':skip,'first':first},_0x478864);},'testsetfolder'(_0x47558c,{id},_0x376acf,_0x3412a2){return _0x376acf['db'][_0x3397('0x51')][_0x3397('0x3e5')]({'where':{'id':id}},_0x3412a2);},'testsetexcels'(_0x557524,{testSetId,skip,first},_0x5362fd,_0x4136db){return _0x5362fd['db'][_0x3397('0x51')][_0x3397('0x3e6')]({'where':{'testSet':{'id':testSetId}},'skip':skip,'first':first},_0x4136db);},'testsetexcel'(_0xd7cd44,{id},_0x26e687,_0x339fc6){return _0x26e687['db'][_0x3397('0x51')]['testSetExcel']({'where':{'id':id}},_0x339fc6);},'clonetestsetoptions'(_0x2659d8,_0x167557,_0x20dbcf,_0x6938d1){return _0xcb551a[_0x3397('0x3e7')];}};const _0x37a515=new _0x3ed425(0x3c*0x3c*0x1);var _0x14f9c1={'devicesets'(_0x4df46d,{where,orderBy,skip,first},_0x2c4d6a,_0x4f1582){orderBy=orderBy||_0x3397('0x3d4');return _0x2c4d6a['db']['query']['deviceSets']({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x4f1582);},'deviceset'(_0x190249,{id},_0x1c83f8,_0x465e87){return _0x1c83f8['db'][_0x3397('0x51')]['deviceSet']({'where':{'id':id}},_0x465e87);},async 'availabledevices'(_0x30a8c0,{provider},_0x1a264f){const _0x2083b2=await _0x1a264f['db'][_0x3397('0x51')][_0x3397('0x3e8')]({'where':{'id':provider}});if(!_0x2083b2)return[];if(_0x2083b2[_0x3397('0x2ff')]===_0x3397('0x339')){return _0x37a515[_0x3397('0x42')](_0x3397('0x339'),()=>{return _0x4c9086({'url':_0x3397('0x3e9'),'json':!![]})[_0x3397('0x4b')](_0xee324d=>{const _0x307d40=_0xee324d[_0x3397('0x59')](_0x295187=>!_0x295187[_0x3397('0x3ea')])[_0x3397('0x56')](_0x39c9eb=>({'name':_0x39c9eb[_0x3397('0x3eb')]+'\x20'+_0x39c9eb[_0x3397('0x3ec')]+',\x20'+_0x39c9eb['os'],'value':JSON['stringify']({'type':_0x3397('0x3ed'),'capabilities':{'browserName':_0x39c9eb['api_name'],'platform':_0x39c9eb['os'],'version':_0x39c9eb['short_version']}})}))['concat'](_0xee324d[_0x3397('0x59')](_0x314f5b=>_0x314f5b[_0x3397('0x3ea')])['map'](_0x2b559c=>({'name':_0x2b559c[_0x3397('0x3eb')]+',\x20'+_0x2b559c[_0x3397('0x3ec')],'value':JSON[_0x3397('0x273')]({'type':_0x3397('0x3ee'),'capabilities':{'browserName':[_0x3397('0x3ef'),'ipad'][_0x3397('0x86')](_0x2b559c[_0x3397('0x3f0')])>=0x0?_0x3397('0x3f1'):'Chrome','deviceName':_0x2b559c[_0x3397('0x3ea')],'platformName':[_0x3397('0x3ef'),_0x3397('0x3f2')][_0x3397('0x86')](_0x2b559c['api_name'])>=0x0?_0x3397('0x3f3'):_0x3397('0x3f4'),'platformVersion':_0x2b559c[_0x3397('0x3ec')]}})})));return _0x5087e3[_0x3397('0x3f5')](_0x5087e3[_0x3397('0x3f6')](_0x307d40,'name',_0x3397('0x3f7')),_0x3397('0x71'));});});}else if(_0x2083b2['type']===_0x3397('0x3f8')){if(!_0x2083b2['username']||!_0x2083b2[_0x3397('0x33c')]){return[];}return _0x37a515[_0x3397('0x42')]('TESTOBJECTS_'+_0x2083b2[_0x3397('0xa')],()=>{return _0x4c9086({'url':_0x3397('0x3f9'),'json':!![]})[_0x3397('0x3fa')](_0x2083b2[_0x3397('0x33b')],_0x2083b2[_0x3397('0x33c')])[_0x3397('0x4b')](_0x3f81d2=>{const _0x102387=_0x2083b2['url'][_0x3397('0x3fb')](_0x3397('0x3fc'))?'EU':'US';const _0x550c58=_0x3f81d2[_0x102387][_0x3397('0x56')](_0x24b8be=>({'name':_0x24b8be[_0x3397('0x71')]+',\x20'+_0x24b8be['os']+',\x20'+_0x24b8be[_0x3397('0x3fd')],'value':JSON[_0x3397('0x273')]({'type':_0x3397('0x3fe'),'capabilities':{'deviceName':_0x24b8be[_0x3397('0x71')],'platformName':_0x24b8be['os'],'platformVersion':_0x24b8be[_0x3397('0x3fd')]}})}));return _0x5087e3[_0x3397('0x3f5')](_0x5087e3[_0x3397('0x3f6')](_0x550c58,'name',_0x3397('0x3f7')),_0x3397('0x71'));});});}else if(_0x2083b2[_0x3397('0x2ff')]===_0x3397('0x33d')){return _0x37a515[_0x3397('0x42')](_0x3397('0x33d'),()=>{return Promise[_0x3397('0x44')]([{'name':_0x3397('0x3ff'),'value':JSON['stringify']({'type':_0x3397('0x3ed'),'capabilities':{'browserName':_0x3397('0x400')}})},{'name':_0x3397('0x401'),'value':JSON[_0x3397('0x273')]({'type':_0x3397('0x3ed'),'capabilities':{}})},{'name':_0x3397('0x402'),'value':JSON[_0x3397('0x273')]({'type':_0x3397('0x3ed'),'capabilities':{'browserName':_0x3397('0x403'),'chromeOptions':{'args':['--headless',_0x3397('0x404')]}}})}]);});}else if(_0x2083b2['type']===_0x3397('0x33e')){return Promise[_0x3397('0x44')]([{'name':_0x3397('0x3ff'),'value':JSON[_0x3397('0x273')]({'type':_0x3397('0x3ed'),'capabilities':{'browserName':'phantomjs'}})}]);}}};var _0x43c973={'testprojects'(_0x3e3f92,{where,orderBy,skip,first},_0x2007d4,_0x167822){orderBy=orderBy||_0x3397('0x3d4');return _0x2007d4['db'][_0x3397('0x51')][_0x3397('0x405')]({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x167822);},'testproject'(_0x38163a,{id},_0x27f72c,_0x9854b){return _0x27f72c['db']['query'][_0x3397('0x321')]({'where':{'id':id}},_0x9854b);}};var _0x1838bd={'users'(_0x53c32d,{where,orderBy,skip,first},_0x2fe0a8,_0x821f58){orderBy=orderBy||_0x3397('0x3d4');return _0x2fe0a8['db'][_0x3397('0x51')][_0x3397('0x406')]({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x821f58);},'user'(_0x46ed7e,{id},_0x2e9979,_0x36cd7a){return _0x2e9979['db'][_0x3397('0x51')][_0x3397('0x3d3')]({'where':{'id':id}},_0x36cd7a);},'apikeys'(_0x2990d6,{where,orderBy,skip,first},_0x2ce76b,_0x22ff74){orderBy=orderBy||'name_ASC';return _0x2ce76b['db'][_0x3397('0x51')][_0x3397('0x2f6')]({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x22ff74);},'apikey'(_0x10c56f,{id},_0x2f65a7,_0x27a3bf){return _0x2f65a7['db'][_0x3397('0x51')][_0x3397('0x407')]({'where':{'id':id}},_0x27a3bf);},'deviceproviders'(_0x421b44,{where,orderBy,skip,first},_0x370754,_0x5ba003){orderBy=orderBy||_0x3397('0x3d4');return _0x370754['db']['query']['deviceProviders']({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x5ba003)[_0x3397('0x4b')](_0x36e8f9=>{if(_0x36e8f9){_0x36e8f9[_0x3397('0x4d')](_0x3ac626=>{delete _0x3ac626[_0x3397('0x33c')];});}return _0x36e8f9;});},'deviceprovider'(_0x369b9d,{id},_0x13fe2e,_0x11f814){return _0x13fe2e['db'][_0x3397('0x51')][_0x3397('0x3e8')]({'where':{'id':id}},_0x11f814)[_0x3397('0x4b')](_0x374dac=>{if(_0x374dac)delete _0x374dac[_0x3397('0x33c')];return _0x374dac;});},'systemsettings'(_0x57b460,_0x4ce563,_0x4f0135,_0x59023a){return _0x4f0135['db']['query'][_0x3397('0x3af')]({'skip':0x0,'first':0x1},_0x59023a)[_0x3397('0x4b')](_0x22d2d7=>_0x22d2d7&&_0x22d2d7[_0x3397('0x76')]&&_0x22d2d7[0x0]);},'availableconnectors'(_0x3e4dab,_0x146c32,_0x4454d6,_0x24f2be){const _0x248ade=[{'name':_0x3397('0x408'),'description':_0x3397('0x409')},{'name':_0x3397('0x40a'),'description':_0x3397('0x40b')},{'name':_0x3397('0x40c'),'description':_0x3397('0x40d')},{'name':_0x3397('0x40e'),'description':_0x3397('0x40f')},{'name':_0x3397('0x410'),'description':_0x3397('0x411')},{'name':_0x3397('0x412'),'description':_0x3397('0x413')},{'name':'botkit','description':'Botkit\x20Anywhere'},{'name':_0x3397('0x414'),'description':_0x3397('0x415')},{'name':_0x3397('0x416'),'description':_0x3397('0x417')},{'name':_0x3397('0x418'),'description':_0x3397('0x419')},{'name':_0x3397('0x41a'),'description':_0x3397('0x41b')},{'name':_0x3397('0x41c'),'description':_0x3397('0x41d')},{'name':'luis','description':'Microsoft\x20LUIS'},{'name':_0x3397('0x41e'),'description':_0x3397('0x41f')},{'name':_0x3397('0x420'),'description':'Wechat\x20Webhook'},{'name':_0x3397('0x421'),'description':_0x3397('0x422')}];const _0x25d503=[{'name':_0x3397('0x423'),'description':_0x3397('0x424')},{'name':_0x3397('0x425'),'description':_0x3397('0x426')},{'name':_0x3397('0x427'),'description':'Webspeech\x20(Talk/Listen)'}];if(process[_0x3397('0x282')][_0x3397('0x428')]){const _0x38c0bb=process[_0x3397('0x282')]['BOTIUMBOX_DISABLE_CONNECTORS'][_0x3397('0x87')](',');_0x38c0bb[_0x3397('0x4d')](_0x3c5349=>_0x248ade[_0x3397('0x429')](_0x9fbc10=>_0x9fbc10[_0x3397('0x71')]===_0x3c5349)>=0x0&&_0x248ade[_0x3397('0x42a')](_0x248ade[_0x3397('0x429')](_0x29b2ee=>_0x29b2ee[_0x3397('0x71')]===_0x3c5349),0x1));}if(process[_0x3397('0x282')][_0x3397('0x42b')]){const _0x89b73c=process[_0x3397('0x282')][_0x3397('0x42b')][_0x3397('0x87')](',');_0x89b73c[_0x3397('0x4d')](_0x22765b=>{if(_0x248ade[_0x3397('0x429')](_0x2f42c6=>_0x2f42c6['name']===_0x22765b)>=0x0)return;if(_0x25d503[_0x3397('0x429')](_0x12e540=>_0x12e540['name']===_0x22765b)>=0x0){_0x248ade['push'](_0x25d503[_0x3397('0x379')](_0x57207f=>_0x57207f[_0x3397('0x71')]===_0x22765b));}else{_0x248ade[_0x3397('0x47')]({'name':_0x22765b,'value':_0x22765b,'description':_0x22765b});}});}_0x248ade[_0x3397('0x4d')](_0x132e71=>{_0x132e71[_0x3397('0x42c')]=_0x132e71[_0x3397('0x71')];});return _0x5087e3['sortBy'](_0x248ade,_0x3397('0x2b6'));}};const _0x258f71=_0x3ac7e8(_0x3397('0x42d'));const {updateChartCacheForTestSession:updateChartCacheForTestSession$1}=_0x2670c9;const _0x5750c3=_0x32f801=>{if(_0x32f801===_0x3397('0x42e')){return _0x12e11a()[_0x3397('0x42f')]()[_0x3397('0x3b3')](_0x3397('0x3b4'));}else if(_0x32f801===_0x3397('0x430')){return _0x12e11a()[_0x3397('0x42f')]()[_0x3397('0x3b1')](0x6,'days')[_0x3397('0x3b3')]('day');}else if(_0x32f801===_0x3397('0x431')){return _0x12e11a()[_0x3397('0x42f')]()[_0x3397('0x3b1')](0xd,_0x3397('0x3b2'))['startOf'](_0x3397('0x3b4'));}else if(_0x32f801===_0x3397('0x432')){return _0x12e11a()[_0x3397('0x42f')]()[_0x3397('0x3b1')](0x1e,'days')[_0x3397('0x3b3')](_0x3397('0x3b4'));}else if(_0x32f801===_0x3397('0x433')){return _0x12e11a()[_0x3397('0x42f')]()[_0x3397('0x3b1')](0x3c,_0x3397('0x3b2'))['startOf'](_0x3397('0x3b4'));}};const _0x28b1cb=_0x1fc8b7=>{return _0x12e11a()[_0x3397('0x42f')]()[_0x3397('0x434')](_0x3397('0x3b4'));};const _0xf9ecbe=(_0x53bc00,_0x6e01df)=>{let _0x23be71=Promise['resolve']();_0x6e01df&&_0x6e01df['forEach'](_0x334c4c=>{_0x23be71=_0x23be71[_0x3397('0x4b')](()=>{if(_0x334c4c[_0x3397('0x435')]){_0x334c4c['chartData']=JSON['parse'](_0x334c4c['chartData']);}else{return updateChartCacheForTestSession$1(null,{'testSessionId':_0x334c4c['id']},_0x53bc00)[_0x3397('0x4b')](_0x4b0682=>{_0x334c4c[_0x3397('0x435')]=_0x4b0682;});}});});return _0x23be71;};var _0x55757d={'chartFailedCountByTestSetByDay'(_0x3a56f3,{testProjectId,timeFrame},_0xf1778b,_0x19858b){const _0x1b0c36=_0x5750c3(timeFrame||_0x3397('0x431'));const _0x19e06f=_0x28b1cb(timeFrame||_0x3397('0x431'));_0x258f71(_0x3397('0x436')+_0x1b0c36+_0x3397('0x3de')+_0x19e06f);const _0x3faa8d=_0x3397('0x437')+JSON['stringify']({'fromDate':_0x1b0c36,'testProjectId':testProjectId});return _0xf1778b['chartsCache']['get'](_0x3faa8d,()=>{const _0x24b108={'status_in':[_0x3397('0x309'),_0x3397('0x30a')],'createdAt_gte':_0x12e11a(_0x1b0c36)[_0x3397('0x3b5')](),'createdAt_lte':_0x12e11a(_0x19e06f)['toDate'](),'jobs_every':{'status':_0x3397('0x309')}};if(testProjectId){_0x24b108[_0x3397('0x321')]={'id':testProjectId};}return _0xf1778b['db']['query'][_0x3397('0x3e0')]({'where':_0x24b108},_0x3397('0x438'))[_0x3397('0x4b')](_0x2f833a=>{return _0xf9ecbe(_0xf1778b,_0x2f833a)[_0x3397('0x4b')](()=>_0x2f833a);})['then'](_0x9a0c9f=>{if(!_0x9a0c9f)return undefined;const _0xaed1e4=_0x9a0c9f[_0x3397('0x59')](_0x51d32d=>_0x51d32d[_0x3397('0x435')])[_0x3397('0x2be')]((_0xb5316b,_0x19b045)=>{return _0xb5316b[_0x3397('0x8b')](_0x19b045[_0x3397('0x326')]['map'](_0x21b7e3=>({'testSet':_0x21b7e3,'createdAt':_0x19b045[_0x3397('0x439')],'chartData':_0x19b045[_0x3397('0x435')]['countByTestSetId'][_0x21b7e3['id']]})));},[])['filter'](_0x531885=>_0x531885[_0x3397('0x435')]);const _0x13ea05=_0x5087e3[_0x3397('0x43a')](_0xaed1e4,_0x8a16f=>_0x8a16f[_0x3397('0x2b2')]['id']);const _0x386bfd={};Object[_0x3397('0x270')](_0x13ea05)[_0x3397('0x4d')](_0x4a44fb=>{_0x386bfd[_0x4a44fb]=_0x13ea05[_0x4a44fb][0x0][_0x3397('0x2b2')][_0x3397('0x71')];_0x13ea05[_0x4a44fb]=_0x5087e3['groupBy'](_0x13ea05[_0x4a44fb],_0x4602ac=>_0x12e11a[_0x3397('0x42f')](_0x4602ac[_0x3397('0x439')])[_0x3397('0x3b3')](_0x3397('0x3b4')));Object[_0x3397('0x270')](_0x13ea05[_0x4a44fb])[_0x3397('0x4d')](_0x12097e=>{const _0x5f09b3=_0x13ea05[_0x4a44fb][_0x12097e];_0x13ea05[_0x4a44fb][_0x12097e]=Math[_0x3397('0x43b')](_0x5f09b3[_0x3397('0x2be')]((_0x5a741d,_0x5e3b51)=>_0x5a741d+_0x5e3b51[_0x3397('0x435')]['failedCount'],0x0)/_0x5f09b3[_0x3397('0x76')]);});});const _0x3e514c=[];for(const _0x2b3760=_0x12e11a(_0x1b0c36);_0x2b3760['isBefore'](_0x19e06f);_0x2b3760['add'](0x1,_0x3397('0x3b2'))){_0x3e514c[_0x3397('0x47')](_0x12e11a(_0x2b3760));}const _0x2be7cf=Object['keys'](_0x13ea05)[_0x3397('0x56')](_0xabd58b=>({'id':_0xabd58b,'name':_0x386bfd[_0xabd58b],'data':_0x3e514c[_0x3397('0x56')](_0x51df5f=>_0x13ea05[_0xabd58b][_0x51df5f])}));return _0x5087e3[_0x3397('0x43c')](_0x2be7cf,_0x3397('0x71'));});});},'chartFailedCountByChatbotByDay'(_0x18a5e9,{timeFrame},_0x199b28,_0x10cb0b){const _0x15694b=_0x5750c3(timeFrame||'LAST2WEEKS');const _0x13dbb8=_0x28b1cb(timeFrame||_0x3397('0x431'));_0x258f71('called\x20chartFailedCountByChatbotByDay\x20'+_0x15694b+_0x3397('0x3de')+_0x13dbb8);const _0x578e7b=_0x3397('0x43d')+JSON[_0x3397('0x273')]({'fromDate':_0x15694b});return _0x199b28[_0x3397('0x317')][_0x3397('0x42')](_0x578e7b,()=>{return _0x199b28['db'][_0x3397('0x51')]['testSessions']({'where':{'status_in':['READY','FAILED'],'createdAt_gte':_0x12e11a(_0x15694b)[_0x3397('0x3b5')](),'createdAt_lte':_0x12e11a(_0x13dbb8)[_0x3397('0x3b5')](),'jobs_every':{'status':'READY'}}},_0x3397('0x43e'))[_0x3397('0x4b')](_0x207312=>{return _0xf9ecbe(_0x199b28,_0x207312)[_0x3397('0x4b')](()=>_0x207312);})[_0x3397('0x4b')](_0x150d01=>{if(!_0x150d01)return undefined;const _0x4986eb=_0x5087e3[_0x3397('0x43a')](_0x150d01,_0x4b3dee=>_0x4b3dee[_0x3397('0x31e')]['id']);const _0x2761fa={};Object[_0x3397('0x270')](_0x4986eb)['forEach'](_0x58b522=>{_0x2761fa[_0x58b522]=_0x4986eb[_0x58b522][0x0][_0x3397('0x31e')][_0x3397('0x71')];_0x4986eb[_0x58b522]=_0x5087e3[_0x3397('0x43a')](_0x4986eb[_0x58b522],_0x38a361=>_0x12e11a[_0x3397('0x42f')](_0x38a361[_0x3397('0x439')])['startOf'](_0x3397('0x3b4')));Object[_0x3397('0x270')](_0x4986eb[_0x58b522])['forEach'](_0x118b45=>{const _0x55738a=_0x4986eb[_0x58b522][_0x118b45];_0x4986eb[_0x58b522][_0x118b45]=Math[_0x3397('0x43b')](_0x55738a[_0x3397('0x2be')]((_0x485125,_0x9a680a)=>_0x485125+_0x9a680a[_0x3397('0x435')][_0x3397('0x30d')],0x0)/_0x55738a[_0x3397('0x76')]);});});const _0x17fff3=[];for(const _0x347108=_0x12e11a(_0x15694b);_0x347108[_0x3397('0x43f')](_0x13dbb8);_0x347108[_0x3397('0x95')](0x1,'days')){_0x17fff3[_0x3397('0x47')](_0x12e11a(_0x347108));}const _0x37c25b=Object[_0x3397('0x270')](_0x4986eb)[_0x3397('0x56')](_0x21e8fe=>({'id':_0x21e8fe,'name':_0x2761fa[_0x21e8fe],'data':_0x17fff3['map'](_0x30b64b=>_0x4986eb[_0x21e8fe][_0x30b64b])}));return _0x5087e3['sortBy'](_0x37c25b,_0x3397('0x71'));})[_0x3397('0x4b')](_0x2c0a4c=>{return _0x2c0a4c[_0x3397('0x59')](_0xcd7639=>_0xcd7639[_0x3397('0x2cb')]&&_0xcd7639[_0x3397('0x2cb')][_0x3397('0x59')](_0xf40619=>!isNaN(_0xf40619))[_0x3397('0x76')]>0x0);});});},'chartTestSetResultCount'(_0x3b08b5,{testProjectId},_0x4f416b,_0x4d39ff){const _0x58e646=_0x3397('0x440')+JSON[_0x3397('0x273')]({'testProjectId':testProjectId});return _0x4f416b[_0x3397('0x317')][_0x3397('0x42')](_0x58e646,()=>{return _0x4f416b['db'][_0x3397('0x51')][_0x3397('0x326')]({'orderBy':'name_ASC'},_0x3397('0x2f7'))['then'](_0x90c8c7=>{return Promise[_0x3397('0x77')](_0x90c8c7[_0x3397('0x56')](_0x5843d4=>{const _0x1ac76a={'status_in':[_0x3397('0x309'),'FAILED'],'testSets_some':{'id':_0x5843d4['id']},'jobs_every':{'status':'READY'}};if(testProjectId){_0x1ac76a['testProject']={'id':testProjectId};}return _0x4f416b['db'][_0x3397('0x51')][_0x3397('0x3e0')]({'where':_0x1ac76a,'orderBy':_0x3397('0x3df'),'skip':0x0,'first':0x2},_0x3397('0x441'))[_0x3397('0x4b')](_0xd37338=>{return _0xf9ecbe(_0x4f416b,_0xd37338)[_0x3397('0x4b')](()=>_0xd37338);})['then'](_0x4b5d0e=>{const _0x54e63d={'id':_0x5843d4['id'],'name':_0x5843d4['name'],'testCaseLastTotalCount':0x0,'testCaseLastSuccessCount':0x0,'testCaseLastSuccessRate':0x0,'testCasePreviousTotalCount':0x0,'testCasePreviousSuccessCount':0x0,'testCasePreviousSuccessRate':0x0,'testCaseTrend':_0x3397('0x442')};if(_0x4b5d0e&&_0x4b5d0e[_0x3397('0x76')]>0x0){const _0x19e338=_0x4b5d0e[0x0][_0x3397('0x435')]['countByTestSetId'][_0x5843d4['id']];_0x54e63d['lastRun']=_0x4b5d0e[0x0][_0x3397('0x439')];_0x54e63d[_0x3397('0x443')]=_0x4b5d0e[0x0]['id'];_0x54e63d[_0x3397('0x444')]=_0x19e338?_0x19e338[_0x3397('0x30b')]:0x0;_0x54e63d[_0x3397('0x445')]=_0x19e338?_0x19e338[_0x3397('0x30e')]:0x0;_0x54e63d[_0x3397('0x446')]=_0x54e63d[_0x3397('0x444')]===_0x54e63d[_0x3397('0x445')]?0x64:_0x54e63d[_0x3397('0x445')]/_0x54e63d['testCaseLastTotalCount']*0x64;}if(_0x4b5d0e&&_0x4b5d0e[_0x3397('0x76')]>0x1){const _0x27f3a1=_0x4b5d0e[0x1]['chartData'][_0x3397('0x447')][_0x5843d4['id']];_0x54e63d[_0x3397('0x448')]=_0x4b5d0e[0x1][_0x3397('0x439')];_0x54e63d[_0x3397('0x449')]=_0x4b5d0e[0x1]['id'];_0x54e63d[_0x3397('0x44a')]=_0x27f3a1?_0x27f3a1[_0x3397('0x30b')]:0x0;_0x54e63d[_0x3397('0x44b')]=_0x27f3a1?_0x27f3a1[_0x3397('0x30e')]:0x0;_0x54e63d[_0x3397('0x44c')]=_0x54e63d[_0x3397('0x44a')]===_0x54e63d[_0x3397('0x44b')]?0x64:_0x54e63d['testCasePreviousSuccessCount']/_0x54e63d[_0x3397('0x44a')]*0x64;if(_0x54e63d[_0x3397('0x446')]>_0x54e63d[_0x3397('0x44c')])_0x54e63d[_0x3397('0x44d')]=_0x3397('0x44e');else if(_0x54e63d[_0x3397('0x446')]<_0x54e63d['testCasePreviousSuccessRate'])_0x54e63d[_0x3397('0x44d')]=_0x3397('0x44f');else _0x54e63d[_0x3397('0x44d')]='CONSTANT';}return _0x54e63d;});}));})[_0x3397('0x4b')](_0x3004e6=>{const _0x2d969c=_0x3004e6[_0x3397('0x59')](_0x407000=>_0x407000[_0x3397('0x444')]>0x0);return _0x5087e3[_0x3397('0x3f6')](_0x2d969c,_0x3397('0x450'),'desc');});});},'chartTestProjectTrainingStatusByTestSet'(_0x370982,{testProjectId},_0x2a3e00,_0x585b23){const _0x3d348e=_0x3397('0x451')+JSON[_0x3397('0x273')]({'testProjectId':testProjectId});return _0x2a3e00[_0x3397('0x317')][_0x3397('0x42')](_0x3d348e,async()=>{const _0x40f953={'status_in':[_0x3397('0x309'),_0x3397('0x30a')],'testProject':{'id':testProjectId},'jobs_every':{'status':_0x3397('0x309')}};const _0xf86e98=await _0x2a3e00['db'][_0x3397('0x51')][_0x3397('0x3e0')]({'where':_0x40f953,'orderBy':_0x3397('0x3df'),'skip':0x0,'first':0x1},_0x3397('0x438'));if(!_0xf86e98||_0xf86e98[_0x3397('0x76')]===0x0)return[];await _0xf9ecbe(_0x2a3e00,_0xf86e98);_0xf86e98[0x0][_0x3397('0x326')][_0x3397('0x4d')](_0x250ca2=>{const _0x5e2f0f=_0xf86e98[0x0][_0x3397('0x435')]['countByTestSetId'][_0x250ca2['id']];_0x250ca2[_0x3397('0x30b')]=_0x5e2f0f?_0x5e2f0f['totalCount']:0x0;_0x250ca2[_0x3397('0x30e')]=_0x5e2f0f?_0x5e2f0f[_0x3397('0x30e')]:0x0;_0x250ca2['failedCount']=_0x5e2f0f?_0x5e2f0f['failedCount']:0x0;});return _0x5087e3[_0x3397('0x43c')](_0xf86e98[0x0][_0x3397('0x326')],'name');});},'chartTestProjectTrainingStatusByDeviceSet'(_0x4bd5bd,{testProjectId},_0x14b55c,_0x2cfee4){const _0x3228da=_0x3397('0x452')+JSON['stringify']({'testProjectId':testProjectId});return _0x14b55c['chartsCache'][_0x3397('0x42')](_0x3228da,async()=>{const _0x53e470={'status_in':['READY',_0x3397('0x30a')],'testProject':{'id':testProjectId},'jobs_every':{'status':_0x3397('0x309')}};const _0x52783a=await _0x14b55c['db'][_0x3397('0x51')]['testSessions']({'where':_0x53e470,'orderBy':'createdAt_DESC','skip':0x0,'first':0x1},_0x3397('0x453'));if(!_0x52783a||_0x52783a[_0x3397('0x76')]===0x0)return[];await _0xf9ecbe(_0x14b55c,_0x52783a);const _0x364e07=_0x52783a[0x0]['deviceSets']||[];_0x364e07[_0x3397('0x4d')](_0x169aee=>{const _0x209101=_0x52783a[0x0][_0x3397('0x435')][_0x3397('0x312')][_0x169aee['id']];_0x169aee[_0x3397('0x30b')]=_0x209101?_0x209101['totalCount']:0x0;_0x169aee['successCount']=_0x209101?_0x209101['successCount']:0x0;_0x169aee[_0x3397('0x30d')]=_0x209101?_0x209101['failedCount']:0x0;});const _0x50729b=_0x52783a[0x0][_0x3397('0x435')][_0x3397('0x312')][_0x3397('0x311')];if(_0x50729b){_0x364e07[_0x3397('0x47')]({'id':'','name':_0x3397('0x454'),'totalCount':_0x50729b[_0x3397('0x30b')],'successCount':_0x50729b['successCount'],'failedCount':_0x50729b[_0x3397('0x30d')]});}return _0x5087e3[_0x3397('0x43c')](_0x364e07,_0x3397('0x71'));});}};const {generateToken:generateToken$2}=_0x301af3;var _0x5b41b7={async 'login'(_0x4c2e57,{name,email,password},_0x2ae852,_0x275c6){const _0x4acbf8=name?{'name':name}:email?{'email':email}:null;if(!_0x4acbf8){throw new Error(_0x3397('0x455'));}const _0x1c29bd=await _0x2ae852['db'][_0x3397('0x51')][_0x3397('0x3d3')]({'where':_0x4acbf8},_0x3397('0x456'));if(!_0x1c29bd){throw new Error(_0x3397('0x457')+(name||email));}const _0x4ee310=await _0x501db2[_0x3397('0x458')](password,_0x1c29bd['password']);if(!_0x4ee310){throw new Error(_0x3397('0x459'));}return{'token':generateToken$2(_0x1c29bd),'user':_0x1c29bd};}};var _0x2ae04c={async 'createAgent'(_0x5eccf9,{agent},_0x3b0d69,_0x2498d7){},async 'updateAgent'(_0x3af5e3,{id,agent},_0x1db009,_0x16c3a8){const _0x554322=await _0x1db009['db']['exists'][_0x3397('0x45a')]({'id':id});if(!_0x554322){throw new Error(_0x3397('0x45b')+id);}return _0x1db009['db'][_0x3397('0x299')][_0x3397('0x387')]({'where':{'id':id},'data':agent},_0x16c3a8);},async 'deleteAgent'(_0x581c82,{id},_0x5c2d4c){}};var _0x5c73eb={async 'createChatbot'(_0x4373aa,{chatbot},_0x2b2529,_0x471944){return _0x2b2529['db']['mutation'][_0x3397('0x45c')]({'data':chatbot},_0x471944);},async 'updateChatbot'(_0x1ec03f,{id,chatbot},_0x1eaff5,_0x123d0b){const _0x293633=await _0x1eaff5['db']['exists'][_0x3397('0x45d')]({'id':id});if(!_0x293633){throw new Error(_0x3397('0x45e')+id);}return _0x1eaff5['db']['mutation']['updateChatbot']({'where':{'id':id},'data':chatbot},_0x123d0b);},async 'deleteChatbot'(_0x5eedec,{id},_0x176492){return new Promise((_0x57778b,_0x3847f2)=>{_0x176492['db']['mutation'][_0x3397('0x45f')]({'where':{'id':id}},_0x3397('0x29e'))[_0x3397('0x4b')](()=>_0x57778b(!![]))[_0x3397('0x4e')](_0x583a78=>_0x3847f2(_0x583a78));});}};const _0x12dc41=_0x3ac7e8(_0x3397('0x460'));var _0x18874a={async 'createTestSession'(_0x28e486,{testSession},_0x29189d,_0x179269){return _0x29189d['db'][_0x3397('0x299')]['createTestSession']({'data':testSession},_0x179269)[_0x3397('0x4b')](_0x408bec=>{return new Promise((_0x4c0deb,_0x3e943e)=>{_0x29189d[_0x3397('0x329')][_0x3397('0x32a')]('box.createprocessingjobs',{'title':_0x3397('0x461')+testSession['name'],'testSessionId':_0x408bec['id']})['removeOnComplete'](!![])[_0x3397('0x32d')](_0x32d459=>{if(_0x32d459){return _0x3e943e(_0x32d459);}_0x4c0deb(_0x408bec);});});});},async 'deleteTestSession'(_0xf359c2,{id},_0x5e6738){return new Promise((_0x6a5c45,_0x1b2901)=>{_0x5e6738['db'][_0x3397('0x299')][_0x3397('0x462')]({'where':{'testSessionJob':{'testSession':{'id':id}}}})[_0x3397('0x4b')](()=>_0x5e6738['db'][_0x3397('0x299')]['deleteManyTestSessionJobs']({'where':{'testSession':{'id':id}}}))[_0x3397('0x4b')](()=>_0x5e6738['db']['mutation'][_0x3397('0x463')]({'where':{'testSession':{'id':id}}}))[_0x3397('0x4b')](()=>_0x5e6738['db'][_0x3397('0x299')][_0x3397('0x464')]({'where':{'id':id}},_0x3397('0x29e')))[_0x3397('0x4b')](()=>_0x6a5c45(!![]))[_0x3397('0x4e')](_0x3fd5e4=>{_0x12dc41(_0x3397('0x465')+id+':\x20'+_0x3fd5e4);return _0x1b2901(_0x3fd5e4);});});},async 'cancelTestSession'(_0xe8e21f,{id},_0xbbd51d){const _0x1d9412=await _0xbbd51d['db']['query']['testSession']({'where':{'id':id}},_0x3397('0x466'));if(!_0x1d9412)return![];_0x1d9412[_0x3397('0x30c')][_0x3397('0x59')](_0x3b129f=>_0x3b129f[_0x3397('0x467')])[_0x3397('0x4d')](async _0x590fdb=>{_0x5a59a4['Job'][_0x3397('0x3c2')](_0x590fdb[_0x3397('0x467')],_0xc88f18=>{if(_0xc88f18){_0x12dc41(_0x3397('0x468')+_0x590fdb[_0x3397('0x467')]+':\x20'+_0xc88f18);}else{_0x12dc41(_0x3397('0x469')+_0x590fdb[_0x3397('0x467')]);}});});const _0xa2990b=await _0xbbd51d['db']['query']['agents']({'where':{}},_0x3397('0x2f7'));_0xa2990b[_0x3397('0x4d')](async _0x3aebe8=>{_0x12dc41(_0x3397('0x46a')+_0x1d9412['id']+'/'+_0x1d9412['name']+_0x3397('0x46b')+_0x3aebe8['id']+'/'+_0x3aebe8[_0x3397('0x71')]);await _0xbbd51d[_0x3397('0x329')][_0x3397('0x32a')](_0x3397('0x46c')+_0x3aebe8['name'],{'title':_0x3397('0x46d')+_0x1d9412['id']+'/'+_0x1d9412[_0x3397('0x71')]+_0x3397('0x46e')+_0x3aebe8[_0x3397('0x71')],'testSessionId':_0x1d9412['id'],'testSessionName':_0x1d9412[_0x3397('0x71')]})[_0x3397('0x3c5')](!![])[_0x3397('0x32d')](_0x23a174=>{if(_0x23a174){throw _0x23a174;}});});return!![];}};const _0x5cb1c4=_0x18874a[_0x3397('0x46f')];const _0x3d1e86=_0x3ac7e8('botium-box-server-mutation-testproject');const _0x3915b6=(_0x10ddae,_0x1ae236,_0x186b6d,_0x2bb31d)=>{const _0x43eae7={'testSession':Object[_0x3397('0x7e')]({},{'status':_0x3397('0x328'),'chatbot':{'connect':{'id':_0x1ae236['chatbot']['id']}},'testSets':{'connect':_0x1ae236['testSets']&&_0x1ae236[_0x3397('0x326')][_0x3397('0x56')](_0x11342c=>{return{'id':_0x11342c['id']};})},'deviceSets':{'connect':_0x1ae236[_0x3397('0x334')]&&_0x1ae236[_0x3397('0x334')][_0x3397('0x56')](_0x529167=>{return{'id':_0x529167['id']};})},'testProject':{'connect':{'id':_0x1ae236['id']}},'batchCount':_0x1ae236['batchCount']},_0x186b6d)};if(_0x1ae236['agent']){_0x43eae7[_0x3397('0x2f8')][_0x3397('0x2fd')]={'connect':{'id':_0x1ae236['agent']['id']}};}return _0x5cb1c4(_0x10ddae,_0x43eae7,_0x2bb31d,_0x3397('0x2c7'));};var _0x838bc2={async 'createTestProject'(_0x4a082c,{testProject},_0x3b8d1f,_0x47e6e2){return _0x3b8d1f['db'][_0x3397('0x299')]['createTestProject']({'data':{...testProject,'code':_0xed50bd(testProject[_0x3397('0x71')])}},_0x47e6e2);},async 'startTestProject'(_0x46eee0,{id,code},_0x29fe30){return _0x29fe30['db']['query']['testProject']({'where':{'id':id,'code':code}},_0x3397('0x470'))[_0x3397('0x4b')](_0x391d07=>{if(!_0x391d07)throw new Error(_0x3397('0x471')+id+'/'+code+_0x3397('0x472'));return _0x3915b6(_0x46eee0,_0x391d07,{'name':_0x391d07['name']+_0x3397('0x473'),'tags':{'set':[_0x3397('0x474')]}},_0x29fe30);})[_0x3397('0x4b')](_0x22eb45=>_0x22eb45['id']);},async 'quickstartTestProject'(_0x33bd10,{testProject,startProject},_0x21c064){return _0x21c064['db']['mutation'][_0x3397('0x475')]({'data':{...testProject,'code':_0xed50bd(testProject[_0x3397('0x71')])}},_0x3397('0x470'))[_0x3397('0x4b')](_0x40a0e7=>{if(startProject){return _0x3915b6(_0x33bd10,_0x40a0e7,{'name':_0x40a0e7['name']+_0x3397('0x476'),'tags':{'set':[_0x3397('0x477')]}},_0x21c064)[_0x3397('0x4b')](_0x1a1652=>_0x1a1652['id']);}else{return _0x40a0e7['id'];}});},async 'updateTestProject'(_0x57c2a3,{id,testProject},_0xb991f3,_0x24311d){const _0x350d05=await _0xb991f3['db']['exists'][_0x3397('0x478')]({'id':id});if(!_0x350d05){throw new Error('TestProject\x20not\x20found\x20'+id);}return _0xb991f3['db'][_0x3397('0x299')][_0x3397('0x479')]({'where':{'id':id},'data':{...testProject,'code':_0xed50bd(testProject[_0x3397('0x71')])}},_0x24311d);},async 'deleteTestProject'(_0x44697a,{id},_0x3f237f){return new Promise((_0x41409b,_0x26ac7e)=>{_0x3f237f['db']['mutation'][_0x3397('0x47a')]({'where':{'id':id}},_0x3397('0x29e'))[_0x3397('0x4b')](()=>_0x41409b(!![]))[_0x3397('0x4e')](_0x47cc66=>{_0x3d1e86('Error\x20deleting\x20TestProject\x20'+id+':\x20'+_0x47cc66);return _0x26ac7e(_0x47cc66);});});}};const _0x1a4d88=_0x3ac7e8(_0x3397('0x47b'));let _0x33cd1d=[_0x3397('0x33d')];var _0x424137={async 'createUser'(_0x485cd0,{user},_0x44d17e,_0x3c252c){if(user[_0x3397('0x33c')]){user['password']=await _0x501db2[_0x3397('0x47c')](user[_0x3397('0x33c')],0xa);}if(!user[_0x3397('0x47d')]){user[_0x3397('0x47d')]={'set':[_0x3397('0x47e')]};}return _0x44d17e['db'][_0x3397('0x299')]['createUser']({'data':user},_0x3c252c);},async 'updateUser'(_0x4c554c,{id,user},_0x24e500,_0x3872fc){const _0x5566b2=await _0x24e500['db'][_0x3397('0x51')][_0x3397('0x3d3')]({'where':{'id':id}});if(!_0x5566b2){throw new Error(_0x3397('0x47f')+id);}if(_0x24e500[_0x3397('0x3d2')][_0x3397('0x3d3')]['id']!==id&&_0x24e500[_0x3397('0x3d2')][_0x3397('0x3d3')][_0x3397('0x47d')]['findIndex'](_0x1a027d=>_0x1a027d===_0x3397('0x480'))<0x0){throw new Error(_0x3397('0x481'));}if(user[_0x3397('0x33c')]){user['password']=await _0x501db2[_0x3397('0x47c')](user['password'],0xa);}if(_0x5566b2['name']===_0x3397('0x482')){user[_0x3397('0x71')]=_0x3397('0x482');user[_0x3397('0x47d')]={'set':[_0x3397('0x480')]};}if(!user['roles']){user[_0x3397('0x47d')]={'set':[_0x3397('0x47e')]};}return _0x24e500['db'][_0x3397('0x299')][_0x3397('0x483')]({'where':{'id':id},'data':user},_0x3872fc);},async 'deleteUser'(_0x57efee,{id},_0x207a02){const _0x3dc696=await _0x207a02['db'][_0x3397('0x51')][_0x3397('0x3d3')]({'where':{'id':id}});if(!_0x3dc696)return!![];if(_0x3dc696[_0x3397('0x71')]===_0x3397('0x482')){throw new Error(_0x3397('0x484'));}return _0x207a02['db'][_0x3397('0x299')][_0x3397('0x485')]({'where':{'id':id}},'{id}')[_0x3397('0x4b')](()=>!![])['catch'](_0x466f8b=>{_0x1a4d88(_0x3397('0x486')+id+':\x20'+_0x466f8b);throw _0x466f8b;});},async 'createApiKey'(_0xaba20e,{apiKey},_0x256fb6,_0x4051a5){apiKey['key']=_0xb05a44(_0x3397('0x279'),0x14);return _0x256fb6['db'][_0x3397('0x299')][_0x3397('0x487')]({'data':apiKey},_0x4051a5);},async 'updateApiKey'(_0x335749,{id,apiKey},_0x58cee6,_0x287ee1){const _0x2f8374=await _0x58cee6['db'][_0x3397('0x29a')]['ApiKey']({'id':id});if(!_0x2f8374){throw new Error(_0x3397('0x488')+id);}delete apiKey[_0x3397('0x489')];return _0x58cee6['db'][_0x3397('0x299')][_0x3397('0x48a')]({'where':{'id':id},'data':apiKey},_0x287ee1);},async 'deleteApiKey'(_0x2ff3a2,{id},_0x53fdf9){return _0x53fdf9['db'][_0x3397('0x299')][_0x3397('0x48b')]({'where':{'id':id}},_0x3397('0x29e'))[_0x3397('0x4b')](()=>!![])[_0x3397('0x4e')](_0x70b84f=>{_0x1a4d88('Error\x20deleting\x20ApiKey\x20'+id+':\x20'+_0x70b84f);throw _0x70b84f;});},async 'createDeviceProvider'(_0x112ecd,{deviceProvider},_0x2c4a1e,_0x30689b){if(deviceProvider[_0x3397('0x2ff')]===_0x3397('0x33e')){throw new Error(_0x3397('0x48c'));}if(_0x33cd1d['indexOf'](deviceProvider['type'])<0x0){throw new Error('DeviceProvider\x20type\x20'+deviceProvider[_0x3397('0x2ff')]+_0x3397('0x48d'));}return _0x2c4a1e['db'][_0x3397('0x299')][_0x3397('0x48e')]({'data':deviceProvider},_0x30689b);},async 'updateDeviceProvider'(_0x5d6b04,{id,deviceProvider},_0x49936f,_0x59890){const _0x426506=await _0x49936f['db']['exists'][_0x3397('0x48f')]({'id':id});if(!_0x426506){throw new Error(_0x3397('0x490')+id);}if(_0x33cd1d[_0x3397('0x86')](deviceProvider[_0x3397('0x2ff')])<0x0){throw new Error('DeviceProvider\x20type\x20'+deviceProvider[_0x3397('0x2ff')]+_0x3397('0x48d'));}return _0x49936f['db']['mutation']['updateDeviceProvider']({'where':{'id':id},'data':deviceProvider},_0x59890);},async 'deleteDeviceProvider'(_0x1ae745,{id},_0x32ec90){const _0x2f71fe=await _0x32ec90['db'][_0x3397('0x51')][_0x3397('0x3e8')]({'where':{'id':id}});if(!_0x2f71fe)return!![];if(_0x2f71fe['type']==='INTEGRATED'){throw new Error(_0x3397('0x491'));}try{await _0x32ec90['db'][_0x3397('0x299')]['deleteDeviceProvider']({'where':{'id':id}},_0x3397('0x29e'));return!![];}catch(_0x16af9b){_0x1a4d88('Error\x20deleting\x20DeviceProvider\x20'+id+':\x20'+_0x16af9b);throw _0x16af9b;}},async 'updateSystemSettings'(_0x57658d,{systemSettings},_0x52cd21,_0x33454e){const _0x53f3e2=await _0x52cd21['db'][_0x3397('0x51')][_0x3397('0x3af')]({'skip':0x0,'first':0x1});if(_0x53f3e2&&_0x53f3e2[_0x3397('0x76')]>0x0){return _0x52cd21['db'][_0x3397('0x299')][_0x3397('0x492')]({'where':{'id':_0x53f3e2[0x0]['id']},'data':systemSettings},_0x33454e);}else{return _0x52cd21['db']['mutation']['createSystemSettings']({'data':systemSettings},_0x33454e);}}};const _0x17ac56=_0x3ac7e8(_0x3397('0x493'));var _0x1092b1={async 'createDeviceSet'(_0x1d931,{deviceSet},_0x4bfc8d,_0x19a17a){return _0x4bfc8d['db'][_0x3397('0x299')][_0x3397('0x494')]({'data':deviceSet},_0x19a17a);},async 'updateDeviceSet'(_0xea22d3,{id,deviceSet},_0x32778b,_0xe55162){const _0x2e6cb0=await _0x32778b['db'][_0x3397('0x29a')]['DeviceSet']({'id':id});if(!_0x2e6cb0){throw new Error(_0x3397('0x495')+id);}return _0x32778b['db'][_0x3397('0x299')]['updateDeviceSet']({'where':{'id':id},'data':deviceSet},_0xe55162);},async 'deleteDeviceSet'(_0x4b6b02,{id},_0x219888){return new Promise((_0x5733e1,_0x1729a2)=>{_0x219888['db'][_0x3397('0x51')]['deviceSet']({'where':{'id':id}},_0x3397('0x496'))[_0x3397('0x4b')](_0x2bb87f=>{if(!_0x2bb87f)throw new Error(_0x3397('0x495')+id);return _0x219888['db'][_0x3397('0x299')]['deleteManyDeviceDescriptors']({'where':{'id_in':_0x2bb87f[_0x3397('0x497')][_0x3397('0x56')](_0x3c6ca2=>_0x3c6ca2['id'])}});})[_0x3397('0x4b')](()=>_0x219888['db'][_0x3397('0x299')][_0x3397('0x498')]({'where':{'id':id}},_0x3397('0x29e')))['then'](()=>_0x5733e1(!![]))['catch'](_0x24d9c9=>{_0x17ac56(_0x3397('0x499')+id+':\x20'+_0x24d9c9);return _0x1729a2(_0x24d9c9);});});}};const _0x895048={};var _0xd7c1a1=_0x895048;const {withFilter}=_0x328356;var _0x53c1e3={'testSessionProgress':{'resolve':(_0x3ff78a,{testSessionId},_0x4c3e7d,_0x42bfcb)=>{return _0x4c3e7d['db'][_0x3397('0x51')][_0x3397('0x2f8')]({'where':{'id':testSessionId}},_0x42bfcb);},'subscribe':withFilter((_0x7fd6e8,{testSessionId},{pubsub})=>_0x194f12[_0x3397('0x49a')]('TEST_SESSION_PROGRESS'),(_0x493fcc,{testSessionId})=>{return _0x493fcc&&_0x493fcc[_0x3397('0x49b')]&&_0x493fcc[_0x3397('0x49b')]['id']===testSessionId;})},'newTestSession':{'subscribe':(_0x1be278,_0x5bdbd8,_0xfcdc96,_0x474d77)=>{return _0xfcdc96['db'][_0x3397('0x49c')][_0x3397('0x2f8')]({'where':{'mutation_in':[_0x3397('0x49d')]}},_0x474d77);}},'changeTestSession':{'subscribe':(_0x136aa2,{ids},_0x3fc880,_0x10ba19)=>{return _0x3fc880['db'][_0x3397('0x49c')][_0x3397('0x2f8')]({'where':{'mutation_in':[_0x3397('0x49e')],'node':{'id_in':ids}}},_0x10ba19);}},'changeTestSessionJobs':{'subscribe':(_0x2b46c6,{testSessionIds},_0x1a2def,_0x173558)=>{return _0x1a2def['db'][_0x3397('0x49c')][_0x3397('0x3e1')]({'where':{'mutation_in':['UPDATED'],'node':{'testSession':{'id_in':testSessionIds}}}},_0x173558);}},'newTestSessionJobLogs':{'subscribe':(_0x498e5f,{testSessionJobId},_0x40787b,_0xfffe5f)=>{return _0x40787b['db']['subscription'][_0x3397('0x49f')]({'where':{'mutation_in':['CREATED'],'node':{'testSessionJob':{'id':testSessionJobId}}}},_0xfffe5f);}},'newTestSessionTestCaseResults':{'subscribe':(_0x375852,{testSessionIds},_0x2cfb48,_0x3ca2b7)=>{return _0x2cfb48['db']['subscription'][_0x3397('0x4a0')]({'where':{'mutation_in':[_0x3397('0x49d')],'node':{'testSession':{'id_in':testSessionIds}}}},_0x3ca2b7);}}};var _0x171fa9={'Query':{..._0x17087d,..._0x475a16,..._0x123d6e,..._0x1b36ec[_0x3397('0x4a1')],..._0x408e1b,..._0x9a3a50,..._0x14f9c1,..._0x43c973,..._0x1838bd,..._0x55757d},'Mutation':{..._0x5b41b7,..._0x2ae04c,..._0x5c73eb,..._0x1b36ec[_0x3397('0x4a2')],..._0x18874a,..._0x519ddf,..._0x838bc2,..._0x424137,..._0x1092b1},'Subscription':{..._0xd7c1a1,..._0x1b36ec[_0x3397('0x4a3')],..._0x53c1e3}};const _0x3674c1=_0x3397('0x4a4');const _0x4eb41d=_0x3397('0x4a5');const _0x110f57=_0x23876e=>_0x40a32a(_0x23876e,_0x3674c1);const _0x3efad1=_0x3e7d36=>_0x40a32a(_0x3e7d36,_0x4eb41d);const _0x1504d3=_0x128354=>{const _0x586f74=_0x110f57(_0x128354);const _0x1d3766=_0x3efad1(_0x128354);if(!_0x586f74&&!_0x1d3766)throw new Error(_0x3397('0x4a6'));return _0x586f74||_0x1d3766;};var _0x2e967a={'isAuthenticated':(_0x4eac9b,_0x2cf164,_0x422ee3,_0xfc2477)=>{_0x1504d3(_0xfc2477);return _0x4eac9b();},'hasRole':(_0x1963eb,_0x2e6f86,{roles},_0x1f4511)=>{const _0x3b3b47=_0x1504d3(_0x1f4511);for(const _0x4e94a3 in _0x3b3b47[_0x3397('0x47d')]||[]){const _0x22e327=_0x3b3b47['roles'][_0x4e94a3];if(roles[_0x3397('0x3fb')](_0x22e327)){return _0x1963eb();}}throw new Error(_0x3397('0x4a7'));}};const {jwtSettings:jwtSettings$1,tokenToUserId:tokenToUserId$1}=_0x301af3;const _0x5a5f44=_0x3ac7e8(_0x3397('0x4a8'));let _0x694e67=null;const _0x3ac3a8=async(_0x5673b6,_0x2ef237,_0x451d8e,_0x52f543)=>{const _0x5a02c7=_0x5673b6[_0x3397('0x51')][_0x3397('0x4a9')]||_0x5673b6['body']&&_0x5673b6[_0x3397('0x4aa')][_0x3397('0x4a9')]||_0x5673b6[_0x3397('0x4ab')]['APIKEY'];const _0x497a95=_0x52f543(_0x5673b6);if(_0x5a02c7){_0x47e16f[_0x3397('0x4ac')](_0x497a95['db'],_0x5a02c7)['then'](_0x55d557=>{if(_0x55d557){_0x5a5f44(_0x3397('0x4ad')+_0x12bf23[_0x3397('0x6f')](_0x55d557));_0x5673b6['apiKey']=_0x55d557;return _0x451d8e();}else{_0x5a5f44('Api\x20Key\x20not\x20found\x20-\x20'+_0x5a02c7);return _0x451d8e();}})[_0x3397('0x4e')](_0x3e12bb=>{_0x5a5f44('Api\x20Key\x20lookup\x20error\x20-\x20'+_0x5a02c7+'\x20-\x20'+_0x3e12bb);return _0x451d8e();});}else{return _0x451d8e();}};const _0x1c640d=async(_0x59429f,_0x394d2b,_0x246400,_0x46ea4f)=>{if(_0x59429f[_0x3397('0x3d3')]){const _0x524716=_0x46ea4f(_0x59429f)['db'];const _0x4d1487=_0x59429f[_0x3397('0x3d3')];const _0x5839d3=await _0x524716['query']['user']({'where':{'id':tokenToUserId$1(_0x4d1487)}},_0x3397('0x3d1'));_0x59429f[_0x3397('0x3d3')]={..._0x5839d3,'token':_0x4d1487};return _0x246400();}if(process['env'][_0x3397('0x4ae')]){if(!_0x694e67){const _0x1e00f0=_0x46ea4f(_0x59429f)['db'];_0x694e67=await _0x1e00f0[_0x3397('0x51')]['user']({'where':{'name':process['env'][_0x3397('0x4ae')]}},'{\x20id\x20name\x20email\x20roles\x20}');_0x5a5f44(_0x3397('0x4af')+process[_0x3397('0x282')][_0x3397('0x4ae')]+'.');}_0x59429f[_0x3397('0x3d3')]={..._0x694e67,'token':null};return _0x246400();}return _0x246400();};const _0x3e051b=()=>_0xe5cf37(Object[_0x3397('0x7e')]({},jwtSettings$1(),{'credentialsRequired':![],'getToken':_0x1bda87=>{if(_0x1bda87[_0x3397('0x4ab')][_0x3397('0x4b0')]&&_0x1bda87[_0x3397('0x4ab')][_0x3397('0x4b0')]['split']('\x20')[0x0]===_0x3397('0x4b1')){return _0x1bda87[_0x3397('0x4ab')]['authorization']['split']('\x20')[0x1];}else if(_0x1bda87[_0x3397('0x51')]&&_0x1bda87[_0x3397('0x51')]['token']){return _0x1bda87[_0x3397('0x51')]['token'];}else if(_0x1bda87[_0x3397('0x4aa')]&&_0x1bda87[_0x3397('0x4aa')][_0x3397('0x4b2')]){return _0x1bda87[_0x3397('0x4aa')][_0x3397('0x4b2')];}return null;}}));var _0x456f6a=(_0x683095,_0xcd192f,_0x34d19c)=>{_0x683095['use'](_0x3e051b());_0x683095[_0x3397('0x4b3')]((_0x69f267,_0x3a6bc7,_0x48a7d2)=>_0x1c640d(_0x69f267,_0x3a6bc7,_0x48a7d2,_0x34d19c));_0x683095[_0x3397('0x4b3')]((_0x3ca923,_0xfcf3a3,_0x5be4f0)=>_0x3ac3a8(_0x3ca923,_0xfcf3a3,_0x5be4f0,_0x34d19c));};const {setupEndpoints,verifySignature}=_0x77419a;const _0x1bd2ed=_0x3ac7e8(_0x3397('0x4b4'));var _0x5ceeb9=async(_0x2c18df,_0x3c3db3)=>{const _0x3da0a2=_0x3c3db3();const _0x5b6ff8=await _0x3da0a2['db'][_0x3397('0x51')][_0x3397('0x3d7')]({'where':{}},_0x3397('0x4b5'));_0x5b6ff8['filter'](_0x14244c=>_0x14244c['capabilities']&&_0x14244c[_0x3397('0x31f')][_0x3397('0x59')](_0x504265=>_0x504265[_0x3397('0x71')]==='CONTAINERMODE'&&_0x504265[_0x3397('0x301')]==='fbpagereceiver')[_0x3397('0x76')]>0x0)['forEach'](_0x28e8b6=>{const _0x4abed6={'app':_0x2c18df,'endpoint':_0x3397('0x4b6')+_0x28e8b6[_0x3397('0x31f')][_0x3397('0x379')](_0x12272f=>_0x12272f[_0x3397('0x71')]===_0x3397('0x4b7'))['stringValue'],'verifytoken':_0x28e8b6[_0x3397('0x31f')][_0x3397('0x379')](_0xd929ce=>_0xd929ce['name']===_0x3397('0x4b8'))[_0x3397('0x301')],'accesstoken':_0x28e8b6[_0x3397('0x31f')][_0x3397('0x379')](_0x443dbd=>_0x443dbd[_0x3397('0x71')]===_0x3397('0x4b9'))[_0x3397('0x301')],'redisurl':_0x3da0a2[_0x3397('0x2f0')][_0x3397('0x2ce')]};const _0x33ecb8=_0x28e8b6['capabilities'][_0x3397('0x379')](_0x15d5d3=>_0x15d5d3[_0x3397('0x71')]===_0x3397('0x4ba'));if(_0x33ecb8&&_0x33ecb8[_0x3397('0x301')]){_0x2c18df[_0x3397('0x4b3')](_0x4abed6[_0x3397('0x4bb')],_0x11aa75[_0x3397('0x4bc')]({'verify':verifySignature[_0x3397('0x4bd')](null,_0x33ecb8[_0x3397('0x301')])}));}else{_0x2c18df[_0x3397('0x4b3')](_0x4abed6[_0x3397('0x4bb')],_0x11aa75[_0x3397('0x4bc')]());}setupEndpoints(_0x4abed6);_0x1bd2ed('Started\x20FB\x20Proxy\x20for\x20chatbot\x20'+_0x28e8b6['id']+'/'+_0x28e8b6[_0x3397('0x71')]+_0x3397('0x4be')+_0x4abed6['endpoint']);});};const _0x3d4c8b=_0x3ac7e8(_0x3397('0x4bf'));var _0x19867c=(_0x449f06,_0x202811)=>{_0x449f06[_0x3397('0x42')]('/api/attachment/excel/:id',(_0x28497e,_0x2dee79)=>{const _0x34b3f5=_0x28497e[_0x3397('0x4c0')]['id'];const _0x3c2562=_0x202811(_0x28497e);_0x47e16f[_0x3397('0x4c1')](_0x3c2562['db'],_0x34b3f5)['then'](_0x5c7bec=>{if(_0x5c7bec){const _0x17da36=Buffer[_0x3397('0x269')](_0x5c7bec[_0x3397('0x61')],_0x3397('0x78'));_0x2dee79['writeHead'](0xc8,{'Content-disposition':_0x3397('0x4c2')+_0x5c7bec[_0x3397('0x60')],'Content-Length':_0x17da36['length']});_0x2dee79['end'](_0x17da36);}else{_0x3d4c8b(_0x3397('0x4c3')+_0x34b3f5);_0x2dee79[_0x3397('0x4c4')](0x194);}})['catch'](_0x107e5d=>{_0x3d4c8b(_0x3397('0x4c5')+_0x34b3f5+'\x20-\x20'+_0x107e5d);_0x2dee79[_0x3397('0x4c4')](0x194);});});_0x449f06['get'](_0x3397('0x4c6'),(_0x5cd642,_0x4c0742)=>{const _0x424d18=_0x5cd642[_0x3397('0x4c0')]['id'];const _0x1ec913=_0x202811(_0x5cd642);_0x47e16f[_0x3397('0x4c7')](_0x1ec913['db'],_0x424d18)['then'](_0x19867c=>{if(_0x19867c){const _0x20adfd=Buffer[_0x3397('0x269')](_0x19867c['base64'],_0x3397('0x78'));_0x4c0742[_0x3397('0x4c8')](0xc8,{'Content-Disposition':_0x3397('0x4c9')+_0x19867c[_0x3397('0x71')],'Content-Type':_0x19867c[_0x3397('0x4ca')],'Content-Length':_0x20adfd[_0x3397('0x76')]});_0x4c0742['end'](_0x20adfd);}else{_0x3d4c8b('Attachment\x20not\x20found\x20-\x20'+_0x424d18);_0x4c0742['sendStatus'](0x194);}})[_0x3397('0x4e')](_0x581c74=>{_0x3d4c8b(_0x3397('0x4cb')+_0x424d18+'\x20-\x20'+_0x581c74);_0x4c0742[_0x3397('0x4c4')](0x194);});});};const _0x165c09=_0x3ac7e8(_0x3397('0x4cc'));const _0xf41620=_0x18874a['createTestSession'];const _0x40373f=_0x268cd1=>{if(!_0x268cd1)return'';const _0x274cf0=_0x268cd1[_0x3397('0x87')]('\x0a')[_0x3397('0x56')](_0x5e28c1=>_0x5e28c1[_0x3397('0x265')]());return _0x274cf0[_0x3397('0x85')](_0x3397('0x4cd'));};const _0x493e17=(_0x2f8713,_0x3477ce)=>{return _0x2f8713['query'][_0x3477ce]||_0x2f8713['query'][_0x3477ce[_0x3397('0x4ce')]()]||_0x2f8713[_0x3397('0x4aa')]&&_0x2f8713[_0x3397('0x4aa')][_0x3477ce]||_0x2f8713[_0x3397('0x4aa')]&&_0x2f8713['body'][_0x3477ce[_0x3397('0x4ce')]()]||_0x2f8713['headers'][_0x3397('0x4cf')+_0x3477ce];};const _0x170d29=(_0x4f53d6,_0x47adcb)=>{const _0x1d9647=(_0x493e17(_0x4f53d6,_0x3397('0x4d0'))||_0x3397('0x4bc'))[_0x3397('0x4ce')]();if(_0x1d9647==='json'||_0x1d9647===_0x3397('0x4d1')||_0x1d9647===_0x3397('0x4d2'))return!![];_0x47adcb[_0x3397('0x4c4')](0x194)[_0x3397('0x4d3')](_0x3397('0x4d4'));return![];};const _0x5acd7d=async(_0x1ee3c9,_0x38e673,_0x2748bf,_0x6980cf)=>{try{const _0x10bc1f=(_0x493e17(_0x2748bf,_0x3397('0x4d0'))||'json')[_0x3397('0x4ce')]();if(_0x10bc1f===_0x3397('0x4bc')){const {ts,output}=await _0x23d1c3(_0x1ee3c9,_0x38e673,_0x10bc1f);_0x6980cf[_0x3397('0x4d5')](_0x3397('0x4d6'),'attachment;\x20filename='+_0xed50bd(ts[_0x3397('0x71')])+_0x3397('0x4d7'));_0x6980cf[_0x3397('0x308')](0xc8)[_0x3397('0x4d3')](output);}else if(_0x10bc1f===_0x3397('0x4d1')){const {ts,output}=await _0x23d1c3(_0x1ee3c9,_0x38e673,_0x10bc1f);_0x6980cf['setHeader']('Content-Type',_0x3397('0x4d8'));_0x6980cf['setHeader']('Content-disposition','attachment;\x20filename='+_0xed50bd(ts[_0x3397('0x71')])+_0x3397('0x4d9'));_0x6980cf[_0x3397('0x308')](0xc8)[_0x3397('0x4d3')](output);}else if(_0x10bc1f===_0x3397('0x4d2')){const {ts,output}=await _0x23d1c3(_0x1ee3c9,_0x38e673,_0x10bc1f);_0x6980cf[_0x3397('0x4d5')]('Content-Type','text/csv');_0x6980cf[_0x3397('0x4d5')](_0x3397('0x4d6'),'attachment;\x20filename='+_0xed50bd(ts[_0x3397('0x71')])+_0x3397('0x4da'));_0x6980cf[_0x3397('0x308')](0xc8)[_0x3397('0x4d3')](output);}}catch(_0x2d3340){_0x165c09(_0x3397('0x4db')+_0x1ee3c9+'\x20-\x20'+_0x2d3340);_0x6980cf[_0x3397('0x4c4')](0x194);}};const _0x528c93=async(_0x16544d,_0xed2d5d,_0x472910,_0x597328,_0x2e297b)=>{try{const _0x5529f6=(_0x2e297b||_0x3397('0x4bc'))[_0x3397('0x4ce')]();const _0x25e45f={'uri':_0x472910,'method':_0x597328,'headers':{}};if(_0x597328[_0x3397('0x4ce')]()!==_0x3397('0x42')){const {output}=await _0x23d1c3(_0x16544d,_0xed2d5d,_0x5529f6);if(_0x5529f6===_0x3397('0x4bc')){_0x25e45f[_0x3397('0x4aa')]=output;_0x25e45f['json']=!![];}else if(_0x5529f6===_0x3397('0x4d1')){_0x25e45f['headers']['Content-Type']=_0x3397('0x4d8');_0x25e45f[_0x3397('0x4aa')]=output;}else if(_0x5529f6===_0x3397('0x4d2')){_0x25e45f[_0x3397('0x4ab')][_0x3397('0x4dc')]=_0x3397('0x4d8');_0x25e45f[_0x3397('0x4aa')]=output;}}await _0x4c9086(_0x25e45f);_0x165c09(_0x3397('0x4dd')+_0x472910+_0x3397('0x4de')+_0x16544d);}catch(_0x5b94b3){_0x165c09(_0x3397('0x4dd')+_0x472910+_0x3397('0x4df')+_0x16544d+_0x3397('0x3de')+_0x5b94b3);}};const _0x23d1c3=async(_0x264acf,_0x121151,_0x32d6e9)=>{const _0x83b855=await _0x47e16f[_0x3397('0x4e0')](_0x121151['db'],_0x264acf);if(!_0x83b855){throw new Error(_0x3397('0x319')+_0x264acf+_0x3397('0x472'));}if(_0x32d6e9==='json'){delete _0x83b855[_0x3397('0x30f')];return{'ts':_0x83b855,'output':_0x83b855};}else if(_0x32d6e9===_0x3397('0x4d1')){const _0x3d81ce=_0x5087e3[_0x3397('0x43a')](_0x83b855['results'],_0x5c7352=>_0x5c7352[_0x3397('0x2b2')]?_0x5c7352[_0x3397('0x2b2')]['name']:'');const _0x110d48=_0x5087e3[_0x3397('0x270')](_0x3d81ce)['map'](_0x4f4781=>{const _0x343dea=_0x3d81ce[_0x4f4781];const _0x3b818c={'testsuite':[{'_attr':{'name':_0x4f4781||'unnamed','tests':_0x343dea[_0x3397('0x76')],'failures':_0x343dea[_0x3397('0x59')](_0x2362c5=>!_0x2362c5['success'])[_0x3397('0x76')],'time':_0x343dea[_0x3397('0x2be')]((_0x4925c8,_0x48802d)=>_0x48802d[_0x3397('0x357')]?_0x4925c8+_0x48802d[_0x3397('0x357')]:_0x4925c8,0x0)/0x3e8}}]};return _0x3b818c;});const _0x14bf54=_0x52e163({'testsuites':[{'_attr':{'name':_0x83b855[_0x3397('0x71')],'tests':_0x83b855[_0x3397('0x30f')]['length'],'failures':_0x83b855[_0x3397('0x30f')][_0x3397('0x59')](_0x413aef=>!_0x413aef[_0x3397('0x310')])[_0x3397('0x76')],'time':_0x83b855[_0x3397('0x30f')][_0x3397('0x2be')]((_0x2d990e,_0x406cb7)=>_0x406cb7[_0x3397('0x357')]?_0x2d990e+_0x406cb7[_0x3397('0x357')]:_0x2d990e,0x0)/0x3e8}}][_0x3397('0x8b')](_0x110d48)},{'declaration':!![]});return{'ts':_0x83b855,'output':_0x14bf54};}else if(_0x32d6e9==='csv'){delete _0x83b855[_0x3397('0x30f')];const _0x100722=[];_0x100722[_0x3397('0x47')](['testSessionId',_0x3397('0x4e1'),'testSessionName','testCaseId',_0x3397('0x4e2'),_0x3397('0x4e3'),_0x3397('0x4e4'),_0x3397('0x4e5'),_0x3397('0x4e6'),_0x3397('0x363'),_0x3397('0x4e7')]);const _0x1dbe25=(_0x102236,_0x2c9bd2)=>{if(_0x2c9bd2){_0x102236['push'](_0x2c9bd2['id']);_0x102236[_0x3397('0x47')](_0x2c9bd2[_0x3397('0x4e8')]);_0x102236[_0x3397('0x47')](_0x40373f(_0x2c9bd2['testcaseSource']));_0x102236[_0x3397('0x47')](_0x2c9bd2[_0x3397('0x310')]);_0x102236[_0x3397('0x47')](_0x40373f(_0x2c9bd2[_0x3397('0x4e9')]));_0x102236['push'](_0x2c9bd2[_0x3397('0x357')]);if(_0x2c9bd2[_0x3397('0x2b2')]){_0x102236['push'](_0x2c9bd2[_0x3397('0x2b2')]['id']);_0x102236[_0x3397('0x47')](_0x2c9bd2[_0x3397('0x2b2')][_0x3397('0x71')]);}else{_0x102236[_0x3397('0x47')](null,null,null);}}else{_0x102236[_0x3397('0x47')](null,null,null,null,null,null,null,null);}};const _0x2f4038=[_0x83b855['id'],_0x83b855[_0x3397('0x308')],_0x83b855[_0x3397('0x71')]];if(_0x83b855[_0x3397('0x30f')]&&_0x83b855[_0x3397('0x30f')][_0x3397('0x76')]>0x0){_0x83b855[_0x3397('0x30f')]['forEach'](_0x5c9781=>{const _0x3a3582=_0x2f4038['slice'](0x0);_0x1dbe25(_0x3a3582,_0x5c9781);_0x100722['push'](_0x3a3582);});}else{_0x1dbe25(_0x2f4038,null);_0x100722[_0x3397('0x47')](_0x2f4038);}const _0xf433c0=_0x100722[_0x3397('0x56')](_0x2f79c0=>'\x22'+_0x2f79c0['join'](_0x3397('0x4ea'))+'\x22')['join']('\x0d\x0a');return{'ts':_0x83b855,'output':_0xf433c0};}};const _0x230720=(_0x512cfa,_0x30e3f1,_0xb58067)=>{const _0x146ba6=_0x30e3f1['pubsub'][_0x3397('0x49a')]('TEST_SESSION_PROGRESS');(async function loop(){while(!![]){const {value}=await _0x146ba6[_0x3397('0x4eb')]();if(value[_0x3397('0x49b')]&&value[_0x3397('0x49b')][_0x3397('0x308')]&&value[_0x3397('0x49b')]['id']===_0x512cfa){_0x165c09(_0x3397('0x471')+_0x512cfa+'\x20got\x20status:\x20'+value[_0x3397('0x49b')][_0x3397('0x308')]);if(value[_0x3397('0x49b')][_0x3397('0x308')]==='READY'){return _0xb58067();}if(value['testSessionProgress'][_0x3397('0x308')]===_0x3397('0x30a')){return _0xb58067();}}}}());};const _0x58094e=(_0x5ecd52,_0x2d8176,_0x54089d,_0x3c9320)=>{const _0x25cf48=_0x493e17(_0x54089d,_0x3397('0x4ec'));if(_0x5ecd52[_0x3397('0x308')]!==_0x3397('0x309')&&_0x5ecd52[_0x3397('0x308')]!==_0x3397('0x30a')&&_0x25cf48==='1'){_0x230720(_0x5ecd52['id'],_0x2d8176,()=>_0x5acd7d(_0x5ecd52['id'],_0x2d8176,_0x54089d,_0x3c9320));}else{_0x5acd7d(_0x5ecd52['id'],_0x2d8176,_0x54089d,_0x3c9320);}};const _0x277fa3=(_0x531ac8,_0x565ef7,_0x9c10d0)=>{const _0x3b8c41=_0x493e17(_0x9c10d0,_0x3397('0x4ed'));const _0x2fbd67=_0x493e17(_0x9c10d0,_0x3397('0x4ee'))||_0x3397('0x4ef');const _0x70d845=_0x493e17(_0x9c10d0,_0x3397('0x4d0'));if(_0x3b8c41){if(_0x531ac8[_0x3397('0x308')]!=='READY'&&_0x531ac8['status']!==_0x3397('0x30a')){_0x230720(_0x531ac8['id'],_0x565ef7,()=>_0x528c93(_0x531ac8['id'],_0x565ef7,_0x3b8c41,_0x2fbd67,_0x70d845));}else{_0x528c93(_0x531ac8['id'],_0x565ef7,_0x3b8c41,_0x2fbd67,_0x70d845);}}};const _0x2a8aea=({ctxFactory,testProjectCode,req,res})=>{if(!_0x170d29(req,res))return;const _0x32a1b9=_0x14b7ef(req);_0x32a1b9['db'][_0x3397('0x51')][_0x3397('0x321')]({'where':{'code':testProjectCode}},_0x3397('0x470'))[_0x3397('0x4b')](_0x4e9815=>{if(!_0x4e9815){throw new Error(_0x3397('0x471')+testProjectCode+_0x3397('0x472'));}const _0x37009e=_0x493e17(req,_0x3397('0x4f0'));const _0x1dab65=_0x493e17(req,_0x3397('0x4f1'));const _0x1cc1cb=_0x493e17(req,'TAG');const _0x5d17ce=_0x5ccec9=>{return Object[_0x3397('0x270')](_0x5ccec9)[_0x3397('0x2be')]((_0xd72040,_0x407638)=>{_0xd72040[_0x3397('0x47')]({'name':_0x407638,'type':_0x3397('0x4f2'),'stringValue':_0x5ccec9[_0x407638]});return _0xd72040;},[]);};const _0x1e2861=req['body']&&req[_0x3397('0x4aa')][_0x3397('0x4f3')]&&_0x5d17ce(req[_0x3397('0x4aa')][_0x3397('0x4f3')])||[];const _0x2688d3=req[_0x3397('0x4aa')]&&req[_0x3397('0x4aa')][_0x3397('0x4f4')]&&_0x5d17ce(req[_0x3397('0x4aa')][_0x3397('0x4f4')])||[];const _0x263556=req[_0x3397('0x4aa')]&&req[_0x3397('0x4aa')]['ENVS']&&_0x5d17ce(req[_0x3397('0x4aa')][_0x3397('0x4f5')])||[];const _0x57a246={'name':_0x37009e||_0x4e9815[_0x3397('0x71')]+_0x3397('0x473'),'description':_0x1dab65,'status':_0x3397('0x328'),'tags':{'set':_0x1cc1cb?_0x5087e3[_0x3397('0x2ec')](_0x1cc1cb)?_0x1cc1cb:[_0x1cc1cb]:[]},'chatbot':{'connect':{'id':_0x4e9815[_0x3397('0x31e')]['id']}},'testSets':{'connect':_0x4e9815[_0x3397('0x326')]&&_0x4e9815[_0x3397('0x326')][_0x3397('0x56')](_0x27bad5=>{return{'id':_0x27bad5['id']};})},'deviceSets':{'connect':_0x4e9815[_0x3397('0x334')]&&_0x4e9815[_0x3397('0x334')][_0x3397('0x56')](_0x280ed4=>{return{'id':_0x280ed4['id']};})},'testProject':{'connect':{'id':_0x4e9815['id']}},'capabilities':{'create':_0x1e2861},'sources':{'create':_0x2688d3},'envs':{'create':_0x263556},'batchCount':_0x4e9815[_0x3397('0x4f6')]};if(_0x4e9815[_0x3397('0x2fd')]){_0x57a246[_0x3397('0x2fd')]={'connect':{'id':_0x4e9815[_0x3397('0x2fd')]['id']}};}_0x165c09(_0x3397('0x4f7')+JSON[_0x3397('0x273')](_0x57a246,null,0x2));return _0xf41620(null,{'testSession':_0x57a246},_0x32a1b9,_0x3397('0x4f8'));})[_0x3397('0x4b')](_0x5019bc=>{_0x58094e(_0x5019bc,_0x32a1b9,req,res);_0x277fa3(_0x5019bc,_0x32a1b9,req);})[_0x3397('0x4e')](_0xd55f1c=>{_0x165c09(_0x3397('0x4f9')+testProjectCode+'\x20-\x20'+_0xd55f1c);res[_0x3397('0x4c4')](0x194);});};const _0x195712=({ctxFactory,nameOrId,req,res})=>{if(!_0x170d29(req,res))return;const _0x89acdc=_0x14b7ef(req);_0x89acdc['db'][_0x3397('0x51')][_0x3397('0x3e0')]({'where':{'OR':[{'id':nameOrId},{'name':nameOrId}]},'orderBy':_0x3397('0x3df'),'first':0x1},_0x3397('0x4fa'))[_0x3397('0x4b')](_0x582b5f=>{if(!_0x582b5f){return res['sendStatus'](0x194);}const _0x519c57=_0x582b5f[0x0];_0x58094e(_0x519c57,_0x89acdc,req,res);_0x277fa3(_0x519c57,_0x89acdc,req);})[_0x3397('0x4e')](_0x2885dc=>{_0x165c09(_0x3397('0x4db')+nameOrId+'\x20-\x20'+_0x2885dc);res['sendStatus'](0x194);});};const _0x34e36a=({ctxFactory,nameOrId,req,res})=>{const _0x35672f=_0x14b7ef(req);_0x35672f['db'][_0x3397('0x51')][_0x3397('0x3e0')]({'where':{'OR':[{'id':nameOrId},{'name':nameOrId}]},'orderBy':_0x3397('0x3df'),'first':0x1},_0x3397('0x4fb'))[_0x3397('0x4b')](_0x54008e=>{if(!_0x54008e){return res[_0x3397('0x4c4')](0x194);}const _0x4a9234=_0x54008e[0x0];res[_0x3397('0x4fc')](_0x3397('0x4dc'),_0x3397('0x4fd'));if(_0x4a9234['jobs']){_0x4a9234[_0x3397('0x30c')][_0x3397('0x4d')](_0x194024=>{res[_0x3397('0x4fe')](_0x3397('0x4ff')+_0x194024['id']+')\x0a');if(_0x194024[_0x3397('0x500')]){_0x194024[_0x3397('0x500')]['forEach'](_0x4477f2=>{res[_0x3397('0x4fe')](_0x4477f2[_0x3397('0x439')]+':\x20'+_0x4477f2[_0x3397('0x3a')]+'\x0a');});}res[_0x3397('0x4fe')]('\x0a\x0a');res[_0x3397('0x4fe')](_0x3397('0x501'));res[_0x3397('0x4fe')](_0x3397('0x501'));res[_0x3397('0x4fe')](_0x3397('0x501'));res[_0x3397('0x4fe')]('\x0a\x0a');});}res[_0x3397('0x308')](0xc8)['end']();})['catch'](_0x3dde41=>{_0x165c09(_0x3397('0x4db')+nameOrId+_0x3397('0x3de')+_0x3dde41);res[_0x3397('0x4c4')](0x194);});};const _0x34c017=({ctxFactory,id,req,res})=>{const _0x4e75da=_0x14b7ef(req);_0x4e75da['db'][_0x3397('0x51')]['testSessionJob']({'where':{'id':id},'orderBy':'createdAt_ASC'},_0x3397('0x502'))['then'](_0xf755bd=>{if(!_0xf755bd){return res[_0x3397('0x4c4')](0x194);}res[_0x3397('0x4fc')]('Content-Type',_0x3397('0x4fd'));if(_0xf755bd[_0x3397('0x500')]){_0xf755bd['logs'][_0x3397('0x4d')](_0x3e9536=>{res['write'](_0x3e9536['createdAt']+':\x20'+_0x3e9536[_0x3397('0x3a')]+'\x0a');});}res[_0x3397('0x308')](0xc8)[_0x3397('0x503')]();})['catch'](_0x1244ff=>{_0x165c09(_0x3397('0x504')+id+_0x3397('0x3de')+_0x1244ff);res[_0x3397('0x4c4')](0x194);});};const _0x2616e1=({ctxFactory,nameOrId,req,res})=>{const _0xa84e45=_0x14b7ef(req);_0xa84e45['db'][_0x3397('0x51')]['testSessions']({'where':{'OR':[{'id':nameOrId},{'name':nameOrId}]},'orderBy':_0x3397('0x3df'),'first':0x1},_0x3397('0x505'))[_0x3397('0x4b')](_0x50e2ac=>{if(!_0x50e2ac){return res[_0x3397('0x4c4')](0x194);}const _0x2252a6=_0x50e2ac[0x0];const _0x3b0cf7=_0x493e17(req,_0x3397('0x4d0'))||_0x3397('0x4bc');delete _0x2252a6[_0x3397('0x30f')];_0x2252a6['results']&&_0x2252a6[_0x3397('0x30f')][_0x3397('0x4d')](_0x1765ee=>{_0x1765ee[_0x3397('0x359')]&&_0x1765ee['steps'][_0x3397('0x4d')](_0xe79bf7=>{if(_0xe79bf7['actual']&&_0x5087e3[_0x3397('0x35b')](_0xe79bf7[_0x3397('0x35d')]))_0xe79bf7[_0x3397('0x35d')]=JSON[_0x3397('0x33a')](_0xe79bf7[_0x3397('0x35d')]);if(_0xe79bf7[_0x3397('0x35a')]&&_0x5087e3[_0x3397('0x35b')](_0xe79bf7['expected']))_0xe79bf7[_0x3397('0x35a')]=JSON[_0x3397('0x33a')](_0xe79bf7['expected']);});});if(_0x3b0cf7===_0x3397('0x4bc')){res[_0x3397('0x4d5')](_0x3397('0x4d6'),'attachment;\x20filename='+_0xed50bd(_0x2252a6[_0x3397('0x71')])+'.json');res['status'](0xc8)[_0x3397('0x4d3')](_0x2252a6);}else if(_0x3b0cf7===_0x3397('0x4d2')){const _0x4e2ef2=[];_0x4e2ef2['push'](['testSessionId',_0x3397('0x4e1'),'testSessionName',_0x3397('0x506'),'testCaseName','testCaseCreatedAt',_0x3397('0x4e4'),_0x3397('0x4e5'),'testCaseDuration',_0x3397('0x507'),_0x3397('0x508'),'convoStepActual',_0x3397('0x509'),_0x3397('0x50a'),_0x3397('0x50b'),_0x3397('0x50c'),_0x3397('0x50d')]);const _0x5a46e7=(_0x11d79e,_0x2ea177)=>{if(_0x2ea177){_0x11d79e[_0x3397('0x47')](_0x2ea177['id']);_0x11d79e[_0x3397('0x47')](_0x2ea177[_0x3397('0x4e8')]);_0x11d79e['push'](_0x2ea177[_0x3397('0x439')]);_0x11d79e[_0x3397('0x47')](_0x2ea177[_0x3397('0x310')]);_0x11d79e[_0x3397('0x47')](_0x40373f(_0x2ea177[_0x3397('0x4e9')]));_0x11d79e[_0x3397('0x47')](_0x2ea177[_0x3397('0x357')]);}else{_0x11d79e[_0x3397('0x47')](null,null,null,null,null,null);}};const _0x1e8972=_0x449eb8=>{if(_0x449eb8[_0x3397('0x28b')]==='me'){if(_0x449eb8[_0x3397('0x50e')]&&_0x449eb8[_0x3397('0x50e')]['length']>0x0){return _0x3397('0x50f')+(_0x449eb8[_0x3397('0x50e')][0x0]['payload']||_0x449eb8[_0x3397('0x50e')][0x0][_0x3397('0x510')]);}if(_0x449eb8[_0x3397('0x511')]&&_0x449eb8[_0x3397('0x511')][_0x3397('0x76')]>0x0){return'MEDIA\x20'+_0x449eb8[_0x3397('0x511')][0x0][_0x3397('0x512')];}}return _0x449eb8['messageText'];};const _0xe08cf7=(_0x3c4987,_0x2a5efa)=>{if(_0x2a5efa){_0x3c4987['push'](_0x2a5efa[_0x3397('0x513')]);_0x3c4987['push'](_0x2a5efa[_0x3397('0x35d')]&&_0x2a5efa[_0x3397('0x35d')]['sender']);_0x3c4987[_0x3397('0x47')](_0x2a5efa[_0x3397('0x35d')]&&_0x40373f(_0x1e8972(_0x2a5efa[_0x3397('0x35d')])));_0x3c4987[_0x3397('0x47')](_0x2a5efa[_0x3397('0x35c')]);_0x3c4987[_0x3397('0x47')](_0x2a5efa[_0x3397('0x35a')]&&_0x40373f(_0x1e8972(_0x2a5efa['expected'])));_0x3c4987[_0x3397('0x47')](_0x2a5efa[_0x3397('0x514')]);_0x3c4987[_0x3397('0x47')](_0x2a5efa[_0x3397('0x515')]);_0x3c4987['push'](_0x40373f(_0x2a5efa[_0x3397('0x4e9')]));}else{_0x3c4987[_0x3397('0x47')](null,null,null,null,null,null,null,null);}};const _0x29309e=[_0x2252a6['id'],_0x2252a6['status'],_0x2252a6['name']];if(_0x2252a6[_0x3397('0x30f')]&&_0x2252a6['results']['length']>0x0){_0x2252a6[_0x3397('0x30f')][_0x3397('0x4d')](_0x18f788=>{const _0x2d2091=_0x29309e['slice'](0x0);_0x5a46e7(_0x2d2091,_0x18f788);if(_0x18f788[_0x3397('0x359')]&&_0x18f788['steps'][_0x3397('0x76')]>0x0){_0x18f788[_0x3397('0x359')][_0x3397('0x4d')](_0x3dd092=>{const _0x278373=_0x2d2091['slice'](0x0);_0xe08cf7(_0x278373,_0x3dd092);_0x4e2ef2[_0x3397('0x47')](_0x278373);});}else{_0xe08cf7(_0x2d2091,null);_0x4e2ef2[_0x3397('0x47')](_0x2d2091);}});}else{_0x5a46e7(_0x29309e,null);_0xe08cf7(_0x29309e,null);_0x4e2ef2[_0x3397('0x47')](_0x29309e);}const _0x4dbe22=_0x4e2ef2[_0x3397('0x56')](_0x312d49=>'\x22'+_0x312d49['join'](_0x3397('0x4ea'))+'\x22')[_0x3397('0x85')]('\x0d\x0a');res[_0x3397('0x4d5')](_0x3397('0x4d6'),'attachment;\x20filename='+_0xed50bd(_0x2252a6[_0x3397('0x71')])+'.csv');res['status'](0xc8)[_0x3397('0x4d3')](_0x4dbe22);}else{res[_0x3397('0x4c4')](0x194)[_0x3397('0x4d3')](_0x3397('0x516'));}res['status'](0xc8)['end']();})[_0x3397('0x4e')](_0xc72e11=>{_0x165c09('Test\x20Session\x20lookup\x20error\x20-\x20'+nameOrId+_0x3397('0x3de')+_0xc72e11);res[_0x3397('0x4c4')](0x194);});};var _0x48e324=(_0x2783c9,_0x38ec3a)=>{const _0x37990e=(_0x550212,_0x5291f7)=>{_0x2a8aea({'testProjectCode':_0x550212[_0x3397('0x4c0')]['code'],'ctxFactory':_0x38ec3a,'req':_0x550212,'res':_0x5291f7});};const _0x4cd42b=(_0x356284,_0x2af5b7)=>{_0x195712({'nameOrId':_0x356284[_0x3397('0x4c0')][_0x3397('0x517')],'ctxFactory':_0x38ec3a,'req':_0x356284,'res':_0x2af5b7});};const _0x464773=(_0x59a562,_0x1025c1)=>{_0x34e36a({'nameOrId':_0x59a562[_0x3397('0x4c0')][_0x3397('0x517')],'ctxFactory':_0x38ec3a,'req':_0x59a562,'res':_0x1025c1});};const _0xab758e=(_0x4e8b2f,_0x1a334f)=>{_0x34c017({'id':_0x4e8b2f[_0x3397('0x4c0')]['id'],'ctxFactory':_0x38ec3a,'req':_0x4e8b2f,'res':_0x1a334f});};const _0x410301=(_0x163f67,_0xad85fe)=>{_0x2616e1({'nameOrId':_0x163f67[_0x3397('0x4c0')][_0x3397('0x517')],'ctxFactory':_0x38ec3a,'req':_0x163f67,'res':_0xad85fe});};_0x2783c9[_0x3397('0x518')](_0x3397('0x519'),_0x37990e);_0x2783c9[_0x3397('0x42')]('/api/triggerbuild/:code',_0x37990e);_0x2783c9['get'](_0x3397('0x51a'),_0x4cd42b);_0x2783c9[_0x3397('0x42')](_0x3397('0x51b'),_0x464773);_0x2783c9[_0x3397('0x42')]('/api/joblog/:id',_0xab758e);_0x2783c9[_0x3397('0x42')]('/api/transcript/:nameOrId',_0x410301);};var _0x307575=(_0x404fa5,_0x158db1)=>{_0x404fa5[_0x3397('0x42')](_0x3397('0x51c'),(_0x3f8abc,_0x35c62a)=>{_0x35c62a[_0x3397('0x308')](0xc8)[_0x3397('0x4d3')](_0x19fd03['buildInfo']);});};const _0x4ae8f3=(_0x1149b8,_0x2e169e,_0x5b68ef,_0x552f5f)=>{if(!_0x2e169e[_0x3397('0x407')]&&!_0x2e169e[_0x3397('0x3d3')])return _0x5b68ef[_0x3397('0x4c4')](0x191);else return _0x552f5f();};var _0x1569ba=async(_0xfa837f,_0x3ad184)=>{await _0x5ceeb9(_0xfa837f,_0x3ad184);_0xfa837f[_0x3397('0x4b3')](_0x11aa75[_0x3397('0x4bc')]({'limit':_0x3397('0x51d'),'extended':!![]}));_0xfa837f[_0x3397('0x4b3')]([_0x3397('0x51e'),_0x3397('0x51f'),'/api/triggerbuild/*',_0x3397('0x520'),_0x3397('0x521'),_0x3397('0x522')],_0x4ae8f3[_0x3397('0x4bd')](null,_0x3ad184));_0x19867c(_0xfa837f,_0x3ad184);_0x48e324(_0xfa837f,_0x3ad184);_0x307575(_0xfa837f,_0x3ad184);};_0x244489['config']();_0x19fd03['printVersion']();const {GraphQLServer}=_0x328356;const {RedisPubSub}=_0x147272;const {Prisma}=_0x166150;const {validateToken:validateToken$1}=_0x301af3;const _0x440471=_0x3ac7e8(_0x3397('0x523'));const _0x2b939f=()=>{return new Prisma({'typeDefs':process[_0x3397('0x282')][_0x3397('0x524')]||_0x3397('0x525'),'endpoint':process[_0x3397('0x282')][_0x3397('0x526')],'debug':process[_0x3397('0x282')][_0x3397('0x527')],'secret':process[_0x3397('0x282')][_0x3397('0x528')]});};const _0x58f279=(_0x59cd97,_0x420b03)=>{if(_0x59cd97)console[_0x3397('0x3a')](_0x59cd97);if(_0x420b03)console[_0x3397('0x3a')](_0x420b03);process[_0x3397('0x529')](0x1);};let _0x3210cd={};if(process[_0x3397('0x282')][_0x3397('0x52a')]){try{_0x3210cd=JSON[_0x3397('0x33a')](process['env']['BOTIUMBOX_QUEUE_SETTINGS']);_0x440471(_0x3397('0x52b')+JSON[_0x3397('0x273')](_0x3210cd)+'\x27');}catch(_0x10e5e9){_0x58f279('ERROR\x20parsing\x20queue\x20settings\x20\x22'+process[_0x3397('0x282')]['BOTIUMBOX_QUEUE_SETTINGS']+'\x22:',_0x10e5e9);}}else{if(process[_0x3397('0x282')]['BOTIUMBOX_QUEUE_PREFIX']){_0x3210cd[_0x3397('0x52c')]=process[_0x3397('0x282')][_0x3397('0x52d')];}if(process[_0x3397('0x282')][_0x3397('0x52e')]){_0x3210cd['redis']=process[_0x3397('0x282')][_0x3397('0x52e')];}}_0x440471(_0x3397('0x52f')+JSON[_0x3397('0x273')](_0x3210cd)+'\x27');const _0x3bb3fb=_0x5a59a4['createQueue'](_0x3210cd);_0x3bb3fb[_0x3397('0x530')](0x3e8);_0x3bb3fb['watchStuckJobs']();_0x3bb3fb['on'](_0x3397('0x397'),_0x1a1d00=>{_0x58f279('ERROR\x20connecting\x20to\x20queue\x20\x27'+JSON[_0x3397('0x273')](_0x3210cd)+'\x27:',_0x1a1d00);});process['env']['BOTIUM_TEMPDIR']=process[_0x3397('0x282')][_0x3397('0x278')]||_0x3397('0x531');try{_0x196394[_0x3397('0x27a')](process[_0x3397('0x282')][_0x3397('0x278')]);_0x440471(_0x3397('0x532')+process[_0x3397('0x282')][_0x3397('0x278')]);}catch(_0x2313a9){_0x58f279('ERROR\x20verifying\x20BOTIUM_TEMPDIR\x20\x27'+process['env'][_0x3397('0x278')]+'\x27:',_0x2313a9);}process[_0x3397('0x282')]['TESTSETDIR']=process[_0x3397('0x282')][_0x3397('0x283')]||_0x3397('0x533');try{_0x196394[_0x3397('0x27a')](process['env'][_0x3397('0x283')]);_0x440471('Using\x20TESTSETDIR\x20'+process['env']['TESTSETDIR']);}catch(_0x24c3fa){_0x58f279(_0x3397('0x534')+process[_0x3397('0x282')][_0x3397('0x283')]+'\x27:',_0x24c3fa);}_0x2f4fa1['scanForTestSets'](_0x2b939f());const _0x194f12=new RedisPubSub({'connection':_0x3210cd[_0x3397('0x2ce')]});_0x194f12['ee']&&_0x194f12['ee'][_0x3397('0x530')]&&_0x194f12['ee']['setMaxListeners'](0x0);const _0x1cfe75=new _0x3ed425(0x3c*0x3c*0xc);const _0x14b7ef=_0x4a1454=>({..._0x4a1454||{},'db':_0x2b939f(),'queueConnector':_0x3bb3fb,'queueSettings':_0x3210cd,'pubsub':_0x194f12,'chartsCache':_0x1cfe75});const _0x215830=new GraphQLServer({'typeDefs':process['env'][_0x3397('0x535')]||_0x3397('0x536'),'resolvers':_0x171fa9,'resolverValidationOptions':{'requireResolversForResolveType':![]},'directiveResolvers':_0x2e967a,'context':_0x14b7ef});const _0x95b2af={'port':process[_0x3397('0x282')][_0x3397('0x537')]||0xfa0,'endpoint':'/graphql','subscriptions':{'path':_0x3397('0x538'),'onConnect':async(_0x274f65,_0x4e99bb,_0x2b8f9f)=>{if(_0x274f65[_0x3397('0x539')]){const _0x1d6ef1=await validateToken$1(_0x274f65['Authorization'],_0x2b939f());return{'user':_0x1d6ef1};}_0x440471('onConnect\x20called\x20without\x20authorization\x20token.\x20Denied.');throw new Error('Missing\x20auth\x20token!');},'onDisconnect':(_0x3b1c27,_0xbeb1f9)=>{}},'playground':_0x3397('0x53a')};const _0x127b79=()=>{(async()=>{await _0x456f6a(_0x215830[_0x3397('0x1d')],_0x95b2af,_0x14b7ef);await _0x1569ba(_0x215830['express'],_0x14b7ef);_0x215830['start'](_0x95b2af,({port})=>{const _0x441ebe=process[_0x3397('0x282')][_0x3397('0x53b')]?_0x3c3f22[_0x3397('0x44')](process['env']['BOTIUMBOX_STATIC_PATH']):_0x3c3f22[_0x3397('0x44')](_0x3c3f22[_0x3397('0x85')](__dirname,'../../client/build'));_0x215830['express'][_0x3397('0x4b3')](_0x2d5763());_0x215830[_0x3397('0x1d')]['use']('/',_0x5d2b47[_0x3397('0x53c')](_0x441ebe));console[_0x3397('0x3a')]('Server\x20started,\x20listening\x20on\x20port\x20'+port+_0x3397('0x53d')+_0x441ebe);});})();};_0x127b79();const _0x40a789=new _0xa2990b(_0x14b7ef);_0x40a789[_0x3397('0x390')]();const _0x285566=new _0x47d288(_0x14b7ef);_0x285566[_0x3397('0x390')]();_0x55bbfa[_0x3397('0x53e')](_0x14b7ef());process['on'](_0x3397('0x53f'),_0x11eb64=>{console[_0x3397('0x3a')](_0x3397('0x540'),_0x11eb64);console[_0x3397('0x3a')](_0x11eb64[_0x3397('0x541')]);});process['on'](_0x3397('0x542'),_0x3064ab=>{_0x440471(_0x3397('0x543'),_0x3064ab);});var _0xdfa28={};return _0xdfa28;}));