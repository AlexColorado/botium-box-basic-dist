var _0x4423=['DeviceProvider\x20type\x20','\x20not\x20supported\x20in\x20this\x20version','createDeviceProvider','DeviceProvider','DeviceProvider\x20not\x20found\x20','updateDeviceProvider','DeviceProvider\x20type\x20INTEGRATED\x20not\x20allowed\x20to\x20delete','deleteDeviceProvider','botium-box-server-mutation-deviceset','createDeviceSet','DeviceSet','DeviceSet\x20not\x20found\x20','updateDeviceSet','{\x20id\x20devices\x20{\x20id\x20}\x20}','deleteManyDeviceDescriptors','deleteDeviceSet','subscription','CREATED','UPDATED','testSessionJob','testSessionJobLog','testSessionTestCaseResult','Query','Mutation','Subscription','request.user','request.apiKey','Not\x20logged\x20in','Unauthorized,\x20incorrect\x20role','APIKEY','body','headers','Api\x20Key\x20found\x20-\x20','inspect','Api\x20Key\x20not\x20found\x20-\x20','JWT_AUTOLOGIN_USERNAME','Auto\x20login\x20user\x20','authorization','token','use','botium-box-server-endpoints-attachments','/api/attachment/excel/:id','params','getExcel','writeHead','attachment;\x20filename=','end','Excel\x20not\x20found\x20-\x20','sendStatus','Excel\x20lookup\x20error\x20-\x20','/api/attachment/screenshot/:id','getAttachment','inline;\x20filename=','Attachment\x20not\x20found\x20-\x20','Attachment\x20lookup\x20error\x20-\x20','findSimpleTestSessionResults','Test\x20Session\x20','json','send','unnamed','Content-Type','text/xml','VALID\x20REPORTER\x20OPTIONS:\x20json,\x20junit','Test\x20Session\x20lookup\x20error\x20-\x20','\x20got\x20status:\x20','Test\x20Project\x20','BUILDCOMMENT','TAG','CAPS','SOURCES','ENVS','\x20-\x20Test\x20Session','isArray','Creating\x20Test\x20Session\x20','{\x20id\x20status\x20}','Test\x20Project\x20start\x20error\x20-\x20','{\x20id\x20name\x20status\x20}','WAIT','code','nameOrId','post','/api/triggerbuild/:code','/api/build/:nameOrId','/api/version','buildInfo','50mb','/api/attachment/*','/api/build/*','/api/triggerbuild/*','bind','printVersion','botium-box-server-index','PRISMA_SCHEMA','src/generated/prisma.graphql','PRISMA_ENDPOINT','PRISMA_DEBUG','PRISMA_SECRET','BOTIUMBOX_QUEUE_SETTINGS','Got\x20queue\x20settings\x20\x27','ERROR\x20parsing\x20queue\x20settings\x20\x22','BOTIUMBOX_QUEUE_PREFIX','prefix','BOTIUMBOX_QUEUE_REDISURL','connecting\x20to\x20Botium\x20queue\x20\x27','./botiumwork','Using\x20BOTIUM_TEMPDIR\x20','ERROR\x20verifying\x20BOTIUM_TEMPDIR\x20\x27','./testsets','Using\x20TESTSETDIR\x20','ERROR\x20verifying\x20TESTSETDIR\x20\x27','scanForTestSets','GRAPHQL_SCHEMA','./src/schema.graphql','PORT','/graphql','/subscriptions','onConnect\x20called,\x20authorization\x20','Authorization','Missing\x20auth\x20token!','/playground','../../client/build','static','Server\x20started,\x20listening\x20on\x20port\x20','\x20for\x20incoming\x20requests,\x20static\x20files\x20served\x20from\x20','object','undefined','exports','async','url','better-queue','jsonwebtoken','watson-developer-cloud/assistant/v1','uuid/v1','botium-core','botium-core/src/scripting/Constants','slug','botium-core/src/Source','botium-core/src/Capabilities','mkdirp','botium-core/src/scripting/ScriptingProvider','botium-core/src/scripting/CompilerTxt','node-cache','request-promise-native','moment','path','slugify','bcryptjs','graphql-yoga','lodash.get','util','lodash','body-parser','dotenv-flow','prisma-binding','kue','connect-history-api-fallback','function','amd','botium-core/src/repos/GitRepo','require-all','rimraf','botium-core/src/Defaults','randomatic','debug','xml','express','betterQueue','v1$1','botiumCore','Source','GitRepo','Capabilities','Defaults','ScriptingProvider','CompilerTxt','nodeCache','expressJwt','lodash$1','bodyParser','prismaBinding','connectHistoryApiFallback','default','hasOwnProperty','COMMUNITY\x20EDITION','feature/BOT-179_Heroku','3f8beb266fdcac2de050241e09325bbd7cada88e','log','BUILD_TARGET:\x20','BUILD_BRANCH:\x20','buildBranch','BUILD_REVISION:\x20','buildRevision','BUILD_TIMESTAMP:\x20','buildDate','botium-testset-scanner','env','resolve','TESTSETDIR_PUBLIC','readdirSync','join','push','isFile','query','testSetFolders','{\x20id\x20name\x20testSet\x20{\x20id\x20name\x20}\x20}','length','Folder\x20','\x20already\x20in\x20use\x20-\x20','name','\x20in\x20Test\x20Set\x20','testSet','\x20...','scanDirForTestSets\x20','\x20found\x20','forEach','\x20files.\x20Importing\x20Test\x20Set.','Imported\x20from\x20directory\x20','\x20files','split','createTestSet','{\x20id\x20}','TESTSETDIR','scanForTestSets\x20failed:\x20','testSessionTestCaseResultAttachment','{\x20id\x20name\x20mimeType\x20base64\x20}','testSetExcel','now','toISOString','apiKeys','{\x20id\x20name\x20}','then','testSession','data','group','invalid\x20agent\x20event,\x20name\x20or\x20group\x20not\x20given\x20','reject','agent','type','STRING','replace','intValue','BOOLEAN','parse','jsonValue','keys','botium-box-server-agents-heartbeat','findAgentFromJobData','{\x20id,\x20name\x20}','mutation','updateAgent','Agent\x20','\x20not\x20configured','catch','botium-box-server-agents-registeragent','{\x20id,\x20name,\x20capabilities\x20{\x20name,\x20stringValue\x20}\x20}','capabilities','expandConvos','expandUtterancesToConvos','expandUtterancesIncomprehension','scripts','filter','scriptType','SCRIPTING_TYPE_CONVO','SCRIPTING_FORMAT_TXT','SCRIPTING_TYPE_UTTERANCES','script','folders','map','globFilter','excels','filename','filecontent','hasConvos','hasUtterances','worksheetsConvos','worksheetsUtterances','startRow','startCol','botium-box-server-agents-testsession','findFullTestSession','testSessionId','startTestSession\x20','process','combineBotiumCapabilities','composeBotiumCapabilities','chatbot','testProject','\x20testSessionCaps:\x20','sources','stringify','envs','testSets','queueConnector','create','Processing\x20Job\x20#','\x20for\x20Test\x20Session\x20','removeOnComplete','delay','save','Saving\x20batchJob\x20failed:\x20','PENDING','{\x20id,\x20jobId\x20}','TestSessionJob\x20for\x20TestSession\x20','\x20registered\x20(jobId:\x20','deviceSets','reduce','devices','provider','SAUCELABS','assign','username','password','pathname','LOCALSELENIUM','host','port','INTEGRATED','\x20adding\x20capability\x20for\x20starting\x20integrated\x20PhantomJS','WEBDRIVERIO_START_PHANTOMJS','\x20testSessionDevices:\x20','sourceTag','deviceSetId','deviceName','cloneDeep','convos','repositories','deviceOptions','testSessionJobs','testSessionProgress:\x20Job\x20','\x20not\x20registered\x20as\x20test\x20session\x20job.\x20Skipping.','status','RUNNING','Test\x20Session\x20Job\x20','\x20set\x20Test\x20Session\x20','\x20RUNNING.','\x20RUNNING\x20failed:\x20','updateTestSessionJob','isNumber','\x20set\x20Test\x20Session\x20Job\x20progressPercent\x20','\x20failed:\x20','createTestSessionJobLog','\x20wrote\x20log:\x20','\x20write\x20log\x20failed:\x20','testcase','source','success','err','messages','isString','testSetFilename','testSetId','testSetScriptId','testSetScript','testSetRepositoryId','testSetRepository','testSetFolderId','testSetFolder','testSetExcelId','deviceSet','attachments','mimeType','base64','createTestSessionTestCaseResult','TestResult\x20for\x20TestCase\x20','\x20id:\x20','\x20in\x20TestSession\x20','\x20registration\x20failed:\x20','testSessionProgress\x20failed:\x20','{\x20id,\x20testSession\x20{\x20id\x20name\x20}\x20\x20}','testSessionJobCompleted:\x20Job\x20','READY','Job\x20completed','testSessionJobCompleted\x20createTestSessionJobLog\x20failed:\x20','testSessionJobFailed:\x20Job\x20','FAILED','testSessionJobFailed\x20createTestSessionJobLog\x20failed:\x20','\x20testSessionCheckFinished\x20','updateManyTestSessions','testSessionCheckFinished\x20','\x20sendSubscriptionProgress','{\x20id\x20name\x20status\x20jobs\x20{\x20id\x20progressPercent\x20}\x20}','pubsub','publish','TEST_SESSION_PROGRESS','botium-box-server-agents','ctxFactory','start','agent.heartbeat:\x20','agent.register:\x20','box.createprocessingjobs','box.createprocessingjobs:\x20','startTestSession','error','ERROR\x20connecting\x20to\x20queue:','job\x20enqueue','Job\x20','\x20got\x20queued\x20of\x20type\x20','jobProcessingQueue\x20error:\x20','job\x20error','job\x20complete','testSessionJobCompleted','\x20progress\x20','testSessionProgress','JWT_SECRET','JWT_AUDIENCE','JWT_ISSUER','botiumbox','sign','JWT_EXPIRY_DAYS','toString','verify','request','user','name_ASC','agents','chatbots','listWorkspaces','workspaces','description','workspace_id','botium-box-server-livechat','asyncIterator','Conversation\x20','\x20not\x20available.','{\x20id\x20name\x20capabilities\x20{\x20name\x20type\x20stringValue\x20intValue\x20booleanValue\x20jsonValue\x20}\x20}','liveChatStartBot(','MESSAGE_SENTTOBOT','MESSAGE_RECEIVEDFROMBOT','Build',')\x20container\x20built,\x20now\x20starting','Start',')\x20container\x20started.','liveChatSendToBot(',')\x20sending\x20convoStep\x20','UserSays','Stop','liveChatStopBot(',')\x20container\x20stopped.','liveChatSaveConvoSteps(',')\x20saving\x20test\x20case\x20for\x20test\x20set\x20','messageText','buttons','BUTTONS\x20','text','media','MEDIA\x20','mediaUri','cards','image','createTestSetScript',')\x20saved\x20test\x20case\x20for\x20test\x20set\x20','\x20-\x20','createdAt_DESC','testSessions','botium-retrieve-all-test-cases','format','SCRIPTING_FORMAT_XSLX','from','content',':\x20Convo\x20Script\x20compilation\x20failed:\x20','utterances','Compile',':\x20Utterance\x20script\x20compilation\x20failed:\x20','\x20script\x20compilation\x20failed:\x20','all','SCRIPTING_XLSX_SHEETNAMES','caps','SCRIPTING_XLSX_STARTROW','SCRIPTING_XLSX_STARTCOL','concat','metadata','typo','Unknown\x20ID:\x20','has','duplicate\x20utterance\x20:\x20<','>\x20created\x20by\x20','humanifiersToExecute','allHumanifiers','BOTIUM_TEMPDIR','{slugify(testSet.Name)}_CLONED_','Aa0','sync','Sources','size','bot','both','values','toHumanify','utterancesToHumanifyCount','writeFile','.utterances.txt','GetCompiler','Decompile','.convo.txt','neither','conversation','sender','add','delete','uniq','percentToHumanify','allUtteranceCount','There\x20is\x20already\x20an\x20utterance\x20','\x20in\x20the\x20testset!','Execute','humanifiedRefs','humanifiedRefCount','humanifiedUtterancesCount','duplicates','testSetScripts','Utterances','header','no\x20script\x20provided','testSetRepositories','possibleOptions','cache','get','delStartWith','indexOf','del','flush','flushAll','deviceProvider','https://saucelabs.com/rest/v1/info/platforms/all','device','short_version','DESKTOP','MOBILEBROWSER','ipad','api_name','Safari','iphone','iOS','Android','uniqBy','asc','PhantomJS\x20Virtual\x20Browser','phantomjs','Generic\x20Browser\x20(manually\x20set\x20capabilities)','chrome','--headless','--disable-gpu','testProjects','users','apiKey','TODAY','day','LASTWEEK','subtract','days','startOf','LASTMONTH','LAST2MONTHS','LAST2WEEKS','chartFailedCountByTestSetByDay_','isBefore','toDate','{\x20id\x20results\x20{\x20success\x20testSet\x20{\x20id\x20}\x20}\x20}','results','chartFailedCountByChatbotByDay_','{\x20id\x20results\x20{\x20success\x20}\x20}','ceil','chartTestSetResultCount_','{\x20id\x20createdAt\x20results\x20{\x20success\x20testSet\x20{\x20id\x20}\x20}\x20}','lastRun','createdAt','lastTestSessionId','testCaseLastTotalCount','testCaseLastSuccessCount','testCasePreviousSuccessRate','testCasePreviousTotalCount','testCasePreviousSuccessCount','testCaseTrend','GOOD','testCaseLastSuccessRate','orderBy','desc','chartTestProjectTrainingStatusByTestSet_','{\x20id\x20createdAt\x20results\x20{\x20success\x20testSet\x20{\x20id\x20name\x20}\x20}\x20}','totalCount','{\x20id\x20createdAt\x20results\x20{\x20success\x20deviceSet\x20{\x20id\x20name\x20}\x20}\x20}','successCount','failedCount','No\x20Device\x20Set','sortBy','Invalid\x20request','No\x20such\x20user\x20found:\x20','compare','Invalid\x20password','Agent\x20not\x20found\x20','createChatbot','exists','Chatbot','Chatbot\x20not\x20found\x20','updateChatbot','deleteChatbot','botium-box-server-mutation-testsession','createTestSession','Job\x20Creation\x20Job\x20for\x20Test\x20Session\x20','deleteManyTestSessionJobs','deleteManyTestSessionTestCaseResults','deleteTestSession','{id}','Error\x20deleting\x20test\x20session\x20','TestSet\x20not\x20found\x20','updateTestSet','deleteTestSet','TestSetScript','TestSetScript\x20not\x20found\x20','updateTestSetScript','deleteTestSetScript','createTestSetFolder','TestSetFolder\x20not\x20found\x20','updateTestSetFolder','deleteTestSetFolder','createTestSetExcel','updateTestSetExcel','deleteTestSetExcel','\x20\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20id\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20\x20\x20expandConvos\x0a\x20\x20\x20\x20\x20\x20expandUtterancesToConvos\x0a\x20\x20\x20\x20\x20\x20expandUtterancesIncomprehension\x0a\x20\x20\x20\x20\x20\x20tags\x0a\x20\x20\x20\x20\x20\x20scripts\x20{\x20id\x20script\x20scriptType\x20}\x0a\x20\x20\x20\x20\x20\x20repositories\x20{\x20id\x20giturl\x20gitbranch\x20gitdir\x20globFilter\x20}\x0a\x20\x20\x20\x20\x20\x20folders\x20{\x20id\x20path\x20globFilter\x20}\x0a\x20\x20\x20\x20\x20\x20excels\x20{\x20id\x20filename\x20filecontent\x20hasConvos\x20hasUtterances\x20worksheetsConvos\x20worksheetsUtterances\x20startRow\x20startCol\x20}\x0a\x20\x20\x20\x20}','CloneTestset','basename','\x20cloned\x20to\x20\x22','\x22,\x20Humanifiers\x20\x22','\x22,\x20percentage\x20','cloned','botium-box-server-mutation-testproject','createTestProject','{\x20id\x20name\x20chatbot\x20{\x20id\x20}\x20testSets\x20{\x20id\x20}\x20deviceSets\x20{\x20id\x20}\x20batchCount\x20}','\x20-\x20Manual\x20Test\x20Session','Manual','batchCount','QuickStart','TestProject','TestProject\x20not\x20found\x20','updateTestProject','botium-box-server-mutation-settings','hash','roles','USER','User\x20not\x20found\x20','findIndex','ADMIN','Only\x20admin\x20can\x20update\x20users','admin','updateUser','Not\x20allowed\x20to\x20delete\x20user\x20\x22admin\x22','deleteUser','key','ApiKey\x20not\x20found\x20','updateApiKey','deleteApiKey','Error\x20deleting\x20ApiKey\x20','DeviceProvider\x20type\x20INTEGRATED\x20not\x20allowed\x20to\x20create'];(function(_0x2f184b,_0x150adb){var _0x66a54d=function(_0x51fe1d){while(--_0x51fe1d){_0x2f184b['push'](_0x2f184b['shift']());}};var _0x24e174=function(){var _0x3e7aea={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4e7625,_0x2112e6,_0xabda0d,_0x672f12){_0x672f12=_0x672f12||{};var _0x248277=_0x2112e6+'='+_0xabda0d;var _0x4c5bdc=0x0;for(var _0x4c5bdc=0x0,_0x4efb8a=_0x4e7625['length'];_0x4c5bdc<_0x4efb8a;_0x4c5bdc++){var _0x286ac2=_0x4e7625[_0x4c5bdc];_0x248277+=';\x20'+_0x286ac2;var _0x2a3620=_0x4e7625[_0x286ac2];_0x4e7625['push'](_0x2a3620);_0x4efb8a=_0x4e7625['length'];if(_0x2a3620!==!![]){_0x248277+='='+_0x2a3620;}}_0x672f12['cookie']=_0x248277;},'removeCookie':function(){return'dev';},'getCookie':function(_0x1e212d,_0x263f79){_0x1e212d=_0x1e212d||function(_0x1688bc){return _0x1688bc;};var _0x4d2e72=_0x1e212d(new RegExp('(?:^|;\x20)'+_0x263f79['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x5a3e42=function(_0x232cc7,_0x1c383e){_0x232cc7(++_0x1c383e);};_0x5a3e42(_0x66a54d,_0x150adb);return _0x4d2e72?decodeURIComponent(_0x4d2e72[0x1]):undefined;}};var _0x2d3fa5=function(){var _0x39b8f3=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x39b8f3['test'](_0x3e7aea['removeCookie']['toString']());};_0x3e7aea['updateCookie']=_0x2d3fa5;var _0xe4c3c4='';var _0x335e24=_0x3e7aea['updateCookie']();if(!_0x335e24){_0x3e7aea['setCookie'](['*'],'counter',0x1);}else if(_0x335e24){_0xe4c3c4=_0x3e7aea['getCookie'](null,'counter');}else{_0x3e7aea['removeCookie']();}};_0x24e174();}(_0x4423,0x7c));var _0x40a2=function(_0x2c3706,_0x337a06){_0x2c3706=_0x2c3706-0x0;var _0x307b43=_0x4423[_0x2c3706];return _0x307b43;};(function(_0x413678,_0x19ae4f){var _0x1a3c53=function(){var _0x230995=!![];return function(_0x51fbd6,_0x584a8e){var _0x28a7f1=_0x230995?function(){if(_0x584a8e){var _0x1af0af=_0x584a8e['apply'](_0x51fbd6,arguments);_0x584a8e=null;return _0x1af0af;}}:function(){};_0x230995=![];return _0x28a7f1;};}();var _0x5db441=_0x1a3c53(this,function(){var _0x2d8f05=function(){return'\x64\x65\x76';},_0x4b81bb=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x34a12b=function(){var _0x36c6a6=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x36c6a6['\x74\x65\x73\x74'](_0x2d8f05['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x33748d=function(){var _0x3e4c21=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x3e4c21['\x74\x65\x73\x74'](_0x4b81bb['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x5c685e=function(_0x3e3156){var _0x1e9e81=~-0x1>>0x1+0xff%0x0;if(_0x3e3156['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x1e9e81)){_0x292610(_0x3e3156);}};var _0x292610=function(_0x151bd2){var _0x558098=~-0x4>>0x1+0xff%0x0;if(_0x151bd2['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x558098){_0x5c685e(_0x151bd2);}};if(!_0x34a12b()){if(!_0x33748d()){_0x5c685e('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x5c685e('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x5c685e('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x5db441();typeof exports===_0x40a2('0x0')&&typeof module!==_0x40a2('0x1')?module[_0x40a2('0x2')]=_0x19ae4f(require(_0x40a2('0x3')),require(_0x40a2('0x4')),require(_0x40a2('0x5')),require(_0x40a2('0x6')),require(_0x40a2('0x7')),require(_0x40a2('0x8')),require(_0x40a2('0x9')),require('fs'),require(_0x40a2('0xa')),require(_0x40a2('0xb')),require(_0x40a2('0xc')),require('botium-core/src/repos/GitRepo'),require(_0x40a2('0xd')),require('require-all'),require(_0x40a2('0xe')),require('rimraf'),require('botium-core/src/Defaults'),require(_0x40a2('0xf')),require(_0x40a2('0x10')),require(_0x40a2('0x11')),require(_0x40a2('0x12')),require(_0x40a2('0x13')),require(_0x40a2('0x14')),require(_0x40a2('0x15')),require('randomatic'),require(_0x40a2('0x16')),require(_0x40a2('0x17')),require(_0x40a2('0x18')),require('express-jwt'),require(_0x40a2('0x19')),require(_0x40a2('0x1a')),require('debug'),require('xml'),require(_0x40a2('0x1b')),require(_0x40a2('0x1c')),require(_0x40a2('0x1d')),require('express'),require(_0x40a2('0x1e')),require(_0x40a2('0x1f'))):typeof define===_0x40a2('0x20')&&define[_0x40a2('0x21')]?define([_0x40a2('0x3'),_0x40a2('0x4'),_0x40a2('0x5'),_0x40a2('0x6'),_0x40a2('0x7'),_0x40a2('0x8'),_0x40a2('0x9'),'fs','botium-core/src/scripting/Constants',_0x40a2('0xb'),_0x40a2('0xc'),_0x40a2('0x22'),_0x40a2('0xd'),_0x40a2('0x23'),'mkdirp',_0x40a2('0x24'),_0x40a2('0x25'),_0x40a2('0xf'),_0x40a2('0x10'),'node-cache',_0x40a2('0x12'),_0x40a2('0x13'),_0x40a2('0x14'),'slugify',_0x40a2('0x26'),_0x40a2('0x16'),_0x40a2('0x17'),_0x40a2('0x18'),'express-jwt',_0x40a2('0x19'),_0x40a2('0x1a'),_0x40a2('0x27'),_0x40a2('0x28'),'body-parser','dotenv-flow',_0x40a2('0x1d'),_0x40a2('0x29'),_0x40a2('0x1e'),'connect-history-api-fallback'],_0x19ae4f):_0x413678['main']=_0x19ae4f(_0x413678[_0x40a2('0x3')],_0x413678[_0x40a2('0x4')],_0x413678[_0x40a2('0x2a')],_0x413678[_0x40a2('0x6')],_0x413678['v1'],_0x413678[_0x40a2('0x2b')],_0x413678[_0x40a2('0x2c')],_0x413678['fs'],_0x413678['Constants'],_0x413678[_0x40a2('0xb')],_0x413678[_0x40a2('0x2d')],_0x413678[_0x40a2('0x2e')],_0x413678[_0x40a2('0x2f')],_0x413678['requireAll'],_0x413678['mkdirp'],_0x413678['rimraf'],_0x413678[_0x40a2('0x30')],_0x413678[_0x40a2('0x31')],_0x413678[_0x40a2('0x32')],_0x413678[_0x40a2('0x33')],_0x413678['requestPromiseNative'],_0x413678[_0x40a2('0x13')],_0x413678[_0x40a2('0x14')],_0x413678[_0x40a2('0x15')],_0x413678['randomatic'],_0x413678['bcryptjs'],_0x413678['graphqlYoga'],_0x413678['lodash'],_0x413678[_0x40a2('0x34')],_0x413678[_0x40a2('0x19')],_0x413678[_0x40a2('0x35')],_0x413678[_0x40a2('0x27')],_0x413678['xml'],_0x413678[_0x40a2('0x36')],_0x413678['dotenvFlow'],_0x413678[_0x40a2('0x37')],_0x413678['express'],_0x413678[_0x40a2('0x1e')],_0x413678[_0x40a2('0x38')]);}(this,function(_0x3cb968,_0x57b19d,_0x561404,_0x1048ea,_0x55c8ba,_0x10bcfe,_0x5717e6,_0x1392b6,_0x2806b3,_0x2d358e,_0x5ead76,_0x4c5fb4,_0x1676f5,_0x48c798,_0x151fac,_0x359a31,_0x58d31c,_0x38575f,_0x3b7d8d,_0x2cdde6,_0x3298ab,_0x4d43ca,_0x5df23e,_0x58c4cc,_0x2b31e9,_0x6668cd,_0x24e8cc,_0x584e54,_0x4e26e0,_0x47ba14,_0x156ce6,_0x39fe11,_0x583e2d,_0x4e6310,_0x240c77,_0x2db107,_0x16a969,_0x3a393b,_0x185883){'use strict';_0x3cb968=_0x3cb968&&_0x3cb968['hasOwnProperty'](_0x40a2('0x39'))?_0x3cb968[_0x40a2('0x39')]:_0x3cb968;_0x57b19d=_0x57b19d&&_0x57b19d[_0x40a2('0x3a')](_0x40a2('0x39'))?_0x57b19d['default']:_0x57b19d;_0x561404=_0x561404&&_0x561404['hasOwnProperty'](_0x40a2('0x39'))?_0x561404[_0x40a2('0x39')]:_0x561404;_0x1048ea=_0x1048ea&&_0x1048ea[_0x40a2('0x3a')](_0x40a2('0x39'))?_0x1048ea[_0x40a2('0x39')]:_0x1048ea;_0x55c8ba=_0x55c8ba&&_0x55c8ba['hasOwnProperty'](_0x40a2('0x39'))?_0x55c8ba[_0x40a2('0x39')]:_0x55c8ba;_0x10bcfe=_0x10bcfe&&_0x10bcfe[_0x40a2('0x3a')](_0x40a2('0x39'))?_0x10bcfe[_0x40a2('0x39')]:_0x10bcfe;_0x5717e6=_0x5717e6&&_0x5717e6[_0x40a2('0x3a')](_0x40a2('0x39'))?_0x5717e6[_0x40a2('0x39')]:_0x5717e6;_0x1392b6=_0x1392b6&&_0x1392b6[_0x40a2('0x3a')](_0x40a2('0x39'))?_0x1392b6[_0x40a2('0x39')]:_0x1392b6;_0x2806b3=_0x2806b3&&_0x2806b3[_0x40a2('0x3a')](_0x40a2('0x39'))?_0x2806b3[_0x40a2('0x39')]:_0x2806b3;_0x2d358e=_0x2d358e&&_0x2d358e[_0x40a2('0x3a')](_0x40a2('0x39'))?_0x2d358e['default']:_0x2d358e;_0x5ead76=_0x5ead76&&_0x5ead76[_0x40a2('0x3a')]('default')?_0x5ead76[_0x40a2('0x39')]:_0x5ead76;_0x4c5fb4=_0x4c5fb4&&_0x4c5fb4[_0x40a2('0x3a')](_0x40a2('0x39'))?_0x4c5fb4[_0x40a2('0x39')]:_0x4c5fb4;_0x1676f5=_0x1676f5&&_0x1676f5[_0x40a2('0x3a')](_0x40a2('0x39'))?_0x1676f5[_0x40a2('0x39')]:_0x1676f5;_0x48c798=_0x48c798&&_0x48c798[_0x40a2('0x3a')](_0x40a2('0x39'))?_0x48c798['default']:_0x48c798;_0x151fac=_0x151fac&&_0x151fac[_0x40a2('0x3a')]('default')?_0x151fac[_0x40a2('0x39')]:_0x151fac;_0x359a31=_0x359a31&&_0x359a31[_0x40a2('0x3a')](_0x40a2('0x39'))?_0x359a31[_0x40a2('0x39')]:_0x359a31;_0x58d31c=_0x58d31c&&_0x58d31c[_0x40a2('0x3a')](_0x40a2('0x39'))?_0x58d31c['default']:_0x58d31c;_0x38575f=_0x38575f&&_0x38575f[_0x40a2('0x3a')](_0x40a2('0x39'))?_0x38575f['default']:_0x38575f;_0x3b7d8d=_0x3b7d8d&&_0x3b7d8d[_0x40a2('0x3a')](_0x40a2('0x39'))?_0x3b7d8d[_0x40a2('0x39')]:_0x3b7d8d;_0x2cdde6=_0x2cdde6&&_0x2cdde6[_0x40a2('0x3a')](_0x40a2('0x39'))?_0x2cdde6['default']:_0x2cdde6;_0x3298ab=_0x3298ab&&_0x3298ab[_0x40a2('0x3a')](_0x40a2('0x39'))?_0x3298ab[_0x40a2('0x39')]:_0x3298ab;_0x4d43ca=_0x4d43ca&&_0x4d43ca[_0x40a2('0x3a')](_0x40a2('0x39'))?_0x4d43ca[_0x40a2('0x39')]:_0x4d43ca;_0x5df23e=_0x5df23e&&_0x5df23e['hasOwnProperty']('default')?_0x5df23e[_0x40a2('0x39')]:_0x5df23e;_0x58c4cc=_0x58c4cc&&_0x58c4cc[_0x40a2('0x3a')](_0x40a2('0x39'))?_0x58c4cc['default']:_0x58c4cc;_0x2b31e9=_0x2b31e9&&_0x2b31e9[_0x40a2('0x3a')]('default')?_0x2b31e9[_0x40a2('0x39')]:_0x2b31e9;_0x6668cd=_0x6668cd&&_0x6668cd['hasOwnProperty'](_0x40a2('0x39'))?_0x6668cd[_0x40a2('0x39')]:_0x6668cd;_0x24e8cc=_0x24e8cc&&_0x24e8cc[_0x40a2('0x3a')]('default')?_0x24e8cc[_0x40a2('0x39')]:_0x24e8cc;_0x584e54=_0x584e54&&_0x584e54['hasOwnProperty'](_0x40a2('0x39'))?_0x584e54[_0x40a2('0x39')]:_0x584e54;_0x4e26e0=_0x4e26e0&&_0x4e26e0[_0x40a2('0x3a')](_0x40a2('0x39'))?_0x4e26e0['default']:_0x4e26e0;_0x47ba14=_0x47ba14&&_0x47ba14[_0x40a2('0x3a')](_0x40a2('0x39'))?_0x47ba14[_0x40a2('0x39')]:_0x47ba14;_0x156ce6=_0x156ce6&&_0x156ce6[_0x40a2('0x3a')](_0x40a2('0x39'))?_0x156ce6[_0x40a2('0x39')]:_0x156ce6;_0x39fe11=_0x39fe11&&_0x39fe11[_0x40a2('0x3a')]('default')?_0x39fe11[_0x40a2('0x39')]:_0x39fe11;_0x583e2d=_0x583e2d&&_0x583e2d[_0x40a2('0x3a')](_0x40a2('0x39'))?_0x583e2d[_0x40a2('0x39')]:_0x583e2d;_0x4e6310=_0x4e6310&&_0x4e6310[_0x40a2('0x3a')](_0x40a2('0x39'))?_0x4e6310[_0x40a2('0x39')]:_0x4e6310;_0x240c77=_0x240c77&&_0x240c77[_0x40a2('0x3a')](_0x40a2('0x39'))?_0x240c77[_0x40a2('0x39')]:_0x240c77;_0x2db107=_0x2db107&&_0x2db107[_0x40a2('0x3a')](_0x40a2('0x39'))?_0x2db107[_0x40a2('0x39')]:_0x2db107;_0x16a969=_0x16a969&&_0x16a969['hasOwnProperty'](_0x40a2('0x39'))?_0x16a969[_0x40a2('0x39')]:_0x16a969;_0x3a393b=_0x3a393b&&_0x3a393b[_0x40a2('0x3a')]('default')?_0x3a393b[_0x40a2('0x39')]:_0x3a393b;_0x185883=_0x185883&&_0x185883['hasOwnProperty'](_0x40a2('0x39'))?_0x185883[_0x40a2('0x39')]:_0x185883;const _0x47aab6={'buildTarget':_0x40a2('0x3b'),'buildBranch':_0x40a2('0x3c'),'buildRevision':_0x40a2('0x3d'),'buildDate':'2018-12-06T10:22:37+00:00'};const _0x50935b=()=>{console[_0x40a2('0x3e')]('BOTIUM\x20BOX\x20-\x20SERVER');console['log'](_0x40a2('0x3f')+_0x47aab6['buildTarget']);console[_0x40a2('0x3e')](_0x40a2('0x40')+_0x47aab6[_0x40a2('0x41')]);console[_0x40a2('0x3e')](_0x40a2('0x42')+_0x47aab6[_0x40a2('0x43')]);console[_0x40a2('0x3e')](_0x40a2('0x44')+_0x47aab6[_0x40a2('0x45')]);};var _0x30d4a5={'buildInfo':_0x47aab6,'printVersion':_0x50935b};const _0x3f053f=_0x39fe11(_0x40a2('0x46'));const _0x372295=(_0x1a7589,_0x2fa11f)=>{if(process[_0x40a2('0x47')]['TESTSETDIR_PUBLIC']){return _0x5df23e[_0x40a2('0x48')](process['env'][_0x40a2('0x49')],_0x2fa11f);}else{return _0x5df23e[_0x40a2('0x48')](_0x1a7589,_0x2fa11f);}};const _0x17fa94=(_0x3af45a,_0x2e432c)=>{return _0x1392b6[_0x40a2('0x4a')](_0x3af45a)['reduce']((_0x8cce8f,_0x2c5ff5)=>{const _0x2cf0da=_0x5df23e[_0x40a2('0x4b')](_0x3af45a,_0x2c5ff5);if(_0x2e432c(_0x2cf0da))_0x8cce8f[_0x40a2('0x4c')](_0x2c5ff5);return _0x8cce8f;},[]);};const _0x55549e=_0x10fd47=>{return _0x17fa94(_0x10fd47,_0x5814ef=>_0x1392b6['statSync'](_0x5814ef)['isDirectory']());};const _0x3247f0=_0x4c0523=>{return _0x17fa94(_0x4c0523,_0x5afa3e=>_0x1392b6['statSync'](_0x5afa3e)[_0x40a2('0x4d')]());};const _0x5e4df3=async(_0x3d649f,_0x4fa111)=>{let _0xd5ed90=await _0x3d649f[_0x40a2('0x4e')][_0x40a2('0x4f')]({'where':{'path':_0x4fa111}},_0x40a2('0x50'));if(!_0xd5ed90||_0xd5ed90[_0x40a2('0x51')]===0x0){_0xd5ed90=await _0x3d649f['query']['testSetFolders']({'where':{'path':_0x4fa111+'/'}},_0x40a2('0x50'));}if(_0xd5ed90&&_0xd5ed90[_0x40a2('0x51')]>0x0){_0x3f053f(_0x40a2('0x52')+_0x4fa111+_0x40a2('0x53')+_0xd5ed90[0x0][_0x40a2('0x54')]+_0x40a2('0x55')+_0xd5ed90[0x0][_0x40a2('0x56')][_0x40a2('0x54')]);return!![];}return![];};const _0x2e3d65=async(_0x5810a8,_0x2f0fce,_0x3c6c17)=>{const _0x22d4bb=_0x5df23e['join'](_0x2f0fce,_0x3c6c17);_0x3f053f('scanDirForTestSets\x20scanning\x20'+_0x22d4bb+_0x40a2('0x57'));const _0x3759b0=_0x55549e(_0x22d4bb);const _0x230246=_0x3247f0(_0x22d4bb);if(_0x3759b0&&_0x3759b0['length']>0x0){_0x3f053f(_0x40a2('0x58')+_0x3c6c17+_0x40a2('0x59')+_0x3759b0[_0x40a2('0x51')]+'\x20subdirectories\x20...');await _0x3759b0[_0x40a2('0x5a')](async _0x26a73a=>{const _0x4bba99=_0x372295(_0x2f0fce,_0x5df23e[_0x40a2('0x4b')](_0x3c6c17,_0x26a73a));const _0x2cbc92=await _0x5e4df3(_0x5810a8,_0x4bba99);if(_0x2cbc92)return;await _0x2e3d65(_0x5810a8,_0x2f0fce,_0x5df23e[_0x40a2('0x4b')](_0x3c6c17,_0x26a73a));});}else if(_0x230246&&_0x230246['length']>0x0){_0x3f053f(_0x40a2('0x58')+_0x3c6c17+'\x20found\x20'+_0x230246[_0x40a2('0x51')]+_0x40a2('0x5b'));const _0x1a08d5={'data':{'name':_0x3c6c17,'description':_0x40a2('0x5c')+_0x22d4bb+',\x20'+_0x230246['length']+_0x40a2('0x5d'),'expandConvos':!![],'expandUtterancesToConvos':!![],'tags':{'set':_0x3c6c17[_0x40a2('0x5e')](_0x5df23e['sep'])},'folders':{'create':[{'name':_0x3c6c17,'path':_0x372295(_0x2f0fce,_0x3c6c17)}]}}};const _0x17522c=await _0x5810a8['mutation'][_0x40a2('0x5f')](_0x1a08d5,_0x40a2('0x60'));_0x3f053f(_0x40a2('0x58')+_0x3c6c17+'\x20Created\x20Test\x20Set\x20'+_0x17522c['id']);}};var _0x4495c6=_0x253279=>{(async()=>{_0x2e3d65(_0x253279,process[_0x40a2('0x47')][_0x40a2('0x61')],'.');})()['catch'](_0xa703ea=>{_0x3f053f(_0x40a2('0x62')+_0xa703ea);});};var _0x10babe={'scanForTestSets':_0x4495c6};const _0x405da9=_0x39fe11('botium-box-server-agents-utils');var _0x5655ee=(_0x142367,_0x3200f7)=>{return _0x142367['query'][_0x40a2('0x63')]({'where':{'id':_0x3200f7}},_0x40a2('0x64'));};var _0x30a609=(_0x4b6d98,_0x5236f4)=>{return _0x4b6d98['query'][_0x40a2('0x65')]({'where':{'id':_0x5236f4}},'{\x20id\x20filename\x20filecontent\x20}');};var _0x2429a4=(_0x55c787,_0x5850f0)=>{const _0x58accc=new Date(Date[_0x40a2('0x66')]())[_0x40a2('0x67')]();if(!_0x5850f0)return;const _0x16c595={'where':{'AND':[{'key':_0x5850f0},{'OR':[{'validFrom':null},{'validFrom_lte':_0x58accc}]},{'OR':[{'validTo':null},{'validTo_gte':_0x58accc}]}]}};return _0x55c787[_0x40a2('0x4e')][_0x40a2('0x68')](_0x16c595,_0x40a2('0x69'))[_0x40a2('0x6a')](_0x447332=>{if(!_0x447332||_0x447332[_0x40a2('0x51')]===0x0)return null;return _0x447332[0x0];});};var _0x516870=(_0x13d47c,_0x5284c1)=>{return _0x13d47c['query'][_0x40a2('0x6b')]({'where':{'id':_0x5284c1}},'{\x20\x0a\x20\x20\x20\x20id\x20\x0a\x20\x20\x20\x20name\x20\x0a\x20\x20\x20\x20batchCount\x20\x0a\x20\x20\x20\x20chatbot\x20{\x20\x0a\x20\x20\x20\x20\x20\x20id\x20\x0a\x20\x20\x20\x20\x20\x20name\x20\x0a\x20\x20\x20\x20\x20\x20capabilities\x20{\x20name\x20type\x20stringValue\x20intValue\x20booleanValue\x20jsonValue\x20}\x20\x0a\x20\x20\x20\x20\x20\x20sources\x20{\x20name\x20type\x20stringValue\x20intValue\x20booleanValue\x20jsonValue\x20}\x20\x0a\x20\x20\x20\x20\x20\x20envs\x20{\x20name\x20type\x20stringValue\x20intValue\x20booleanValue\x20jsonValue\x20}\x20\x0a\x20\x20\x20\x20}\x20\x0a\x20\x20\x20\x20testSets\x20{\x20\x0a\x20\x20\x20\x20\x20\x20id\x20\x0a\x20\x20\x20\x20\x20\x20name\x20\x0a\x20\x20\x20\x20\x20\x20expandConvos\x0a\x20\x20\x20\x20\x20\x20expandUtterancesToConvos\x0a\x20\x20\x20\x20\x20\x20expandUtterancesIncomprehension\x0a\x20\x20\x20\x20\x20\x20scripts\x20{\x20id\x20script\x20scriptType\x20}\x20\x0a\x20\x20\x20\x20\x20\x20repositories\x20{\x20id\x20giturl\x20gitbranch\x20gitdir\x20globFilter\x20}\x20\x0a\x20\x20\x20\x20\x20\x20folders\x20{\x20id\x20path\x20globFilter\x20}\x0a\x20\x20\x20\x20\x20\x20excels\x20{\x20id\x20filename\x20filecontent\x20hasConvos\x20hasUtterances\x20worksheetsConvos\x20worksheetsUtterances\x20startRow\x20startCol\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20deviceSets\x20{\x20id\x20name\x20provider\x20{\x20id\x20name\x20type\x20url\x20username\x20password\x20}\x20devices\x20{\x20id\x20name\x20capabilities\x20}\x20}\x20\x0a\x20\x20\x20\x20testProject\x20{\x20id\x20name\x20capabilities\x20{\x20name\x20type\x20stringValue\x20intValue\x20booleanValue\x20jsonValue\x20}\x20}\x0a\x20\x20\x20\x20agent\x20{\x20id\x20name\x20}\x20\x0a\x20\x20\x20\x20capabilities\x20{\x20name\x20type\x20stringValue\x20intValue\x20booleanValue\x20jsonValue\x20}\x20\x0a\x20\x20\x20\x20sources\x20{\x20name\x20type\x20stringValue\x20intValue\x20booleanValue\x20jsonValue\x20}\x20\x0a\x20\x20\x20\x20envs\x20{\x20name\x20type\x20stringValue\x20intValue\x20booleanValue\x20jsonValue\x20}\x20\x0a\x20\x20\x20\x20}');};var _0xeeb053=(_0xd1f8cf,_0x3bdb7b)=>{return _0xd1f8cf['query'][_0x40a2('0x6b')]({'where':{'id':_0x3bdb7b}},'{\x20id\x20name\x20status\x0a\x20\x20\x20\x20results\x20{\x20id\x20testcaseName\x20testcaseSource\x20success\x20err\x20testSet\x20{\x20id\x20name\x20}\x20}\x20}');};var _0x308638=(_0x39a65,_0x2b0a4e,_0xbde6b2)=>{if(!_0x2b0a4e[_0x40a2('0x6c')][_0x40a2('0x54')]||!_0x2b0a4e[_0x40a2('0x6c')][_0x40a2('0x6d')]){const _0x4aa89f=_0x40a2('0x6e')+_0x2b0a4e[_0x40a2('0x6c')];_0x405da9(_0x4aa89f);return Promise[_0x40a2('0x6f')](_0x4aa89f);}return _0x39a65[_0x40a2('0x4e')][_0x40a2('0x70')]({'where':{'name':_0x2b0a4e['data'][_0x40a2('0x54')]}},_0xbde6b2);};var _0x56c6a6=_0x17c910=>{return _0x17c910&&_0x17c910['reduce']((_0x542e56,_0x543814)=>{if(_0x543814[_0x40a2('0x71')]===_0x40a2('0x72')||_0x543814[_0x40a2('0x71')]==='TEXT')_0x542e56[_0x543814[_0x40a2('0x54')]]=_0x543814['stringValue'][_0x40a2('0x73')](/\\n/g,'\x0a');if(_0x543814['type']==='INT')_0x542e56[_0x543814[_0x40a2('0x54')]]=parseInt(_0x543814[_0x40a2('0x74')]);if(_0x543814[_0x40a2('0x71')]===_0x40a2('0x75'))_0x542e56[_0x543814[_0x40a2('0x54')]]=_0x543814['booleanValue']?!![]:![];if(_0x543814[_0x40a2('0x71')]==='JSON')_0x542e56[_0x543814['name']]=JSON[_0x40a2('0x76')](_0x543814[_0x40a2('0x77')]);return _0x542e56;},{});};var _0x2c957c=(..._0xc58265)=>{const _0x551b2f={};_0xc58265&&_0xc58265[_0x40a2('0x5a')](_0x4755ac=>{_0x4755ac&&Object[_0x40a2('0x78')](_0x4755ac)[_0x40a2('0x5a')](_0xe59c58=>{_0x551b2f[_0xe59c58]=_0x4755ac[_0xe59c58];});});return _0x551b2f;};var _0xce309a={'getAttachment':_0x5655ee,'getExcel':_0x30a609,'lookupApiKey':_0x2429a4,'findFullTestSession':_0x516870,'findSimpleTestSessionResults':_0xeeb053,'findAgentFromJobData':_0x308638,'composeBotiumCapabilities':_0x56c6a6,'combineBotiumCapabilities':_0x2c957c};const _0x27fea9=_0x39fe11(_0x40a2('0x79'));var _0x228cdc=(_0x16974c,_0x18fbf9,_0x2365a7)=>{_0xce309a[_0x40a2('0x7a')](_0x16974c['db'],_0x18fbf9,_0x40a2('0x7b'))[_0x40a2('0x6a')](_0x4822a5=>{if(_0x4822a5){_0x16974c['db'][_0x40a2('0x7c')][_0x40a2('0x7d')]({'where':{'id':_0x4822a5['id']},'data':{'heartbeat':new Date(Date[_0x40a2('0x66')]())['toISOString']()}})[_0x40a2('0x6a')](()=>_0x2365a7());}else{const _0x5359bc=_0x40a2('0x7e')+_0x18fbf9[_0x40a2('0x6c')][_0x40a2('0x54')]+_0x40a2('0x7f');_0x27fea9(_0x5359bc);return _0x2365a7(_0x5359bc);}})[_0x40a2('0x80')](_0x14534f=>{return _0x2365a7(_0x14534f);});};const _0x28de70=_0x39fe11(_0x40a2('0x81'));var _0x457207=(_0x4c00c9,_0x45d01b,_0x4dd6a2)=>{_0xce309a[_0x40a2('0x7a')](_0x4c00c9['db'],_0x45d01b,_0x40a2('0x82'))[_0x40a2('0x6a')](_0x16ed5b=>{if(_0x16ed5b){const _0x439df8=_0xce309a['composeBotiumCapabilities'](_0x16ed5b[_0x40a2('0x83')]);const _0x4c27f4={'debug':![],'botium':{'Capabilities':_0x439df8}};_0x28de70('Agent\x20registered,\x20config:\x20'+JSON['stringify'](_0x4c27f4));return _0x4dd6a2(null,_0x4c27f4);}else{const _0x4b22d9=_0x40a2('0x7e')+_0x45d01b[_0x40a2('0x6c')][_0x40a2('0x54')]+'\x20not\x20configured';_0x28de70(_0x4b22d9);return _0x4dd6a2(_0x4b22d9);}})[_0x40a2('0x80')](_0x43a474=>{return _0x4dd6a2(_0x43a474);});};const _0x44b812=(_0x2f9d1f,_0xa408de)=>{return _0x2f9d1f['query'][_0x40a2('0x56')]({'where':{'id':_0xa408de}});};const _0x48cf8a=_0x12b0c2=>{return{'id':_0x12b0c2['id'],'name':_0x12b0c2[_0x40a2('0x54')],'expandConvos':_0x12b0c2[_0x40a2('0x84')],'expandUtterancesToConvos':_0x12b0c2[_0x40a2('0x85')],'expandUtterancesIncomprehension':_0x12b0c2[_0x40a2('0x86')],'convos':_0x12b0c2[_0x40a2('0x87')]&&_0x12b0c2['scripts'][_0x40a2('0x88')](_0x2543bb=>_0x2543bb[_0x40a2('0x89')]===_0x40a2('0x8a'))['map'](_0x20f7ce=>({'format':_0x40a2('0x8b'),'content':_0x20f7ce['script'],'sourceTag':{'testSetId':_0x12b0c2['id'],'testSetScriptId':_0x20f7ce['id']}})),'utterances':_0x12b0c2[_0x40a2('0x87')]&&_0x12b0c2[_0x40a2('0x87')][_0x40a2('0x88')](_0x2e8473=>_0x2e8473[_0x40a2('0x89')]===_0x40a2('0x8c'))['map'](_0x3cce50=>({'format':_0x40a2('0x8b'),'content':_0x3cce50[_0x40a2('0x8d')],'sourceTag':{'testSetId':_0x12b0c2['id'],'testSetScriptId':_0x3cce50['id']}})),'folders':_0x12b0c2[_0x40a2('0x8e')]&&_0x12b0c2[_0x40a2('0x8e')][_0x40a2('0x8f')](_0x2e2d97=>({'id':_0x2e2d97['id'],'path':_0x2e2d97['path'],'globFilter':_0x2e2d97[_0x40a2('0x90')],'sourceTag':{'testSetId':_0x12b0c2['id'],'testSetFolderId':_0x2e2d97['id']}})),'excels':_0x12b0c2[_0x40a2('0x91')]&&_0x12b0c2[_0x40a2('0x91')][_0x40a2('0x8f')](_0x522a41=>({'id':_0x522a41['id'],'filename':_0x522a41[_0x40a2('0x92')],'filecontent':_0x522a41[_0x40a2('0x93')],'hasConvos':_0x522a41[_0x40a2('0x94')],'hasUtterances':_0x522a41[_0x40a2('0x95')],'worksheetsConvos':_0x522a41[_0x40a2('0x96')],'worksheetsUtterances':_0x522a41[_0x40a2('0x97')],'startRow':_0x522a41[_0x40a2('0x98')],'startCol':_0x522a41[_0x40a2('0x99')],'sourceTag':{'testSetId':_0x12b0c2['id'],'testSetExcelId':_0x522a41['id']}}))};};var _0x137688={'FindFullTestSet':_0x44b812,'RetrieveTestSetDetails':_0x48cf8a};const {URL}=_0x57b19d;const _0x760ea0=_0x39fe11(_0x40a2('0x9a'));const {RetrieveTestSetDetails:RetrieveTestSetDetails$1}=_0x137688;var _0x5b6730=(_0x2b671b,_0x1dc893,_0x6f7c8d)=>{_0xce309a[_0x40a2('0x9b')](_0x2b671b['db'],_0x1dc893['data'][_0x40a2('0x9c')])[_0x40a2('0x6a')](_0x2bf373=>{if(!_0x2bf373){const _0xc0eeaf='Test\x20Session\x20'+_0x1dc893[_0x40a2('0x6c')]['testSessionId']+'\x20not\x20configured';_0x760ea0(_0xc0eeaf);return _0x6f7c8d(_0xc0eeaf);}_0x760ea0(_0x40a2('0x9d')+_0x2bf373['id']);const _0x23f9bc=_0x2bf373[_0x40a2('0x70')]?'process.'+_0x2bf373[_0x40a2('0x70')][_0x40a2('0x54')]:_0x40a2('0x9e');_0x760ea0(_0x40a2('0x9d')+_0x2bf373['id']+'\x20queueToSend:\x20'+_0x23f9bc);const _0x39acc2=_0xce309a[_0x40a2('0x9f')]({'PROJECTNAME':_0x2bf373[_0x40a2('0x54')]},_0xce309a[_0x40a2('0xa0')](_0x2bf373[_0x40a2('0xa1')][_0x40a2('0x83')]),_0x2bf373[_0x40a2('0xa2')]&&_0xce309a[_0x40a2('0xa0')](_0x2bf373[_0x40a2('0xa2')][_0x40a2('0x83')])||[],_0xce309a[_0x40a2('0xa0')](_0x2bf373['capabilities']));_0x760ea0(_0x40a2('0x9d')+_0x2bf373['id']+_0x40a2('0xa3')+JSON['stringify'](_0x39acc2));const _0x452544=_0xce309a[_0x40a2('0x9f')](_0xce309a[_0x40a2('0xa0')](_0x2bf373['chatbot'][_0x40a2('0xa4')]),_0xce309a['composeBotiumCapabilities'](_0x2bf373[_0x40a2('0xa4')]));_0x760ea0(_0x40a2('0x9d')+_0x2bf373['id']+'\x20testSessionSources:\x20'+JSON[_0x40a2('0xa5')](_0x452544));const _0x598233=_0xce309a[_0x40a2('0x9f')](_0xce309a[_0x40a2('0xa0')](_0x2bf373[_0x40a2('0xa1')][_0x40a2('0xa6')]),_0xce309a['composeBotiumCapabilities'](_0x2bf373[_0x40a2('0xa6')]));_0x760ea0(_0x40a2('0x9d')+_0x2bf373['id']+'\x20testSessionEnvs:\x20'+JSON[_0x40a2('0xa5')](_0x598233));const _0x281c5b=_0x2bf373[_0x40a2('0xa7')][_0x40a2('0x8f')](_0x4d0ae5=>RetrieveTestSetDetails$1(_0x4d0ae5));_0x760ea0(_0x40a2('0x9d')+_0x2bf373['id']+'\x20testSessionTestSets:\x20'+JSON[_0x40a2('0xa5')](_0x281c5b));const _0x2e5263=(_0x59dc77,_0x16620d)=>{const _0x5e55ce=_0x2bf373['batchCount']||0x1;let _0x1e6959=Promise[_0x40a2('0x48')]();for(let _0x2f9437=0x1;_0x2f9437<=_0x5e55ce;_0x2f9437++){const _0x441cc5=_0x2f9437;_0x1e6959=_0x1e6959[_0x40a2('0x6a')](()=>new Promise(_0x39ceba=>{const _0x588950=_0x2b671b[_0x40a2('0xa8')][_0x40a2('0xa9')](_0x23f9bc,{'title':_0x40a2('0xaa')+_0x441cc5+'/'+_0x5e55ce+_0x40a2('0xab')+_0x2bf373[_0x40a2('0x54')],'botium':{'Capabilities':_0x59dc77,'Sources':_0x452544,'Envs':_0x598233},'testSets':_0x16620d,'batchNum':_0x441cc5,'batchCount':_0x5e55ce})[_0x40a2('0xac')](!![])[_0x40a2('0xad')](0x1388)[_0x40a2('0xae')](_0xc0eeaf=>{if(_0xc0eeaf)return _0x760ea0(_0x40a2('0xaf')+_0xc0eeaf);const _0x6eefdf=_0x588950['id'];_0x2b671b['db']['mutation']['createTestSessionJob']({'data':{'jobId':_0x6eefdf,'status':_0x40a2('0xb0'),'progressPercent':0x0,'testSession':{'connect':{'id':_0x2bf373['id']}}}},_0x40a2('0xb1'))['then'](_0x17021a=>{_0x760ea0(_0x40a2('0xb2')+_0x2bf373[_0x40a2('0x54')]+_0x40a2('0xb3')+_0x6eefdf+'\x20id:\x20'+_0x17021a['id']+')');_0x39ceba();})['catch'](_0xc0eeaf=>{_0x760ea0(_0x40a2('0xb2')+_0x2bf373[_0x40a2('0x54')]+'\x20registration\x20failed\x20(jobId:\x20'+_0x6eefdf+'):\x20'+_0xc0eeaf);_0x39ceba();});});}));}return _0x1e6959;};if(_0x2bf373['deviceSets']&&_0x2bf373[_0x40a2('0xb4')][_0x40a2('0x51')]>0x0){const _0x38d687=_0x2bf373[_0x40a2('0xb4')][_0x40a2('0xb5')]((_0x1a87ec,_0x4e691e)=>{return[..._0x1a87ec,..._0x4e691e[_0x40a2('0xb6')]['map'](_0xcf56be=>{const _0x194280=_0x4e691e[_0x40a2('0xb7')][_0x40a2('0x4')]&&new URL(_0x4e691e['provider'][_0x40a2('0x4')]);if(_0x4e691e[_0x40a2('0xb7')][_0x40a2('0x71')]===_0x40a2('0xb8')){return{'deviceSetId':_0x4e691e['id'],'deviceName':_0xcf56be[_0x40a2('0x54')],'deviceOptions':{'desiredCapabilities':Object[_0x40a2('0xb9')]({},JSON[_0x40a2('0x76')](_0xcf56be[_0x40a2('0x83')]),{'name':_0x2bf373['name'],'username':_0x4e691e['provider'][_0x40a2('0xba')],'accessKey':_0x4e691e[_0x40a2('0xb7')][_0x40a2('0xbb')]}),'protocol':_0x194280&&_0x194280['protocol'],'host':_0x194280&&_0x194280['host'],'port':_0x194280&&_0x194280['port'],'path':_0x194280&&_0x194280[_0x40a2('0xbc')]}};}else if(_0x4e691e[_0x40a2('0xb7')][_0x40a2('0x71')]===_0x40a2('0xbd')){return{'deviceSetId':_0x4e691e['id'],'deviceName':_0xcf56be[_0x40a2('0x54')],'deviceOptions':{'desiredCapabilities':Object[_0x40a2('0xb9')]({},JSON[_0x40a2('0x76')](_0xcf56be[_0x40a2('0x83')]),{'name':_0x2bf373[_0x40a2('0x54')]}),'protocol':_0x194280&&_0x194280['protocol'],'host':_0x194280&&_0x194280[_0x40a2('0xbe')],'port':_0x194280&&_0x194280[_0x40a2('0xbf')],'path':_0x194280&&_0x194280['pathname']}};}else{if(_0x4e691e[_0x40a2('0xb7')][_0x40a2('0x71')]===_0x40a2('0xc0')){_0x760ea0('startTestSession\x20'+_0x2bf373['id']+_0x40a2('0xc1'));_0x39acc2[_0x40a2('0xc2')]=!![];}return{'deviceSetId':_0x4e691e['id'],'deviceName':_0xcf56be[_0x40a2('0x54')],'deviceOptions':{'desiredCapabilities':Object[_0x40a2('0xb9')]({},JSON[_0x40a2('0x76')](_0xcf56be[_0x40a2('0x83')]),{'name':_0x2bf373['name']})}};}})];},[]);_0x760ea0(_0x40a2('0x9d')+_0x2bf373['id']+_0x40a2('0xc3')+JSON[_0x40a2('0xa5')](_0x38d687,null,0x2));let _0x19f17e=Promise[_0x40a2('0x48')]();_0x38d687[_0x40a2('0x5a')](_0x265005=>{const _0x4189e3=_0x1f3fce=>{return _0x1f3fce&&_0x1f3fce[_0x40a2('0x5a')](_0x52b4fc=>{_0x52b4fc[_0x40a2('0xc4')]=Object[_0x40a2('0xb9')]({},_0x52b4fc[_0x40a2('0xc4')],{'deviceSetId':_0x265005[_0x40a2('0xc5')],'deviceName':_0x265005[_0x40a2('0xc6')]});});};const _0x3f416d=_0x156ce6[_0x40a2('0xc7')](_0x281c5b);_0x3f416d['forEach'](_0xd0a4fe=>{_0x4189e3(_0xd0a4fe[_0x40a2('0xc8')]);_0x4189e3(_0xd0a4fe['utterances']);_0x4189e3(_0xd0a4fe[_0x40a2('0xc9')]);_0x4189e3(_0xd0a4fe[_0x40a2('0x8e')]);_0x4189e3(_0xd0a4fe['excels']);});const _0x8af351=Object[_0x40a2('0xb9')]({},_0x39acc2,{'WEBDRIVERIO_OPTIONS':_0x265005[_0x40a2('0xca')]});_0x19f17e=_0x19f17e['then'](()=>_0x2e5263(_0x8af351,_0x3f416d));});return _0x19f17e[_0x40a2('0x6a')](()=>_0x6f7c8d())[_0x40a2('0x80')](_0x6f7c8d);}else{return _0x2e5263(_0x39acc2,_0x281c5b)[_0x40a2('0x6a')](()=>_0x6f7c8d())[_0x40a2('0x80')](_0x6f7c8d);}})[_0x40a2('0x80')](_0x529db9=>{_0x760ea0('startTestSession\x20failed:\x20'+_0x529db9);_0x6f7c8d(_0x529db9);});};var _0x151164=(_0x130e93,_0x4b4491,_0x22fa63,_0x111c16)=>{return _0x130e93['db'][_0x40a2('0x4e')][_0x40a2('0xcb')]({'where':{'jobId':_0x4b4491}},'{\x20id\x20status\x20progressPercent\x20testSession\x20{\x20id\x20name\x20status\x20}\x20\x20}')[_0x40a2('0x6a')](_0x519e2b=>{if(!_0x519e2b||_0x519e2b[_0x40a2('0x51')]===0x0){return _0x760ea0(_0x40a2('0xcc')+_0x4b4491+_0x40a2('0xcd'));}const _0x27af23=_0x519e2b[0x0];if(_0x27af23[_0x40a2('0x6b')][_0x40a2('0xce')]==='PENDING'){_0x130e93['db']['mutation']['updateTestSession']({'data':{'status':_0x40a2('0xcf')},'where':{'id':_0x27af23['testSession']['id']}})[_0x40a2('0x6a')](()=>{_0x760ea0(_0x40a2('0xd0')+_0x4b4491+'/'+_0x27af23['id']+_0x40a2('0xd1')+_0x27af23[_0x40a2('0x6b')]['id']+_0x40a2('0xd2'));})[_0x40a2('0x80')](_0x3e0e12=>{_0x760ea0('Test\x20Session\x20Job\x20'+_0x4b4491+'/'+_0x27af23['id']+_0x40a2('0xd1')+_0x27af23[_0x40a2('0x6b')]['id']+_0x40a2('0xd3')+_0x3e0e12);});}if(_0x27af23[_0x40a2('0xce')]===_0x40a2('0xb0')){_0x130e93['db'][_0x40a2('0x7c')][_0x40a2('0xd4')]({'data':{'status':_0x40a2('0xcf'),'started':new Date(Date[_0x40a2('0x66')]())[_0x40a2('0x67')](),'progressPercent':_0x156ce6[_0x40a2('0xd5')](_0x22fa63)&&_0x22fa63},'where':{'id':_0x27af23['id']}})['then'](()=>{_0x760ea0(_0x40a2('0xd0')+_0x4b4491+'/'+_0x27af23['id']+'\x20set\x20Test\x20Session\x20Job\x20RUNNING.');})['catch'](_0x339059=>{_0x760ea0(_0x40a2('0xd0')+_0x4b4491+'/'+_0x27af23['id']+'\x20set\x20Test\x20Session\x20Job\x20RUNNING\x20failed:\x20'+_0x339059);});}if(_0x27af23[_0x40a2('0xce')]===_0x40a2('0xcf')&&_0x156ce6[_0x40a2('0xd5')](_0x22fa63)&&_0x27af23['progressPercent']<_0x22fa63){_0x130e93['db'][_0x40a2('0x7c')][_0x40a2('0xd4')]({'data':{'progressPercent':_0x22fa63},'where':{'id':_0x27af23['id']}})[_0x40a2('0x6a')](()=>{_0x760ea0(_0x40a2('0xd0')+_0x4b4491+'/'+_0x27af23['id']+'\x20set\x20Test\x20Session\x20Job\x20progressPercent\x20'+_0x22fa63+'.');})[_0x40a2('0x6a')](()=>_0x387dbd(_0x130e93,_0x27af23['testSession']['id']))[_0x40a2('0x80')](_0xe6123d=>{_0x760ea0('Test\x20Session\x20Job\x20'+_0x4b4491+'/'+_0x27af23['id']+_0x40a2('0xd6')+_0x22fa63+_0x40a2('0xd7')+_0xe6123d);});}if(_0x111c16[_0x40a2('0x3e')]){_0x130e93['db'][_0x40a2('0x7c')][_0x40a2('0xd8')]({'data':{'log':_0x111c16[_0x40a2('0x3e')],'testSessionJob':{'connect':{'id':_0x27af23['id']}}}},_0x40a2('0x60'))[_0x40a2('0x6a')](()=>{_0x760ea0(_0x40a2('0xd0')+_0x4b4491+'/'+_0x27af23['id']+_0x40a2('0xd9')+_0x111c16['log']);})[_0x40a2('0x80')](_0x7aa0f5=>{_0x760ea0(_0x40a2('0xd0')+_0x4b4491+'/'+_0x27af23['id']+_0x40a2('0xda')+_0x7aa0f5);});}if(_0x111c16['testcase']){const _0x315456={'testcaseName':_0x111c16[_0x40a2('0xdb')],'testcaseSource':_0x111c16[_0x40a2('0xdc')],'success':_0x111c16[_0x40a2('0xdd')],'err':_0x111c16[_0x40a2('0xde')],'testSession':{'connect':{'id':_0x27af23['testSession']['id']}}};if(_0x111c16[_0x40a2('0xdf')]){_0x315456[_0x40a2('0xdf')]=_0x156ce6[_0x40a2('0xe0')](_0x111c16['messages'])?_0x111c16[_0x40a2('0xdf')]:JSON[_0x40a2('0xa5')](_0x111c16['messages']);}if(_0x111c16['sourceTag']){if(_0x111c16[_0x40a2('0xc4')][_0x40a2('0x92')])_0x315456[_0x40a2('0xe1')]=_0x111c16[_0x40a2('0xc4')][_0x40a2('0x92')];if(_0x111c16[_0x40a2('0xc4')]['testSetId'])_0x315456[_0x40a2('0x56')]={'connect':{'id':_0x111c16['sourceTag'][_0x40a2('0xe2')]}};if(_0x111c16[_0x40a2('0xc4')][_0x40a2('0xe3')])_0x315456[_0x40a2('0xe4')]={'connect':{'id':_0x111c16[_0x40a2('0xc4')][_0x40a2('0xe3')]}};if(_0x111c16['sourceTag'][_0x40a2('0xe5')])_0x315456[_0x40a2('0xe6')]={'connect':{'id':_0x111c16[_0x40a2('0xc4')]['testSetRepositoryId']}};if(_0x111c16[_0x40a2('0xc4')][_0x40a2('0xe7')])_0x315456[_0x40a2('0xe8')]={'connect':{'id':_0x111c16[_0x40a2('0xc4')]['testSetFolderId']}};if(_0x111c16[_0x40a2('0xc4')][_0x40a2('0xe9')])_0x315456[_0x40a2('0x65')]={'connect':{'id':_0x111c16[_0x40a2('0xc4')]['testSetExcelId']}};if(_0x111c16['sourceTag'][_0x40a2('0xc5')])_0x315456[_0x40a2('0xea')]={'connect':{'id':_0x111c16[_0x40a2('0xc4')][_0x40a2('0xc5')]}};if(_0x111c16[_0x40a2('0xc4')][_0x40a2('0xc6')])_0x315456[_0x40a2('0xc6')]=_0x111c16[_0x40a2('0xc4')][_0x40a2('0xc6')];}if(_0x111c16[_0x40a2('0xeb')]){_0x315456[_0x40a2('0xeb')]={'create':_0x111c16[_0x40a2('0xeb')][_0x40a2('0x8f')](_0x456907=>{return{'name':_0x456907[_0x40a2('0x54')],'mimeType':_0x456907[_0x40a2('0xec')],'base64':_0x456907[_0x40a2('0xed')]};})};}_0x130e93['db']['mutation'][_0x40a2('0xee')]({'data':_0x315456},_0x40a2('0x60'))[_0x40a2('0x6a')](_0x506138=>{_0x760ea0(_0x40a2('0xef')+_0x111c16[_0x40a2('0xdb')]+'\x20in\x20TestSession\x20'+_0x27af23[_0x40a2('0x6b')][_0x40a2('0x54')]+'\x20registered\x20(jobId:\x20'+_0x4b4491+_0x40a2('0xf0')+_0x506138['id']+')');})[_0x40a2('0x80')](_0x39f944=>{_0x760ea0(_0x40a2('0xef')+_0x111c16[_0x40a2('0xdb')]+_0x40a2('0xf1')+_0x27af23['testSession'][_0x40a2('0x54')]+_0x40a2('0xf2')+_0x39f944);});}})[_0x40a2('0x80')](_0x4ec6cb=>{_0x760ea0(_0x40a2('0xf3')+_0x4ec6cb);});};var _0x1ca1be=(_0x440ce9,_0x47198f,_0x275685)=>{return _0x440ce9['db'][_0x40a2('0x4e')][_0x40a2('0xcb')]({'where':{'jobId':_0x47198f}},_0x40a2('0xf4'))['then'](_0x2cd229=>{if(!_0x2cd229||_0x2cd229['length']===0x0){return _0x760ea0(_0x40a2('0xf5')+_0x47198f+_0x40a2('0xcd'));}const _0x3ba402=_0x2cd229[0x0];_0x440ce9['db'][_0x40a2('0x7c')][_0x40a2('0xd4')]({'data':{'status':_0x40a2('0xf6'),'jobId':null,'progressPercent':0x64,'finished':new Date(Date[_0x40a2('0x66')]())[_0x40a2('0x67')]()},'where':{'id':_0x3ba402['id']}})[_0x40a2('0x6a')](()=>{_0x760ea0(_0x40a2('0xd0')+_0x47198f+'/'+_0x3ba402['id']+'\x20completed.');})[_0x40a2('0x6a')](()=>{_0x440ce9['db'][_0x40a2('0x7c')][_0x40a2('0xd8')]({'data':{'log':_0x40a2('0xf7'),'testSessionJob':{'connect':{'id':_0x3ba402['id']}}}},_0x40a2('0x60'))[_0x40a2('0x80')](_0x586e68=>{_0x760ea0(_0x40a2('0xf8')+_0x586e68);});})[_0x40a2('0x6a')](()=>_0x3b9c92(_0x440ce9,_0x47198f,_0x3ba402['id'],_0x3ba402[_0x40a2('0x6b')]['id']))['then'](()=>_0x387dbd(_0x440ce9,_0x3ba402[_0x40a2('0x6b')]['id']))[_0x40a2('0x80')](_0x4ba566=>{_0x760ea0('testSessionJobCompleted\x20failed:\x20'+_0x4ba566);});});};var _0x30c866=(_0x26e7f6,_0x415f03,_0x24445b)=>{return _0x26e7f6['db'][_0x40a2('0x4e')][_0x40a2('0xcb')]({'where':{'jobId':_0x415f03}},_0x40a2('0xf4'))['then'](_0x48fc68=>{if(!_0x48fc68||_0x48fc68[_0x40a2('0x51')]===0x0){return _0x760ea0(_0x40a2('0xf9')+_0x415f03+_0x40a2('0xcd'));}const _0x55c474=_0x48fc68[0x0];_0x26e7f6['db'][_0x40a2('0x7c')][_0x40a2('0xd4')]({'data':{'status':_0x40a2('0xfa'),'jobId':null,'err':_0x24445b},'where':{'id':_0x55c474['id']}})[_0x40a2('0x6a')](()=>{_0x760ea0('Test\x20Session\x20Job\x20'+_0x415f03+'/'+_0x55c474['id']+_0x40a2('0xd7')+_0x24445b+'.');})[_0x40a2('0x6a')](()=>{_0x26e7f6['db']['mutation'][_0x40a2('0xd8')]({'data':{'log':'Job\x20failed:\x20'+_0x24445b,'testSessionJob':{'connect':{'id':_0x55c474['id']}}}},_0x40a2('0x60'))['catch'](_0x24445b=>{_0x760ea0(_0x40a2('0xfb')+_0x24445b);});})[_0x40a2('0x6a')](()=>_0x3b9c92(_0x26e7f6,_0x415f03,_0x55c474['id'],_0x55c474[_0x40a2('0x6b')]['id']))[_0x40a2('0x6a')](()=>_0x387dbd(_0x26e7f6,_0x55c474[_0x40a2('0x6b')]['id']))['catch'](_0x24445b=>{_0x760ea0('testSessionJobFailed\x20failed:\x20'+_0x24445b);});});};const _0x3b9c92=(_0x39876e,_0xb762ac,_0x426230,_0x318fad)=>{_0x760ea0(_0x40a2('0xd0')+_0xb762ac+'/'+_0x426230+_0x40a2('0xfc')+_0x318fad);return _0x39876e['db'][_0x40a2('0x7c')][_0x40a2('0xfd')]({'data':{'status':_0x40a2('0xf6')},'where':{'AND':[{'id':_0x318fad},{'results_every':{'success':!![]}},{'jobs_every':{'status':'READY'}}]}})[_0x40a2('0x80')](_0x102d50=>{_0x760ea0('testSessionCheckFinished\x20'+_0xb762ac+'/'+_0x426230+_0x40a2('0xd7')+_0x102d50);})['then'](()=>_0x39876e['db'][_0x40a2('0x7c')][_0x40a2('0xfd')]({'data':{'status':_0x40a2('0xfa')},'where':{'AND':[{'id':_0x318fad},{'jobs_every':{'status_in':[_0x40a2('0xf6'),_0x40a2('0xfa')]}},{'OR':[{'results_some':{'success':![]}},{'jobs_some':{'status':_0x40a2('0xfa')}}]}]}}))[_0x40a2('0x80')](_0x5e1eca=>{_0x760ea0(_0x40a2('0xfe')+_0xb762ac+'/'+_0x426230+_0x40a2('0xd7')+_0x5e1eca);});};const _0x387dbd=(_0x34f11f,_0x37bcbd)=>{_0x760ea0('Test\x20Session\x20'+_0x37bcbd+_0x40a2('0xff'));_0x34f11f['db'][_0x40a2('0x4e')][_0x40a2('0x6b')]({'where':{'id':_0x37bcbd}},_0x40a2('0x100'))[_0x40a2('0x6a')](_0x455bac=>{if(!_0x455bac)return;_0x34f11f[_0x40a2('0x101')][_0x40a2('0x102')](_0x40a2('0x103'),{'testSessionProgress':_0x455bac});});};var _0x5a0a4f={'startTestSession':_0x5b6730,'testSessionProgress':_0x151164,'testSessionJobCompleted':_0x1ca1be,'testSessionJobFailed':_0x30c866};const _0x2f38f6=_0x39fe11(_0x40a2('0x104'));var _0x41eb2b=class AgentsConnector{constructor(_0x386643){this[_0x40a2('0x105')]=_0x386643;}[_0x40a2('0x106')](){const _0x20e760=this[_0x40a2('0x105')]();_0x20e760[_0x40a2('0xa8')][_0x40a2('0x9e')]('agent.heartbeat',(_0x494fb1,_0x3c7774)=>{_0x2f38f6(_0x40a2('0x107')+JSON[_0x40a2('0xa5')](_0x494fb1['data']));_0x228cdc(_0x20e760,_0x494fb1,_0x3c7774);});_0x20e760['queueConnector'][_0x40a2('0x9e')]('agent.register',(_0x2a5674,_0x10bf3c)=>{_0x2f38f6(_0x40a2('0x108')+JSON[_0x40a2('0xa5')](_0x2a5674[_0x40a2('0x6c')]));_0x457207(_0x20e760,_0x2a5674,_0x10bf3c);});_0x20e760['queueConnector']['process'](_0x40a2('0x109'),(_0x1fdcbf,_0x103541)=>{_0x2f38f6(_0x40a2('0x10a')+JSON[_0x40a2('0xa5')](_0x1fdcbf[_0x40a2('0x6c')]));_0x5a0a4f[_0x40a2('0x10b')](_0x20e760,_0x1fdcbf,_0x103541);});_0x20e760['queueConnector']['on'](_0x40a2('0x10c'),_0x20321=>{_0x2f38f6(_0x40a2('0x10d'));_0x2f38f6(_0x20321);});_0x20e760[_0x40a2('0xa8')]['on'](_0x40a2('0x10e'),(_0x5b1bb7,_0x9b142f)=>{_0x2f38f6(_0x40a2('0x10f')+_0x5b1bb7+_0x40a2('0x110')+_0x9b142f);});const _0x393226=new _0x561404((_0x2261e9,_0x31bdb2)=>{_0x2261e9()[_0x40a2('0x6a')](()=>_0x31bdb2())[_0x40a2('0x80')](_0x3c7473=>_0x2f38f6(_0x40a2('0x111')+_0x3c7473)&&_0x31bdb2(_0x3c7473));},{'maxRetries':0xa,'retryDelay':0x3e8});_0x20e760['queueConnector']['on'](_0x40a2('0x112'),(_0x52cf34,_0xe6f970)=>{_0x2f38f6(_0x40a2('0x10f')+_0x52cf34+'\x20error\x20'+_0xe6f970);_0x393226[_0x40a2('0x4c')](()=>_0x5a0a4f['testSessionJobFailed'](_0x20e760,_0x52cf34,_0xe6f970));});_0x20e760[_0x40a2('0xa8')]['on'](_0x40a2('0x113'),(_0x48e3f4,_0x2ce173)=>{_0x2f38f6('Job\x20'+_0x48e3f4+'\x20completed\x20'+JSON['stringify'](_0x2ce173));_0x393226['push'](()=>_0x5a0a4f[_0x40a2('0x114')](_0x20e760,_0x48e3f4,_0x2ce173));});_0x20e760['queueConnector']['on']('job\x20progress',(_0x30a749,_0x33ff4e,_0x1b7836)=>{_0x2f38f6('Job\x20'+_0x30a749+_0x40a2('0x115')+_0x33ff4e);_0x393226[_0x40a2('0x4c')](()=>_0x5a0a4f[_0x40a2('0x116')](_0x20e760,_0x30a749,_0x33ff4e,_0x1b7836));});}};const _0x133d0e=()=>({'secret':process[_0x40a2('0x47')][_0x40a2('0x117')],'audience':process[_0x40a2('0x47')][_0x40a2('0x118')]||'botiumbox','issuer':process[_0x40a2('0x47')][_0x40a2('0x119')]||_0x40a2('0x11a')});const _0x26fbdf=_0x31904a=>({'id':_0x31904a});const _0x364637=_0x12058e=>_0x12058e&&_0x12058e['id'];const _0x46f1b6=_0x18ad0c=>{return _0x1048ea[_0x40a2('0x11b')](_0x26fbdf(_0x18ad0c['id']),process[_0x40a2('0x47')][_0x40a2('0x117')],{'expiresIn':0x15180*(process[_0x40a2('0x47')][_0x40a2('0x11c')]||0x1e),'audience':process[_0x40a2('0x47')][_0x40a2('0x118')]||_0x40a2('0x11a'),'issuer':process[_0x40a2('0x47')]['JWT_ISSUER']||_0x40a2('0x11a'),'subject':_0x18ad0c['id'][_0x40a2('0x11d')]()});};const _0x580a9c=async(_0x596d45,_0x6e45d4)=>{const _0xe97972=_0x1048ea[_0x40a2('0x11e')](_0x596d45,process[_0x40a2('0x47')][_0x40a2('0x117')],{'audience':process['env'][_0x40a2('0x118')]||_0x40a2('0x11a'),'issuer':process[_0x40a2('0x47')][_0x40a2('0x119')]||_0x40a2('0x11a')});const _0x6c1327=await _0x6e45d4['query']['user']({'where':{'id':_0x364637(_0xe97972)}},'{\x20id\x20name\x20email\x20roles\x20}');return _0x6c1327;};var _0x4fb724={'jwtSettings':_0x133d0e,'userIdToToken':_0x26fbdf,'tokenToUserId':_0x364637,'generateToken':_0x46f1b6,'validateToken':_0x580a9c};const {generateToken:generateToken$1}=_0x4fb724;var _0x4cad4e={async 'me'(_0x3ae9f3,_0x5f36fc,_0x42ad09,_0x5650f6){return _0x42ad09[_0x40a2('0x11f')]&&_0x42ad09['request'][_0x40a2('0x120')];},async 'autologin'(_0x66ad90,_0x5094ae,_0x3b248c,_0x448e16){if(_0x3b248c['request']&&_0x3b248c[_0x40a2('0x11f')][_0x40a2('0x120')]){return{'user':_0x3b248c['request']['user'],'token':generateToken$1(_0x3b248c['request']['user'])};}}};var _0x5627c7={'agents'(_0x25aa8f,{where,orderBy,skip,first},_0x422271,_0x591275){orderBy=orderBy||_0x40a2('0x121');return _0x422271['db'][_0x40a2('0x4e')][_0x40a2('0x122')]({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x591275);},'agent'(_0x4d647b,{id},_0x491ff0,_0x39759c){return _0x491ff0['db']['query']['agent']({'where':{'id':id}},_0x39759c);}};var _0x47d824={'chatbots'(_0x3785cd,{where,orderBy,skip,first},_0x5c9097,_0x151327){orderBy=orderBy||_0x40a2('0x121');return _0x5c9097['db'][_0x40a2('0x4e')][_0x40a2('0x123')]({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x151327);},'chatbot'(_0x35f908,{id},_0x35d868,_0x3f620c){return _0x35d868['db']['query'][_0x40a2('0xa1')]({'where':{'id':id}},_0x3f620c);},'availablewatsonworkspaces'(_0x46a3a6,{url:_0x108fb7,version,username,password}){return new Promise((_0x3f6508,_0x42f53c)=>{const _0x320706=new _0x55c8ba({'url':_0x108fb7,'version':_0x30d4a5,'username':username,'password':password});_0x320706[_0x40a2('0x124')]((_0x3ad7c7,_0x3dffed)=>{if(_0x3ad7c7){_0x42f53c(_0x3ad7c7);}else{const _0x462c1b=_0x3dffed[_0x40a2('0x125')][_0x40a2('0x8f')](_0x3b0636=>({'name':_0x3b0636[_0x40a2('0x54')],'description':_0x3b0636[_0x40a2('0x126')],'value':_0x3b0636[_0x40a2('0x127')]}));_0x3f6508(_0x462c1b);}});});}};const _0xf58bb6=_0x39fe11(_0x40a2('0x128'));const _0x1c5ede=_0x5717e6['BotDriver'];const {composeBotiumCapabilities:composeBotiumCapabilities$1}=_0xce309a;const _0x1c2b19={};const _0x51f385={};var _0x1e4d4e={'Subscription':{'liveChatConvoStepAdded':{'subscribe':(_0x56cbcf,{conversationId},{pubsub})=>_0x247a91[_0x40a2('0x129')](conversationId)}},'Query':{'liveChatConvoSteps'(_0x257843,{conversationId}){if(!_0x51f385[conversationId])return Promise[_0x40a2('0x6f')](new Error(_0x40a2('0x12a')+conversationId+_0x40a2('0x12b')));return _0x51f385[conversationId];}},'Mutation':{'liveChatStartBot'(_0x2aecd1,{id},{db,pubsub}){const _0x34d39f=_0x10bcfe();return db['query']['chatbot']({'where':{'id':id}},_0x40a2('0x12c'))[_0x40a2('0x6a')](_0x2d9cc7=>{_0xf58bb6(_0x40a2('0x12d')+_0x34d39f+')\x20launching\x20bot\x20'+_0x2d9cc7[_0x40a2('0x54')]+'\x20...');const _0x32897b=new _0x1c5ede(composeBotiumCapabilities$1(_0x2d9cc7[_0x40a2('0x83')]));const _0x34f5ed=(_0x225ccd,_0x4f6086)=>{const _0x267f18=_0x51f385[_0x34d39f][_0x40a2('0x51')];const _0x27c98e=JSON['stringify'](Object[_0x40a2('0xb9')](_0x4f6086,{'convoStepIndex':_0x267f18}));_0x51f385[_0x34d39f]['push'](_0x27c98e);_0x247a91[_0x40a2('0x102')](_0x34d39f,{'liveChatConvoStepAdded':_0x27c98e});};_0x32897b['on'](_0x40a2('0x12e'),_0x34f5ed);_0x32897b['on'](_0x40a2('0x12f'),_0x34f5ed);return _0x32897b[_0x40a2('0x130')]();})['then'](_0x38c831=>{_0x1c2b19[_0x34d39f]=_0x38c831;_0x51f385[_0x34d39f]=[];_0xf58bb6('liveChatStartBot('+_0x34d39f+_0x40a2('0x131'));return _0x38c831[_0x40a2('0x132')]();})[_0x40a2('0x6a')](()=>{_0xf58bb6(_0x40a2('0x12d')+_0x34d39f+_0x40a2('0x133'));return _0x34d39f;});},'liveChatSendToBot'(_0x27af07,{conversationId,convoStep},{pubsub}){if(!_0x1c2b19[conversationId])return Promise['reject'](new Error(_0x40a2('0x12a')+conversationId+_0x40a2('0x12b')));_0xf58bb6(_0x40a2('0x134')+conversationId+_0x40a2('0x135')+convoStep);const _0x57fa0b=_0x1c2b19[conversationId];_0x57fa0b[_0x40a2('0x136')](JSON[_0x40a2('0x76')](convoStep))[_0x40a2('0x80')](_0x2cc793=>_0xf58bb6(_0x2cc793));return!![];},'liveChatStopBot'(_0x3505b3,{conversationId}){if(!_0x1c2b19[conversationId])return Promise['reject'](new Error('Conversation\x20'+conversationId+'\x20not\x20available.'));_0xf58bb6('liveChatStopBot('+conversationId+')\x20stopping\x20container');const _0x5111c4=_0x1c2b19[conversationId];return _0x5111c4[_0x40a2('0x137')]()[_0x40a2('0x6a')](()=>_0x5111c4['Clean']())[_0x40a2('0x6a')](()=>{_0xf58bb6(_0x40a2('0x138')+conversationId+_0x40a2('0x139'));delete _0x1c2b19[conversationId];delete _0x51f385[conversationId];return!![];});},async 'liveChatSaveConvoSteps'(_0x5a99f7,{conversationId,testSetId,newTestSetName,testCaseName},_0x27cd0c){if(!_0x1c2b19[conversationId])return Promise[_0x40a2('0x6f')](new Error(_0x40a2('0x12a')+conversationId+_0x40a2('0x12b')));let _0x111abd=null;if(newTestSetName){_0x111abd=await _0x27cd0c['db'][_0x40a2('0x7c')][_0x40a2('0x5f')]({'data':{'name':newTestSetName}},_0x40a2('0x69'));}else{_0x111abd=await _0x27cd0c['db'][_0x40a2('0x4e')][_0x40a2('0x56')]({'where':{'id':testSetId}},'{\x20id\x20name\x20}');}_0xf58bb6(_0x40a2('0x13a')+conversationId+_0x40a2('0x13b')+_0x111abd['id']+'/'+_0x111abd[_0x40a2('0x54')]);const _0x311540=[testCaseName,''];_0x51f385[conversationId][_0x40a2('0x5a')](_0x2c0cd9=>{const _0x34d61f=JSON[_0x40a2('0x76')](_0x2c0cd9);_0x311540[_0x40a2('0x4c')]('#'+_0x34d61f['sender']);if(_0x34d61f[_0x40a2('0x13c')]){_0x311540[_0x40a2('0x4c')](_0x34d61f[_0x40a2('0x13c')]);}if(_0x34d61f[_0x40a2('0x13d')]&&_0x34d61f['buttons'][_0x40a2('0x51')]>0x0)_0x311540[_0x40a2('0x4c')](_0x40a2('0x13e')+_0x34d61f[_0x40a2('0x13d')][_0x40a2('0x8f')](_0x17709c=>_0x17709c[_0x40a2('0x13f')])['join']('|'));if(_0x34d61f[_0x40a2('0x140')]&&_0x34d61f[_0x40a2('0x140')][_0x40a2('0x51')]>0x0)_0x311540[_0x40a2('0x4c')](_0x40a2('0x141')+_0x34d61f[_0x40a2('0x140')][_0x40a2('0x8f')](_0x161178=>_0x161178[_0x40a2('0x142')])[_0x40a2('0x4b')]('|'));if(_0x34d61f[_0x40a2('0x143')]&&_0x34d61f[_0x40a2('0x143')]['length']>0x0){_0x34d61f[_0x40a2('0x143')]['forEach'](_0x1fb210=>{if(_0x1fb210[_0x40a2('0x13d')]&&_0x1fb210[_0x40a2('0x13d')][_0x40a2('0x51')]>0x0)_0x311540[_0x40a2('0x4c')](_0x40a2('0x13e')+_0x1fb210[_0x40a2('0x13d')]['map'](_0x4b579f=>_0x4b579f['text'])[_0x40a2('0x4b')]('|'));if(_0x1fb210['image'])_0x311540[_0x40a2('0x4c')](_0x40a2('0x141')+_0x1fb210[_0x40a2('0x144')][_0x40a2('0x142')]);});}_0x311540[_0x40a2('0x4c')]('');});let _0xd4ad3=await _0x27cd0c['db']['mutation'][_0x40a2('0x145')]({'data':{'name':testCaseName,'script':_0x311540[_0x40a2('0x4b')]('\x0a'),'scriptType':'SCRIPTING_TYPE_CONVO','testSet':{'connect':{'id':_0x111abd['id']}}}},'{\x20id\x20name\x20}');_0xf58bb6(_0x40a2('0x13a')+conversationId+_0x40a2('0x146')+_0x111abd['id']+'/'+_0x111abd['name']+_0x40a2('0x147')+_0xd4ad3['id']+'/'+_0xd4ad3[_0x40a2('0x54')]);return _0xd4ad3['id'];}}};var _0x38bf72={'testsessions'(_0x17c55a,{where,orderBy,skip,first},_0x55a405,_0x32752a){orderBy=orderBy||_0x40a2('0x148');skip=isNaN(skip)?0x0:skip;first=isNaN(first)?0x64:first;return _0x55a405['db'][_0x40a2('0x4e')][_0x40a2('0x149')]({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x32752a);},'testsession'(_0xb7dff5,{id},_0x8d1a33,_0x29d180){return _0x8d1a33['db']['query'][_0x40a2('0x6b')]({'where':{'id':id}},_0x29d180);},'testsessiontestcaseresults'(_0x50798d,{where,orderBy,skip,first},_0x45f5b8,_0x4f8d43){orderBy=orderBy||'createdAt_DESC';skip=isNaN(skip)?0x0:skip;first=isNaN(first)?0x64:first;return _0x45f5b8['db'][_0x40a2('0x4e')]['testSessionTestCaseResults']({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x4f8d43);},'testsessiontestcaseresult'(_0x5e46cd,{id},_0x3ebec6,_0x2102f1){return _0x3ebec6['db'][_0x40a2('0x4e')]['testSessionTestCaseResult']({'where':{'id':id}},_0x2102f1);}};const _0x2bbaf0=_0x39fe11(_0x40a2('0x14a'));var _0x9ed4d8=(_0x46d1a8,_0x3f8ace,_0x4a1ab9,_0x158ef2)=>{_0x46d1a8[_0x40a2('0xc8')]&&_0x46d1a8[_0x40a2('0xc8')]['forEach'](_0x6c065d=>{let _0x386963=[];let _0x4147fb=[];try{if(_0x6c065d[_0x40a2('0x14b')]===_0x2806b3[_0x40a2('0x14c')]){const _0x45dc8b=Buffer[_0x40a2('0x14d')](_0x6c065d[_0x40a2('0x14e')],_0x40a2('0xed'));_0x4147fb=_0x3f8ace['Compile'](_0x45dc8b,_0x2806b3['SCRIPTING_FORMAT_XSLX'],_0x2806b3['SCRIPTING_TYPE_UTTERANCES']);_0x386963=_0x3f8ace['Compile'](_0x45dc8b,_0x2806b3[_0x40a2('0x14c')],_0x2806b3[_0x40a2('0x8a')]);}else if(_0x6c065d[_0x40a2('0x14b')]===_0x2806b3[_0x40a2('0x8b')]){_0x386963=_0x3f8ace['Compile'](_0x6c065d[_0x40a2('0x14e')],_0x2806b3['SCRIPTING_FORMAT_TXT'],_0x2806b3['SCRIPTING_TYPE_CONVO']);}if(_0x386963)_0x386963[_0x40a2('0x5a')](_0x4e5053=>{_0x4e5053[_0x40a2('0xc4')]=_0x6c065d[_0x40a2('0xc4')];});if(_0x4147fb)_0x4147fb[_0x40a2('0x5a')](_0x291423=>{_0x291423[_0x40a2('0xc4')]=_0x6c065d[_0x40a2('0xc4')];});}catch(_0x11450e){_0x2bbaf0(_0x11450e);throw new Error(_0x46d1a8[_0x40a2('0x54')]+_0x40a2('0x14f')+JSON[_0x40a2('0xa5')](_0x11450e));}});_0x46d1a8[_0x40a2('0x150')]&&_0x46d1a8['utterances'][_0x40a2('0x5a')](_0x57cfbf=>{let _0x44899a=[];try{_0x44899a=_0x3f8ace[_0x40a2('0x151')](_0x57cfbf[_0x40a2('0x14e')],_0x2806b3[_0x40a2('0x8b')],_0x2806b3[_0x40a2('0x8c')]);if(_0x44899a)_0x44899a[_0x40a2('0x5a')](_0x279d5c=>{_0x279d5c[_0x40a2('0xc4')]=_0x57cfbf[_0x40a2('0xc4')];});}catch(_0x208b17){_0x2bbaf0(_0x208b17);throw new Error(_0x46d1a8['name']+_0x40a2('0x152')+JSON['stringify'](_0x208b17));}});_0x46d1a8[_0x40a2('0x8e')]&&_0x46d1a8[_0x40a2('0x8e')][_0x40a2('0x5a')](_0x4b0592=>{try{const {convos,utterances}=_0x3f8ace['ReadScriptsFromDirectory'](_0x4b0592['path'],_0x4b0592['globFilter']);convos&&convos[_0x40a2('0x5a')](_0x162067=>{_0x162067[_0x40a2('0xc4')]=Object[_0x40a2('0xb9')]({},_0x162067['sourceTag'],_0x4b0592[_0x40a2('0xc4')]);});utterances&&utterances[_0x40a2('0x5a')](_0x72f5c4=>{_0x72f5c4['sourceTag']=Object[_0x40a2('0xb9')]({},_0x72f5c4[_0x40a2('0xc4')],_0x4b0592[_0x40a2('0xc4')]);});}catch(_0x29a4ae){_0x2bbaf0(_0x29a4ae);throw new Error(_0x46d1a8[_0x40a2('0x54')]+':\x20Folder\x20'+_0x4b0592+_0x40a2('0x153')+JSON[_0x40a2('0xa5')](_0x29a4ae));}});let _0x394e05=Promise['resolve']();if(_0x46d1a8[_0x40a2('0x91')]&&_0x46d1a8['excels'][_0x40a2('0x51')]>0x0){_0x394e05=Promise[_0x40a2('0x154')](_0x46d1a8[_0x40a2('0x91')][_0x40a2('0x8f')](({id,filename,filecontent,hasConvos,hasUtterances,worksheetsConvos,worksheetsUtterances,startRow,startCol,sourceTag})=>{return new Promise(_0x39df63=>{const _0x1da84a=Buffer[_0x40a2('0x14d')](filecontent,'base64');let _0x27af9f=[];let _0x410e39=[];if(hasConvos){if(worksheetsConvos)_0x3f8ace['caps'][_0x1676f5[_0x40a2('0x155')]]=worksheetsConvos;if(!isNaN(startRow))_0x3f8ace[_0x40a2('0x156')][_0x1676f5[_0x40a2('0x157')]]=startRow;if(!isNaN(startCol))_0x3f8ace[_0x40a2('0x156')][_0x1676f5[_0x40a2('0x158')]]=startCol;_0x27af9f=_0x3f8ace[_0x40a2('0x151')](_0x1da84a,_0x2806b3[_0x40a2('0x14c')],_0x2806b3[_0x40a2('0x8a')]);}if(hasUtterances){if(worksheetsUtterances)_0x3f8ace[_0x40a2('0x156')][_0x1676f5['SCRIPTING_XLSX_SHEETNAMES_UTTERANCES']]=worksheetsUtterances;if(!isNaN(startRow))_0x3f8ace[_0x40a2('0x156')][_0x1676f5[_0x40a2('0x157')]]=startRow;if(!isNaN(startCol))_0x3f8ace['caps'][_0x1676f5[_0x40a2('0x158')]]=startCol;_0x410e39=_0x3f8ace[_0x40a2('0x151')](_0x1da84a,_0x2806b3[_0x40a2('0x14c')],_0x2806b3[_0x40a2('0x8c')]);}_0x27af9f&&_0x27af9f['forEach'](_0x263eb0=>{_0x263eb0[_0x40a2('0xc4')]=Object[_0x40a2('0xb9')]({},_0x263eb0[_0x40a2('0xc4')],sourceTag);});_0x410e39&&_0x410e39['forEach'](_0x195b1e=>{_0x195b1e[_0x40a2('0xc4')]=Object[_0x40a2('0xb9')]({},_0x195b1e[_0x40a2('0xc4')],sourceTag);});_0x39df63();});}));}let _0x12a6d2=Promise[_0x40a2('0x48')]();return Promise['all']([_0x12a6d2,_0x394e05]);};const _0x59ac6b=_0x48c798({'dirname':__dirname,'filter':/(.+Provider)\.js$/});var _0x585240=Object['values'](_0x59ac6b);const _0x117b38=_0x48c798({'dirname':__dirname,'filter':/(.+Provider)\.js$/});var _0x1ac02e=Object['values'](_0x117b38);const _0x1270f8=_0x585240[_0x40a2('0x159')](_0x1ac02e);const _0x3c4615={};_0x1270f8[_0x40a2('0x5a')](_0x1cb06d=>{_0x3c4615[_0x1cb06d['metadata']['id']]=_0x1cb06d;});const _0x4d194f={};_0x585240[_0x40a2('0x5a')](_0x4af2fe=>{_0x4d194f[_0x4af2fe['metadata']['id']]='habits';});_0x1ac02e[_0x40a2('0x5a')](_0x1afca6=>{_0x4d194f[_0x1afca6[_0x40a2('0x15a')]['id']]=_0x40a2('0x15b');});var _0xd34a40=_0x44bf7c=>{if(!(_0x44bf7c in _0x4d194f)){throw Error(_0x40a2('0x15c')+_0x44bf7c);}return _0x3c4615[_0x44bf7c];};var _0x4417a6=Object[_0x40a2('0x78')](_0x3c4615);var _0x2e4ffb=[[_0x585240,_0x1ac02e],[_0x585240],[_0x1ac02e]];var _0xadca9e=[[_0x585240],[_0x1ac02e]];var _0x554abd={'GetMutatorById':_0xd34a40,'allMutatorNames':_0x4417a6,'pipelineAllMutatorCombined':_0x2e4ffb,'pipelineAllMutatorNotCombined':_0xadca9e};const {pipelineAllMutatorCombined:pipelineAllMutatorCombined$1,pipelineAllMutatorNotCombined:pipelineAllMutatorNotCombined$1,GetMutatorById:GetMutatorById$1,allMutatorNames:allMutatorNames$1}=_0x554abd;var _0x2a96c8=pipelineAllMutatorCombined$1;var _0x29817c=pipelineAllMutatorNotCombined$1;var _0x42af49=allMutatorNames$1;var _0x411c22=(_0x607ff,_0x1fdd61)=>{const _0x56b20b=_0x3bbd59(_0x1fdd61);return _0x596fdb(_0x607ff,_0x56b20b);};const _0x596fdb=(_0x31cc65,_0x16d324)=>{let _0x19e975=new Set();for(const _0x201ae2 of _0x16d324){let _0x235c1e=[_0x31cc65];for(const _0x23115b of _0x201ae2){let _0x498a4c=[];for(const _0x33bc2e of _0x23115b){for(const _0x11a2e of _0x235c1e){_0x498a4c=_0x498a4c[_0x40a2('0x159')](_0x33bc2e['execute'](_0x11a2e));}}_0x235c1e=_0x498a4c;}for(const _0xfc93b0 of _0x235c1e){if(_0x19e975[_0x40a2('0x15d')](_0xfc93b0)){console[_0x40a2('0x3e')](_0x40a2('0x15e')+_0xfc93b0+_0x40a2('0x15f')+JSON[_0x40a2('0xa5')](_0x201ae2,0x2));}else{_0x19e975['add'](_0xfc93b0);}}}return[..._0x19e975];};var _0x44f9ec=_0x596fdb;const _0x3bbd59=_0x152554=>{if(!_0x152554['humanifiersToExecute']||!_0x152554['humanifiersToExecute']['length']){return[[pipelineAllMutatorNotCombined$1]];}const _0x2c7c0d=_0x14b8ed=>_0x14b8ed['map'](_0x28095f=>GetMutatorById$1(_0x28095f));return[[_0x2c7c0d(_0x152554[_0x40a2('0x160')])]];};var _0x226d1e={'pipelineAllMutatorCombined':_0x2a96c8,'pipelineAllMutatorNotCombined':_0x29817c,'allHumanifiers':_0x42af49,'Execute':_0x411c22,'ExecutePipeline':_0x44f9ec};const _0x22c343=_0x39fe11('botium-clone-testset');const {RetrieveTestSetDetails:RetrieveTestSetDetails$2}=_0x137688;const _0xfe7174='_JUST_BOT';var _0x3121d4={'humanifiers':_0x226d1e[_0x40a2('0x161')]};var _0x576e7c=(_0x43862f,_0x3b1cc8)=>{const _0x5574b3=new _0x38575f(_0x58d31c[_0x40a2('0x2f')]);_0x5574b3[_0x40a2('0x130')]();const _0x55515b=_0x5df23e[_0x40a2('0x4b')](process['env'][_0x40a2('0x162')],_0x40a2('0x163')+_0x2b31e9(_0x40a2('0x164'),0x5));_0x151fac[_0x40a2('0x165')](_0x55515b);return _0x9ed4d8(RetrieveTestSetDetails$2(_0x43862f),_0x5574b3,_0x55515b,_0x58d31c[_0x40a2('0x166')])['then'](()=>{_0x359a31(_0x55515b,_0x2c7a17=>{if(_0x2c7a17){throw _0x2c7a17;}});const _0x148f78={};const _0x2b220b=_0x22260f(_0x5574b3,_0x3b1cc8);_0x148f78[_0x40a2('0x150')]={'all':Object['keys'](_0x2b220b['all'])[_0x40a2('0x51')],'me':_0x2b220b['me'][_0x40a2('0x167')],'bot':_0x2b220b[_0x40a2('0x168')][_0x40a2('0x167')],'both':_0x2b220b[_0x40a2('0x169')][_0x40a2('0x167')],'neither':_0x2b220b['neither'][_0x40a2('0x167')],'toHumanify':Object[_0x40a2('0x16a')](_0x2b220b[_0x40a2('0x16b')])['filter'](_0x29595f=>_0x29595f)['length'],'allUtteranceCount':_0x2b220b['allUtteranceCount'],'utterancesToHumanifyCount':_0x2b220b[_0x40a2('0x16c')]};_0x148f78['process']=_0x449170(_0x5574b3,_0x2b220b,_0x3b1cc8);_0x22c343('Cloning\x20finished:\x20'+JSON[_0x40a2('0xa5')](_0x148f78));return _0x595155(_0x5574b3,_0x43862f[_0x40a2('0x54')]);});};const _0x595155=(_0x212660,_0x12836a)=>{const _0x3a1f31=_0x5df23e[_0x40a2('0x4b')](process['env'][_0x40a2('0x61')],_0x58c4cc(_0x12836a)+'_CLONED_'+_0x2b31e9(_0x40a2('0x164'),0x5));_0x151fac[_0x40a2('0x165')](_0x3a1f31);const _0x596e78=Object['keys'](_0x212660['utterances']);for(let _0xa7f8e2=0x0;_0xa7f8e2<_0x596e78['length'];_0xa7f8e2++){let _0x204a2c=[_0x596e78[_0xa7f8e2]]['concat'](_0x212660[_0x40a2('0x150')][_0x596e78[_0xa7f8e2]][_0x40a2('0x150')])[_0x40a2('0x4b')]('\x0d\x0a');_0x1392b6[_0x40a2('0x16d')](_0x5df23e[_0x40a2('0x4b')](_0x3a1f31,_0x596e78[_0xa7f8e2]+_0x40a2('0x16e')),_0x204a2c,function(_0x28164f){if(_0x28164f){throw _0x28164f;}});}const _0xff520e=_0x212660[_0x40a2('0x16f')](_0x2806b3[_0x40a2('0x8b')]);for(let _0xd74b00=0x0;_0xd74b00<_0x212660[_0x40a2('0xc8')][_0x40a2('0x51')];_0xd74b00++){let _0x204a2c=_0xff520e[_0x40a2('0x170')]([_0x212660['convos'][_0xd74b00]]);_0x1392b6[_0x40a2('0x16d')](_0x5df23e[_0x40a2('0x4b')](_0x3a1f31,'c'+_0xd74b00+_0x40a2('0x171')),_0x204a2c,function(_0x18b918){if(_0x18b918){throw _0x18b918;}});}return _0x3a1f31;};const _0x22260f=(_0x3f4ccc,_0x54635b)=>{const _0x12fc97={'all':_0x3f4ccc[_0x40a2('0x150')],'me':new Set(),'bot':new Set(),'both':null,'neither':null,'toHumanify':{},'allUtteranceCount':0x0,'utterancesToHumanifyCount':0x0};_0x12fc97[_0x40a2('0x172')]=new Set(Object[_0x40a2('0x78')](_0x12fc97['all']));_0x3f4ccc[_0x40a2('0xc8')][_0x40a2('0x5a')](_0x58f0c3=>{_0x58f0c3[_0x40a2('0x173')][_0x40a2('0x5a')](_0xeaba29=>{if(_0xeaba29[_0x40a2('0x13c')]&&_0xeaba29['messageText']in _0x12fc97[_0x40a2('0x154')]){_0x12fc97[_0xeaba29[_0x40a2('0x174')]][_0x40a2('0x175')](_0xeaba29[_0x40a2('0x13c')]);_0x12fc97[_0x40a2('0x172')][_0x40a2('0x176')](_0xeaba29[_0x40a2('0x13c')]);}});});const _0x592c67=_0x156ce6[_0x40a2('0x177')](Array[_0x40a2('0x14d')](_0x12fc97['me']))['filter'](_0x66678d=>_0x12fc97[_0x40a2('0x168')][_0x40a2('0x15d')](_0x66678d));_0x12fc97['both']=new Set(_0x592c67);const _0x434dbc={};let _0x3e8d93=0x0;let _0x59ac6b=0x0;if(_0x54635b['humanifiersToExecute'][_0x40a2('0x51')]){[..._0x12fc97['me'],..._0x592c67,..._0x12fc97[_0x40a2('0x172')]]['forEach'](_0x3dcf78=>{_0x59ac6b+=_0x12fc97['all'][_0x3dcf78][_0x40a2('0x150')][_0x40a2('0x51')];let _0x4361b2=Math['round'](_0x59ac6b*_0x54635b[_0x40a2('0x178')]-_0x3e8d93);if(_0x3e8d93===0x0&&_0x4361b2===0x0){_0x4361b2=0x1;}_0x434dbc[_0x3dcf78]=_0x4361b2;_0x3e8d93+=_0x4361b2;});}_0x12fc97[_0x40a2('0x16b')]=_0x434dbc;_0x12fc97[_0x40a2('0x179')]=_0x59ac6b;_0x12fc97[_0x40a2('0x16c')]=_0x3e8d93;return _0x12fc97;};const _0x449170=(_0x436962,_0x467a,_0x15bc11)=>{_0x467a[_0x40a2('0x169')][_0x40a2('0x5a')](_0x1d5995=>{if(_0x467a[_0x40a2('0x16b')][_0x1d5995]){let _0x2df859=_0x1d5995+_0xfe7174;if(_0x2df859 in _0x436962[_0x40a2('0x150')]){throw new Error(_0x40a2('0x17a')+_0x2df859+_0x40a2('0x17b'));}}});const _0x533957={'humanifiedRefs':[],'humanifiedRefCount':0x0,'humanifiedUtterancesCount':0x0,'duplicates':0x0};_0x467a['both']['forEach'](_0x36e5d3=>{if(_0x467a[_0x40a2('0x16b')][_0x36e5d3]){_0x436962[_0x40a2('0x150')][_0x36e5d3+_0xfe7174]=_0x156ce6['cloneDeep'](_0x436962[_0x40a2('0x150')][_0x36e5d3]);}});const _0xb1ff5=_0x3b7a1a=>{_0x436962[_0x40a2('0x150')][_0x3b7a1a]['utterances']=_0x156ce6[_0x40a2('0x177')](_0x436962[_0x40a2('0x150')][_0x3b7a1a]['utterances']);const _0x5b7b58=_0x467a['toHumanify'][_0x3b7a1a];const _0x46c45d=_0x436962[_0x40a2('0x150')][_0x3b7a1a]['utterances'];let _0x2d2596=0x0;for(let _0x2013fb=0x0;_0x2013fb<_0x5b7b58;_0x2013fb++){const _0x6056cb=_0x226d1e[_0x40a2('0x17c')](_0x46c45d[_0x2013fb],{'humanifiersToExecute':_0x15bc11[_0x40a2('0x160')]});_0x436962['utterances'][_0x3b7a1a][_0x40a2('0x150')]=_0x436962[_0x40a2('0x150')][_0x3b7a1a]['utterances'][_0x40a2('0x159')](_0x6056cb);_0x2d2596+=_0x6056cb[_0x40a2('0x51')];}let _0x2aafee=_0x436962[_0x40a2('0x150')][_0x3b7a1a][_0x40a2('0x150')]['length'];_0x436962[_0x40a2('0x150')][_0x3b7a1a]['utterances']=_0x156ce6[_0x40a2('0x177')](_0x436962['utterances'][_0x3b7a1a][_0x40a2('0x150')]);return{'humanifiedRefCount':_0x5b7b58,'humanifiedUtterancesCount':_0x2d2596,'duplicates':_0x2aafee-_0x436962[_0x40a2('0x150')][_0x3b7a1a][_0x40a2('0x51')]};};Object[_0x40a2('0x78')](_0x467a[_0x40a2('0x16b')])[_0x40a2('0x5a')](_0x57e9f8=>{if(_0x467a[_0x40a2('0x16b')][_0x57e9f8]){const _0x192653=_0xb1ff5(_0x57e9f8);_0x533957[_0x40a2('0x17d')][_0x40a2('0x4c')](_0x57e9f8);_0x533957[_0x40a2('0x17e')]+=_0x192653[_0x40a2('0x17e')];_0x533957[_0x40a2('0x17f')]+=_0x192653[_0x40a2('0x17f')];_0x533957[_0x40a2('0x180')]+=_0x192653[_0x40a2('0x180')];}});const _0x24c6bd=(_0x1dc6e4,_0x467a)=>{_0x1dc6e4['conversation'][_0x40a2('0x5a')](_0x5239cf=>{if(_0x5239cf[_0x40a2('0x13c')]&&_0x467a[_0x40a2('0x169')][_0x40a2('0x15d')](_0x5239cf[_0x40a2('0x13c')])){return!![];}});return![];};const _0x43d71d=[];_0x436962['convos'][_0x40a2('0x5a')](_0x2fe369=>{if(_0x24c6bd(_0x2fe369,_0x467a));});_0x436962[_0x40a2('0xc8')]=_0x436962[_0x40a2('0xc8')][_0x40a2('0x159')](_0x43d71d);_0x533957['clonedConvoCount']=_0x43d71d[_0x40a2('0x51')];return _0x533957;};var _0x1dd9ab={'possibleOptions':_0x3121d4,'CloneTestset':_0x576e7c};var _0x3b55a1={'testsets'(_0x46dbf2,{where,orderBy,skip,first},_0x1ded93,_0x556ff5){orderBy=orderBy||_0x40a2('0x121');return _0x1ded93['db'][_0x40a2('0x4e')][_0x40a2('0xa7')]({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x556ff5);},'testset'(_0x43c422,{id},_0xd9dd06,_0x3d772f){return _0xd9dd06['db']['query'][_0x40a2('0x56')]({'where':{'id':id}},_0x3d772f);},'testsetscripts'(_0x5b9172,{testSetId,skip,first},_0x596436,_0x2f5a4a){return _0x596436['db'][_0x40a2('0x4e')][_0x40a2('0x181')]({'where':{'testSet':{'id':testSetId}},'skip':skip,'first':first},_0x2f5a4a);},'testsetscript'(_0x1ce937,{id},_0x4468d8,_0x381ed9){return _0x4468d8['db'][_0x40a2('0x4e')]['testSetScript']({'where':{'id':id}},_0x381ed9);},'validatetestsetscript'(_0x18400a,{script,scriptType}){const _0x1b5004=new _0x3b7d8d({'AddConvos':()=>{},'AddUtterances':()=>{},'IsAsserterValid':()=>!![],'scriptingEvents':{}},{'SCRIPTING_TXT_EOL':'\x0a'});const _0xd500e2=_0x1b5004['Compile'](script,scriptType);if(_0xd500e2&&_0xd500e2['length']>0x0){if(scriptType===_0x40a2('0x8c')){return Promise[_0x40a2('0x48')]({'name':_0xd500e2[0x0]['name'],'description':_0x40a2('0x182'),'script':script,'scriptType':scriptType});}else{return Promise['resolve']({'name':_0xd500e2[0x0][_0x40a2('0x183')]['name'],'description':_0xd500e2[0x0][_0x40a2('0x183')][_0x40a2('0x126')],'script':script,'scriptType':scriptType});}}else{return Promise[_0x40a2('0x6f')](new Error(_0x40a2('0x184')));}},'testsetrepositories'(_0x52cffe,{testSetId,skip,first},_0x5196b1,_0x3bcc1e){return _0x5196b1['db']['query'][_0x40a2('0x185')]({'where':{'testSet':{'id':testSetId}},'skip':skip,'first':first},_0x3bcc1e);},'testsetrepository'(_0x25f359,{id},_0x4df6af,_0x5e10da){return _0x4df6af['db'][_0x40a2('0x4e')][_0x40a2('0xe6')]({'where':{'id':id}},_0x5e10da);},'testsetfolders'(_0x11d44e,{testSetId,skip,first},_0x4a7514,_0x277827){return _0x4a7514['db'][_0x40a2('0x4e')][_0x40a2('0x4f')]({'where':{'testSet':{'id':testSetId}},'skip':skip,'first':first},_0x277827);},'testsetfolder'(_0x253967,{id},_0x1f01bb,_0x5ec450){return _0x1f01bb['db'][_0x40a2('0x4e')][_0x40a2('0xe8')]({'where':{'id':id}},_0x5ec450);},'testsetexcels'(_0x310081,{testSetId,skip,first},_0x4c0b1e,_0x236155){return _0x4c0b1e['db'][_0x40a2('0x4e')]['testSetExcels']({'where':{'testSet':{'id':testSetId}},'skip':skip,'first':first},_0x236155);},'testsetexcel'(_0x27d282,{id},_0x1b1fdf,_0x1cff51){return _0x1b1fdf['db']['query']['testSetExcel']({'where':{'id':id}},_0x1cff51);},'clonetestsetoptions'(_0x1223da,_0x9db6cb,_0xa77e23,_0xbb1b09){return _0x1dd9ab[_0x40a2('0x186')];}};var _0x1db219=class Cache{constructor(_0x4e7b2d){this[_0x40a2('0x187')]=new _0x2cdde6({'stdTTL':_0x4e7b2d,'checkperiod':_0x4e7b2d*0.2,'useClones':![]});}[_0x40a2('0x188')](_0x427abc,_0x32c79c){const _0x3e87bd=this[_0x40a2('0x187')][_0x40a2('0x188')](_0x427abc);if(_0x3e87bd){return Promise[_0x40a2('0x48')](_0x3e87bd);}return _0x32c79c()['then'](_0x3ab1c1=>{this[_0x40a2('0x187')]['set'](_0x427abc,_0x3ab1c1);return _0x3ab1c1;});}['del'](_0x52b47b){this[_0x40a2('0x187')]['del'](_0x52b47b);}[_0x40a2('0x189')](_0x27eb4f=''){if(!_0x27eb4f){return;}const _0x4e66ad=this[_0x40a2('0x187')][_0x40a2('0x78')]();for(const _0x52599f of _0x4e66ad){if(_0x52599f[_0x40a2('0x18a')](_0x27eb4f)===0x0){this[_0x40a2('0x18b')](_0x52599f);}}}[_0x40a2('0x18c')](){this[_0x40a2('0x187')][_0x40a2('0x18d')]();}};const _0x46010b=new _0x1db219(0x3c*0x3c*0x1);var _0x3598d3={'devicesets'(_0xe23ee3,{where,orderBy,skip,first},_0x44a95f,_0x43ecb0){orderBy=orderBy||_0x40a2('0x121');return _0x44a95f['db'][_0x40a2('0x4e')][_0x40a2('0xb4')]({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x43ecb0);},'deviceset'(_0x3bae7a,{id},_0x5c3f35,_0xeaa613){return _0x5c3f35['db'][_0x40a2('0x4e')][_0x40a2('0xea')]({'where':{'id':id}},_0xeaa613);},async 'availabledevices'(_0x387b4d,{provider},_0x4a9cbb){const _0x3bb416=await _0x4a9cbb['db'][_0x40a2('0x4e')][_0x40a2('0x18e')]({'where':{'id':provider}});if(!_0x3bb416)return[];if(_0x3bb416[_0x40a2('0x71')]===_0x40a2('0xb8')){return _0x46010b[_0x40a2('0x188')](_0x40a2('0xb8'),()=>{return _0x3298ab({'url':_0x40a2('0x18f'),'json':!![]})[_0x40a2('0x6a')](_0x5021e4=>{const _0x47a0f2=_0x5021e4[_0x40a2('0x88')](_0x3bcdd7=>!_0x3bcdd7[_0x40a2('0x190')])[_0x40a2('0x8f')](_0x320dcb=>({'name':_0x320dcb['long_name']+'\x20'+_0x320dcb[_0x40a2('0x191')]+',\x20'+_0x320dcb['os'],'value':JSON[_0x40a2('0xa5')]({'type':_0x40a2('0x192'),'capabilities':{'browserName':_0x320dcb['api_name'],'platform':_0x320dcb['os'],'version':_0x320dcb[_0x40a2('0x191')]}})}))[_0x40a2('0x159')](_0x5021e4['filter'](_0x512942=>_0x512942[_0x40a2('0x190')])[_0x40a2('0x8f')](_0x1892fd=>({'name':_0x1892fd['long_name']+',\x20'+_0x1892fd[_0x40a2('0x191')],'value':JSON[_0x40a2('0xa5')]({'type':_0x40a2('0x193'),'capabilities':{'browserName':['iphone',_0x40a2('0x194')]['indexOf'](_0x1892fd[_0x40a2('0x195')])>=0x0?_0x40a2('0x196'):'Chrome','deviceName':_0x1892fd['device'],'platformName':[_0x40a2('0x197'),'ipad'][_0x40a2('0x18a')](_0x1892fd[_0x40a2('0x195')])>=0x0?_0x40a2('0x198'):_0x40a2('0x199'),'platformVersion':_0x1892fd[_0x40a2('0x191')]}})})));return _0x156ce6[_0x40a2('0x19a')](_0x156ce6['orderBy'](_0x47a0f2,'name',_0x40a2('0x19b')),_0x40a2('0x54'));});});}else if(_0x3bb416[_0x40a2('0x71')]===_0x40a2('0xbd')){return _0x46010b[_0x40a2('0x188')](_0x40a2('0xbd'),()=>{return Promise['resolve']([{'name':_0x40a2('0x19c'),'value':JSON[_0x40a2('0xa5')]({'type':_0x40a2('0x192'),'capabilities':{'browserName':_0x40a2('0x19d')}})},{'name':_0x40a2('0x19e'),'value':JSON['stringify']({'type':_0x40a2('0x192'),'capabilities':{}})},{'name':'Google\x20Chrome\x20(Headless)','value':JSON[_0x40a2('0xa5')]({'type':_0x40a2('0x192'),'capabilities':{'browserName':_0x40a2('0x19f'),'chromeOptions':{'args':[_0x40a2('0x1a0'),_0x40a2('0x1a1')]}}})}]);});}else if(_0x3bb416[_0x40a2('0x71')]===_0x40a2('0xc0')){return Promise[_0x40a2('0x48')]([{'name':_0x40a2('0x19c'),'value':JSON[_0x40a2('0xa5')]({'type':_0x40a2('0x192'),'capabilities':{'browserName':_0x40a2('0x19d')}})}]);}}};var _0x508f68={'testprojects'(_0x63a00f,{where,orderBy,skip,first},_0x56869f,_0x1fa7f1){orderBy=orderBy||_0x40a2('0x121');return _0x56869f['db']['query'][_0x40a2('0x1a2')]({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x1fa7f1);},'testproject'(_0x15af5c,{id},_0x56fab0,_0x6fe6d7){return _0x56fab0['db'][_0x40a2('0x4e')]['testProject']({'where':{'id':id}},_0x6fe6d7);}};var _0x32a8e3={'users'(_0x6be753,{where,orderBy,skip,first},_0x493dfb,_0x3e96a9){orderBy=orderBy||_0x40a2('0x121');return _0x493dfb['db'][_0x40a2('0x4e')][_0x40a2('0x1a3')]({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x3e96a9);},'user'(_0x17c3ec,{id},_0x22a4f0,_0x106ac6){return _0x22a4f0['db'][_0x40a2('0x4e')]['user']({'where':{'id':id}},_0x106ac6);},'apikeys'(_0x4df59a,{where,orderBy,skip,first},_0x586876,_0xce2060){orderBy=orderBy||_0x40a2('0x121');return _0x586876['db']['query'][_0x40a2('0x68')]({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0xce2060);},'apikey'(_0x5e268b,{id},_0x2afb20,_0x5f5aef){return _0x2afb20['db']['query'][_0x40a2('0x1a4')]({'where':{'id':id}},_0x5f5aef);},'deviceproviders'(_0x2d4321,{where,orderBy,skip,first},_0x37ba59,_0x52c516){orderBy=orderBy||_0x40a2('0x121');return _0x37ba59['db']['query']['deviceProviders']({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x52c516);},'deviceprovider'(_0x1e0cb1,{id},_0xace7ed,_0x4aa991){return _0xace7ed['db'][_0x40a2('0x4e')][_0x40a2('0x18e')]({'where':{'id':id}},_0x4aa991);}};const _0x25c821=new _0x1db219(0x3c*0x5);const _0x279774=_0x1f2ca0=>{if(_0x1f2ca0===_0x40a2('0x1a5')){return _0x4d43ca()['startOf'](_0x40a2('0x1a6'));}else if(_0x1f2ca0===_0x40a2('0x1a7')){return _0x4d43ca()[_0x40a2('0x1a8')](0x6,_0x40a2('0x1a9'))[_0x40a2('0x1aa')](_0x40a2('0x1a6'));}else if(_0x1f2ca0==='LAST2WEEKS'){return _0x4d43ca()[_0x40a2('0x1a8')](0xd,'days')[_0x40a2('0x1aa')](_0x40a2('0x1a6'));}else if(_0x1f2ca0===_0x40a2('0x1ab')){return _0x4d43ca()['subtract'](0x1e,_0x40a2('0x1a9'))['startOf'](_0x40a2('0x1a6'));}else if(_0x1f2ca0===_0x40a2('0x1ac')){return _0x4d43ca()[_0x40a2('0x1a8')](0x3c,'days')['startOf'](_0x40a2('0x1a6'));}};var _0xb6c3d3={'chartFailedCountByTestSetByDay'(_0x3e40e7,{testProjectId,timeFrame},_0xae9c6e,_0x2b3305){const _0x5cfbf9=_0x279774(timeFrame||_0x40a2('0x1ad'));const _0x426609=_0x4d43ca();const _0x186356=_0x40a2('0x1ae')+JSON['stringify']({'fromDate':_0x5cfbf9,'testProjectId':testProjectId});return _0x25c821['get'](_0x186356,()=>{return _0xae9c6e['db'][_0x40a2('0x4e')][_0x40a2('0xa7')]({'orderBy':_0x40a2('0x121')},_0x40a2('0x69'))['then'](_0x1889cc=>{return Promise[_0x40a2('0x154')](_0x1889cc['map'](_0x1d57b9=>{const _0x1bd70f=[];for(const _0x3201c6=_0x4d43ca(_0x5cfbf9);_0x3201c6[_0x40a2('0x1af')](_0x426609);_0x3201c6['add'](0x1,_0x40a2('0x1a9'))){const _0x23d1ae=_0x4d43ca(_0x3201c6);const _0x5c350d=_0x4d43ca(_0x3201c6)[_0x40a2('0x175')](0x1,_0x40a2('0x1a9'));const _0x5b4650={'status_in':[_0x40a2('0xf6'),_0x40a2('0xfa')],'testSets_some':{'id':_0x1d57b9['id']},'createdAt_gte':_0x23d1ae[_0x40a2('0x1b0')](),'createdAt_lte':_0x5c350d[_0x40a2('0x1b0')]()};if(testProjectId){_0x5b4650[_0x40a2('0xa2')]={'id':testProjectId};}_0x1bd70f['push'](_0xae9c6e['db']['query'][_0x40a2('0x149')]({'where':_0x5b4650},_0x40a2('0x1b1'))[_0x40a2('0x6a')](_0x21bb7c=>{if(!_0x21bb7c)return undefined;return Math['ceil'](_0x21bb7c['reduce']((_0x116440,_0x310a4f)=>_0x116440+_0x310a4f[_0x40a2('0x1b2')]['filter'](_0x19c2dc=>_0x19c2dc[_0x40a2('0x56')]&&_0x19c2dc[_0x40a2('0x56')]['id']===_0x1d57b9['id']&&!_0x19c2dc[_0x40a2('0xdd')])[_0x40a2('0x51')],0x0)/_0x21bb7c[_0x40a2('0x51')]);}));}return Promise[_0x40a2('0x154')](_0x1bd70f)[_0x40a2('0x6a')](_0x41a72a=>{return{'id':_0x1d57b9['id'],'name':_0x1d57b9['name'],'data':_0x41a72a};});}));})[_0x40a2('0x6a')](_0x2a64b8=>{if(testProjectId){return _0x2a64b8[_0x40a2('0x88')](_0x13b98a=>_0x13b98a[_0x40a2('0x6c')]&&_0x13b98a[_0x40a2('0x6c')][_0x40a2('0x88')](_0x304a80=>!isNaN(_0x304a80))[_0x40a2('0x51')]>0x0);}else{return _0x2a64b8[_0x40a2('0x88')](_0x37c19d=>_0x37c19d[_0x40a2('0x6c')]&&_0x37c19d['data'][_0x40a2('0x88')](_0x57af1d=>!isNaN(_0x57af1d)&&_0x57af1d>0x0)[_0x40a2('0x51')]>0x0);}});});},'chartFailedCountByChatbotByDay'(_0x8ed2c7,{timeFrame},_0x17df36,_0x328d56){const _0x5d6c26=_0x279774(timeFrame||_0x40a2('0x1ad'));const _0x37758d=_0x4d43ca();const _0x4ef555=_0x40a2('0x1b3')+JSON[_0x40a2('0xa5')]({'fromDate':_0x5d6c26});return _0x25c821['get'](_0x4ef555,()=>{return _0x17df36['db'][_0x40a2('0x4e')][_0x40a2('0x123')]({'orderBy':_0x40a2('0x121')},_0x40a2('0x69'))[_0x40a2('0x6a')](_0x2f16be=>{return Promise[_0x40a2('0x154')](_0x2f16be[_0x40a2('0x8f')](_0xbe2a05=>{const _0x344dc9=[];for(const _0x4767d8=_0x4d43ca(_0x5d6c26);_0x4767d8[_0x40a2('0x1af')](_0x37758d);_0x4767d8[_0x40a2('0x175')](0x1,_0x40a2('0x1a9'))){const _0x317ad2=_0x4d43ca(_0x4767d8);const _0xc44f30=_0x4d43ca(_0x4767d8)[_0x40a2('0x175')](0x1,'days');_0x344dc9['push'](_0x17df36['db'][_0x40a2('0x4e')]['testSessions']({'where':{'status_in':[_0x40a2('0xf6'),_0x40a2('0xfa')],'chatbot':{'id':_0xbe2a05['id']},'createdAt_gte':_0x317ad2['toDate'](),'createdAt_lte':_0xc44f30[_0x40a2('0x1b0')]()}},_0x40a2('0x1b4'))[_0x40a2('0x6a')](_0x20d35a=>{if(!_0x20d35a)return undefined;return Math[_0x40a2('0x1b5')](_0x20d35a[_0x40a2('0xb5')]((_0x267bbe,_0x5ce1d5)=>_0x267bbe+_0x5ce1d5[_0x40a2('0x1b2')][_0x40a2('0x88')](_0xd809c7=>!_0xd809c7[_0x40a2('0xdd')])[_0x40a2('0x51')],0x0)/_0x20d35a['length']);}));}return Promise[_0x40a2('0x154')](_0x344dc9)[_0x40a2('0x6a')](_0xcc1fca=>{return{'id':_0xbe2a05['id'],'name':_0xbe2a05[_0x40a2('0x54')],'data':_0xcc1fca};});}));})[_0x40a2('0x6a')](_0x2bcfeb=>{return _0x2bcfeb['filter'](_0x1d40ab=>_0x1d40ab[_0x40a2('0x6c')]&&_0x1d40ab[_0x40a2('0x6c')][_0x40a2('0x88')](_0x5809f7=>!isNaN(_0x5809f7))[_0x40a2('0x51')]>0x0);});});},'chartTestSetResultCount'(_0x413240,{testProjectId},_0x34da76,_0x5c9331){const _0x3b0ef1=_0x40a2('0x1b6')+JSON[_0x40a2('0xa5')]({'testProjectId':testProjectId});return _0x25c821[_0x40a2('0x188')](_0x3b0ef1,()=>{return _0x34da76['db'][_0x40a2('0x4e')][_0x40a2('0xa7')]({'orderBy':'name_ASC'},_0x40a2('0x69'))[_0x40a2('0x6a')](_0x5bb8bd=>{return Promise[_0x40a2('0x154')](_0x5bb8bd[_0x40a2('0x8f')](_0x5718c3=>{const _0x2d7bc3={'status_in':['READY',_0x40a2('0xfa')],'testSets_some':{'id':_0x5718c3['id']}};if(testProjectId){_0x2d7bc3['testProject']={'id':testProjectId};}return _0x34da76['db']['query'][_0x40a2('0x149')]({'where':_0x2d7bc3,'orderBy':_0x40a2('0x148'),'skip':0x0,'first':0x2},_0x40a2('0x1b7'))[_0x40a2('0x6a')](_0x2c091b=>{const _0x246ee6={'id':_0x5718c3['id'],'name':_0x5718c3[_0x40a2('0x54')],'testCaseLastTotalCount':0x0,'testCaseLastSuccessCount':0x0,'testCaseLastSuccessRate':0x0,'testCasePreviousTotalCount':0x0,'testCasePreviousSuccessCount':0x0,'testCasePreviousSuccessRate':0x0,'testCaseTrend':'UNKNOWN'};if(_0x2c091b&&_0x2c091b['length']>0x0){const _0x40de2f=_0x2c091b[0x0][_0x40a2('0x1b2')][_0x40a2('0x88')](_0x56c5d0=>_0x56c5d0['testSet']&&_0x56c5d0[_0x40a2('0x56')]['id']===_0x5718c3['id']);_0x246ee6[_0x40a2('0x1b8')]=_0x2c091b[0x0][_0x40a2('0x1b9')];_0x246ee6[_0x40a2('0x1ba')]=_0x2c091b[0x0]['id'];_0x246ee6[_0x40a2('0x1bb')]=_0x40de2f[_0x40a2('0x51')];_0x246ee6[_0x40a2('0x1bc')]=_0x40de2f[_0x40a2('0x88')](_0xcb480d=>_0xcb480d[_0x40a2('0xdd')])[_0x40a2('0x51')];_0x246ee6['testCaseLastSuccessRate']=_0x246ee6[_0x40a2('0x1bb')]===_0x246ee6[_0x40a2('0x1bc')]?0x64:_0x246ee6[_0x40a2('0x1bc')]/_0x246ee6[_0x40a2('0x1bb')]*0x64;}if(_0x2c091b&&_0x2c091b[_0x40a2('0x51')]>0x1){const _0x5a6629=_0x2c091b[0x1]['results'][_0x40a2('0x88')](_0x300da5=>_0x300da5[_0x40a2('0x56')]&&_0x300da5[_0x40a2('0x56')]['id']===_0x5718c3['id']);_0x246ee6['previousRun']=_0x2c091b[0x1][_0x40a2('0x1b9')];_0x246ee6['previousTestSessionId']=_0x2c091b[0x1]['id'];_0x246ee6['testCasePreviousTotalCount']=_0x5a6629[_0x40a2('0x51')];_0x246ee6['testCasePreviousSuccessCount']=_0x5a6629[_0x40a2('0x88')](_0x45a7a2=>_0x45a7a2[_0x40a2('0xdd')])['length'];_0x246ee6[_0x40a2('0x1bd')]=_0x246ee6[_0x40a2('0x1be')]===_0x246ee6[_0x40a2('0x1bf')]?0x64:_0x246ee6[_0x40a2('0x1bf')]/_0x246ee6['testCasePreviousTotalCount']*0x64;if(_0x246ee6['testCaseLastSuccessRate']>_0x246ee6[_0x40a2('0x1bd')])_0x246ee6[_0x40a2('0x1c0')]=_0x40a2('0x1c1');else if(_0x246ee6[_0x40a2('0x1c2')]<_0x246ee6['testCasePreviousSuccessRate'])_0x246ee6[_0x40a2('0x1c0')]='BAD';else _0x246ee6[_0x40a2('0x1c0')]='CONSTANT';}return _0x246ee6;});}));})[_0x40a2('0x6a')](_0x9d24d=>{const _0x2871e5=_0x9d24d['filter'](_0x542a58=>_0x542a58['testCaseLastTotalCount']>0x0);return _0x156ce6[_0x40a2('0x1c3')](_0x2871e5,_0x40a2('0x1b8'),_0x40a2('0x1c4'));});});},'chartTestProjectTrainingStatusByTestSet'(_0x2347da,{testProjectId},_0x37bedf,_0x57aea1){const _0x5cedb2=_0x40a2('0x1c5')+JSON['stringify']({'testProjectId':testProjectId});return _0x25c821[_0x40a2('0x188')](_0x5cedb2,async()=>{const _0x4c596f={'status_in':[_0x40a2('0xf6'),_0x40a2('0xfa')],'testProject':{'id':testProjectId}};const _0x58851b=await _0x37bedf['db'][_0x40a2('0x4e')][_0x40a2('0x149')]({'where':_0x4c596f,'orderBy':'createdAt_DESC','skip':0x0,'first':0x1},_0x40a2('0x1c6'));if(!_0x58851b||_0x58851b[_0x40a2('0x51')]===0x0)return null;const _0x1d909d=_0x58851b[0x0];const _0x3c4637=_0x156ce6[_0x40a2('0x19a')](_0x1d909d[_0x40a2('0x1b2')]['map'](_0xa1b233=>_0xa1b233['testSet']),'id');_0x3c4637[_0x40a2('0x5a')](_0x1d115c=>{_0x1d115c[_0x40a2('0x1c7')]=_0x1d909d[_0x40a2('0x1b2')]['filter'](_0x103364=>_0x103364[_0x40a2('0x56')]['id']===_0x1d115c['id'])[_0x40a2('0x51')];_0x1d115c['successCount']=_0x1d909d[_0x40a2('0x1b2')][_0x40a2('0x88')](_0x4d4a6f=>_0x4d4a6f[_0x40a2('0x56')]['id']===_0x1d115c['id']&&_0x4d4a6f[_0x40a2('0xdd')])['length'];_0x1d115c['failedCount']=_0x1d909d[_0x40a2('0x1b2')][_0x40a2('0x88')](_0x5448d3=>_0x5448d3[_0x40a2('0x56')]['id']===_0x1d115c['id']&&!_0x5448d3[_0x40a2('0xdd')])[_0x40a2('0x51')];});return _0x156ce6['sortBy'](_0x3c4637,_0x40a2('0x54'));});},'chartTestProjectTrainingStatusByDeviceSet'(_0x366c86,{testProjectId},_0x1ee624,_0x112eb6){const _0x41b2e5='chartTestProjectTrainingStatusByDeviceSet_'+JSON[_0x40a2('0xa5')]({'testProjectId':testProjectId});return _0x25c821[_0x40a2('0x188')](_0x41b2e5,async()=>{const _0x15fcad={'status_in':[_0x40a2('0xf6'),_0x40a2('0xfa')],'testProject':{'id':testProjectId}};const _0x1037ee=await _0x1ee624['db'][_0x40a2('0x4e')]['testSessions']({'where':_0x15fcad,'orderBy':_0x40a2('0x148'),'skip':0x0,'first':0x1},_0x40a2('0x1c8'));if(!_0x1037ee||_0x1037ee[_0x40a2('0x51')]===0x0)return null;const _0x271b6a=_0x1037ee[0x0];const _0x21b0c1=_0x156ce6[_0x40a2('0x19a')](_0x271b6a[_0x40a2('0x1b2')][_0x40a2('0x88')](_0x303942=>_0x303942[_0x40a2('0xea')])[_0x40a2('0x8f')](_0x2dcf3c=>_0x2dcf3c[_0x40a2('0xea')]),'id');_0x21b0c1[_0x40a2('0x5a')](_0x43ce37=>{_0x43ce37[_0x40a2('0x1c7')]=_0x271b6a[_0x40a2('0x1b2')][_0x40a2('0x88')](_0x193477=>_0x193477[_0x40a2('0xea')]&&_0x193477[_0x40a2('0xea')]['id']===_0x43ce37['id'])[_0x40a2('0x51')];_0x43ce37[_0x40a2('0x1c9')]=_0x271b6a[_0x40a2('0x1b2')]['filter'](_0x2c3237=>_0x2c3237['deviceSet']&&_0x2c3237['deviceSet']['id']===_0x43ce37['id']&&_0x2c3237[_0x40a2('0xdd')])['length'];_0x43ce37[_0x40a2('0x1ca')]=_0x271b6a['results'][_0x40a2('0x88')](_0x54a8bd=>_0x54a8bd['deviceSet']&&_0x54a8bd[_0x40a2('0xea')]['id']===_0x43ce37['id']&&!_0x54a8bd[_0x40a2('0xdd')])[_0x40a2('0x51')];});if(_0x271b6a['results'][_0x40a2('0x88')](_0x5b675e=>!_0x5b675e[_0x40a2('0xea')])[_0x40a2('0x51')]>0x0){_0x21b0c1[_0x40a2('0x4c')]({'id':'','name':_0x40a2('0x1cb'),'totalCount':_0x271b6a[_0x40a2('0x1b2')][_0x40a2('0x88')](_0x357eee=>!_0x357eee[_0x40a2('0xea')])[_0x40a2('0x51')],'successCount':_0x271b6a[_0x40a2('0x1b2')]['filter'](_0x40c25b=>!_0x40c25b[_0x40a2('0xea')]&&_0x40c25b[_0x40a2('0xdd')])[_0x40a2('0x51')],'failedCount':_0x271b6a[_0x40a2('0x1b2')][_0x40a2('0x88')](_0x1b144e=>!_0x1b144e[_0x40a2('0xea')]&&!_0x1b144e[_0x40a2('0xdd')])[_0x40a2('0x51')]});}return _0x156ce6[_0x40a2('0x1cc')](_0x21b0c1,_0x40a2('0x54'));});}};const {generateToken:generateToken$2}=_0x4fb724;var _0xa73940={async 'login'(_0x434f61,{name,email,password},_0x320c51,_0x454572){const _0x9e203e=name?{'name':name}:email?{'email':email}:null;if(!_0x9e203e){throw new Error(_0x40a2('0x1cd'));}const _0x4df651=await _0x320c51['db'][_0x40a2('0x4e')][_0x40a2('0x120')]({'where':_0x9e203e});if(!_0x4df651){throw new Error(_0x40a2('0x1ce')+(name?name:email));}const _0x565523=await _0x6668cd[_0x40a2('0x1cf')](password,_0x4df651[_0x40a2('0xbb')]);if(!_0x565523){throw new Error(_0x40a2('0x1d0'));}return{'token':generateToken$2(_0x4df651),'user':_0x4df651};}};var _0x805114={async 'createAgent'(_0x1b0f06,{agent},_0x42dff9,_0x4d7303){},async 'updateAgent'(_0x5e7170,{id,agent},_0xe5228f,_0x309cdf){const _0x2f8310=await _0xe5228f['db']['exists']['Agent']({'id':id});if(!_0x2f8310){throw new Error(_0x40a2('0x1d1')+id);}return _0xe5228f['db'][_0x40a2('0x7c')][_0x40a2('0x7d')]({'where':{'id':id},'data':agent},_0x309cdf);},async 'deleteAgent'(_0x194e57,{id},_0x461d5c){}};var _0x11299e={async 'createChatbot'(_0x1febbb,{chatbot},_0x5c4599,_0x39e6f8){return _0x5c4599['db'][_0x40a2('0x7c')][_0x40a2('0x1d2')]({'data':chatbot},_0x39e6f8);},async 'updateChatbot'(_0x25e764,{id,chatbot},_0x2ed10e,_0x82a4db){const _0x47e9cd=await _0x2ed10e['db'][_0x40a2('0x1d3')][_0x40a2('0x1d4')]({'id':id});if(!_0x47e9cd){throw new Error(_0x40a2('0x1d5')+id);}return _0x2ed10e['db'][_0x40a2('0x7c')][_0x40a2('0x1d6')]({'where':{'id':id},'data':chatbot},_0x82a4db);},async 'deleteChatbot'(_0x447f81,{id},_0x2f6091){return new Promise((_0x4898d1,_0x18f8b4)=>{_0x2f6091['db'][_0x40a2('0x7c')][_0x40a2('0x1d7')]({'where':{'id':id}},'{id}')[_0x40a2('0x6a')](()=>_0x4898d1(!![]))[_0x40a2('0x80')](_0x320566=>_0x18f8b4(_0x320566));});}};const _0x4b9e3f=_0x39fe11(_0x40a2('0x1d8'));var _0x322015={async 'createTestSession'(_0x4dbfe1,{testSession},_0x5459d6,_0x4e1845){return _0x5459d6['db'][_0x40a2('0x7c')][_0x40a2('0x1d9')]({'data':testSession},_0x4e1845)[_0x40a2('0x6a')](_0x1a2225=>{return new Promise((_0x94d855,_0x2a2c08)=>{_0x5459d6['queueConnector'][_0x40a2('0xa9')](_0x40a2('0x109'),{'title':_0x40a2('0x1da')+testSession[_0x40a2('0x54')],'testSessionId':_0x1a2225['id']})[_0x40a2('0xac')](!![])[_0x40a2('0xae')](_0x36911a=>{if(_0x36911a){return _0x2a2c08(_0x36911a);}_0x94d855(_0x1a2225);});});});},async 'deleteTestSession'(_0x2981c5,{id},_0x253026){return new Promise((_0x2fc061,_0x5b42b7)=>{_0x253026['db'][_0x40a2('0x7c')]['deleteManyTestSessionJobLogs']({'where':{'testSessionJob':{'testSession':{'id':id}}}})[_0x40a2('0x6a')](()=>_0x253026['db'][_0x40a2('0x7c')][_0x40a2('0x1db')]({'where':{'testSession':{'id':id}}}))[_0x40a2('0x6a')](()=>_0x253026['db'][_0x40a2('0x7c')][_0x40a2('0x1dc')]({'where':{'testSession':{'id':id}}}))[_0x40a2('0x6a')](()=>_0x253026['db'][_0x40a2('0x7c')][_0x40a2('0x1dd')]({'where':{'id':id}},_0x40a2('0x1de')))['then'](()=>_0x2fc061(!![]))[_0x40a2('0x80')](_0x19bd87=>{_0x4b9e3f(_0x40a2('0x1df')+id+':\x20'+_0x19bd87);return _0x5b42b7(_0x19bd87);});});}};var _0x351816={async 'createTestSet'(_0x158689,{testSet},_0x429cfe,_0x21883a){return _0x429cfe['db'][_0x40a2('0x7c')][_0x40a2('0x5f')]({'data':testSet},_0x21883a);},async 'updateTestSet'(_0x342b9d,{id,testSet},_0x2d6576,_0x54a68d){const _0x42d208=await _0x2d6576['db'][_0x40a2('0x1d3')]['TestSet']({'id':id});if(!_0x42d208){throw new Error(_0x40a2('0x1e0')+id);}return _0x2d6576['db'][_0x40a2('0x7c')][_0x40a2('0x1e1')]({'where':{'id':id},'data':testSet},_0x54a68d);},async 'deleteTestSet'(_0x1d16c8,{id},_0x1aa91f){return new Promise((_0x312663,_0x20761f)=>{_0x1aa91f['db'][_0x40a2('0x7c')][_0x40a2('0x1e2')]({'where':{'id':id}},_0x40a2('0x1de'))['then'](()=>_0x312663(!![]))['catch'](_0x800eb5=>_0x20761f(_0x800eb5));});},async 'createTestSetScript'(_0x4f41e7,{testSetScript},_0x52c799,_0x5ad775){return _0x52c799['db'][_0x40a2('0x7c')]['createTestSetScript']({'data':testSetScript},_0x5ad775);},async 'updateTestSetScript'(_0x17384d,{id,testSetScript},_0x3e78ab,_0x3f6d01){const _0x1db679=await _0x3e78ab['db'][_0x40a2('0x1d3')][_0x40a2('0x1e3')]({'id':id});if(!_0x1db679){throw new Error(_0x40a2('0x1e4')+id);}return _0x3e78ab['db']['mutation'][_0x40a2('0x1e5')]({'where':{'id':id},'data':testSetScript},_0x3f6d01);},async 'deleteTestSetScript'(_0x546d69,{id},_0x5ee8c3){return new Promise((_0x1ff6d3,_0x1a9e78)=>{_0x5ee8c3['db'][_0x40a2('0x7c')][_0x40a2('0x1e6')]({'where':{'id':id}},_0x40a2('0x1de'))[_0x40a2('0x6a')](()=>_0x1ff6d3(!![]))['catch'](_0x483681=>_0x1a9e78(_0x483681));});},async 'createTestSetRepository'(_0x486fdc,{testSetRepository},_0x5d7db5,_0x4abc8a){},async 'updateTestSetRepository'(_0x46b5e8,{id,testSetRepository},_0x1fbd0d,_0x4161d3){},async 'deleteTestSetRepository'(_0x3e9d09,{id},_0x2cdfba){},async 'createTestSetFolder'(_0x1960cf,{testSetFolder},_0x1359db,_0x2c8cf9){return _0x1359db['db'][_0x40a2('0x7c')][_0x40a2('0x1e7')]({'data':testSetFolder},_0x2c8cf9);},async 'updateTestSetFolder'(_0x1ba3bb,{id,testSetFolder},_0x450e1f,_0x2cbf3f){const _0x48f252=await _0x450e1f['db'][_0x40a2('0x1d3')]['TestSetFolder']({'id':id});if(!_0x48f252){throw new Error(_0x40a2('0x1e8')+id);}return _0x450e1f['db']['mutation'][_0x40a2('0x1e9')]({'where':{'id':id},'data':testSetFolder},_0x2cbf3f);},async 'deleteTestSetFolder'(_0x340354,{id},_0x1caac6){return new Promise((_0x33775f,_0x33dfb3)=>{_0x1caac6['db']['mutation'][_0x40a2('0x1ea')]({'where':{'id':id}},_0x40a2('0x1de'))['then'](()=>_0x33775f(!![]))[_0x40a2('0x80')](_0x25faee=>_0x33dfb3(_0x25faee));});},async 'createTestSetExcel'(_0x8ccc1f,{testSetExcel},_0x44fa7f,_0xb83ffa){return _0x44fa7f['db'][_0x40a2('0x7c')][_0x40a2('0x1eb')]({'data':testSetExcel},_0xb83ffa);},async 'updateTestSetExcel'(_0x5e1420,{id,testSetExcel},_0x2276e8,_0x137461){const _0xa89dce=await _0x2276e8['db'][_0x40a2('0x1d3')]['TestSetExcel']({'id':id});if(!_0xa89dce){throw new Error('TestSetExcel\x20not\x20found\x20'+id);}return _0x2276e8['db'][_0x40a2('0x7c')][_0x40a2('0x1ec')]({'where':{'id':id},'data':testSetExcel},_0x137461);},async 'deleteTestSetExcel'(_0x19d387,{id},_0x2e058e){return new Promise((_0xd1283e,_0x3024f3)=>{_0x2e058e['db'][_0x40a2('0x7c')][_0x40a2('0x1ed')]({'where':{'id':id}},'{id}')[_0x40a2('0x6a')](()=>_0xd1283e(!![]))[_0x40a2('0x80')](_0x511dca=>_0x3024f3(_0x511dca));});},async 'cloneTestSet'(_0x434acb,{id,options},_0x133c7c,_0x2498df){const _0x5a9a50=await _0x133c7c['db'][_0x40a2('0x4e')][_0x40a2('0x56')]({'where':{'id':id}},_0x40a2('0x1ee'));if(!_0x5a9a50){throw new Error('TestSet\x20not\x20found\x20'+id);}const _0x4fdead=await _0x1dd9ab[_0x40a2('0x1ef')](_0x5a9a50,_0x3285f9);const _0x228643=_0x5a9a50['name']+'/'+_0x5df23e[_0x40a2('0x1f0')](_0x4fdead);const _0x1ee6fb=_0x5a9a50[_0x40a2('0x54')]+_0x40a2('0x1f1')+_0x5df23e['basename'](_0x4fdead)+_0x40a2('0x1f2')+(_0x3285f9[_0x40a2('0x160')]&&_0x3285f9[_0x40a2('0x160')]['join'](',\x20'))+_0x40a2('0x1f3')+_0x3285f9['percentToHumanify']+'.';const _0x3061a1={'data':{..._0x5a9a50,'name':_0x228643,'description':_0x1ee6fb,'tags':{'set':_0x5a9a50['tags']?[..._0x5a9a50['tags'],'Cloned']:['Cloned']},'folders':{'create':[{'name':_0x40a2('0x1f4'),'path':_0x5df23e[_0x40a2('0x48')](_0x4fdead)}]},'repositories':{},'scripts':[],'excels':{}}};delete _0x3061a1[_0x40a2('0x6c')]['id'];return _0x133c7c['db']['mutation'][_0x40a2('0x5f')](_0x3061a1,_0x2498df);}};const _0x33dc63=_0x322015[_0x40a2('0x1d9')];const _0x183deb=_0x39fe11(_0x40a2('0x1f5'));var _0x2dee34={async 'createTestProject'(_0x15472d,{testProject},_0x388284,_0x5c56cf){return _0x388284['db'][_0x40a2('0x7c')][_0x40a2('0x1f6')]({'data':{...testProject,'code':_0x58c4cc(testProject[_0x40a2('0x54')])}},_0x5c56cf);},async 'startTestProject'(_0x491c6b,{id,code},_0x52fa12){return _0x52fa12['db'][_0x40a2('0x4e')][_0x40a2('0xa2')]({'where':{'id':id,'code':code}},_0x40a2('0x1f7'))['then'](_0x54bcd9=>{if(!_0x54bcd9)throw new Error('Test\x20Project\x20'+id+'/'+code+'\x20not\x20found');return _0x33dc63(_0x491c6b,{'testSession':{'name':_0x54bcd9['name']+_0x40a2('0x1f8'),'status':'PENDING','tags':{'set':[_0x40a2('0x1f9')]},'chatbot':{'connect':{'id':_0x54bcd9[_0x40a2('0xa1')]['id']}},'testSets':{'connect':_0x54bcd9[_0x40a2('0xa7')]&&_0x54bcd9[_0x40a2('0xa7')]['map'](_0x5ee091=>{return{'id':_0x5ee091['id']};})},'deviceSets':{'connect':_0x54bcd9['deviceSets']&&_0x54bcd9[_0x40a2('0xb4')][_0x40a2('0x8f')](_0x3ea22d=>{return{'id':_0x3ea22d['id']};})},'testProject':{'connect':{'id':_0x54bcd9['id']}},'batchCount':_0x54bcd9[_0x40a2('0x1fa')]}},_0x52fa12,_0x40a2('0x60'));})[_0x40a2('0x6a')](_0x3ab694=>_0x3ab694['id']);},async 'quickstartTestProject'(_0x1f48f6,{testProject},_0xe5c7f9){return _0xe5c7f9['db'][_0x40a2('0x7c')][_0x40a2('0x1f6')]({'data':{...testProject,'code':_0x58c4cc(testProject['name'])}},'{\x20id\x20name\x20chatbot\x20{\x20id\x20}\x20testSets\x20{\x20id\x20}\x20deviceSets\x20{\x20id\x20}\x20}')[_0x40a2('0x6a')](_0x3ceaf0=>{return _0x33dc63(_0x1f48f6,{'testSession':{'name':_0x3ceaf0[_0x40a2('0x54')]+'\x20-\x20Initial\x20Test\x20Session','status':_0x40a2('0xb0'),'tags':{'set':[_0x40a2('0x1fb')]},'chatbot':{'connect':{'id':_0x3ceaf0[_0x40a2('0xa1')]['id']}},'testSets':{'connect':_0x3ceaf0[_0x40a2('0xa7')]&&_0x3ceaf0[_0x40a2('0xa7')][_0x40a2('0x8f')](_0x55b3ac=>{return{'id':_0x55b3ac['id']};})},'deviceSets':{'connect':_0x3ceaf0[_0x40a2('0xb4')]&&_0x3ceaf0[_0x40a2('0xb4')]['map'](_0xcc2135=>{return{'id':_0xcc2135['id']};})},'testProject':{'connect':{'id':_0x3ceaf0['id']}}}},_0xe5c7f9,_0x40a2('0x60'));})['then'](_0x2e4909=>_0x2e4909['id']);},async 'updateTestProject'(_0x5eea37,{id,testProject},_0x134e41,_0xce4449){const _0x1d531c=await _0x134e41['db']['exists'][_0x40a2('0x1fc')]({'id':id});if(!_0x1d531c){throw new Error(_0x40a2('0x1fd')+id);}return _0x134e41['db']['mutation'][_0x40a2('0x1fe')]({'where':{'id':id},'data':{...testProject,'code':_0x58c4cc(testProject[_0x40a2('0x54')])}},_0xce4449);},async 'deleteTestProject'(_0x363831,{id},_0x45c992){return new Promise((_0x146e47,_0x48ea3e)=>{_0x45c992['db'][_0x40a2('0x7c')][_0x40a2('0xfd')]({'data':{'testProject':{'disconnect':!![]}},'where':{'testProject':{'id':id}}})['then'](()=>_0x45c992['db'][_0x40a2('0x7c')]['deleteTestProject']({'where':{'id':id}},_0x40a2('0x1de')))[_0x40a2('0x6a')](()=>_0x146e47(!![]))['catch'](_0x4e4afe=>{_0x183deb('Error\x20deleting\x20TestProject\x20'+id+':\x20'+_0x4e4afe);return _0x48ea3e(_0x4e4afe);});});}};const _0x3011cb=_0x39fe11(_0x40a2('0x1ff'));let _0x481767=[_0x40a2('0xbd')];var _0x45fd21={async 'createUser'(_0x1a53fe,{user},_0xdfa98e,_0x3d545c){if(user[_0x40a2('0xbb')]){user[_0x40a2('0xbb')]=await _0x6668cd[_0x40a2('0x200')](user[_0x40a2('0xbb')],0xa);}if(!user[_0x40a2('0x201')]){user[_0x40a2('0x201')]={'set':[_0x40a2('0x202')]};}return _0xdfa98e['db']['mutation']['createUser']({'data':user},_0x3d545c);},async 'updateUser'(_0x4b70e5,{id,user},_0x3ffdd8,_0x5d794b){const _0x5e9725=await _0x3ffdd8['db'][_0x40a2('0x4e')][_0x40a2('0x120')]({'where':{'id':id}});if(!_0x5e9725){throw new Error(_0x40a2('0x203')+id);}if(_0x3ffdd8[_0x40a2('0x11f')][_0x40a2('0x120')]['id']!==id&&_0x3ffdd8[_0x40a2('0x11f')][_0x40a2('0x120')][_0x40a2('0x201')][_0x40a2('0x204')](_0x218dc7=>_0x218dc7===_0x40a2('0x205'))<0x0){throw new Error(_0x40a2('0x206'));}if(user[_0x40a2('0xbb')]){user[_0x40a2('0xbb')]=await _0x6668cd['hash'](user['password'],0xa);}if(_0x5e9725[_0x40a2('0x54')]===_0x40a2('0x207')){user[_0x40a2('0x54')]='admin';user[_0x40a2('0x201')]={'set':[_0x40a2('0x205')]};}if(!user['roles']){user[_0x40a2('0x201')]={'set':['USER']};}return _0x3ffdd8['db'][_0x40a2('0x7c')][_0x40a2('0x208')]({'where':{'id':id},'data':user},_0x5d794b);},async 'deleteUser'(_0x410462,{id},_0x5df38e){const _0xc1fc60=await _0x5df38e['db'][_0x40a2('0x4e')][_0x40a2('0x120')]({'where':{'id':id}});if(!_0xc1fc60)return!![];if(_0xc1fc60['name']===_0x40a2('0x207')){throw new Error(_0x40a2('0x209'));}return _0x5df38e['db'][_0x40a2('0x7c')][_0x40a2('0x20a')]({'where':{'id':id}},_0x40a2('0x1de'))[_0x40a2('0x6a')](()=>!![])[_0x40a2('0x80')](_0x5af79b=>{_0x3011cb('Error\x20deleting\x20User\x20'+id+':\x20'+_0x5af79b);throw _0x5af79b;});},async 'createApiKey'(_0x24701b,{apiKey},_0x393de5,_0x73a7f2){apiKey[_0x40a2('0x20b')]=_0x2b31e9(_0x40a2('0x164'),0x14);return _0x393de5['db'][_0x40a2('0x7c')]['createApiKey']({'data':apiKey},_0x73a7f2);},async 'updateApiKey'(_0x11c2c2,{id,apiKey},_0x1faa45,_0x246681){const _0x5004de=await _0x1faa45['db'][_0x40a2('0x1d3')]['ApiKey']({'id':id});if(!_0x5004de){throw new Error(_0x40a2('0x20c')+id);}delete apiKey[_0x40a2('0x20b')];return _0x1faa45['db']['mutation'][_0x40a2('0x20d')]({'where':{'id':id},'data':apiKey},_0x246681);},async 'deleteApiKey'(_0x5755fb,{id},_0x330f6d){return _0x330f6d['db'][_0x40a2('0x7c')][_0x40a2('0x20e')]({'where':{'id':id}},_0x40a2('0x1de'))[_0x40a2('0x6a')](()=>!![])[_0x40a2('0x80')](_0x3e9802=>{_0x3011cb(_0x40a2('0x20f')+id+':\x20'+_0x3e9802);throw _0x3e9802;});},async 'createDeviceProvider'(_0x5e22ab,{deviceProvider},_0x474863,_0x400a07){if(deviceProvider[_0x40a2('0x71')]===_0x40a2('0xc0')){throw new Error(_0x40a2('0x210'));}if(_0x481767[_0x40a2('0x18a')](deviceProvider[_0x40a2('0x71')])<0x0){throw new Error(_0x40a2('0x211')+deviceProvider[_0x40a2('0x71')]+_0x40a2('0x212'));}return _0x474863['db']['mutation'][_0x40a2('0x213')]({'data':deviceProvider},_0x400a07);},async 'updateDeviceProvider'(_0x4692c4,{id,deviceProvider},_0xe37038,_0x5a9807){const _0x229cd1=await _0xe37038['db']['exists'][_0x40a2('0x214')]({'id':id});if(!_0x229cd1){throw new Error(_0x40a2('0x215')+id);}if(_0x481767[_0x40a2('0x18a')](deviceProvider['type'])<0x0){throw new Error(_0x40a2('0x211')+deviceProvider[_0x40a2('0x71')]+'\x20not\x20supported\x20in\x20this\x20version');}return _0xe37038['db'][_0x40a2('0x7c')][_0x40a2('0x216')]({'where':{'id':id},'data':deviceProvider},_0x5a9807);},async 'deleteDeviceProvider'(_0x245238,{id},_0x58ba56){const _0x4f55b3=await _0x58ba56['db'][_0x40a2('0x4e')][_0x40a2('0x18e')]({'where':{'id':id}});if(!_0x4f55b3)return!![];if(_0x4f55b3[_0x40a2('0x71')]===_0x40a2('0xc0')){throw new Error(_0x40a2('0x217'));}try{await _0x58ba56['db']['mutation'][_0x40a2('0x218')]({'where':{'id':id}},_0x40a2('0x1de'));return!![];}catch(_0x4c00bd){_0x3011cb('Error\x20deleting\x20DeviceProvider\x20'+id+':\x20'+_0x4c00bd);throw _0x4c00bd;}}};const _0x4ed9ad=_0x39fe11(_0x40a2('0x219'));var _0x2c66b4={async 'createDeviceSet'(_0x158217,{deviceSet},_0x18d6d4,_0x450280){return _0x18d6d4['db'][_0x40a2('0x7c')][_0x40a2('0x21a')]({'data':deviceSet},_0x450280);},async 'updateDeviceSet'(_0x30ca7e,{id,deviceSet},_0x220a3a,_0x453190){const _0x2f92e6=await _0x220a3a['db'][_0x40a2('0x1d3')][_0x40a2('0x21b')]({'id':id});if(!_0x2f92e6){throw new Error(_0x40a2('0x21c')+id);}return _0x220a3a['db'][_0x40a2('0x7c')][_0x40a2('0x21d')]({'where':{'id':id},'data':deviceSet},_0x453190);},async 'deleteDeviceSet'(_0x5e79cf,{id},_0x1f6c53){return new Promise((_0x43b183,_0x179386)=>{_0x1f6c53['db'][_0x40a2('0x4e')][_0x40a2('0xea')]({'where':{'id':id}},_0x40a2('0x21e'))[_0x40a2('0x6a')](_0x48085e=>{if(!_0x48085e)throw new Error(_0x40a2('0x21c')+id);return _0x1f6c53['db']['mutation'][_0x40a2('0x21f')]({'where':{'id_in':_0x48085e[_0x40a2('0xb6')][_0x40a2('0x8f')](_0x5ca8ca=>_0x5ca8ca['id'])}});})[_0x40a2('0x6a')](()=>_0x1f6c53['db'][_0x40a2('0x7c')][_0x40a2('0x220')]({'where':{'id':id}},_0x40a2('0x1de')))[_0x40a2('0x6a')](()=>_0x43b183(!![]))[_0x40a2('0x80')](_0x6751de=>{_0x4ed9ad('Error\x20deleting\x20DeviceSet\x20'+id+':\x20'+_0x6751de);return _0x179386(_0x6751de);});});}};const _0x1a9a2f={};var _0x41f834=_0x1a9a2f;const {withFilter}=_0x24e8cc;var _0x102540={'testSessionProgress':{'subscribe':withFilter((_0x34223d,{testSessionId},{pubsub})=>_0x247a91[_0x40a2('0x129')](_0x40a2('0x103')),(_0x4c1b27,{testSessionId})=>{return _0x4c1b27[_0x40a2('0x116')]['id']===testSessionId;})},'newTestSession':{'subscribe':(_0x32e2d0,_0x36d604,_0x53e5c0,_0x55deee)=>{return _0x53e5c0['db'][_0x40a2('0x221')][_0x40a2('0x6b')]({'where':{'mutation_in':[_0x40a2('0x222')]}},_0x55deee);}},'changeTestSession':{'subscribe':(_0x23cae5,{ids},_0x19a53b,_0x5b76ae)=>{return _0x19a53b['db'][_0x40a2('0x221')]['testSession']({'where':{'mutation_in':[_0x40a2('0x223')],'node':{'id_in':ids}}},_0x5b76ae);}},'changeTestSessionJobs':{'subscribe':(_0x1526cf,{testSessionIds},_0x2b72db,_0x406014)=>{return _0x2b72db['db'][_0x40a2('0x221')][_0x40a2('0x224')]({'where':{'mutation_in':[_0x40a2('0x223')],'node':{'testSession':{'id_in':testSessionIds}}}},_0x406014);}},'newTestSessionJobLogs':{'subscribe':(_0x2902d2,{testSessionJobId},_0x27fc15,_0x51911b)=>{return _0x27fc15['db']['subscription'][_0x40a2('0x225')]({'where':{'mutation_in':[_0x40a2('0x222')],'node':{'testSessionJob':{'id':testSessionJobId}}}},_0x51911b);}},'newTestSessionTestCaseResults':{'subscribe':(_0x18b4e0,{testSessionIds},_0xdc0c76,_0xcb228d)=>{return _0xdc0c76['db'][_0x40a2('0x221')][_0x40a2('0x226')]({'where':{'mutation_in':[_0x40a2('0x222')],'node':{'testSession':{'id_in':testSessionIds}}}},_0xcb228d);}}};var _0x1399b4={'Query':{..._0x4cad4e,..._0x5627c7,..._0x47d824,..._0x1e4d4e[_0x40a2('0x227')],..._0x38bf72,..._0x3b55a1,..._0x3598d3,..._0x508f68,..._0x32a8e3,..._0xb6c3d3},'Mutation':{..._0xa73940,..._0x805114,..._0x11299e,..._0x1e4d4e[_0x40a2('0x228')],..._0x322015,..._0x351816,..._0x2dee34,..._0x45fd21,..._0x2c66b4},'Subscription':{..._0x41f834,..._0x1e4d4e[_0x40a2('0x229')],..._0x102540}};const _0x294f1b=_0x40a2('0x22a');const _0x161c0d=_0x40a2('0x22b');const _0x43a4d6=_0x247643=>_0x584e54(_0x247643,_0x294f1b);const _0x51fc35=_0x598297=>_0x584e54(_0x598297,_0x161c0d);const _0x15e03c=_0x64c3f9=>{const _0x4c9969=_0x43a4d6(_0x64c3f9);const _0x1e5a9e=_0x51fc35(_0x64c3f9);if(!_0x4c9969&&!_0x1e5a9e)throw new Error(_0x40a2('0x22c'));return _0x4c9969||_0x1e5a9e;};var _0x577861={'isAuthenticated':(_0xdf763f,_0x6ffb57,_0x15b290,_0x3035a1)=>{_0x15e03c(_0x3035a1);return _0xdf763f();},'hasRole':(_0x16113c,_0x545b1d,{roles},_0x4d0b56)=>{const _0x22d7fa=_0x15e03c(_0x4d0b56);for(const _0x542d2f in _0x22d7fa['roles']||[]){const _0x1d2f3a=_0x22d7fa[_0x40a2('0x201')][_0x542d2f];if(roles['includes'](_0x1d2f3a)){return _0x16113c();}}throw new Error(_0x40a2('0x22d'));}};const {jwtSettings:jwtSettings$1,tokenToUserId:tokenToUserId$1}=_0x4fb724;const _0x5016d6=_0x39fe11('botium-box-middleware-jwt');let _0x4a0ba5=null;const _0x3864d5=async(_0x5cec10,_0x38b1d8,_0x5f5d90,_0x400434)=>{const _0x121fc7=_0x5cec10[_0x40a2('0x4e')][_0x40a2('0x22e')]||_0x5cec10['body']&&_0x5cec10[_0x40a2('0x22f')]['APIKEY']||_0x5cec10[_0x40a2('0x230')]['APIKEY'];const _0x2ae5e6=_0x400434(_0x5cec10);if(_0x121fc7){_0xce309a['lookupApiKey'](_0x2ae5e6['db'],_0x121fc7)[_0x40a2('0x6a')](_0x1663f3=>{if(_0x1663f3){_0x5016d6(_0x40a2('0x231')+_0x47ba14[_0x40a2('0x232')](_0x1663f3));_0x5cec10[_0x40a2('0x1a4')]=_0x1663f3;return _0x5f5d90();}else{_0x5016d6(_0x40a2('0x233')+_0x121fc7);return _0x5f5d90();}})[_0x40a2('0x80')](_0x4129eb=>{_0x5016d6('Api\x20Key\x20lookup\x20error\x20-\x20'+_0x121fc7+'\x20-\x20'+_0x4129eb);return _0x5f5d90();});}else{return _0x5f5d90();}};const _0x9ffee=async(_0x49443d,_0x2acc4f,_0x191a85,_0x3398f1)=>{if(_0x49443d[_0x40a2('0x120')]){const _0x5c8eb9=_0x3398f1(_0x49443d)['db'];const _0x56c498=_0x49443d[_0x40a2('0x120')];const _0x370a82=await _0x5c8eb9['query'][_0x40a2('0x120')]({'where':{'id':tokenToUserId$1(_0x56c498)}},'{\x20id\x20name\x20email\x20roles\x20}');_0x49443d['user']={..._0x370a82,'token':_0x56c498};return _0x191a85();}if(process[_0x40a2('0x47')]['JWT_AUTOLOGIN_USERNAME']){if(!_0x4a0ba5){const _0x34cd94=_0x3398f1(_0x49443d)['db'];_0x4a0ba5=await _0x34cd94[_0x40a2('0x4e')][_0x40a2('0x120')]({'where':{'name':process[_0x40a2('0x47')][_0x40a2('0x234')]}},'{\x20id\x20name\x20email\x20roles\x20}');_0x5016d6(_0x40a2('0x235')+process['env'][_0x40a2('0x234')]+'.');}_0x49443d[_0x40a2('0x120')]={..._0x4a0ba5,'token':null};return _0x191a85();}return _0x191a85();};const _0x4a3492=()=>_0x4e26e0(Object[_0x40a2('0xb9')]({},jwtSettings$1(),{'credentialsRequired':![],'getToken':_0x43b0e4=>{if(_0x43b0e4[_0x40a2('0x230')][_0x40a2('0x236')]&&_0x43b0e4[_0x40a2('0x230')][_0x40a2('0x236')][_0x40a2('0x5e')]('\x20')[0x0]==='Bearer'){return _0x43b0e4[_0x40a2('0x230')][_0x40a2('0x236')][_0x40a2('0x5e')]('\x20')[0x1];}else if(_0x43b0e4[_0x40a2('0x4e')]&&_0x43b0e4[_0x40a2('0x4e')]['token']){return _0x43b0e4[_0x40a2('0x4e')]['token'];}else if(_0x43b0e4[_0x40a2('0x22f')]&&_0x43b0e4[_0x40a2('0x22f')][_0x40a2('0x237')]){return _0x43b0e4['body'][_0x40a2('0x237')];}return null;}}));var _0x5e44cc=(_0x540697,_0x301d6a,_0x109bea)=>{_0x540697[_0x40a2('0x238')](_0x4a3492());_0x540697[_0x40a2('0x238')]((_0x2664b7,_0x22b909,_0x4c5f88)=>_0x9ffee(_0x2664b7,_0x22b909,_0x4c5f88,_0x109bea));_0x540697[_0x40a2('0x238')]((_0x31a005,_0x29d484,_0x37ef9e)=>_0x3864d5(_0x31a005,_0x29d484,_0x37ef9e,_0x109bea));};const _0x2c65b1=_0x39fe11(_0x40a2('0x239'));var _0x1f634f=(_0x4e6a18,_0x89f428)=>{_0x4e6a18['get'](_0x40a2('0x23a'),(_0x1dd4ee,_0x114aa7)=>{const _0x2f8773=_0x1dd4ee[_0x40a2('0x23b')]['id'];const _0x1f0a8c=_0x89f428(_0x1dd4ee);_0xce309a[_0x40a2('0x23c')](_0x1f0a8c['db'],_0x2f8773)['then'](_0x195a74=>{if(_0x195a74){const _0x576c03=new Buffer(_0x195a74['filecontent'],_0x40a2('0xed'));_0x114aa7[_0x40a2('0x23d')](0xc8,{'Content-disposition':_0x40a2('0x23e')+_0x195a74[_0x40a2('0x92')],'Content-Length':_0x576c03[_0x40a2('0x51')]});_0x114aa7[_0x40a2('0x23f')](_0x576c03);}else{_0x2c65b1(_0x40a2('0x240')+_0x2f8773);_0x114aa7[_0x40a2('0x241')](0x194);}})[_0x40a2('0x80')](_0x526719=>{_0x2c65b1(_0x40a2('0x242')+_0x2f8773+'\x20-\x20'+_0x526719);_0x114aa7[_0x40a2('0x241')](0x194);});});_0x4e6a18[_0x40a2('0x188')](_0x40a2('0x243'),(_0x5100aa,_0x429902)=>{const _0x8cf836=_0x5100aa[_0x40a2('0x23b')]['id'];const _0x4b819a=_0x89f428(_0x5100aa);_0xce309a[_0x40a2('0x244')](_0x4b819a['db'],_0x8cf836)['then'](_0x1f634f=>{if(_0x1f634f){const _0x4b761e=new Buffer(_0x1f634f[_0x40a2('0xed')],_0x40a2('0xed'));_0x429902[_0x40a2('0x23d')](0xc8,{'Content-Disposition':_0x40a2('0x245')+_0x1f634f[_0x40a2('0x54')],'Content-Type':_0x1f634f[_0x40a2('0xec')],'Content-Length':_0x4b761e[_0x40a2('0x51')]});_0x429902['end'](_0x4b761e);}else{_0x2c65b1(_0x40a2('0x246')+_0x8cf836);_0x429902['sendStatus'](0x194);}})[_0x40a2('0x80')](_0x382ce6=>{_0x2c65b1(_0x40a2('0x247')+_0x8cf836+_0x40a2('0x147')+_0x382ce6);_0x429902[_0x40a2('0x241')](0x194);});});};const _0xcde82c=_0x39fe11('botium-box-server-endpoints-build');const _0x44ef5a=_0x322015[_0x40a2('0x1d9')];const _0x40abf3=(_0x35d5e9,_0x459c18)=>{return _0x35d5e9[_0x40a2('0x4e')][_0x459c18]||_0x35d5e9[_0x40a2('0x22f')]&&_0x35d5e9[_0x40a2('0x22f')][_0x459c18]||_0x35d5e9[_0x40a2('0x230')][_0x459c18];};const _0x425357=(_0x2244b4,_0x4c17d3,_0x5e8434,_0x3db466)=>{_0xce309a[_0x40a2('0x248')](_0x4c17d3['db'],_0x2244b4)[_0x40a2('0x6a')](_0x4cdbc5=>{if(!_0x4cdbc5){throw new Error(_0x40a2('0x249')+_0x2244b4+'\x20not\x20found');}const _0x1555f0=_0x40abf3(_0x5e8434,'REPORTER')||_0x40a2('0x24a');if(_0x1555f0===_0x40a2('0x24a')){delete _0x4cdbc5['results'];if(_0x4cdbc5[_0x40a2('0xce')]===_0x40a2('0xfa')){_0x3db466[_0x40a2('0xce')](0x1f4)[_0x40a2('0x24b')](_0x4cdbc5);}else{_0x3db466[_0x40a2('0xce')](0xc8)[_0x40a2('0x24b')](_0x4cdbc5);}}else if(_0x1555f0==='junit'){const _0x17ca47=_0x156ce6['groupBy'](_0x4cdbc5['results'],_0xbaaa5f=>_0xbaaa5f[_0x40a2('0x56')]?_0xbaaa5f[_0x40a2('0x56')]['name']:'');const _0x4d7e97=_0x156ce6[_0x40a2('0x78')](_0x17ca47)[_0x40a2('0x8f')](_0x46a347=>{const _0x48621d=_0x17ca47[_0x46a347];const _0x35b005={'testsuite':[{'_attr':{'name':_0x46a347||_0x40a2('0x24c'),'tests':_0x48621d[_0x40a2('0x51')],'failures':_0x48621d[_0x40a2('0x88')](_0x32d804=>!_0x32d804[_0x40a2('0xdd')])[_0x40a2('0x51')]}}]};return _0x35b005;});const _0x35a909=_0x583e2d({'testsuites':[{'_attr':{'name':_0x4cdbc5[_0x40a2('0x54')],'tests':_0x4cdbc5[_0x40a2('0x1b2')][_0x40a2('0x51')],'failures':_0x4cdbc5['results']['filter'](_0x2235b4=>!_0x2235b4[_0x40a2('0xdd')])['length']}}][_0x40a2('0x159')](_0x4d7e97)},{'declaration':!![]});_0x3db466['set'](_0x40a2('0x24d'),_0x40a2('0x24e'));_0x3db466[_0x40a2('0xce')](0xc8)[_0x40a2('0x24b')](_0x35a909);}else{_0x3db466[_0x40a2('0x241')](0x194)[_0x40a2('0x24b')](_0x40a2('0x24f'));}})['catch'](_0x545691=>{_0xcde82c(_0x40a2('0x250')+_0x2244b4+_0x40a2('0x147')+_0x545691);_0x3db466['sendStatus'](0x194);});};const _0x2129e8=(_0x4cbb50,_0x5e10a3,_0x264c2b,_0x5a6591)=>{const _0x47a34b=_0x5e10a3['pubsub'][_0x40a2('0x129')](_0x40a2('0x103'));(async function loop(){while(!![]){const {value}=await _0x47a34b['next']();if(value[_0x40a2('0x116')]&&value[_0x40a2('0x116')][_0x40a2('0xce')]&&value[_0x40a2('0x116')]['id']===_0x4cbb50){_0xcde82c('Test\x20Project\x20'+_0x4cbb50+_0x40a2('0x251')+value[_0x40a2('0x116')][_0x40a2('0xce')]);if(value[_0x40a2('0x116')]['status']==='READY'){return _0x425357(_0x4cbb50,_0x5e10a3,_0x264c2b,_0x5a6591);}if(value[_0x40a2('0x116')][_0x40a2('0xce')]==='FAILED'){return _0x425357(_0x4cbb50,_0x5e10a3,_0x264c2b,_0x5a6591);}}}}());};const _0x320d17=({ctxFactory,testProjectCode,req,res})=>{const _0x507c15=_0x41cd3d(req);_0x507c15['db']['query'][_0x40a2('0xa2')]({'where':{'code':testProjectCode}},'{\x20id\x20name\x20chatbot\x20{\x20id\x20}\x20testSets\x20{\x20id\x20}\x20deviceSets\x20{\x20id\x20}\x20}')['then'](_0x23f35a=>{if(!_0x23f35a){throw new Error(_0x40a2('0x252')+testProjectCode+'\x20not\x20found');}const _0x4d153d=_0x40abf3(req,'BUILDID');const _0x4059e5=_0x40abf3(req,_0x40a2('0x253'));const _0x4aa12f=_0x40abf3(req,_0x40a2('0x254'));const _0x130024=_0x12043f=>{return Object[_0x40a2('0x78')](_0x12043f)[_0x40a2('0xb5')]((_0x581a92,_0x17f99d)=>{_0x581a92[_0x40a2('0x4c')]({'name':_0x17f99d,'type':_0x40a2('0x72'),'stringValue':_0x12043f[_0x17f99d]});return _0x581a92;},[]);};const _0x345631=req['body']&&req[_0x40a2('0x22f')][_0x40a2('0x255')]&&_0x130024(req[_0x40a2('0x22f')][_0x40a2('0x255')])||[];const _0x22e193=req[_0x40a2('0x22f')]&&req[_0x40a2('0x22f')][_0x40a2('0x256')]&&_0x130024(req[_0x40a2('0x22f')][_0x40a2('0x256')])||[];const _0x33ff76=req[_0x40a2('0x22f')]&&req[_0x40a2('0x22f')]['ENVS']&&_0x130024(req[_0x40a2('0x22f')][_0x40a2('0x257')])||[];const _0x40f67a={'name':_0x4d153d||_0x23f35a[_0x40a2('0x54')]+_0x40a2('0x258'),'description':_0x4059e5,'status':_0x40a2('0xb0'),'tags':{'set':_0x4aa12f?_0x156ce6[_0x40a2('0x259')](_0x4aa12f)?_0x4aa12f:[_0x4aa12f]:[]},'chatbot':{'connect':{'id':_0x23f35a['chatbot']['id']}},'testSets':{'connect':_0x23f35a[_0x40a2('0xa7')]&&_0x23f35a[_0x40a2('0xa7')][_0x40a2('0x8f')](_0x5442e5=>{return{'id':_0x5442e5['id']};})},'deviceSets':{'connect':_0x23f35a['deviceSets']&&_0x23f35a['deviceSets'][_0x40a2('0x8f')](_0x1d4635=>{return{'id':_0x1d4635['id']};})},'testProject':{'connect':{'id':_0x23f35a['id']}},'capabilities':{'create':_0x345631},'sources':{'create':_0x22e193},'envs':{'create':_0x33ff76},'batchCount':_0x23f35a[_0x40a2('0x1fa')]};_0xcde82c(_0x40a2('0x25a')+JSON['stringify'](_0x40f67a,null,0x2));return _0x44ef5a(null,{'testSession':_0x40f67a},_0x507c15,_0x40a2('0x25b'));})[_0x40a2('0x6a')](_0x38154e=>{const _0xb42357=_0x40abf3(req,'WAIT');if(_0x38154e[_0x40a2('0xce')]!=='READY'&&_0x38154e['status']!==_0x40a2('0xfa')&&_0xb42357==='1'){_0x2129e8(_0x38154e['id'],_0x507c15,req,res);}else{_0x425357(_0x38154e['id'],_0x507c15,req,res);}})[_0x40a2('0x80')](_0x3d1bdb=>{_0xcde82c(_0x40a2('0x25c')+testProjectCode+_0x40a2('0x147')+_0x3d1bdb);res[_0x40a2('0x241')](0x194);});};const _0x49b4fe=({ctxFactory,nameOrId,req,res})=>{const _0x5c7a76=_0x41cd3d(req);_0x5c7a76['db'][_0x40a2('0x4e')][_0x40a2('0x149')]({'where':{'OR':[{'id':nameOrId},{'name':nameOrId}]},'orderBy':'createdAt_DESC','first':0x1},_0x40a2('0x25d'))[_0x40a2('0x6a')](_0x32bc7e=>{if(!_0x32bc7e){return res[_0x40a2('0x241')](0x194);}const _0x17cf12=_0x32bc7e[0x0];const _0x502455=_0x40abf3(req,_0x40a2('0x25e'));if(_0x17cf12[_0x40a2('0xce')]!==_0x40a2('0xf6')&&_0x17cf12[_0x40a2('0xce')]!==_0x40a2('0xfa')&&_0x502455==='1'){_0x2129e8(_0x17cf12['id'],_0x5c7a76,req,res);}else{_0x425357(_0x17cf12['id'],_0x5c7a76,req,res);}})[_0x40a2('0x80')](_0x228f87=>{_0xcde82c('Test\x20Session\x20lookup\x20error\x20-\x20'+nameOrId+_0x40a2('0x147')+_0x228f87);res['sendStatus'](0x194);});};var _0x24cf7c=(_0x4f6e44,_0x35a521)=>{const _0x4e6334=(_0x40784e,_0x460cdd)=>{_0x320d17({'testProjectCode':_0x40784e[_0x40a2('0x23b')][_0x40a2('0x25f')],'ctxFactory':_0x35a521,'req':_0x40784e,'res':_0x460cdd});};const _0x3b34be=(_0x87f57d,_0xbe283c)=>{_0x49b4fe({'nameOrId':_0x87f57d['params'][_0x40a2('0x260')],'ctxFactory':_0x35a521,'req':_0x87f57d,'res':_0xbe283c});};_0x4f6e44[_0x40a2('0x261')](_0x40a2('0x262'),_0x4e6334);_0x4f6e44['get']('/api/triggerbuild/:code',_0x4e6334);_0x4f6e44['get'](_0x40a2('0x263'),_0x3b34be);};var _0x28b578=(_0x2a1853,_0x54d24a)=>{_0x2a1853['get'](_0x40a2('0x264'),(_0x35e555,_0x53879f)=>{_0x53879f['status'](0xc8)[_0x40a2('0x24b')](_0x30d4a5[_0x40a2('0x265')]);});};const _0x3840bd=_0x39fe11('botium-box-server-endpoints');const _0x1d666a=(_0xf5ce2b,_0x3098e1,_0x40757e,_0x169bd9)=>{if(!_0x3098e1[_0x40a2('0x1a4')]&&!_0x3098e1[_0x40a2('0x120')])return _0x40757e['sendStatus'](0x191);else return _0x169bd9();};var _0x568bb2=(_0xa0b931,_0x18e7db)=>{_0xa0b931[_0x40a2('0x238')](_0x4e6310[_0x40a2('0x24a')]({'limit':_0x40a2('0x266'),'extended':!![]}));_0xa0b931[_0x40a2('0x238')]([_0x40a2('0x267'),_0x40a2('0x268'),_0x40a2('0x269')],_0x1d666a[_0x40a2('0x26a')](null,_0x18e7db));_0x1f634f(_0xa0b931,_0x18e7db);_0x24cf7c(_0xa0b931,_0x18e7db);_0x28b578(_0xa0b931,_0x18e7db);};_0x240c77['config']();_0x30d4a5[_0x40a2('0x26b')]();const {GraphQLServer,PubSub}=_0x24e8cc;const {Prisma}=_0x2db107;const {validateToken:validateToken$1}=_0x4fb724;const _0x2b4ab5=_0x39fe11(_0x40a2('0x26c'));const _0x613efc=()=>{return new Prisma({'typeDefs':process[_0x40a2('0x47')][_0x40a2('0x26d')]||_0x40a2('0x26e'),'endpoint':process[_0x40a2('0x47')][_0x40a2('0x26f')],'debug':process[_0x40a2('0x47')][_0x40a2('0x270')],'secret':process[_0x40a2('0x47')][_0x40a2('0x271')]});};const _0x25f592=(_0x373edf,_0x102890)=>{if(_0x373edf)console[_0x40a2('0x3e')](_0x373edf);if(_0x102890)console[_0x40a2('0x3e')](_0x102890);process['exit'](0x1);};let _0x35d983={};if(process['env']['BOTIUMBOX_QUEUE_SETTINGS']){try{_0x35d983=JSON[_0x40a2('0x76')](process[_0x40a2('0x47')][_0x40a2('0x272')]);_0x2b4ab5(_0x40a2('0x273')+JSON[_0x40a2('0xa5')](_0x35d983)+'\x27');}catch(_0x3b7ef7){_0x25f592(_0x40a2('0x274')+process[_0x40a2('0x47')][_0x40a2('0x272')]+'\x22:',_0x3b7ef7);}}else{if(process[_0x40a2('0x47')][_0x40a2('0x275')]){_0x35d983[_0x40a2('0x276')]=process[_0x40a2('0x47')][_0x40a2('0x275')];}if(process[_0x40a2('0x47')][_0x40a2('0x277')]){_0x35d983['redis']=process['env'][_0x40a2('0x277')];}}_0x2b4ab5(_0x40a2('0x278')+JSON['stringify'](_0x35d983)+'\x27');const _0x50c530=_0x3a393b['createQueue'](_0x35d983);_0x50c530['on'](_0x40a2('0x10c'),_0x4fbc18=>{_0x25f592('ERROR\x20connecting\x20to\x20queue\x20\x27'+JSON[_0x40a2('0xa5')](_0x35d983)+'\x27:',_0x4fbc18);});process[_0x40a2('0x47')][_0x40a2('0x162')]=process[_0x40a2('0x47')]['BOTIUM_TEMPDIR']||_0x40a2('0x279');try{_0x151fac[_0x40a2('0x165')](process['env'][_0x40a2('0x162')]);_0x2b4ab5(_0x40a2('0x27a')+process['env'][_0x40a2('0x162')]);}catch(_0x45f495){_0x25f592(_0x40a2('0x27b')+process['env']['BOTIUM_TEMPDIR']+'\x27:',_0x45f495);}process['env'][_0x40a2('0x61')]=process[_0x40a2('0x47')]['TESTSETDIR']||_0x40a2('0x27c');try{_0x151fac[_0x40a2('0x165')](process[_0x40a2('0x47')][_0x40a2('0x61')]);_0x2b4ab5(_0x40a2('0x27d')+process[_0x40a2('0x47')][_0x40a2('0x61')]);}catch(_0x3116d6){_0x25f592(_0x40a2('0x27e')+process[_0x40a2('0x47')][_0x40a2('0x61')]+'\x27:',_0x3116d6);}_0x10babe[_0x40a2('0x27f')](_0x613efc());const _0x247a91=new PubSub();const _0x41cd3d=_0x3f70bb=>({..._0x3f70bb||{},'db':_0x613efc(),'queueConnector':_0x50c530,'pubsub':_0x247a91});const _0x560312=new GraphQLServer({'typeDefs':process[_0x40a2('0x47')][_0x40a2('0x280')]||_0x40a2('0x281'),'resolvers':_0x1399b4,'resolverValidationOptions':{'requireResolversForResolveType':![]},'directiveResolvers':_0x577861,'context':_0x41cd3d});const _0x3285f9={'port':process[_0x40a2('0x47')][_0x40a2('0x282')]||0xfa0,'endpoint':_0x40a2('0x283'),'subscriptions':{'path':_0x40a2('0x284'),'onConnect':async(_0x585198,_0x224cfe,_0x148906)=>{if(_0x585198['Authorization']){_0x2b4ab5(_0x40a2('0x285')+_0x585198['Authorization']);const _0x442d94=await validateToken$1(_0x585198[_0x40a2('0x286')],_0x613efc());return{'user':_0x442d94};}throw new Error(_0x40a2('0x287'));},'onDisconnect':(_0x5032d8,_0x4701b8)=>{}},'playground':_0x40a2('0x288')};_0x5e44cc(_0x560312[_0x40a2('0x29')],_0x3285f9,_0x41cd3d);_0x568bb2(_0x560312[_0x40a2('0x29')],_0x41cd3d);_0x560312['start'](_0x3285f9,({port})=>{const _0x34298f=_0x5df23e[_0x40a2('0x4b')](__dirname,_0x40a2('0x289'));_0x560312['express'][_0x40a2('0x238')](_0x185883());_0x560312['express']['use']('/',_0x16a969[_0x40a2('0x28a')](_0x34298f));console[_0x40a2('0x3e')](_0x40a2('0x28b')+port+_0x40a2('0x28c')+_0x34298f);});const _0x3cc87e=new _0x41eb2b(_0x41cd3d);_0x3cc87e[_0x40a2('0x106')]();var _0x3a484a={};return _0x3a484a;}));