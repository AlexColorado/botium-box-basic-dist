var _0x31ba=['deviceOptions','startTestSession\x20failed:\x20','testSessionJobs','status','updateTestSession','RUNNING','Test\x20Session\x20Job\x20','\x20set\x20Test\x20Session\x20','\x20RUNNING.','\x20RUNNING\x20failed:\x20','updateTestSessionJob','\x20set\x20Test\x20Session\x20Job\x20RUNNING.','\x20set\x20Test\x20Session\x20Job\x20RUNNING\x20failed:\x20','progressPercent','\x20set\x20Test\x20Session\x20Job\x20progressPercent\x20','\x20failed:\x20','createTestSessionJobLog','\x20wrote\x20log:\x20','testcase','source','success','err','messages','isString','testSetFilename','testSetId','testSetScriptId','testSetRepositoryId','testSetRepository','testSetFolder','testSetFolderId','testSetExcelId','deviceSet','attachments','mimeType','base64','createTestSessionTestCaseResult','\x20id:\x20','\x20in\x20TestSession\x20','\x20registration\x20failed:\x20','testSessionProgress\x20failed:\x20','{\x20id,\x20testSession\x20{\x20id\x20name\x20}\x20\x20}','\x20not\x20registered\x20as\x20test\x20session\x20job.\x20Skipping.','READY','Job\x20completed','testSessionJobFailed:\x20Job\x20','FAILED','Job\x20failed:\x20','testSessionJobFailed\x20createTestSessionJobLog\x20failed:\x20','testSessionJobFailed\x20failed:\x20','updateManyTestSessions','testSessionCheckFinished\x20','\x20sendSubscriptionProgress','{\x20id\x20name\x20status\x20jobs\x20{\x20id\x20progressPercent\x20}\x20}','pubsub','publish','TEST_SESSION_PROGRESS','botium-box-server-agents','ctxFactory','start','agent.heartbeat','agent.heartbeat:\x20','agent.register','agent.register:\x20','box.createprocessingjobs','startTestSession','error','ERROR\x20connecting\x20to\x20queue:','Job\x20','\x20got\x20queued\x20of\x20type\x20','job\x20error','job\x20complete','\x20completed\x20','testSessionJobCompleted','job\x20progress','\x20progress\x20','testSessionProgress','JWT_SECRET','JWT_AUDIENCE','botiumbox','sign','JWT_EXPIRY_DAYS','JWT_ISSUER','verify','user','{\x20id\x20name\x20email\x20roles\x20}','request','name_ASC','agents','chatbots','listWorkspaces','workspaces','description','botium-box-server-livechat','BotDriver','Conversation\x20','\x20not\x20available.','{\x20id\x20name\x20capabilities\x20{\x20name\x20type\x20stringValue\x20intValue\x20booleanValue\x20jsonValue\x20}\x20}','liveChatStartBot(',')\x20launching\x20bot\x20','\x20...','MESSAGE_SENTTOBOT','Build','Start',')\x20container\x20started.',')\x20sending\x20convoStep\x20','UserSays','Stop','Clean',')\x20container\x20stopped.','{\x20id\x20name\x20}','liveChatSaveConvoSteps(','messageText','buttons','BUTTONS\x20','text','media','MEDIA\x20','mediaUri','cards','image','createTestSetScript',')\x20saved\x20test\x20case\x20for\x20test\x20set\x20','createdAt_DESC','testSessions','testSessionTestCaseResult','format','from','content','Compile','SCRIPTING_FORMAT_XSLX','ReadScriptsFromDirectory',':\x20Folder\x20','SCRIPTING_XLSX_SHEETNAMES','caps','SCRIPTING_XLSX_STARTCOL','SCRIPTING_XLSX_SHEETNAMES_UTTERANCES','SCRIPTING_XLSX_STARTROW','all','values','metadata','typo','Unknown\x20ID:\x20','execute','has','>\x20created\x20by\x20','add','humanifiersToExecute','allHumanifiers','Aa0','sync','keys','size','both','toHumanify','allUtteranceCount','utterancesToHumanifyCount','Cloning\x20finished:\x20','TESTSETDIR','_CLONED_','concat','GetCompiler','Decompile','writeFile','.convo.txt','sender','delete','uniq','bot','neither','round','There\x20is\x20already\x20an\x20utterance\x20','\x20in\x20the\x20testset!','Execute','humanifiedRefs','humanifiedRefCount','humanifiedUtterancesCount','duplicates','conversation','clonedConvoCount','testSetScripts','Utterances','header','testSetRepositories','testSetExcels','testSetExcel','possibleOptions','cache','get','del','delStartWith','indexOf','flushAll','deviceProvider','device','short_version','DESKTOP','api_name','long_name','MOBILEBROWSER','ipad','Safari','iphone','iOS','Android','orderBy','asc','PhantomJS\x20Virtual\x20Browser','phantomjs','Generic\x20Browser\x20(manually\x20set\x20capabilities)','--headless','--disable-gpu','testProjects','users','deviceProviders','TODAY','startOf','day','LASTWEEK','subtract','days','LAST2WEEKS','LASTMONTH','LAST2MONTHS','chartFailedCountByTestSetByDay_','isBefore','toDate','ceil','chartFailedCountByChatbotByDay_','{\x20id\x20results\x20{\x20success\x20}\x20}','results','{\x20id\x20createdAt\x20results\x20{\x20success\x20testSet\x20{\x20id\x20}\x20}\x20}','UNKNOWN','lastRun','createdAt','lastTestSessionId','testCaseLastTotalCount','testCaseLastSuccessCount','testCaseLastSuccessRate','testCasePreviousTotalCount','testCaseTrend','GOOD','testCasePreviousSuccessRate','BAD','CONSTANT','chartTestProjectTrainingStatusByTestSet_','{\x20id\x20createdAt\x20results\x20{\x20success\x20testSet\x20{\x20id\x20name\x20}\x20}\x20}','uniqBy','totalCount','successCount','failedCount','sortBy','chartTestProjectTrainingStatusByDeviceSet_','{\x20id\x20createdAt\x20results\x20{\x20success\x20deviceSet\x20{\x20id\x20name\x20}\x20}\x20}','No\x20Device\x20Set','No\x20such\x20user\x20found:\x20','Invalid\x20password','exists','Agent','createChatbot','Chatbot','Chatbot\x20not\x20found\x20','updateChatbot','deleteChatbot','createTestSession','Job\x20Creation\x20Job\x20for\x20Test\x20Session\x20','deleteManyTestSessionJobLogs','deleteManyTestSessionJobs','deleteManyTestSessionTestCaseResults','deleteTestSession','{id}','TestSet','TestSet\x20not\x20found\x20','updateTestSet','deleteTestSet','TestSetScript','updateTestSetScript','deleteTestSetScript','createTestSetFolder','TestSetFolder','createTestSetExcel','TestSetExcel','deleteTestSetExcel','\x20\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20id\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20\x20\x20expandConvos\x0a\x20\x20\x20\x20\x20\x20expandUtterancesToConvos\x0a\x20\x20\x20\x20\x20\x20expandUtterancesIncomprehension\x0a\x20\x20\x20\x20\x20\x20tags\x0a\x20\x20\x20\x20\x20\x20scripts\x20{\x20id\x20script\x20scriptType\x20}\x0a\x20\x20\x20\x20\x20\x20repositories\x20{\x20id\x20giturl\x20gitbranch\x20gitdir\x20globFilter\x20}\x0a\x20\x20\x20\x20\x20\x20folders\x20{\x20id\x20path\x20globFilter\x20}\x0a\x20\x20\x20\x20\x20\x20excels\x20{\x20id\x20filename\x20filecontent\x20hasConvos\x20hasUtterances\x20worksheetsConvos\x20worksheetsUtterances\x20startRow\x20startCol\x20}\x0a\x20\x20\x20\x20}','CloneTestset','basename','\x22,\x20Humanifiers\x20\x22','percentToHumanify','tags','Cloned','createTestSet','createTestProject','{\x20id\x20name\x20chatbot\x20{\x20id\x20}\x20testSets\x20{\x20id\x20}\x20deviceSets\x20{\x20id\x20}\x20batchCount\x20}','Test\x20Project\x20','\x20not\x20found','\x20-\x20Manual\x20Test\x20Session','Manual','{\x20id\x20name\x20chatbot\x20{\x20id\x20}\x20testSets\x20{\x20id\x20}\x20deviceSets\x20{\x20id\x20}\x20}','\x20-\x20Initial\x20Test\x20Session','QuickStart','TestProject','TestProject\x20not\x20found\x20','Error\x20deleting\x20TestProject\x20','botium-box-server-mutation-settings','roles','createUser','findIndex','ADMIN','Only\x20admin\x20can\x20update\x20users','hash','admin','USER','updateUser','Not\x20allowed\x20to\x20delete\x20user\x20\x22admin\x22','deleteUser','Error\x20deleting\x20User\x20','key','createApiKey','ApiKey\x20not\x20found\x20','updateApiKey','Error\x20deleting\x20ApiKey\x20','DeviceProvider\x20type\x20','\x20not\x20supported\x20in\x20this\x20version','DeviceProvider','DeviceProvider\x20type\x20INTEGRATED\x20not\x20allowed\x20to\x20delete','deleteDeviceProvider','Error\x20deleting\x20DeviceProvider\x20','botium-box-server-mutation-deviceset','createDeviceSet','DeviceSet','DeviceSet\x20not\x20found\x20','updateDeviceSet','{\x20id\x20devices\x20{\x20id\x20}\x20}','deleteManyDeviceDescriptors','Error\x20deleting\x20DeviceSet\x20','asyncIterator','subscription','CREATED','UPDATED','testSessionJob','testSessionJobLog','Query','Subscription','request.apiKey','Not\x20logged\x20in','includes','Unauthorized,\x20incorrect\x20role','botium-box-middleware-jwt','body','APIKEY','lookupApiKey','inspect','Api\x20Key\x20lookup\x20error\x20-\x20','\x20-\x20','JWT_AUTOLOGIN_USERNAME','Auto\x20login\x20user\x20','headers','authorization','split','Bearer','token','use','botium-box-server-endpoints-attachments','/api/attachment/excel/:id','writeHead','end','Excel\x20not\x20found\x20-\x20','sendStatus','Excel\x20lookup\x20error\x20-\x20','/api/attachment/screenshot/:id','params','getAttachment','Attachment\x20lookup\x20error\x20-\x20','botium-box-server-endpoints-build','findSimpleTestSessionResults','REPORTER','json','send','unnamed','set','Content-Type','text/xml','VALID\x20REPORTER\x20OPTIONS:\x20json,\x20junit','Test\x20Session\x20lookup\x20error\x20-\x20','next','\x20got\x20status:\x20','BUILDID','BUILDCOMMENT','TAG','CAPS','SOURCES','ENVS','\x20-\x20Test\x20Session','Creating\x20Test\x20Session\x20','{\x20id\x20status\x20}','Test\x20Project\x20start\x20error\x20-\x20','{\x20id\x20name\x20status\x20}','WAIT','code','nameOrId','post','/api/triggerbuild/:code','/api/build/:nameOrId','buildInfo','apiKey','50mb','/api/attachment/*','/api/build/*','config','printVersion','botium-box-server-index','PRISMA_SCHEMA','src/generated/prisma.graphql','PRISMA_ENDPOINT','PRISMA_DEBUG','PRISMA_SECRET','exit','BOTIUMBOX_QUEUE_SETTINGS','Got\x20queue\x20settings\x20\x27','ERROR\x20parsing\x20queue\x20settings\x20\x22','prefix','BOTIUMBOX_QUEUE_PREFIX','BOTIUMBOX_QUEUE_REDISURL','connecting\x20to\x20Botium\x20queue\x20\x27','createQueue','ERROR\x20connecting\x20to\x20queue\x20\x27','BOTIUM_TEMPDIR','./botiumwork','ERROR\x20verifying\x20BOTIUM_TEMPDIR\x20\x27','./testsets','scanForTestSets','./src/schema.graphql','PORT','/graphql','Authorization','onConnect\x20called,\x20authorization\x20','/playground','static','Server\x20started,\x20listening\x20on\x20port\x20','\x20for\x20incoming\x20requests,\x20static\x20files\x20served\x20from\x20','object','undefined','exports','url','better-queue','jsonwebtoken','watson-developer-cloud/assistant/v1','uuid/v1','botium-core','botium-core/src/scripting/Constants','slug','botium-core/src/Source','botium-core/src/repos/GitRepo','require-all','mkdirp','rimraf','botium-core/src/Defaults','botium-core/src/scripting/ScriptingProvider','botium-core/src/scripting/CompilerTxt','moment','path','randomatic','bcryptjs','graphql-yoga','express-jwt','util','lodash','debug','xml','dotenv-flow','express','kue','connect-history-api-fallback','function','async','botium-core/src/Capabilities','slugify','lodash.get','prisma-binding','main','betterQueue','v1$1','botiumCore','Constants','Source','Capabilities','requireAll','Defaults','ScriptingProvider','nodeCache','requestPromiseNative','graphqlYoga','expressJwt','lodash$1','bodyParser','dotenvFlow','prismaBinding','hasOwnProperty','default','COMMUNITY\x20EDITION','feature/BOT-176_ShowVersionAndBuildInformation','2018-12-05T16:24:11+00:00','BOTIUM\x20BOX\x20-\x20SERVER','log','BUILD_TARGET:\x20','buildTarget','buildRevision','botium-testset-scanner','TESTSETDIR_PUBLIC','resolve','env','readdirSync','reduce','join','push','isDirectory','statSync','isFile','testSetFolders','query','{\x20id\x20name\x20testSet\x20{\x20id\x20name\x20}\x20}','Folder\x20','name','scanDirForTestSets\x20scanning\x20','scanDirForTestSets\x20','\x20found\x20','length','forEach','\x20files.\x20Importing\x20Test\x20Set.','Imported\x20from\x20directory\x20','\x20files','sep','mutation','{\x20id\x20}','\x20Created\x20Test\x20Set\x20','botium-box-server-agents-utils','testSessionTestCaseResultAttachment','{\x20id\x20name\x20mimeType\x20base64\x20}','toISOString','apiKeys','then','testSession','{\x20id\x20name\x20status\x0a\x20\x20\x20\x20results\x20{\x20id\x20testcaseName\x20testcaseSource\x20success\x20err\x20testSet\x20{\x20id\x20name\x20}\x20}\x20}','data','group','reject','agent','type','STRING','TEXT','stringValue','replace','INT','BOOLEAN','booleanValue','JSON','botium-box-server-agents-heartbeat','findAgentFromJobData','{\x20id,\x20name\x20}','updateAgent','now','\x20not\x20configured','catch','botium-box-server-agents-registeragent','capabilities','Agent\x20registered,\x20config:\x20','Agent\x20','testSet','expandUtterancesToConvos','scripts','filter','scriptType','SCRIPTING_TYPE_CONVO','map','SCRIPTING_FORMAT_TXT','script','SCRIPTING_TYPE_UTTERANCES','folders','globFilter','excels','filename','filecontent','hasConvos','hasUtterances','worksheetsConvos','worksheetsUtterances','startRow','startCol','findFullTestSession','testSessionId','startTestSession\x20','process.','process','\x20queueToSend:\x20','combineBotiumCapabilities','composeBotiumCapabilities','chatbot','testProject','\x20testSessionCaps:\x20','sources','\x20testSessionSources:\x20','stringify','envs','\x20testSessionEnvs:\x20','testSets','\x20testSessionTestSets:\x20','batchCount','queueConnector','create','Processing\x20Job\x20#','\x20for\x20Test\x20Session\x20','removeOnComplete','save','Saving\x20batchJob\x20failed:\x20','createTestSessionJob','PENDING','{\x20id,\x20jobId\x20}','\x20registered\x20(jobId:\x20','\x20registration\x20failed\x20(jobId:\x20','):\x20','deviceSets','devices','provider','SAUCELABS','assign','parse','username','password','protocol','host','port','pathname','LOCALSELENIUM','INTEGRATED','WEBDRIVERIO_START_PHANTOMJS','\x20testSessionDevices:\x20','sourceTag','deviceSetId','deviceName','cloneDeep','convos','utterances','repositories'];(function(_0x146fa3,_0x2e3d77){var _0x546887=function(_0x1601f6){while(--_0x1601f6){_0x146fa3['push'](_0x146fa3['shift']());}};var _0x325e77=function(){var _0x9e0ce0={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x44dce2,_0x2cf8e8,_0x37ea4c,_0x2a5c76){_0x2a5c76=_0x2a5c76||{};var _0x54e6d6=_0x2cf8e8+'='+_0x37ea4c;var _0x3dee7d=0x0;for(var _0x3dee7d=0x0,_0x185173=_0x44dce2['length'];_0x3dee7d<_0x185173;_0x3dee7d++){var _0x17a5d2=_0x44dce2[_0x3dee7d];_0x54e6d6+=';\x20'+_0x17a5d2;var _0x33926a=_0x44dce2[_0x17a5d2];_0x44dce2['push'](_0x33926a);_0x185173=_0x44dce2['length'];if(_0x33926a!==!![]){_0x54e6d6+='='+_0x33926a;}}_0x2a5c76['cookie']=_0x54e6d6;},'removeCookie':function(){return'dev';},'getCookie':function(_0x552ea0,_0x1be67a){_0x552ea0=_0x552ea0||function(_0x23296c){return _0x23296c;};var _0x408065=_0x552ea0(new RegExp('(?:^|;\x20)'+_0x1be67a['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x45d600=function(_0x53bf5a,_0x5914c7){_0x53bf5a(++_0x5914c7);};_0x45d600(_0x546887,_0x2e3d77);return _0x408065?decodeURIComponent(_0x408065[0x1]):undefined;}};var _0x18e236=function(){var _0x563f9b=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x563f9b['test'](_0x9e0ce0['removeCookie']['toString']());};_0x9e0ce0['updateCookie']=_0x18e236;var _0x7f2c00='';var _0x5220b5=_0x9e0ce0['updateCookie']();if(!_0x5220b5){_0x9e0ce0['setCookie'](['*'],'counter',0x1);}else if(_0x5220b5){_0x7f2c00=_0x9e0ce0['getCookie'](null,'counter');}else{_0x9e0ce0['removeCookie']();}};_0x325e77();}(_0x31ba,0x1b8));var _0x4880=function(_0x2aa487,_0x3da8fc){_0x2aa487=_0x2aa487-0x0;var _0x2a62d3=_0x31ba[_0x2aa487];return _0x2a62d3;};(function(_0x5cfab4,_0x2a3148){var _0x17830b=function(){var _0x4a1c41=!![];return function(_0x186bd2,_0x11a47e){var _0x5eee0f=_0x4a1c41?function(){if(_0x11a47e){var _0x32b128=_0x11a47e['apply'](_0x186bd2,arguments);_0x11a47e=null;return _0x32b128;}}:function(){};_0x4a1c41=![];return _0x5eee0f;};}();var _0x372c12=_0x17830b(this,function(){var _0x4401c0=function(){return'\x64\x65\x76';},_0x50651d=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x1b90e7=function(){var _0x257298=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x257298['\x74\x65\x73\x74'](_0x4401c0['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x3920e2=function(){var _0x520c12=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x520c12['\x74\x65\x73\x74'](_0x50651d['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x36a87b=function(_0x1900ee){var _0x318595=~-0x1>>0x1+0xff%0x0;if(_0x1900ee['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x318595)){_0x22a5c8(_0x1900ee);}};var _0x22a5c8=function(_0x154ce5){var _0x10e0e4=~-0x4>>0x1+0xff%0x0;if(_0x154ce5['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x10e0e4){_0x36a87b(_0x154ce5);}};if(!_0x1b90e7()){if(!_0x3920e2()){_0x36a87b('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x36a87b('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x36a87b('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x372c12();typeof exports===_0x4880('0x0')&&typeof module!==_0x4880('0x1')?module[_0x4880('0x2')]=_0x2a3148(require('async'),require(_0x4880('0x3')),require(_0x4880('0x4')),require(_0x4880('0x5')),require(_0x4880('0x6')),require(_0x4880('0x7')),require(_0x4880('0x8')),require('fs'),require(_0x4880('0x9')),require(_0x4880('0xa')),require(_0x4880('0xb')),require(_0x4880('0xc')),require('botium-core/src/Capabilities'),require(_0x4880('0xd')),require(_0x4880('0xe')),require(_0x4880('0xf')),require(_0x4880('0x10')),require(_0x4880('0x11')),require(_0x4880('0x12')),require('node-cache'),require('request-promise-native'),require(_0x4880('0x13')),require(_0x4880('0x14')),require('slugify'),require(_0x4880('0x15')),require(_0x4880('0x16')),require(_0x4880('0x17')),require('lodash.get'),require(_0x4880('0x18')),require(_0x4880('0x19')),require(_0x4880('0x1a')),require(_0x4880('0x1b')),require(_0x4880('0x1c')),require('body-parser'),require(_0x4880('0x1d')),require('prisma-binding'),require(_0x4880('0x1e')),require(_0x4880('0x1f')),require(_0x4880('0x20'))):typeof define===_0x4880('0x21')&&define['amd']?define([_0x4880('0x22'),'url',_0x4880('0x4'),_0x4880('0x5'),_0x4880('0x6'),_0x4880('0x7'),_0x4880('0x8'),'fs',_0x4880('0x9'),_0x4880('0xa'),_0x4880('0xb'),_0x4880('0xc'),_0x4880('0x23'),'require-all',_0x4880('0xe'),'rimraf',_0x4880('0x10'),_0x4880('0x11'),_0x4880('0x12'),'node-cache','request-promise-native',_0x4880('0x13'),_0x4880('0x14'),_0x4880('0x24'),_0x4880('0x15'),'bcryptjs',_0x4880('0x17'),_0x4880('0x25'),'express-jwt',_0x4880('0x19'),_0x4880('0x1a'),'debug',_0x4880('0x1c'),'body-parser',_0x4880('0x1d'),_0x4880('0x26'),_0x4880('0x1e'),_0x4880('0x1f'),_0x4880('0x20')],_0x2a3148):_0x5cfab4[_0x4880('0x27')]=_0x2a3148(_0x5cfab4['async'],_0x5cfab4[_0x4880('0x3')],_0x5cfab4[_0x4880('0x28')],_0x5cfab4[_0x4880('0x5')],_0x5cfab4['v1'],_0x5cfab4[_0x4880('0x29')],_0x5cfab4[_0x4880('0x2a')],_0x5cfab4['fs'],_0x5cfab4[_0x4880('0x2b')],_0x5cfab4[_0x4880('0xa')],_0x5cfab4[_0x4880('0x2c')],_0x5cfab4['GitRepo'],_0x5cfab4[_0x4880('0x2d')],_0x5cfab4[_0x4880('0x2e')],_0x5cfab4[_0x4880('0xe')],_0x5cfab4['rimraf'],_0x5cfab4[_0x4880('0x2f')],_0x5cfab4[_0x4880('0x30')],_0x5cfab4['CompilerTxt'],_0x5cfab4[_0x4880('0x31')],_0x5cfab4[_0x4880('0x32')],_0x5cfab4[_0x4880('0x13')],_0x5cfab4[_0x4880('0x14')],_0x5cfab4[_0x4880('0x24')],_0x5cfab4[_0x4880('0x15')],_0x5cfab4[_0x4880('0x16')],_0x5cfab4[_0x4880('0x33')],_0x5cfab4['lodash'],_0x5cfab4[_0x4880('0x34')],_0x5cfab4[_0x4880('0x19')],_0x5cfab4[_0x4880('0x35')],_0x5cfab4[_0x4880('0x1b')],_0x5cfab4[_0x4880('0x1c')],_0x5cfab4[_0x4880('0x36')],_0x5cfab4[_0x4880('0x37')],_0x5cfab4[_0x4880('0x38')],_0x5cfab4['express'],_0x5cfab4['kue'],_0x5cfab4['connectHistoryApiFallback']);}(this,function(_0x1b4359,_0x438cb3,_0x211748,_0x40a020,_0x4c1377,_0x62eb67,_0x2d79a1,_0x118006,_0x1152f2,_0x3e4731,_0x2b1044,_0x56bd83,_0x511f06,_0x300eae,_0x393ff8,_0x2caf4d,_0x382ddd,_0x2e08e7,_0x23db61,_0x3be914,_0x1bdfbd,_0xf53cae,_0x5e7844,_0x34573f,_0x4abe9b,_0x5ee493,_0x436c57,_0x6c3f1e,_0x812771,_0x253a4b,_0x191809,_0x4f1188,_0x568132,_0x40881d,_0xdd94c2,_0x2cd184,_0x5e7a38,_0x567fac,_0x677d0c){'use strict';_0x1b4359=_0x1b4359&&_0x1b4359[_0x4880('0x39')](_0x4880('0x3a'))?_0x1b4359[_0x4880('0x3a')]:_0x1b4359;_0x438cb3=_0x438cb3&&_0x438cb3[_0x4880('0x39')](_0x4880('0x3a'))?_0x438cb3[_0x4880('0x3a')]:_0x438cb3;_0x211748=_0x211748&&_0x211748[_0x4880('0x39')](_0x4880('0x3a'))?_0x211748[_0x4880('0x3a')]:_0x211748;_0x40a020=_0x40a020&&_0x40a020['hasOwnProperty'](_0x4880('0x3a'))?_0x40a020['default']:_0x40a020;_0x4c1377=_0x4c1377&&_0x4c1377['hasOwnProperty'](_0x4880('0x3a'))?_0x4c1377[_0x4880('0x3a')]:_0x4c1377;_0x62eb67=_0x62eb67&&_0x62eb67[_0x4880('0x39')]('default')?_0x62eb67[_0x4880('0x3a')]:_0x62eb67;_0x2d79a1=_0x2d79a1&&_0x2d79a1[_0x4880('0x39')](_0x4880('0x3a'))?_0x2d79a1['default']:_0x2d79a1;_0x118006=_0x118006&&_0x118006[_0x4880('0x39')]('default')?_0x118006[_0x4880('0x3a')]:_0x118006;_0x1152f2=_0x1152f2&&_0x1152f2[_0x4880('0x39')](_0x4880('0x3a'))?_0x1152f2['default']:_0x1152f2;_0x3e4731=_0x3e4731&&_0x3e4731[_0x4880('0x39')]('default')?_0x3e4731[_0x4880('0x3a')]:_0x3e4731;_0x2b1044=_0x2b1044&&_0x2b1044['hasOwnProperty']('default')?_0x2b1044[_0x4880('0x3a')]:_0x2b1044;_0x56bd83=_0x56bd83&&_0x56bd83[_0x4880('0x39')](_0x4880('0x3a'))?_0x56bd83['default']:_0x56bd83;_0x511f06=_0x511f06&&_0x511f06[_0x4880('0x39')](_0x4880('0x3a'))?_0x511f06[_0x4880('0x3a')]:_0x511f06;_0x300eae=_0x300eae&&_0x300eae[_0x4880('0x39')](_0x4880('0x3a'))?_0x300eae[_0x4880('0x3a')]:_0x300eae;_0x393ff8=_0x393ff8&&_0x393ff8[_0x4880('0x39')](_0x4880('0x3a'))?_0x393ff8[_0x4880('0x3a')]:_0x393ff8;_0x2caf4d=_0x2caf4d&&_0x2caf4d['hasOwnProperty']('default')?_0x2caf4d[_0x4880('0x3a')]:_0x2caf4d;_0x382ddd=_0x382ddd&&_0x382ddd['hasOwnProperty'](_0x4880('0x3a'))?_0x382ddd[_0x4880('0x3a')]:_0x382ddd;_0x2e08e7=_0x2e08e7&&_0x2e08e7[_0x4880('0x39')]('default')?_0x2e08e7[_0x4880('0x3a')]:_0x2e08e7;_0x23db61=_0x23db61&&_0x23db61[_0x4880('0x39')](_0x4880('0x3a'))?_0x23db61[_0x4880('0x3a')]:_0x23db61;_0x3be914=_0x3be914&&_0x3be914[_0x4880('0x39')](_0x4880('0x3a'))?_0x3be914[_0x4880('0x3a')]:_0x3be914;_0x1bdfbd=_0x1bdfbd&&_0x1bdfbd[_0x4880('0x39')](_0x4880('0x3a'))?_0x1bdfbd['default']:_0x1bdfbd;_0xf53cae=_0xf53cae&&_0xf53cae[_0x4880('0x39')](_0x4880('0x3a'))?_0xf53cae[_0x4880('0x3a')]:_0xf53cae;_0x5e7844=_0x5e7844&&_0x5e7844['hasOwnProperty'](_0x4880('0x3a'))?_0x5e7844['default']:_0x5e7844;_0x34573f=_0x34573f&&_0x34573f['hasOwnProperty'](_0x4880('0x3a'))?_0x34573f['default']:_0x34573f;_0x4abe9b=_0x4abe9b&&_0x4abe9b[_0x4880('0x39')](_0x4880('0x3a'))?_0x4abe9b['default']:_0x4abe9b;_0x5ee493=_0x5ee493&&_0x5ee493[_0x4880('0x39')](_0x4880('0x3a'))?_0x5ee493['default']:_0x5ee493;_0x436c57=_0x436c57&&_0x436c57[_0x4880('0x39')]('default')?_0x436c57['default']:_0x436c57;_0x6c3f1e=_0x6c3f1e&&_0x6c3f1e['hasOwnProperty'](_0x4880('0x3a'))?_0x6c3f1e[_0x4880('0x3a')]:_0x6c3f1e;_0x812771=_0x812771&&_0x812771['hasOwnProperty'](_0x4880('0x3a'))?_0x812771['default']:_0x812771;_0x253a4b=_0x253a4b&&_0x253a4b[_0x4880('0x39')](_0x4880('0x3a'))?_0x253a4b[_0x4880('0x3a')]:_0x253a4b;_0x191809=_0x191809&&_0x191809['hasOwnProperty'](_0x4880('0x3a'))?_0x191809['default']:_0x191809;_0x4f1188=_0x4f1188&&_0x4f1188[_0x4880('0x39')](_0x4880('0x3a'))?_0x4f1188['default']:_0x4f1188;_0x568132=_0x568132&&_0x568132[_0x4880('0x39')](_0x4880('0x3a'))?_0x568132['default']:_0x568132;_0x40881d=_0x40881d&&_0x40881d[_0x4880('0x39')]('default')?_0x40881d[_0x4880('0x3a')]:_0x40881d;_0xdd94c2=_0xdd94c2&&_0xdd94c2['hasOwnProperty'](_0x4880('0x3a'))?_0xdd94c2[_0x4880('0x3a')]:_0xdd94c2;_0x2cd184=_0x2cd184&&_0x2cd184[_0x4880('0x39')](_0x4880('0x3a'))?_0x2cd184['default']:_0x2cd184;_0x5e7a38=_0x5e7a38&&_0x5e7a38[_0x4880('0x39')]('default')?_0x5e7a38[_0x4880('0x3a')]:_0x5e7a38;_0x567fac=_0x567fac&&_0x567fac[_0x4880('0x39')](_0x4880('0x3a'))?_0x567fac[_0x4880('0x3a')]:_0x567fac;_0x677d0c=_0x677d0c&&_0x677d0c['hasOwnProperty'](_0x4880('0x3a'))?_0x677d0c[_0x4880('0x3a')]:_0x677d0c;const _0x3a68e1={'buildTarget':_0x4880('0x3b'),'buildBranch':_0x4880('0x3c'),'buildRevision':'03da144150324720885ae9bc1a81c44676d03d9a','buildDate':_0x4880('0x3d')};const _0x1679d8=()=>{console['log'](_0x4880('0x3e'));console[_0x4880('0x3f')](_0x4880('0x40')+_0x3a68e1[_0x4880('0x41')]);console[_0x4880('0x3f')]('BUILD_BRANCH:\x20'+_0x3a68e1['buildBranch']);console[_0x4880('0x3f')]('BUILD_REVISION:\x20'+_0x3a68e1[_0x4880('0x42')]);console[_0x4880('0x3f')]('BUILD_TIMESTAMP:\x20'+_0x3a68e1['buildDate']);};var _0x12cef0={'buildInfo':_0x3a68e1,'printVersion':_0x1679d8};const _0x214049=_0x4f1188(_0x4880('0x43'));const _0x468663=(_0xa27d53,_0x2d1d09)=>{if(process['env'][_0x4880('0x44')]){return _0x5e7844[_0x4880('0x45')](process[_0x4880('0x46')][_0x4880('0x44')],_0x2d1d09);}else{return _0x5e7844[_0x4880('0x45')](_0xa27d53,_0x2d1d09);}};const _0x5dc5eb=(_0x5b2f32,_0x11e54c)=>{return _0x118006[_0x4880('0x47')](_0x5b2f32)[_0x4880('0x48')]((_0x2f759d,_0x5866b2)=>{const _0x177040=_0x5e7844[_0x4880('0x49')](_0x5b2f32,_0x5866b2);if(_0x11e54c(_0x177040))_0x2f759d[_0x4880('0x4a')](_0x5866b2);return _0x2f759d;},[]);};const _0x559313=_0x303d8f=>{return _0x5dc5eb(_0x303d8f,_0x2d48d4=>_0x118006['statSync'](_0x2d48d4)[_0x4880('0x4b')]());};const _0x254945=_0x3df7b8=>{return _0x5dc5eb(_0x3df7b8,_0x31e074=>_0x118006[_0x4880('0x4c')](_0x31e074)[_0x4880('0x4d')]());};const _0x8d0249=async(_0x1e05b7,_0xb49025)=>{let _0xdbe48=await _0x1e05b7['query'][_0x4880('0x4e')]({'where':{'path':_0xb49025}},'{\x20id\x20name\x20testSet\x20{\x20id\x20name\x20}\x20}');if(!_0xdbe48||_0xdbe48['length']===0x0){_0xdbe48=await _0x1e05b7[_0x4880('0x4f')][_0x4880('0x4e')]({'where':{'path':_0xb49025+'/'}},_0x4880('0x50'));}if(_0xdbe48&&_0xdbe48['length']>0x0){_0x214049(_0x4880('0x51')+_0xb49025+'\x20already\x20in\x20use\x20-\x20'+_0xdbe48[0x0]['name']+'\x20in\x20Test\x20Set\x20'+_0xdbe48[0x0]['testSet'][_0x4880('0x52')]);return!![];}return![];};const _0x1151f0=async(_0x18d380,_0x425633,_0x49828)=>{const _0xc19728=_0x5e7844[_0x4880('0x49')](_0x425633,_0x49828);_0x214049(_0x4880('0x53')+_0xc19728+'\x20...');const _0x4ba99c=_0x559313(_0xc19728);const _0x5c88f6=_0x254945(_0xc19728);if(_0x4ba99c&&_0x4ba99c['length']>0x0){_0x214049(_0x4880('0x54')+_0x49828+_0x4880('0x55')+_0x4ba99c[_0x4880('0x56')]+'\x20subdirectories\x20...');await _0x4ba99c[_0x4880('0x57')](async _0x52a839=>{const _0x3784d3=_0x468663(_0x425633,_0x5e7844[_0x4880('0x49')](_0x49828,_0x52a839));const _0x27d6d9=await _0x8d0249(_0x18d380,_0x3784d3);if(_0x27d6d9)return;await _0x1151f0(_0x18d380,_0x425633,_0x5e7844['join'](_0x49828,_0x52a839));});}else if(_0x5c88f6&&_0x5c88f6['length']>0x0){_0x214049(_0x4880('0x54')+_0x49828+'\x20found\x20'+_0x5c88f6[_0x4880('0x56')]+_0x4880('0x58'));const _0x1f478c={'data':{'name':_0x49828,'description':_0x4880('0x59')+_0xc19728+',\x20'+_0x5c88f6[_0x4880('0x56')]+_0x4880('0x5a'),'expandConvos':!![],'expandUtterancesToConvos':!![],'tags':{'set':_0x49828['split'](_0x5e7844[_0x4880('0x5b')])},'folders':{'create':[{'name':_0x49828,'path':_0x468663(_0x425633,_0x49828)}]}}};const _0x47f222=await _0x18d380[_0x4880('0x5c')]['createTestSet'](_0x1f478c,_0x4880('0x5d'));_0x214049(_0x4880('0x54')+_0x49828+_0x4880('0x5e')+_0x47f222['id']);}};var _0x1e5528=_0x3ca3b0=>{(async()=>{_0x1151f0(_0x3ca3b0,process[_0x4880('0x46')]['TESTSETDIR'],'.');})()['catch'](_0x3717c1=>{_0x214049('scanForTestSets\x20failed:\x20'+_0x3717c1);});};var _0x3bb767={'scanForTestSets':_0x1e5528};const _0x94ffb6=_0x4f1188(_0x4880('0x5f'));var _0x4533c2=(_0x3867f0,_0x8ccf9b)=>{return _0x3867f0[_0x4880('0x4f')][_0x4880('0x60')]({'where':{'id':_0x8ccf9b}},_0x4880('0x61'));};var _0x2f7a06=(_0x57c843,_0x5695e0)=>{return _0x57c843[_0x4880('0x4f')]['testSetExcel']({'where':{'id':_0x5695e0}},'{\x20id\x20filename\x20filecontent\x20}');};var _0x4a095f=(_0x2598a0,_0x472e3f)=>{const _0x126c2c=new Date(Date['now']())[_0x4880('0x62')]();if(!_0x472e3f)return;const _0x59fc36={'where':{'AND':[{'key':_0x472e3f},{'OR':[{'validFrom':null},{'validFrom_lte':_0x126c2c}]},{'OR':[{'validTo':null},{'validTo_gte':_0x126c2c}]}]}};return _0x2598a0[_0x4880('0x4f')][_0x4880('0x63')](_0x59fc36,'{\x20id\x20name\x20}')[_0x4880('0x64')](_0x4aff6e=>{if(!_0x4aff6e||_0x4aff6e[_0x4880('0x56')]===0x0)return null;return _0x4aff6e[0x0];});};var _0x20eb78=(_0x21bf8a,_0x177864)=>{return _0x21bf8a[_0x4880('0x4f')][_0x4880('0x65')]({'where':{'id':_0x177864}},'{\x20\x0a\x20\x20\x20\x20id\x20\x0a\x20\x20\x20\x20name\x20\x0a\x20\x20\x20\x20batchCount\x20\x0a\x20\x20\x20\x20chatbot\x20{\x20\x0a\x20\x20\x20\x20\x20\x20id\x20\x0a\x20\x20\x20\x20\x20\x20name\x20\x0a\x20\x20\x20\x20\x20\x20capabilities\x20{\x20name\x20type\x20stringValue\x20intValue\x20booleanValue\x20jsonValue\x20}\x20\x0a\x20\x20\x20\x20\x20\x20sources\x20{\x20name\x20type\x20stringValue\x20intValue\x20booleanValue\x20jsonValue\x20}\x20\x0a\x20\x20\x20\x20\x20\x20envs\x20{\x20name\x20type\x20stringValue\x20intValue\x20booleanValue\x20jsonValue\x20}\x20\x0a\x20\x20\x20\x20}\x20\x0a\x20\x20\x20\x20testSets\x20{\x20\x0a\x20\x20\x20\x20\x20\x20id\x20\x0a\x20\x20\x20\x20\x20\x20name\x20\x0a\x20\x20\x20\x20\x20\x20expandConvos\x0a\x20\x20\x20\x20\x20\x20expandUtterancesToConvos\x0a\x20\x20\x20\x20\x20\x20expandUtterancesIncomprehension\x0a\x20\x20\x20\x20\x20\x20scripts\x20{\x20id\x20script\x20scriptType\x20}\x20\x0a\x20\x20\x20\x20\x20\x20repositories\x20{\x20id\x20giturl\x20gitbranch\x20gitdir\x20globFilter\x20}\x20\x0a\x20\x20\x20\x20\x20\x20folders\x20{\x20id\x20path\x20globFilter\x20}\x0a\x20\x20\x20\x20\x20\x20excels\x20{\x20id\x20filename\x20filecontent\x20hasConvos\x20hasUtterances\x20worksheetsConvos\x20worksheetsUtterances\x20startRow\x20startCol\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20deviceSets\x20{\x20id\x20name\x20provider\x20{\x20id\x20name\x20type\x20url\x20username\x20password\x20}\x20devices\x20{\x20id\x20name\x20capabilities\x20}\x20}\x20\x0a\x20\x20\x20\x20testProject\x20{\x20id\x20name\x20capabilities\x20{\x20name\x20type\x20stringValue\x20intValue\x20booleanValue\x20jsonValue\x20}\x20}\x0a\x20\x20\x20\x20agent\x20{\x20id\x20name\x20}\x20\x0a\x20\x20\x20\x20capabilities\x20{\x20name\x20type\x20stringValue\x20intValue\x20booleanValue\x20jsonValue\x20}\x20\x0a\x20\x20\x20\x20sources\x20{\x20name\x20type\x20stringValue\x20intValue\x20booleanValue\x20jsonValue\x20}\x20\x0a\x20\x20\x20\x20envs\x20{\x20name\x20type\x20stringValue\x20intValue\x20booleanValue\x20jsonValue\x20}\x20\x0a\x20\x20\x20\x20}');};var _0x38168f=(_0x25a146,_0x1f86a9)=>{return _0x25a146[_0x4880('0x4f')][_0x4880('0x65')]({'where':{'id':_0x1f86a9}},_0x4880('0x66'));};var _0x18ac26=(_0x54cb45,_0x5d8b84,_0x1e38b4)=>{if(!_0x5d8b84['data'][_0x4880('0x52')]||!_0x5d8b84[_0x4880('0x67')][_0x4880('0x68')]){const _0x38beb7='invalid\x20agent\x20event,\x20name\x20or\x20group\x20not\x20given\x20'+_0x5d8b84[_0x4880('0x67')];_0x94ffb6(_0x38beb7);return Promise[_0x4880('0x69')](_0x38beb7);}return _0x54cb45[_0x4880('0x4f')][_0x4880('0x6a')]({'where':{'name':_0x5d8b84['data'][_0x4880('0x52')]}},_0x1e38b4);};var _0x1308e8=_0x1e0526=>{return _0x1e0526&&_0x1e0526[_0x4880('0x48')]((_0x266c68,_0x1ff23e)=>{if(_0x1ff23e[_0x4880('0x6b')]===_0x4880('0x6c')||_0x1ff23e[_0x4880('0x6b')]===_0x4880('0x6d'))_0x266c68[_0x1ff23e[_0x4880('0x52')]]=_0x1ff23e[_0x4880('0x6e')][_0x4880('0x6f')](/\\n/g,'\x0a');if(_0x1ff23e[_0x4880('0x6b')]===_0x4880('0x70'))_0x266c68[_0x1ff23e[_0x4880('0x52')]]=parseInt(_0x1ff23e['intValue']);if(_0x1ff23e['type']===_0x4880('0x71'))_0x266c68[_0x1ff23e[_0x4880('0x52')]]=_0x1ff23e[_0x4880('0x72')]?!![]:![];if(_0x1ff23e[_0x4880('0x6b')]===_0x4880('0x73'))_0x266c68[_0x1ff23e[_0x4880('0x52')]]=JSON['parse'](_0x1ff23e['jsonValue']);return _0x266c68;},{});};var _0x310dd2=(..._0x5b43b5)=>{const _0x1c4ff4={};_0x5b43b5&&_0x5b43b5[_0x4880('0x57')](_0x473d8a=>{_0x473d8a&&Object['keys'](_0x473d8a)[_0x4880('0x57')](_0x488631=>{_0x1c4ff4[_0x488631]=_0x473d8a[_0x488631];});});return _0x1c4ff4;};var _0x52a1dd={'getAttachment':_0x4533c2,'getExcel':_0x2f7a06,'lookupApiKey':_0x4a095f,'findFullTestSession':_0x20eb78,'findSimpleTestSessionResults':_0x38168f,'findAgentFromJobData':_0x18ac26,'composeBotiumCapabilities':_0x1308e8,'combineBotiumCapabilities':_0x310dd2};const _0x3b1b01=_0x4f1188(_0x4880('0x74'));var _0x103237=(_0x3c26dc,_0xeb91d9,_0x5aca91)=>{_0x52a1dd[_0x4880('0x75')](_0x3c26dc['db'],_0xeb91d9,_0x4880('0x76'))[_0x4880('0x64')](_0x48ddb2=>{if(_0x48ddb2){_0x3c26dc['db'][_0x4880('0x5c')][_0x4880('0x77')]({'where':{'id':_0x48ddb2['id']},'data':{'heartbeat':new Date(Date[_0x4880('0x78')]())['toISOString']()}})[_0x4880('0x64')](()=>_0x5aca91());}else{const _0x3620f3='Agent\x20'+_0xeb91d9[_0x4880('0x67')][_0x4880('0x52')]+_0x4880('0x79');_0x3b1b01(_0x3620f3);return _0x5aca91(_0x3620f3);}})[_0x4880('0x7a')](_0x4eb7be=>{console[_0x4880('0x3f')](_0x4eb7be);return _0x5aca91(_0x4eb7be);});};const _0x37a0a0=_0x4f1188(_0x4880('0x7b'));var _0x3dfce8=(_0x5449c4,_0x507048,_0x13c798)=>{_0x52a1dd[_0x4880('0x75')](_0x5449c4['db'],_0x507048,'{\x20id,\x20name,\x20capabilities\x20{\x20name,\x20stringValue\x20}\x20}')['then'](_0x4eae8c=>{if(_0x4eae8c){const _0x3af918=_0x52a1dd['composeBotiumCapabilities'](_0x4eae8c[_0x4880('0x7c')]);const _0x51fd6a={'debug':![],'botium':{'Capabilities':_0x3af918}};_0x37a0a0(_0x4880('0x7d')+JSON['stringify'](_0x51fd6a));return _0x13c798(null,_0x51fd6a);}else{const _0x3a9630=_0x4880('0x7e')+_0x507048[_0x4880('0x67')][_0x4880('0x52')]+_0x4880('0x79');_0x37a0a0(_0x3a9630);return _0x13c798(_0x3a9630);}})[_0x4880('0x7a')](_0x39c6a9=>{console[_0x4880('0x3f')](_0x39c6a9);return _0x13c798(_0x39c6a9);});};const _0x25cdd5=(_0x548d7d,_0x40db40)=>{return _0x548d7d[_0x4880('0x4f')][_0x4880('0x7f')]({'where':{'id':_0x40db40}});};const _0x2976bf=_0x49eb44=>{return{'id':_0x49eb44['id'],'name':_0x49eb44['name'],'expandConvos':_0x49eb44['expandConvos'],'expandUtterancesToConvos':_0x49eb44[_0x4880('0x80')],'expandUtterancesIncomprehension':_0x49eb44['expandUtterancesIncomprehension'],'convos':_0x49eb44[_0x4880('0x81')]&&_0x49eb44[_0x4880('0x81')][_0x4880('0x82')](_0x2d445f=>_0x2d445f[_0x4880('0x83')]===_0x4880('0x84'))[_0x4880('0x85')](_0x129ea9=>({'format':_0x4880('0x86'),'content':_0x129ea9[_0x4880('0x87')],'sourceTag':{'testSetId':_0x49eb44['id'],'testSetScriptId':_0x129ea9['id']}})),'utterances':_0x49eb44[_0x4880('0x81')]&&_0x49eb44[_0x4880('0x81')][_0x4880('0x82')](_0x5efe7d=>_0x5efe7d[_0x4880('0x83')]===_0x4880('0x88'))[_0x4880('0x85')](_0x509e34=>({'format':_0x4880('0x86'),'content':_0x509e34[_0x4880('0x87')],'sourceTag':{'testSetId':_0x49eb44['id'],'testSetScriptId':_0x509e34['id']}})),'folders':_0x49eb44[_0x4880('0x89')]&&_0x49eb44[_0x4880('0x89')]['map'](_0x4d0fcb=>({'id':_0x4d0fcb['id'],'path':_0x4d0fcb[_0x4880('0x14')],'globFilter':_0x4d0fcb[_0x4880('0x8a')],'sourceTag':{'testSetId':_0x49eb44['id'],'testSetFolderId':_0x4d0fcb['id']}})),'excels':_0x49eb44[_0x4880('0x8b')]&&_0x49eb44[_0x4880('0x8b')][_0x4880('0x85')](_0x347f67=>({'id':_0x347f67['id'],'filename':_0x347f67[_0x4880('0x8c')],'filecontent':_0x347f67[_0x4880('0x8d')],'hasConvos':_0x347f67[_0x4880('0x8e')],'hasUtterances':_0x347f67[_0x4880('0x8f')],'worksheetsConvos':_0x347f67[_0x4880('0x90')],'worksheetsUtterances':_0x347f67[_0x4880('0x91')],'startRow':_0x347f67[_0x4880('0x92')],'startCol':_0x347f67[_0x4880('0x93')],'sourceTag':{'testSetId':_0x49eb44['id'],'testSetExcelId':_0x347f67['id']}}))};};var _0x526702={'FindFullTestSet':_0x25cdd5,'RetrieveTestSetDetails':_0x2976bf};const {URL}=_0x438cb3;const _0x3cda57=_0x4f1188('botium-box-server-agents-testsession');const {RetrieveTestSetDetails:RetrieveTestSetDetails$1}=_0x526702;var _0x536013=(_0x4d12fc,_0x5c572b,_0x2f2204)=>{_0x52a1dd[_0x4880('0x94')](_0x4d12fc['db'],_0x5c572b[_0x4880('0x67')]['testSessionId'])['then'](_0x3995b4=>{if(!_0x3995b4){const _0x25c05f='Test\x20Session\x20'+_0x5c572b[_0x4880('0x67')][_0x4880('0x95')]+'\x20not\x20configured';_0x3cda57(_0x25c05f);return _0x2f2204(_0x25c05f);}_0x3cda57(_0x4880('0x96')+_0x3995b4['id']);const _0x21f91b=_0x3995b4[_0x4880('0x6a')]?_0x4880('0x97')+_0x3995b4[_0x4880('0x6a')][_0x4880('0x52')]:_0x4880('0x98');_0x3cda57(_0x4880('0x96')+_0x3995b4['id']+_0x4880('0x99')+_0x21f91b);const _0x39f73a=_0x52a1dd[_0x4880('0x9a')]({'PROJECTNAME':_0x3995b4[_0x4880('0x52')]},_0x52a1dd[_0x4880('0x9b')](_0x3995b4[_0x4880('0x9c')][_0x4880('0x7c')]),_0x3995b4['testProject']&&_0x52a1dd['composeBotiumCapabilities'](_0x3995b4[_0x4880('0x9d')][_0x4880('0x7c')])||[],_0x52a1dd[_0x4880('0x9b')](_0x3995b4[_0x4880('0x7c')]));_0x3cda57(_0x4880('0x96')+_0x3995b4['id']+_0x4880('0x9e')+JSON['stringify'](_0x39f73a));const _0x4a4e41=_0x52a1dd[_0x4880('0x9a')](_0x52a1dd[_0x4880('0x9b')](_0x3995b4[_0x4880('0x9c')][_0x4880('0x9f')]),_0x52a1dd[_0x4880('0x9b')](_0x3995b4[_0x4880('0x9f')]));_0x3cda57(_0x4880('0x96')+_0x3995b4['id']+_0x4880('0xa0')+JSON[_0x4880('0xa1')](_0x4a4e41));const _0x535d1d=_0x52a1dd[_0x4880('0x9a')](_0x52a1dd[_0x4880('0x9b')](_0x3995b4[_0x4880('0x9c')][_0x4880('0xa2')]),_0x52a1dd[_0x4880('0x9b')](_0x3995b4[_0x4880('0xa2')]));_0x3cda57(_0x4880('0x96')+_0x3995b4['id']+_0x4880('0xa3')+JSON['stringify'](_0x535d1d));const _0x465e4a=_0x3995b4[_0x4880('0xa4')][_0x4880('0x85')](_0x4b2793=>RetrieveTestSetDetails$1(_0x4b2793));_0x3cda57(_0x4880('0x96')+_0x3995b4['id']+_0x4880('0xa5')+JSON[_0x4880('0xa1')](_0x465e4a));const _0x23b770=(_0x5cc8c6,_0x380279)=>{const _0x2ee897=_0x3995b4[_0x4880('0xa6')]||0x1;let _0x1d026b=Promise[_0x4880('0x45')]();for(let _0x515fe0=0x1;_0x515fe0<=_0x2ee897;_0x515fe0++){const _0x44144b=_0x515fe0;_0x1d026b=_0x1d026b[_0x4880('0x64')](()=>new Promise(_0x9e5e02=>{const _0x121cb4=_0x4d12fc[_0x4880('0xa7')][_0x4880('0xa8')](_0x21f91b,{'title':_0x4880('0xa9')+_0x44144b+'/'+_0x2ee897+_0x4880('0xaa')+_0x3995b4[_0x4880('0x52')],'botium':{'Capabilities':_0x5cc8c6,'Sources':_0x4a4e41,'Envs':_0x535d1d},'testSets':_0x380279,'batchNum':_0x44144b,'batchCount':_0x2ee897})[_0x4880('0xab')](!![])['delay'](0x1388)[_0x4880('0xac')](_0x25c05f=>{if(_0x25c05f)return _0x3cda57(_0x4880('0xad')+_0x25c05f);const _0x5d1195=_0x121cb4['id'];_0x4d12fc['db'][_0x4880('0x5c')][_0x4880('0xae')]({'data':{'jobId':_0x5d1195,'status':_0x4880('0xaf'),'progressPercent':0x0,'testSession':{'connect':{'id':_0x3995b4['id']}}}},_0x4880('0xb0'))[_0x4880('0x64')](_0x136d8=>{_0x3cda57('TestSessionJob\x20for\x20TestSession\x20'+_0x3995b4['name']+_0x4880('0xb1')+_0x5d1195+'\x20id:\x20'+_0x136d8['id']+')');_0x9e5e02();})[_0x4880('0x7a')](_0x25c05f=>{_0x3cda57('TestSessionJob\x20for\x20TestSession\x20'+_0x3995b4[_0x4880('0x52')]+_0x4880('0xb2')+_0x5d1195+_0x4880('0xb3')+_0x25c05f);_0x9e5e02();});});}));}return _0x1d026b;};if(_0x3995b4[_0x4880('0xb4')]&&_0x3995b4['deviceSets'][_0x4880('0x56')]>0x0){const _0x1b1e7e=_0x3995b4[_0x4880('0xb4')][_0x4880('0x48')]((_0xfac15b,_0x14ff19)=>{return[..._0xfac15b,..._0x14ff19[_0x4880('0xb5')][_0x4880('0x85')](_0x52655c=>{const _0x50e5d8=_0x14ff19[_0x4880('0xb6')][_0x4880('0x3')]&&new URL(_0x14ff19[_0x4880('0xb6')][_0x4880('0x3')]);if(_0x14ff19[_0x4880('0xb6')][_0x4880('0x6b')]===_0x4880('0xb7')){return{'deviceSetId':_0x14ff19['id'],'deviceName':_0x52655c[_0x4880('0x52')],'deviceOptions':{'desiredCapabilities':Object[_0x4880('0xb8')]({},JSON[_0x4880('0xb9')](_0x52655c[_0x4880('0x7c')]),{'name':_0x3995b4[_0x4880('0x52')],'username':_0x14ff19['provider'][_0x4880('0xba')],'accessKey':_0x14ff19[_0x4880('0xb6')][_0x4880('0xbb')]}),'protocol':_0x50e5d8&&_0x50e5d8[_0x4880('0xbc')],'host':_0x50e5d8&&_0x50e5d8[_0x4880('0xbd')],'port':_0x50e5d8&&_0x50e5d8[_0x4880('0xbe')],'path':_0x50e5d8&&_0x50e5d8[_0x4880('0xbf')]}};}else if(_0x14ff19[_0x4880('0xb6')][_0x4880('0x6b')]===_0x4880('0xc0')){return{'deviceSetId':_0x14ff19['id'],'deviceName':_0x52655c[_0x4880('0x52')],'deviceOptions':{'desiredCapabilities':Object[_0x4880('0xb8')]({},JSON[_0x4880('0xb9')](_0x52655c[_0x4880('0x7c')]),{'name':_0x3995b4['name']}),'protocol':_0x50e5d8&&_0x50e5d8[_0x4880('0xbc')],'host':_0x50e5d8&&_0x50e5d8['host'],'port':_0x50e5d8&&_0x50e5d8[_0x4880('0xbe')],'path':_0x50e5d8&&_0x50e5d8[_0x4880('0xbf')]}};}else{if(_0x14ff19[_0x4880('0xb6')]['type']===_0x4880('0xc1')){_0x3cda57(_0x4880('0x96')+_0x3995b4['id']+'\x20adding\x20capability\x20for\x20starting\x20integrated\x20PhantomJS');_0x39f73a[_0x4880('0xc2')]=!![];}return{'deviceSetId':_0x14ff19['id'],'deviceName':_0x52655c[_0x4880('0x52')],'deviceOptions':{'desiredCapabilities':Object[_0x4880('0xb8')]({},JSON[_0x4880('0xb9')](_0x52655c[_0x4880('0x7c')]),{'name':_0x3995b4['name']})}};}})];},[]);_0x3cda57(_0x4880('0x96')+_0x3995b4['id']+_0x4880('0xc3')+JSON[_0x4880('0xa1')](_0x1b1e7e,null,0x2));let _0x22ff6f=Promise[_0x4880('0x45')]();_0x1b1e7e[_0x4880('0x57')](_0x44fa9d=>{const _0x385324=_0xe69f51=>{return _0xe69f51&&_0xe69f51['forEach'](_0xd1c8dd=>{_0xd1c8dd[_0x4880('0xc4')]=Object[_0x4880('0xb8')]({},_0xd1c8dd[_0x4880('0xc4')],{'deviceSetId':_0x44fa9d[_0x4880('0xc5')],'deviceName':_0x44fa9d[_0x4880('0xc6')]});});};const _0x4debdf=_0x191809[_0x4880('0xc7')](_0x465e4a);_0x4debdf[_0x4880('0x57')](_0x60e208=>{_0x385324(_0x60e208[_0x4880('0xc8')]);_0x385324(_0x60e208[_0x4880('0xc9')]);_0x385324(_0x60e208[_0x4880('0xca')]);_0x385324(_0x60e208[_0x4880('0x89')]);_0x385324(_0x60e208['excels']);});const _0x4d263d=Object[_0x4880('0xb8')]({},_0x39f73a,{'WEBDRIVERIO_OPTIONS':_0x44fa9d[_0x4880('0xcb')]});_0x22ff6f=_0x22ff6f[_0x4880('0x64')](()=>_0x23b770(_0x4d263d,_0x4debdf));});return _0x22ff6f['then'](()=>_0x2f2204())[_0x4880('0x7a')](_0x2f2204);}else{return _0x23b770(_0x39f73a,_0x465e4a)[_0x4880('0x64')](()=>_0x2f2204())[_0x4880('0x7a')](_0x2f2204);}})['catch'](_0xf6422e=>{_0x3cda57(_0x4880('0xcc')+_0xf6422e);_0x2f2204(_0xf6422e);});};var _0x343936=(_0xa134bb,_0xb9c48c,_0x2b15a7,_0x4cc50b)=>{return _0xa134bb['db'][_0x4880('0x4f')][_0x4880('0xcd')]({'where':{'jobId':_0xb9c48c}},'{\x20id\x20status\x20progressPercent\x20testSession\x20{\x20id\x20name\x20status\x20}\x20\x20}')['then'](_0x4e0e62=>{if(!_0x4e0e62||_0x4e0e62[_0x4880('0x56')]===0x0){return _0x3cda57('testSessionProgress:\x20Job\x20'+_0xb9c48c+'\x20not\x20registered\x20as\x20test\x20session\x20job.\x20Skipping.');}const _0x978078=_0x4e0e62[0x0];if(_0x978078['testSession'][_0x4880('0xce')]===_0x4880('0xaf')){_0xa134bb['db'][_0x4880('0x5c')][_0x4880('0xcf')]({'data':{'status':_0x4880('0xd0')},'where':{'id':_0x978078[_0x4880('0x65')]['id']}})[_0x4880('0x64')](()=>{_0x3cda57(_0x4880('0xd1')+_0xb9c48c+'/'+_0x978078['id']+_0x4880('0xd2')+_0x978078[_0x4880('0x65')]['id']+_0x4880('0xd3'));})[_0x4880('0x7a')](_0x458c2e=>{_0x3cda57('Test\x20Session\x20Job\x20'+_0xb9c48c+'/'+_0x978078['id']+'\x20set\x20Test\x20Session\x20'+_0x978078[_0x4880('0x65')]['id']+_0x4880('0xd4')+_0x458c2e);});}if(_0x978078[_0x4880('0xce')]===_0x4880('0xaf')){_0xa134bb['db']['mutation'][_0x4880('0xd5')]({'data':{'status':_0x4880('0xd0'),'started':new Date(Date[_0x4880('0x78')]())[_0x4880('0x62')](),'progressPercent':_0x191809['isNumber'](_0x2b15a7)&&_0x2b15a7},'where':{'id':_0x978078['id']}})[_0x4880('0x64')](()=>{_0x3cda57(_0x4880('0xd1')+_0xb9c48c+'/'+_0x978078['id']+_0x4880('0xd6'));})['catch'](_0xb983cf=>{_0x3cda57(_0x4880('0xd1')+_0xb9c48c+'/'+_0x978078['id']+_0x4880('0xd7')+_0xb983cf);});}if(_0x978078['status']===_0x4880('0xd0')&&_0x191809['isNumber'](_0x2b15a7)&&_0x978078[_0x4880('0xd8')]<_0x2b15a7){_0xa134bb['db'][_0x4880('0x5c')][_0x4880('0xd5')]({'data':{'progressPercent':_0x2b15a7},'where':{'id':_0x978078['id']}})[_0x4880('0x64')](()=>{_0x3cda57('Test\x20Session\x20Job\x20'+_0xb9c48c+'/'+_0x978078['id']+_0x4880('0xd9')+_0x2b15a7+'.');})[_0x4880('0x64')](()=>_0x2445e9(_0xa134bb,_0x978078[_0x4880('0x65')]['id']))[_0x4880('0x7a')](_0x3fdb7a=>{_0x3cda57(_0x4880('0xd1')+_0xb9c48c+'/'+_0x978078['id']+'\x20set\x20Test\x20Session\x20Job\x20progressPercent\x20'+_0x2b15a7+_0x4880('0xda')+_0x3fdb7a);});}if(_0x4cc50b['log']){_0xa134bb['db'][_0x4880('0x5c')][_0x4880('0xdb')]({'data':{'log':_0x4cc50b[_0x4880('0x3f')],'testSessionJob':{'connect':{'id':_0x978078['id']}}}},_0x4880('0x5d'))[_0x4880('0x64')](()=>{_0x3cda57(_0x4880('0xd1')+_0xb9c48c+'/'+_0x978078['id']+_0x4880('0xdc')+_0x4cc50b[_0x4880('0x3f')]);})[_0x4880('0x7a')](_0x596d3c=>{_0x3cda57('Test\x20Session\x20Job\x20'+_0xb9c48c+'/'+_0x978078['id']+'\x20write\x20log\x20failed:\x20'+_0x596d3c);});}if(_0x4cc50b[_0x4880('0xdd')]){const _0x508a10={'testcaseName':_0x4cc50b[_0x4880('0xdd')],'testcaseSource':_0x4cc50b[_0x4880('0xde')],'success':_0x4cc50b[_0x4880('0xdf')],'err':_0x4cc50b[_0x4880('0xe0')],'testSession':{'connect':{'id':_0x978078[_0x4880('0x65')]['id']}}};if(_0x4cc50b[_0x4880('0xe1')]){_0x508a10[_0x4880('0xe1')]=_0x191809[_0x4880('0xe2')](_0x4cc50b['messages'])?_0x4cc50b['messages']:JSON[_0x4880('0xa1')](_0x4cc50b['messages']);}if(_0x4cc50b[_0x4880('0xc4')]){if(_0x4cc50b[_0x4880('0xc4')][_0x4880('0x8c')])_0x508a10[_0x4880('0xe3')]=_0x4cc50b[_0x4880('0xc4')][_0x4880('0x8c')];if(_0x4cc50b[_0x4880('0xc4')]['testSetId'])_0x508a10[_0x4880('0x7f')]={'connect':{'id':_0x4cc50b[_0x4880('0xc4')][_0x4880('0xe4')]}};if(_0x4cc50b[_0x4880('0xc4')][_0x4880('0xe5')])_0x508a10['testSetScript']={'connect':{'id':_0x4cc50b['sourceTag'][_0x4880('0xe5')]}};if(_0x4cc50b[_0x4880('0xc4')][_0x4880('0xe6')])_0x508a10[_0x4880('0xe7')]={'connect':{'id':_0x4cc50b[_0x4880('0xc4')][_0x4880('0xe6')]}};if(_0x4cc50b[_0x4880('0xc4')]['testSetFolderId'])_0x508a10[_0x4880('0xe8')]={'connect':{'id':_0x4cc50b['sourceTag'][_0x4880('0xe9')]}};if(_0x4cc50b[_0x4880('0xc4')][_0x4880('0xea')])_0x508a10['testSetExcel']={'connect':{'id':_0x4cc50b[_0x4880('0xc4')][_0x4880('0xea')]}};if(_0x4cc50b[_0x4880('0xc4')][_0x4880('0xc5')])_0x508a10[_0x4880('0xeb')]={'connect':{'id':_0x4cc50b[_0x4880('0xc4')][_0x4880('0xc5')]}};if(_0x4cc50b[_0x4880('0xc4')]['deviceName'])_0x508a10['deviceName']=_0x4cc50b[_0x4880('0xc4')][_0x4880('0xc6')];}if(_0x4cc50b['attachments']){_0x508a10[_0x4880('0xec')]={'create':_0x4cc50b[_0x4880('0xec')]['map'](_0x336771=>{return{'name':_0x336771['name'],'mimeType':_0x336771[_0x4880('0xed')],'base64':_0x336771[_0x4880('0xee')]};})};}_0xa134bb['db'][_0x4880('0x5c')][_0x4880('0xef')]({'data':_0x508a10},_0x4880('0x5d'))['then'](_0x523d35=>{_0x3cda57('TestResult\x20for\x20TestCase\x20'+_0x4cc50b[_0x4880('0xdd')]+'\x20in\x20TestSession\x20'+_0x978078[_0x4880('0x65')]['name']+_0x4880('0xb1')+_0xb9c48c+_0x4880('0xf0')+_0x523d35['id']+')');})[_0x4880('0x7a')](_0x25d313=>{_0x3cda57('TestResult\x20for\x20TestCase\x20'+_0x4cc50b[_0x4880('0xdd')]+_0x4880('0xf1')+_0x978078[_0x4880('0x65')][_0x4880('0x52')]+_0x4880('0xf2')+_0x25d313);});}})[_0x4880('0x7a')](_0x1366a7=>{_0x3cda57(_0x4880('0xf3')+_0x1366a7);});};var _0x15bcfe=(_0x3556c4,_0x27dc86,_0x5a5bd4)=>{return _0x3556c4['db'][_0x4880('0x4f')][_0x4880('0xcd')]({'where':{'jobId':_0x27dc86}},_0x4880('0xf4'))[_0x4880('0x64')](_0x1689f2=>{if(!_0x1689f2||_0x1689f2['length']===0x0){return _0x3cda57('testSessionJobCompleted:\x20Job\x20'+_0x27dc86+_0x4880('0xf5'));}const _0x53f787=_0x1689f2[0x0];_0x3556c4['db'][_0x4880('0x5c')][_0x4880('0xd5')]({'data':{'status':_0x4880('0xf6'),'jobId':null,'progressPercent':0x64,'finished':new Date(Date['now']())['toISOString']()},'where':{'id':_0x53f787['id']}})[_0x4880('0x64')](()=>{_0x3cda57(_0x4880('0xd1')+_0x27dc86+'/'+_0x53f787['id']+'\x20completed.');})[_0x4880('0x64')](()=>{_0x3556c4['db']['mutation'][_0x4880('0xdb')]({'data':{'log':_0x4880('0xf7'),'testSessionJob':{'connect':{'id':_0x53f787['id']}}}},'{\x20id\x20}')[_0x4880('0x7a')](_0x15c29d=>{_0x3cda57('testSessionJobCompleted\x20createTestSessionJobLog\x20failed:\x20'+_0x15c29d);});})[_0x4880('0x64')](()=>_0xa25659(_0x3556c4,_0x27dc86,_0x53f787['id'],_0x53f787[_0x4880('0x65')]['id']))[_0x4880('0x64')](()=>_0x2445e9(_0x3556c4,_0x53f787[_0x4880('0x65')]['id']))[_0x4880('0x7a')](_0xbcb882=>{_0x3cda57('testSessionJobCompleted\x20failed:\x20'+_0xbcb882);});});};var _0x24153c=(_0x5b3a35,_0x5a3d36,_0x14540d)=>{return _0x5b3a35['db'][_0x4880('0x4f')][_0x4880('0xcd')]({'where':{'jobId':_0x5a3d36}},_0x4880('0xf4'))['then'](_0x44f92c=>{if(!_0x44f92c||_0x44f92c[_0x4880('0x56')]===0x0){return _0x3cda57(_0x4880('0xf8')+_0x5a3d36+_0x4880('0xf5'));}const _0xbd6c99=_0x44f92c[0x0];_0x5b3a35['db'][_0x4880('0x5c')]['updateTestSessionJob']({'data':{'status':_0x4880('0xf9'),'jobId':null,'err':_0x14540d},'where':{'id':_0xbd6c99['id']}})[_0x4880('0x64')](()=>{_0x3cda57(_0x4880('0xd1')+_0x5a3d36+'/'+_0xbd6c99['id']+'\x20failed:\x20'+_0x14540d+'.');})['then'](()=>{_0x5b3a35['db'][_0x4880('0x5c')][_0x4880('0xdb')]({'data':{'log':_0x4880('0xfa')+_0x14540d,'testSessionJob':{'connect':{'id':_0xbd6c99['id']}}}},_0x4880('0x5d'))[_0x4880('0x7a')](_0x14540d=>{_0x3cda57(_0x4880('0xfb')+_0x14540d);});})[_0x4880('0x64')](()=>_0xa25659(_0x5b3a35,_0x5a3d36,_0xbd6c99['id'],_0xbd6c99[_0x4880('0x65')]['id']))[_0x4880('0x64')](()=>_0x2445e9(_0x5b3a35,_0xbd6c99[_0x4880('0x65')]['id']))['catch'](_0x14540d=>{_0x3cda57(_0x4880('0xfc')+_0x14540d);});});};const _0xa25659=(_0x5b2f2a,_0xcb2585,_0x4608bf,_0x3cf3a8)=>{_0x3cda57(_0x4880('0xd1')+_0xcb2585+'/'+_0x4608bf+'\x20testSessionCheckFinished\x20'+_0x3cf3a8);return _0x5b2f2a['db'][_0x4880('0x5c')][_0x4880('0xfd')]({'data':{'status':_0x4880('0xf6')},'where':{'AND':[{'id':_0x3cf3a8},{'results_every':{'success':!![]}},{'jobs_every':{'status':_0x4880('0xf6')}}]}})[_0x4880('0x7a')](_0x3ab577=>{_0x3cda57(_0x4880('0xfe')+_0xcb2585+'/'+_0x4608bf+_0x4880('0xda')+_0x3ab577);})[_0x4880('0x64')](()=>_0x5b2f2a['db'][_0x4880('0x5c')][_0x4880('0xfd')]({'data':{'status':_0x4880('0xf9')},'where':{'AND':[{'id':_0x3cf3a8},{'jobs_every':{'status_in':[_0x4880('0xf6'),_0x4880('0xf9')]}},{'OR':[{'results_some':{'success':![]}},{'jobs_some':{'status':'FAILED'}}]}]}}))[_0x4880('0x7a')](_0xf58c6d=>{_0x3cda57(_0x4880('0xfe')+_0xcb2585+'/'+_0x4608bf+_0x4880('0xda')+_0xf58c6d);});};const _0x2445e9=(_0x2dce57,_0x41aac1)=>{_0x3cda57('Test\x20Session\x20'+_0x41aac1+_0x4880('0xff'));_0x2dce57['db']['query'][_0x4880('0x65')]({'where':{'id':_0x41aac1}},_0x4880('0x100'))[_0x4880('0x64')](_0x249d6c=>{if(!_0x249d6c)return;_0x2dce57[_0x4880('0x101')][_0x4880('0x102')](_0x4880('0x103'),{'testSessionProgress':_0x249d6c});});};var _0x1c74c2={'startTestSession':_0x536013,'testSessionProgress':_0x343936,'testSessionJobCompleted':_0x15bcfe,'testSessionJobFailed':_0x24153c};const _0x151206=_0x4f1188(_0x4880('0x104'));var _0x2ee596=class AgentsConnector{constructor(_0x1541e1){this[_0x4880('0x105')]=_0x1541e1;}[_0x4880('0x106')](){const _0x24ce17=this[_0x4880('0x105')]();_0x24ce17['queueConnector'][_0x4880('0x98')](_0x4880('0x107'),(_0x4075b5,_0x49b36c)=>{_0x151206(_0x4880('0x108')+JSON[_0x4880('0xa1')](_0x4075b5[_0x4880('0x67')]));_0x103237(_0x24ce17,_0x4075b5,_0x49b36c);});_0x24ce17[_0x4880('0xa7')][_0x4880('0x98')](_0x4880('0x109'),(_0x431882,_0x5e2b2d)=>{_0x151206(_0x4880('0x10a')+JSON[_0x4880('0xa1')](_0x431882['data']));_0x3dfce8(_0x24ce17,_0x431882,_0x5e2b2d);});_0x24ce17['queueConnector'][_0x4880('0x98')](_0x4880('0x10b'),(_0x59118e,_0x328db0)=>{_0x151206('box.createprocessingjobs:\x20'+JSON[_0x4880('0xa1')](_0x59118e[_0x4880('0x67')]));_0x1c74c2[_0x4880('0x10c')](_0x24ce17,_0x59118e,_0x328db0);});_0x24ce17[_0x4880('0xa7')]['on'](_0x4880('0x10d'),_0x7d73e8=>{_0x151206(_0x4880('0x10e'));_0x151206(_0x7d73e8);});_0x24ce17[_0x4880('0xa7')]['on']('job\x20enqueue',(_0x3cfa46,_0x1eb3b0)=>{_0x151206(_0x4880('0x10f')+_0x3cfa46+_0x4880('0x110')+_0x1eb3b0);});const _0x4d7386=new _0x211748((_0xc4d138,_0x1d30c9)=>{_0xc4d138()[_0x4880('0x64')](()=>_0x1d30c9())[_0x4880('0x7a')](_0x169dd6=>_0x151206('jobProcessingQueue\x20error:\x20'+_0x169dd6)&&_0x1d30c9(_0x169dd6));},{'maxRetries':0xa,'retryDelay':0x3e8});_0x24ce17[_0x4880('0xa7')]['on'](_0x4880('0x111'),(_0x1ac252,_0x26f445)=>{_0x151206(_0x4880('0x10f')+_0x1ac252+'\x20error\x20'+_0x26f445);_0x4d7386[_0x4880('0x4a')](()=>_0x1c74c2['testSessionJobFailed'](_0x24ce17,_0x1ac252,_0x26f445));});_0x24ce17['queueConnector']['on'](_0x4880('0x112'),(_0x33212f,_0x4c14c9)=>{_0x151206(_0x4880('0x10f')+_0x33212f+_0x4880('0x113')+JSON[_0x4880('0xa1')](_0x4c14c9));_0x4d7386[_0x4880('0x4a')](()=>_0x1c74c2[_0x4880('0x114')](_0x24ce17,_0x33212f,_0x4c14c9));});_0x24ce17[_0x4880('0xa7')]['on'](_0x4880('0x115'),(_0x21dbcc,_0x5ce812,_0x203c43)=>{_0x151206(_0x4880('0x10f')+_0x21dbcc+_0x4880('0x116')+_0x5ce812);_0x4d7386[_0x4880('0x4a')](()=>_0x1c74c2[_0x4880('0x117')](_0x24ce17,_0x21dbcc,_0x5ce812,_0x203c43));});}};const _0x481b6b=()=>({'secret':process[_0x4880('0x46')][_0x4880('0x118')],'audience':process[_0x4880('0x46')][_0x4880('0x119')]||_0x4880('0x11a'),'issuer':process[_0x4880('0x46')]['JWT_ISSUER']||_0x4880('0x11a')});const _0x2467c1=_0x5d9d83=>({'id':_0x5d9d83});const _0x5dd49e=_0x41769e=>_0x41769e&&_0x41769e['id'];const _0x4a7278=_0x3dd2fc=>{return _0x40a020[_0x4880('0x11b')](_0x2467c1(_0x3dd2fc['id']),process[_0x4880('0x46')]['JWT_SECRET'],{'expiresIn':0x15180*(process['env'][_0x4880('0x11c')]||0x1e),'audience':process[_0x4880('0x46')]['JWT_AUDIENCE']||'botiumbox','issuer':process[_0x4880('0x46')][_0x4880('0x11d')]||_0x4880('0x11a'),'subject':_0x3dd2fc['id']['toString']()});};const _0x392b12=async(_0x4d882d,_0x5af44d)=>{const _0x57d8d1=_0x40a020[_0x4880('0x11e')](_0x4d882d,process[_0x4880('0x46')][_0x4880('0x118')],{'audience':process[_0x4880('0x46')][_0x4880('0x119')]||_0x4880('0x11a'),'issuer':process[_0x4880('0x46')]['JWT_ISSUER']||'botiumbox'});const _0x1eba31=await _0x5af44d[_0x4880('0x4f')][_0x4880('0x11f')]({'where':{'id':_0x5dd49e(_0x57d8d1)}},_0x4880('0x120'));return _0x1eba31;};var _0x5eeec3={'jwtSettings':_0x481b6b,'userIdToToken':_0x2467c1,'tokenToUserId':_0x5dd49e,'generateToken':_0x4a7278,'validateToken':_0x392b12};const {generateToken:generateToken$1}=_0x5eeec3;var _0x3f02d8={async 'me'(_0x451af8,_0x56ea3a,_0x3a3539,_0x392c39){return _0x3a3539[_0x4880('0x121')]&&_0x3a3539[_0x4880('0x121')]['user'];},async 'autologin'(_0x328930,_0x1e825d,_0x188f4c,_0x28aa8c){if(_0x188f4c[_0x4880('0x121')]&&_0x188f4c[_0x4880('0x121')]['user']){return{'user':_0x188f4c[_0x4880('0x121')][_0x4880('0x11f')],'token':generateToken$1(_0x188f4c[_0x4880('0x121')][_0x4880('0x11f')])};}}};var _0x6aec67={'agents'(_0x1c9246,{where,orderBy,skip,first},_0x409c22,_0x278e16){orderBy=orderBy||_0x4880('0x122');return _0x409c22['db']['query'][_0x4880('0x123')]({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x278e16);},'agent'(_0x364037,{id},_0x343f6c,_0x1c7fbb){return _0x343f6c['db'][_0x4880('0x4f')][_0x4880('0x6a')]({'where':{'id':id}},_0x1c7fbb);}};var _0x5d36e1={'chatbots'(_0x501837,{where,orderBy,skip,first},_0x5add48,_0x8f7275){orderBy=orderBy||_0x4880('0x122');return _0x5add48['db'][_0x4880('0x4f')][_0x4880('0x124')]({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x8f7275);},'chatbot'(_0x34e3df,{id},_0x346aff,_0xc038e0){return _0x346aff['db'][_0x4880('0x4f')]['chatbot']({'where':{'id':id}},_0xc038e0);},'availablewatsonworkspaces'(_0x4e33c6,{url:_0x576a98,version,username,password}){return new Promise((_0x178cc5,_0x30d424)=>{const _0xd7ef87=new _0x4c1377({'url':_0x576a98,'version':_0x12cef0,'username':username,'password':password});_0xd7ef87[_0x4880('0x125')]((_0x505134,_0x545831)=>{if(_0x505134){_0x30d424(_0x505134);}else{const _0x3ff2be=_0x545831[_0x4880('0x126')][_0x4880('0x85')](_0x38b872=>({'name':_0x38b872['name'],'description':_0x38b872[_0x4880('0x127')],'value':_0x38b872['workspace_id']}));_0x178cc5(_0x3ff2be);}});});}};const _0x5122ae=_0x4f1188(_0x4880('0x128'));const _0x174bf1=_0x2d79a1[_0x4880('0x129')];const {composeBotiumCapabilities:composeBotiumCapabilities$1}=_0x52a1dd;const _0x45b239={};const _0x54d147={};var _0x4d7d2c={'Subscription':{'liveChatConvoStepAdded':{'subscribe':(_0x3b5de3,{conversationId},{pubsub})=>_0x155d72['asyncIterator'](conversationId)}},'Query':{'liveChatConvoSteps'(_0x3de5fc,{conversationId}){if(!_0x54d147[conversationId])return Promise[_0x4880('0x69')](new Error(_0x4880('0x12a')+conversationId+_0x4880('0x12b')));return _0x54d147[conversationId];}},'Mutation':{'liveChatStartBot'(_0xa68b5,{id},{db,pubsub}){const _0x39172a=_0x62eb67();return db['query']['chatbot']({'where':{'id':id}},_0x4880('0x12c'))['then'](_0x531f46=>{_0x5122ae(_0x4880('0x12d')+_0x39172a+_0x4880('0x12e')+_0x531f46['name']+_0x4880('0x12f'));const _0x39b7e9=new _0x174bf1(composeBotiumCapabilities$1(_0x531f46[_0x4880('0x7c')]));const _0x40a255=(_0x5522c4,_0x1450a8)=>{const _0x9dc92f=_0x54d147[_0x39172a][_0x4880('0x56')];const _0x1ae50b=JSON[_0x4880('0xa1')](Object[_0x4880('0xb8')](_0x1450a8,{'convoStepIndex':_0x9dc92f}));_0x54d147[_0x39172a][_0x4880('0x4a')](_0x1ae50b);_0x155d72[_0x4880('0x102')](_0x39172a,{'liveChatConvoStepAdded':_0x1ae50b});};_0x39b7e9['on'](_0x4880('0x130'),_0x40a255);_0x39b7e9['on']('MESSAGE_RECEIVEDFROMBOT',_0x40a255);return _0x39b7e9[_0x4880('0x131')]();})[_0x4880('0x64')](_0xbd8891=>{_0x45b239[_0x39172a]=_0xbd8891;_0x54d147[_0x39172a]=[];_0x5122ae('liveChatStartBot('+_0x39172a+')\x20container\x20built,\x20now\x20starting');return _0xbd8891[_0x4880('0x132')]();})[_0x4880('0x64')](()=>{_0x5122ae(_0x4880('0x12d')+_0x39172a+_0x4880('0x133'));return _0x39172a;});},'liveChatSendToBot'(_0x476526,{conversationId,convoStep},{pubsub}){if(!_0x45b239[conversationId])return Promise[_0x4880('0x69')](new Error(_0x4880('0x12a')+conversationId+_0x4880('0x12b')));_0x5122ae('liveChatSendToBot('+conversationId+_0x4880('0x134')+convoStep);const _0x4623b3=_0x45b239[conversationId];_0x4623b3[_0x4880('0x135')](JSON[_0x4880('0xb9')](convoStep))[_0x4880('0x7a')](_0x19e94c=>_0x5122ae(_0x19e94c));return!![];},'liveChatStopBot'(_0xed6167,{conversationId}){if(!_0x45b239[conversationId])return Promise[_0x4880('0x69')](new Error('Conversation\x20'+conversationId+_0x4880('0x12b')));_0x5122ae('liveChatStopBot('+conversationId+')\x20stopping\x20container');const _0x5c19af=_0x45b239[conversationId];return _0x5c19af[_0x4880('0x136')]()['then'](()=>_0x5c19af[_0x4880('0x137')]())[_0x4880('0x64')](()=>{_0x5122ae('liveChatStopBot('+conversationId+_0x4880('0x138'));delete _0x45b239[conversationId];delete _0x54d147[conversationId];return!![];});},async 'liveChatSaveConvoSteps'(_0x464c6f,{conversationId,testSetId,newTestSetName,testCaseName},_0x511ef3){if(!_0x45b239[conversationId])return Promise['reject'](new Error('Conversation\x20'+conversationId+_0x4880('0x12b')));let _0x64b806=null;if(newTestSetName){_0x64b806=await _0x511ef3['db'][_0x4880('0x5c')]['createTestSet']({'data':{'name':newTestSetName}},_0x4880('0x139'));}else{_0x64b806=await _0x511ef3['db'][_0x4880('0x4f')]['testSet']({'where':{'id':testSetId}},'{\x20id\x20name\x20}');}_0x5122ae(_0x4880('0x13a')+conversationId+')\x20saving\x20test\x20case\x20for\x20test\x20set\x20'+_0x64b806['id']+'/'+_0x64b806['name']);const _0x35ed3e=[testCaseName,''];_0x54d147[conversationId][_0x4880('0x57')](_0x5f1e36=>{const _0x3dd5aa=JSON[_0x4880('0xb9')](_0x5f1e36);_0x35ed3e[_0x4880('0x4a')]('#'+_0x3dd5aa['sender']);if(_0x3dd5aa[_0x4880('0x13b')]){_0x35ed3e[_0x4880('0x4a')](_0x3dd5aa[_0x4880('0x13b')]);}if(_0x3dd5aa[_0x4880('0x13c')]&&_0x3dd5aa[_0x4880('0x13c')][_0x4880('0x56')]>0x0)_0x35ed3e[_0x4880('0x4a')](_0x4880('0x13d')+_0x3dd5aa[_0x4880('0x13c')][_0x4880('0x85')](_0x504abd=>_0x504abd[_0x4880('0x13e')])['join']('|'));if(_0x3dd5aa[_0x4880('0x13f')]&&_0x3dd5aa['media'][_0x4880('0x56')]>0x0)_0x35ed3e[_0x4880('0x4a')](_0x4880('0x140')+_0x3dd5aa[_0x4880('0x13f')][_0x4880('0x85')](_0x545aac=>_0x545aac[_0x4880('0x141')])[_0x4880('0x49')]('|'));if(_0x3dd5aa['cards']&&_0x3dd5aa[_0x4880('0x142')][_0x4880('0x56')]>0x0){_0x3dd5aa[_0x4880('0x142')][_0x4880('0x57')](_0xf4d0bd=>{if(_0xf4d0bd['buttons']&&_0xf4d0bd[_0x4880('0x13c')]['length']>0x0)_0x35ed3e[_0x4880('0x4a')](_0x4880('0x13d')+_0xf4d0bd[_0x4880('0x13c')][_0x4880('0x85')](_0x4c6d24=>_0x4c6d24[_0x4880('0x13e')])[_0x4880('0x49')]('|'));if(_0xf4d0bd[_0x4880('0x143')])_0x35ed3e[_0x4880('0x4a')](_0x4880('0x140')+_0xf4d0bd[_0x4880('0x143')][_0x4880('0x141')]);});}_0x35ed3e[_0x4880('0x4a')]('');});let _0x33c1f6=await _0x511ef3['db'][_0x4880('0x5c')][_0x4880('0x144')]({'data':{'name':testCaseName,'script':_0x35ed3e[_0x4880('0x49')]('\x0a'),'scriptType':_0x4880('0x84'),'testSet':{'connect':{'id':_0x64b806['id']}}}},_0x4880('0x139'));_0x5122ae('liveChatSaveConvoSteps('+conversationId+_0x4880('0x145')+_0x64b806['id']+'/'+_0x64b806['name']+'\x20-\x20'+_0x33c1f6['id']+'/'+_0x33c1f6[_0x4880('0x52')]);return _0x33c1f6['id'];}}};var _0x465a46={'testsessions'(_0x245e7f,{where,orderBy,skip,first},_0x2678c2,_0x2a835f){orderBy=orderBy||_0x4880('0x146');skip=isNaN(skip)?0x0:skip;first=isNaN(first)?0x64:first;return _0x2678c2['db'][_0x4880('0x4f')][_0x4880('0x147')]({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x2a835f);},'testsession'(_0x2c1c9f,{id},_0x2485e4,_0x2851d6){return _0x2485e4['db'][_0x4880('0x4f')][_0x4880('0x65')]({'where':{'id':id}},_0x2851d6);},'testsessiontestcaseresults'(_0xd40966,{where,orderBy,skip,first},_0x54ae73,_0x114fd8){orderBy=orderBy||_0x4880('0x146');skip=isNaN(skip)?0x0:skip;first=isNaN(first)?0x64:first;return _0x54ae73['db'][_0x4880('0x4f')]['testSessionTestCaseResults']({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x114fd8);},'testsessiontestcaseresult'(_0x4d3d29,{id},_0x5a7d0e,_0x372ced){return _0x5a7d0e['db'][_0x4880('0x4f')][_0x4880('0x148')]({'where':{'id':id}},_0x372ced);}};const _0x24af4f=_0x4f1188('botium-retrieve-all-test-cases');var _0x5026d9=(_0x198dfe,_0x3d02ba,_0x464a37,_0x315b6b)=>{_0x198dfe[_0x4880('0xc8')]&&_0x198dfe['convos'][_0x4880('0x57')](_0x36e607=>{let _0x3b2ab9=[];let _0x121a65=[];try{if(_0x36e607[_0x4880('0x149')]===_0x1152f2['SCRIPTING_FORMAT_XSLX']){const _0x553ec3=Buffer[_0x4880('0x14a')](_0x36e607[_0x4880('0x14b')],_0x4880('0xee'));_0x121a65=_0x3d02ba[_0x4880('0x14c')](_0x553ec3,_0x1152f2[_0x4880('0x14d')],_0x1152f2[_0x4880('0x88')]);_0x3b2ab9=_0x3d02ba[_0x4880('0x14c')](_0x553ec3,_0x1152f2['SCRIPTING_FORMAT_XSLX'],_0x1152f2[_0x4880('0x84')]);}else if(_0x36e607['format']===_0x1152f2[_0x4880('0x86')]){_0x3b2ab9=_0x3d02ba[_0x4880('0x14c')](_0x36e607[_0x4880('0x14b')],_0x1152f2[_0x4880('0x86')],_0x1152f2['SCRIPTING_TYPE_CONVO']);}if(_0x3b2ab9)_0x3b2ab9[_0x4880('0x57')](_0x3f2515=>{_0x3f2515['sourceTag']=_0x36e607[_0x4880('0xc4')];});if(_0x121a65)_0x121a65['forEach'](_0x32e4dc=>{_0x32e4dc[_0x4880('0xc4')]=_0x36e607[_0x4880('0xc4')];});}catch(_0x3255b0){_0x24af4f(_0x3255b0);throw new Error(_0x198dfe[_0x4880('0x52')]+':\x20Convo\x20Script\x20compilation\x20failed:\x20'+JSON[_0x4880('0xa1')](_0x3255b0));}});_0x198dfe[_0x4880('0xc9')]&&_0x198dfe['utterances'][_0x4880('0x57')](_0x3305dd=>{let _0x329f38=[];try{_0x329f38=_0x3d02ba[_0x4880('0x14c')](_0x3305dd[_0x4880('0x14b')],_0x1152f2[_0x4880('0x86')],_0x1152f2['SCRIPTING_TYPE_UTTERANCES']);if(_0x329f38)_0x329f38[_0x4880('0x57')](_0x2c193f=>{_0x2c193f[_0x4880('0xc4')]=_0x3305dd['sourceTag'];});}catch(_0x3f6000){_0x24af4f(_0x3f6000);throw new Error(_0x198dfe[_0x4880('0x52')]+':\x20Utterance\x20script\x20compilation\x20failed:\x20'+JSON[_0x4880('0xa1')](_0x3f6000));}});_0x198dfe[_0x4880('0x89')]&&_0x198dfe[_0x4880('0x89')][_0x4880('0x57')](_0x42cbc5=>{try{const {convos,utterances}=_0x3d02ba[_0x4880('0x14e')](_0x42cbc5[_0x4880('0x14')],_0x42cbc5[_0x4880('0x8a')]);convos&&convos[_0x4880('0x57')](_0x238b4b=>{_0x238b4b[_0x4880('0xc4')]=Object[_0x4880('0xb8')]({},_0x238b4b['sourceTag'],_0x42cbc5['sourceTag']);});utterances&&utterances[_0x4880('0x57')](_0x1dd39c=>{_0x1dd39c[_0x4880('0xc4')]=Object['assign']({},_0x1dd39c[_0x4880('0xc4')],_0x42cbc5['sourceTag']);});}catch(_0x1e4192){_0x24af4f(_0x1e4192);throw new Error(_0x198dfe[_0x4880('0x52')]+_0x4880('0x14f')+_0x42cbc5+'\x20script\x20compilation\x20failed:\x20'+JSON[_0x4880('0xa1')](_0x1e4192));}});let _0x3d67b6=Promise[_0x4880('0x45')]();if(_0x198dfe['excels']&&_0x198dfe[_0x4880('0x8b')][_0x4880('0x56')]>0x0){_0x3d67b6=Promise['all'](_0x198dfe[_0x4880('0x8b')][_0x4880('0x85')](({id,filename,filecontent,hasConvos,hasUtterances,worksheetsConvos,worksheetsUtterances,startRow,startCol,sourceTag})=>{return new Promise(_0x5f1d6a=>{const _0x4d8e5b=Buffer[_0x4880('0x14a')](filecontent,_0x4880('0xee'));let _0x2a68e2=[];let _0x89a615=[];if(hasConvos){if(worksheetsConvos)_0x3d02ba['caps'][_0x511f06[_0x4880('0x150')]]=worksheetsConvos;if(!isNaN(startRow))_0x3d02ba[_0x4880('0x151')][_0x511f06['SCRIPTING_XLSX_STARTROW']]=startRow;if(!isNaN(startCol))_0x3d02ba[_0x4880('0x151')][_0x511f06[_0x4880('0x152')]]=startCol;_0x2a68e2=_0x3d02ba[_0x4880('0x14c')](_0x4d8e5b,_0x1152f2[_0x4880('0x14d')],_0x1152f2[_0x4880('0x84')]);}if(hasUtterances){if(worksheetsUtterances)_0x3d02ba[_0x4880('0x151')][_0x511f06[_0x4880('0x153')]]=worksheetsUtterances;if(!isNaN(startRow))_0x3d02ba[_0x4880('0x151')][_0x511f06[_0x4880('0x154')]]=startRow;if(!isNaN(startCol))_0x3d02ba[_0x4880('0x151')][_0x511f06[_0x4880('0x152')]]=startCol;_0x89a615=_0x3d02ba[_0x4880('0x14c')](_0x4d8e5b,_0x1152f2[_0x4880('0x14d')],_0x1152f2['SCRIPTING_TYPE_UTTERANCES']);}_0x2a68e2&&_0x2a68e2[_0x4880('0x57')](_0x3458b3=>{_0x3458b3['sourceTag']=Object[_0x4880('0xb8')]({},_0x3458b3['sourceTag'],sourceTag);});_0x89a615&&_0x89a615['forEach'](_0x170e31=>{_0x170e31[_0x4880('0xc4')]=Object[_0x4880('0xb8')]({},_0x170e31[_0x4880('0xc4')],sourceTag);});_0x5f1d6a();});}));}let _0x78e35=Promise['resolve']();return Promise[_0x4880('0x155')]([_0x78e35,_0x3d67b6]);};const _0x3531e9=_0x300eae({'dirname':__dirname,'filter':/(.+Provider)\.js$/});var _0x4e99d6=Object['values'](_0x3531e9);const _0x442161=_0x300eae({'dirname':__dirname,'filter':/(.+Provider)\.js$/});var _0x3a3f4c=Object[_0x4880('0x156')](_0x442161);const _0x2c1acc=_0x4e99d6['concat'](_0x3a3f4c);const _0x8d23e2={};_0x2c1acc[_0x4880('0x57')](_0x20929c=>{_0x8d23e2[_0x20929c['metadata']['id']]=_0x20929c;});const _0x39fb93={};_0x4e99d6[_0x4880('0x57')](_0x4c1997=>{_0x39fb93[_0x4c1997[_0x4880('0x157')]['id']]='habits';});_0x3a3f4c[_0x4880('0x57')](_0x3b469d=>{_0x39fb93[_0x3b469d[_0x4880('0x157')]['id']]=_0x4880('0x158');});var _0x55cfa2=_0x156e19=>{if(!(_0x156e19 in _0x39fb93)){throw Error(_0x4880('0x159')+_0x156e19);}return _0x8d23e2[_0x156e19];};var _0x466f22=Object['keys'](_0x8d23e2);var _0x3a6aae=[[_0x4e99d6,_0x3a3f4c],[_0x4e99d6],[_0x3a3f4c]];var _0xf7e00b=[[_0x4e99d6],[_0x3a3f4c]];var _0x26edf9={'GetMutatorById':_0x55cfa2,'allMutatorNames':_0x466f22,'pipelineAllMutatorCombined':_0x3a6aae,'pipelineAllMutatorNotCombined':_0xf7e00b};const {pipelineAllMutatorCombined:pipelineAllMutatorCombined$1,pipelineAllMutatorNotCombined:pipelineAllMutatorNotCombined$1,GetMutatorById:GetMutatorById$1,allMutatorNames:allMutatorNames$1}=_0x26edf9;var _0x3e98ca=pipelineAllMutatorCombined$1;var _0x4bd09d=pipelineAllMutatorNotCombined$1;var _0x4424a0=allMutatorNames$1;var _0x15bb8f=(_0x408f0d,_0x2b5b56)=>{const _0xcb4887=_0x5d1061(_0x2b5b56);return _0x6d33a2(_0x408f0d,_0xcb4887);};const _0x6d33a2=(_0x3d748c,_0x5b83d2)=>{let _0x2bb0fb=new Set();for(const _0xefbf17 of _0x5b83d2){let _0x10097b=[_0x3d748c];for(const _0xe0bdc5 of _0xefbf17){let _0x5db5f9=[];for(const _0x143738 of _0xe0bdc5){for(const _0x288546 of _0x10097b){_0x5db5f9=_0x5db5f9['concat'](_0x143738[_0x4880('0x15a')](_0x288546));}}_0x10097b=_0x5db5f9;}for(const _0x28005f of _0x10097b){if(_0x2bb0fb[_0x4880('0x15b')](_0x28005f)){console[_0x4880('0x3f')]('duplicate\x20utterance\x20:\x20<'+_0x28005f+_0x4880('0x15c')+JSON[_0x4880('0xa1')](_0xefbf17,0x2));}else{_0x2bb0fb[_0x4880('0x15d')](_0x28005f);}}}return[..._0x2bb0fb];};var _0x8ef969=_0x6d33a2;const _0x5d1061=_0x25c028=>{if(!_0x25c028[_0x4880('0x15e')]||!_0x25c028[_0x4880('0x15e')]['length']){return[[pipelineAllMutatorNotCombined$1]];}const _0x3e2347=_0x56f09e=>_0x56f09e[_0x4880('0x85')](_0x37465c=>GetMutatorById$1(_0x37465c));return[[_0x3e2347(_0x25c028[_0x4880('0x15e')])]];};var _0x111042={'pipelineAllMutatorCombined':_0x3e98ca,'pipelineAllMutatorNotCombined':_0x4bd09d,'allHumanifiers':_0x4424a0,'Execute':_0x15bb8f,'ExecutePipeline':_0x8ef969};const _0x50a906=_0x4f1188('botium-clone-testset');const {RetrieveTestSetDetails:RetrieveTestSetDetails$2}=_0x526702;const _0x79c06b='_JUST_BOT';var _0x56cf14={'humanifiers':_0x111042[_0x4880('0x15f')]};var _0x547120=(_0x2b5b03,_0x5b6288)=>{const _0x5abf4d=new _0x2e08e7(_0x382ddd[_0x4880('0x2d')]);_0x5abf4d[_0x4880('0x131')]();const _0x426a71=_0x5e7844['join'](process[_0x4880('0x46')]['BOTIUM_TEMPDIR'],'{slugify(testSet.Name)}_CLONED_'+_0x4abe9b(_0x4880('0x160'),0x5));_0x393ff8[_0x4880('0x161')](_0x426a71);return _0x5026d9(RetrieveTestSetDetails$2(_0x2b5b03),_0x5abf4d,_0x426a71,_0x382ddd['Sources'])[_0x4880('0x64')](()=>{_0x2caf4d(_0x426a71,_0x154ab0=>{if(_0x154ab0){throw _0x154ab0;}});const _0x218db5={};const _0x25f109=_0x3e6989(_0x5abf4d,_0x5b6288);_0x218db5['utterances']={'all':Object[_0x4880('0x162')](_0x25f109[_0x4880('0x155')])['length'],'me':_0x25f109['me'][_0x4880('0x163')],'bot':_0x25f109['bot'][_0x4880('0x163')],'both':_0x25f109[_0x4880('0x164')][_0x4880('0x163')],'neither':_0x25f109['neither'][_0x4880('0x163')],'toHumanify':Object[_0x4880('0x156')](_0x25f109[_0x4880('0x165')])[_0x4880('0x82')](_0x1475f0=>_0x1475f0)[_0x4880('0x56')],'allUtteranceCount':_0x25f109[_0x4880('0x166')],'utterancesToHumanifyCount':_0x25f109[_0x4880('0x167')]};_0x218db5[_0x4880('0x98')]=_0x50f0e3(_0x5abf4d,_0x25f109,_0x5b6288);_0x50a906(_0x4880('0x168')+JSON[_0x4880('0xa1')](_0x218db5));return _0x19f751(_0x5abf4d,_0x2b5b03[_0x4880('0x52')]);});};const _0x19f751=(_0x53a7e9,_0x361a21)=>{const _0x3b927f=_0x5e7844[_0x4880('0x49')](process[_0x4880('0x46')][_0x4880('0x169')],_0x34573f(_0x361a21)+_0x4880('0x16a')+_0x4abe9b('Aa0',0x5));_0x393ff8[_0x4880('0x161')](_0x3b927f);const _0x382250=Object[_0x4880('0x162')](_0x53a7e9['utterances']);for(let _0x406d15=0x0;_0x406d15<_0x382250[_0x4880('0x56')];_0x406d15++){let _0x5c0a4f=[_0x382250[_0x406d15]][_0x4880('0x16b')](_0x53a7e9[_0x4880('0xc9')][_0x382250[_0x406d15]]['utterances'])['join']('\x0d\x0a');_0x118006['writeFile'](_0x5e7844['join'](_0x3b927f,_0x382250[_0x406d15]+'.utterances.txt'),_0x5c0a4f,function(_0x244158){if(_0x244158){throw _0x244158;}});}const _0x16d992=_0x53a7e9[_0x4880('0x16c')](_0x1152f2[_0x4880('0x86')]);for(let _0x252591=0x0;_0x252591<_0x53a7e9[_0x4880('0xc8')]['length'];_0x252591++){let _0x5c0a4f=_0x16d992[_0x4880('0x16d')]([_0x53a7e9[_0x4880('0xc8')][_0x252591]]);_0x118006[_0x4880('0x16e')](_0x5e7844[_0x4880('0x49')](_0x3b927f,'c'+_0x252591+_0x4880('0x16f')),_0x5c0a4f,function(_0x7d1460){if(_0x7d1460){throw _0x7d1460;}});}return _0x3b927f;};const _0x3e6989=(_0x31ba65,_0x3b2a59)=>{const _0x3c8637={'all':_0x31ba65['utterances'],'me':new Set(),'bot':new Set(),'both':null,'neither':null,'toHumanify':{},'allUtteranceCount':0x0,'utterancesToHumanifyCount':0x0};_0x3c8637['neither']=new Set(Object['keys'](_0x3c8637[_0x4880('0x155')]));_0x31ba65[_0x4880('0xc8')]['forEach'](_0x3a4651=>{_0x3a4651['conversation'][_0x4880('0x57')](_0x33ca35=>{if(_0x33ca35[_0x4880('0x13b')]&&_0x33ca35[_0x4880('0x13b')]in _0x3c8637[_0x4880('0x155')]){_0x3c8637[_0x33ca35[_0x4880('0x170')]][_0x4880('0x15d')](_0x33ca35[_0x4880('0x13b')]);_0x3c8637['neither'][_0x4880('0x171')](_0x33ca35[_0x4880('0x13b')]);}});});const _0x166e30=_0x191809[_0x4880('0x172')](Array['from'](_0x3c8637['me']))[_0x4880('0x82')](_0x5ee382=>_0x3c8637[_0x4880('0x173')][_0x4880('0x15b')](_0x5ee382));_0x3c8637[_0x4880('0x164')]=new Set(_0x166e30);const _0x53e0a5={};let _0x35219f=0x0;let _0x3531e9=0x0;if(_0x3b2a59['humanifiersToExecute']['length']){[..._0x3c8637['me'],..._0x166e30,..._0x3c8637[_0x4880('0x174')]][_0x4880('0x57')](_0x116092=>{_0x3531e9+=_0x3c8637[_0x4880('0x155')][_0x116092][_0x4880('0xc9')][_0x4880('0x56')];let _0x31640e=Math[_0x4880('0x175')](_0x3531e9*_0x3b2a59['percentToHumanify']-_0x35219f);if(_0x35219f===0x0&&_0x31640e===0x0){_0x31640e=0x1;}_0x53e0a5[_0x116092]=_0x31640e;_0x35219f+=_0x31640e;});}_0x3c8637[_0x4880('0x165')]=_0x53e0a5;_0x3c8637['allUtteranceCount']=_0x3531e9;_0x3c8637[_0x4880('0x167')]=_0x35219f;return _0x3c8637;};const _0x50f0e3=(_0x2edeac,_0x215013,_0xcc83a4)=>{_0x215013[_0x4880('0x164')][_0x4880('0x57')](_0x20ba15=>{if(_0x215013[_0x4880('0x165')][_0x20ba15]){let _0x50fb46=_0x20ba15+_0x79c06b;if(_0x50fb46 in _0x2edeac[_0x4880('0xc9')]){throw new Error(_0x4880('0x176')+_0x50fb46+_0x4880('0x177'));}}});const _0x5b7059={'humanifiedRefs':[],'humanifiedRefCount':0x0,'humanifiedUtterancesCount':0x0,'duplicates':0x0};_0x215013[_0x4880('0x164')][_0x4880('0x57')](_0x2aa7f3=>{if(_0x215013['toHumanify'][_0x2aa7f3]){_0x2edeac[_0x4880('0xc9')][_0x2aa7f3+_0x79c06b]=_0x191809[_0x4880('0xc7')](_0x2edeac['utterances'][_0x2aa7f3]);}});const _0x2f7a6c=_0x2c056a=>{_0x2edeac[_0x4880('0xc9')][_0x2c056a]['utterances']=_0x191809[_0x4880('0x172')](_0x2edeac[_0x4880('0xc9')][_0x2c056a][_0x4880('0xc9')]);const _0x2e2f96=_0x215013['toHumanify'][_0x2c056a];const _0x17a0a1=_0x2edeac[_0x4880('0xc9')][_0x2c056a][_0x4880('0xc9')];let _0x2aa8db=0x0;for(let _0x111778=0x0;_0x111778<_0x2e2f96;_0x111778++){const _0x56b6e7=_0x111042[_0x4880('0x178')](_0x17a0a1[_0x111778],{'humanifiersToExecute':_0xcc83a4[_0x4880('0x15e')]});_0x2edeac[_0x4880('0xc9')][_0x2c056a][_0x4880('0xc9')]=_0x2edeac[_0x4880('0xc9')][_0x2c056a][_0x4880('0xc9')][_0x4880('0x16b')](_0x56b6e7);_0x2aa8db+=_0x56b6e7[_0x4880('0x56')];}let _0x290fe6=_0x2edeac[_0x4880('0xc9')][_0x2c056a][_0x4880('0xc9')][_0x4880('0x56')];_0x2edeac[_0x4880('0xc9')][_0x2c056a][_0x4880('0xc9')]=_0x191809[_0x4880('0x172')](_0x2edeac[_0x4880('0xc9')][_0x2c056a][_0x4880('0xc9')]);return{'humanifiedRefCount':_0x2e2f96,'humanifiedUtterancesCount':_0x2aa8db,'duplicates':_0x290fe6-_0x2edeac[_0x4880('0xc9')][_0x2c056a]['length']};};Object[_0x4880('0x162')](_0x215013[_0x4880('0x165')])[_0x4880('0x57')](_0x2bb1fa=>{if(_0x215013['toHumanify'][_0x2bb1fa]){const _0x2d699c=_0x2f7a6c(_0x2bb1fa);_0x5b7059[_0x4880('0x179')]['push'](_0x2bb1fa);_0x5b7059['humanifiedRefCount']+=_0x2d699c[_0x4880('0x17a')];_0x5b7059[_0x4880('0x17b')]+=_0x2d699c[_0x4880('0x17b')];_0x5b7059[_0x4880('0x17c')]+=_0x2d699c[_0x4880('0x17c')];}});const _0x3ef6f6=(_0xf52598,_0x215013)=>{_0xf52598[_0x4880('0x17d')][_0x4880('0x57')](_0x1b994d=>{if(_0x1b994d[_0x4880('0x13b')]&&_0x215013[_0x4880('0x164')]['has'](_0x1b994d[_0x4880('0x13b')])){return!![];}});return![];};const _0x13d687=[];_0x2edeac[_0x4880('0xc8')][_0x4880('0x57')](_0x300258=>{if(_0x3ef6f6(_0x300258,_0x215013));});_0x2edeac[_0x4880('0xc8')]=_0x2edeac[_0x4880('0xc8')][_0x4880('0x16b')](_0x13d687);_0x5b7059[_0x4880('0x17e')]=_0x13d687[_0x4880('0x56')];return _0x5b7059;};var _0x24b754={'possibleOptions':_0x56cf14,'CloneTestset':_0x547120};var _0x349c93={'testsets'(_0x421bd1,{where,orderBy,skip,first},_0x292c6b,_0x10c95d){orderBy=orderBy||'name_ASC';return _0x292c6b['db'][_0x4880('0x4f')][_0x4880('0xa4')]({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x10c95d);},'testset'(_0x272289,{id},_0x1ffee0,_0x16c52f){return _0x1ffee0['db'][_0x4880('0x4f')][_0x4880('0x7f')]({'where':{'id':id}},_0x16c52f);},'testsetscripts'(_0x149701,{testSetId,skip,first},_0x5df4cc,_0x3094ab){return _0x5df4cc['db'][_0x4880('0x4f')][_0x4880('0x17f')]({'where':{'testSet':{'id':testSetId}},'skip':skip,'first':first},_0x3094ab);},'testsetscript'(_0x2765cd,{id},_0x58203c,_0xb82b3f){return _0x58203c['db'][_0x4880('0x4f')]['testSetScript']({'where':{'id':id}},_0xb82b3f);},'validatetestsetscript'(_0x4e0ddd,{script,scriptType}){const _0x14e427=new _0x23db61({'AddConvos':()=>{},'AddUtterances':()=>{},'IsAsserterValid':()=>!![],'scriptingEvents':{}},{'SCRIPTING_TXT_EOL':'\x0a'});const _0x3b1180=_0x14e427[_0x4880('0x14c')](script,scriptType);if(_0x3b1180&&_0x3b1180[_0x4880('0x56')]>0x0){if(scriptType===_0x4880('0x88')){return Promise[_0x4880('0x45')]({'name':_0x3b1180[0x0]['name'],'description':_0x4880('0x180'),'script':script,'scriptType':scriptType});}else{return Promise[_0x4880('0x45')]({'name':_0x3b1180[0x0][_0x4880('0x181')]['name'],'description':_0x3b1180[0x0]['header'][_0x4880('0x127')],'script':script,'scriptType':scriptType});}}else{return Promise[_0x4880('0x69')](new Error('no\x20script\x20provided'));}},'testsetrepositories'(_0x5427f0,{testSetId,skip,first},_0x1f0cb1,_0x4c0f47){return _0x1f0cb1['db'][_0x4880('0x4f')][_0x4880('0x182')]({'where':{'testSet':{'id':testSetId}},'skip':skip,'first':first},_0x4c0f47);},'testsetrepository'(_0x22b2b4,{id},_0x3697ef,_0x35ece0){return _0x3697ef['db']['query']['testSetRepository']({'where':{'id':id}},_0x35ece0);},'testsetfolders'(_0x55b212,{testSetId,skip,first},_0x468b7b,_0x463c37){return _0x468b7b['db']['query'][_0x4880('0x4e')]({'where':{'testSet':{'id':testSetId}},'skip':skip,'first':first},_0x463c37);},'testsetfolder'(_0x46e8f8,{id},_0x3ac22c,_0x2ef2c6){return _0x3ac22c['db'][_0x4880('0x4f')][_0x4880('0xe8')]({'where':{'id':id}},_0x2ef2c6);},'testsetexcels'(_0x253907,{testSetId,skip,first},_0xef9a11,_0x5f39a1){return _0xef9a11['db']['query'][_0x4880('0x183')]({'where':{'testSet':{'id':testSetId}},'skip':skip,'first':first},_0x5f39a1);},'testsetexcel'(_0x351191,{id},_0x1bd6da,_0x2800ce){return _0x1bd6da['db'][_0x4880('0x4f')][_0x4880('0x184')]({'where':{'id':id}},_0x2800ce);},'clonetestsetoptions'(_0x5d0637,_0x3434d2,_0x599b67,_0x2892d7){return _0x24b754[_0x4880('0x185')];}};var _0x403c10=class Cache{constructor(_0x5d078e){this[_0x4880('0x186')]=new _0x3be914({'stdTTL':_0x5d078e,'checkperiod':_0x5d078e*0.2,'useClones':![]});}['get'](_0x3669a6,_0xf2a39d){const _0x8de316=this[_0x4880('0x186')][_0x4880('0x187')](_0x3669a6);if(_0x8de316){return Promise[_0x4880('0x45')](_0x8de316);}return _0xf2a39d()[_0x4880('0x64')](_0x6b5d9e=>{this[_0x4880('0x186')]['set'](_0x3669a6,_0x6b5d9e);return _0x6b5d9e;});}[_0x4880('0x188')](_0x251f77){this[_0x4880('0x186')][_0x4880('0x188')](_0x251f77);}[_0x4880('0x189')](_0x1b9c7e=''){if(!_0x1b9c7e){return;}const _0x598f82=this[_0x4880('0x186')][_0x4880('0x162')]();for(const _0x264f3f of _0x598f82){if(_0x264f3f[_0x4880('0x18a')](_0x1b9c7e)===0x0){this[_0x4880('0x188')](_0x264f3f);}}}['flush'](){this['cache'][_0x4880('0x18b')]();}};const _0x507276=new _0x403c10(0x3c*0x3c*0x1);var _0x14f804={'devicesets'(_0x59062d,{where,orderBy,skip,first},_0xc33263,_0x5e9ef7){orderBy=orderBy||_0x4880('0x122');return _0xc33263['db'][_0x4880('0x4f')][_0x4880('0xb4')]({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x5e9ef7);},'deviceset'(_0x161c09,{id},_0x180cb6,_0x19ff79){return _0x180cb6['db'][_0x4880('0x4f')][_0x4880('0xeb')]({'where':{'id':id}},_0x19ff79);},async 'availabledevices'(_0x210126,{provider},_0x445c01){const _0x12050c=await _0x445c01['db'][_0x4880('0x4f')][_0x4880('0x18c')]({'where':{'id':provider}});if(!_0x12050c)return[];if(_0x12050c[_0x4880('0x6b')]===_0x4880('0xb7')){return _0x507276['get'](_0x4880('0xb7'),()=>{return _0x1bdfbd({'url':'https://saucelabs.com/rest/v1/info/platforms/all','json':!![]})[_0x4880('0x64')](_0x4298c4=>{const _0x294583=_0x4298c4[_0x4880('0x82')](_0x34a63a=>!_0x34a63a[_0x4880('0x18d')])[_0x4880('0x85')](_0x534f17=>({'name':_0x534f17['long_name']+'\x20'+_0x534f17[_0x4880('0x18e')]+',\x20'+_0x534f17['os'],'value':JSON[_0x4880('0xa1')]({'type':_0x4880('0x18f'),'capabilities':{'browserName':_0x534f17[_0x4880('0x190')],'platform':_0x534f17['os'],'version':_0x534f17[_0x4880('0x18e')]}})}))[_0x4880('0x16b')](_0x4298c4[_0x4880('0x82')](_0x542864=>_0x542864[_0x4880('0x18d')])[_0x4880('0x85')](_0x298fb1=>({'name':_0x298fb1[_0x4880('0x191')]+',\x20'+_0x298fb1[_0x4880('0x18e')],'value':JSON[_0x4880('0xa1')]({'type':_0x4880('0x192'),'capabilities':{'browserName':['iphone',_0x4880('0x193')][_0x4880('0x18a')](_0x298fb1['api_name'])>=0x0?_0x4880('0x194'):'Chrome','deviceName':_0x298fb1[_0x4880('0x18d')],'platformName':[_0x4880('0x195'),_0x4880('0x193')][_0x4880('0x18a')](_0x298fb1[_0x4880('0x190')])>=0x0?_0x4880('0x196'):_0x4880('0x197'),'platformVersion':_0x298fb1['short_version']}})})));return _0x191809['uniqBy'](_0x191809[_0x4880('0x198')](_0x294583,'name',_0x4880('0x199')),_0x4880('0x52'));});});}else if(_0x12050c[_0x4880('0x6b')]==='LOCALSELENIUM'){return _0x507276[_0x4880('0x187')]('LOCALSELENIUM',()=>{return Promise['resolve']([{'name':_0x4880('0x19a'),'value':JSON[_0x4880('0xa1')]({'type':_0x4880('0x18f'),'capabilities':{'browserName':_0x4880('0x19b')}})},{'name':_0x4880('0x19c'),'value':JSON[_0x4880('0xa1')]({'type':_0x4880('0x18f'),'capabilities':{}})},{'name':'Google\x20Chrome\x20(Headless)','value':JSON[_0x4880('0xa1')]({'type':_0x4880('0x18f'),'capabilities':{'browserName':'chrome','chromeOptions':{'args':[_0x4880('0x19d'),_0x4880('0x19e')]}}})}]);});}else if(_0x12050c[_0x4880('0x6b')]===_0x4880('0xc1')){return Promise[_0x4880('0x45')]([{'name':_0x4880('0x19a'),'value':JSON[_0x4880('0xa1')]({'type':'DESKTOP','capabilities':{'browserName':'phantomjs'}})}]);}}};var _0xde821f={'testprojects'(_0x5be4c7,{where,orderBy,skip,first},_0x4bf231,_0x425275){orderBy=orderBy||'name_ASC';return _0x4bf231['db'][_0x4880('0x4f')][_0x4880('0x19f')]({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x425275);},'testproject'(_0x5720b7,{id},_0x1f4541,_0x4286f8){return _0x1f4541['db'][_0x4880('0x4f')]['testProject']({'where':{'id':id}},_0x4286f8);}};var _0x4a0e30={'users'(_0x12849e,{where,orderBy,skip,first},_0x4d547c,_0x55b030){orderBy=orderBy||'name_ASC';return _0x4d547c['db'][_0x4880('0x4f')][_0x4880('0x1a0')]({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x55b030);},'user'(_0x177e53,{id},_0x23012c,_0x7b2d42){return _0x23012c['db'][_0x4880('0x4f')][_0x4880('0x11f')]({'where':{'id':id}},_0x7b2d42);},'apikeys'(_0x30fa02,{where,orderBy,skip,first},_0x475bed,_0x3708fe){orderBy=orderBy||_0x4880('0x122');return _0x475bed['db'][_0x4880('0x4f')]['apiKeys']({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x3708fe);},'apikey'(_0x4387d8,{id},_0x32f939,_0x5b0564){return _0x32f939['db'][_0x4880('0x4f')]['apiKey']({'where':{'id':id}},_0x5b0564);},'deviceproviders'(_0x2d3d92,{where,orderBy,skip,first},_0x5d706e,_0x25f0d2){orderBy=orderBy||_0x4880('0x122');return _0x5d706e['db'][_0x4880('0x4f')][_0x4880('0x1a1')]({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x25f0d2);},'deviceprovider'(_0x2438e2,{id},_0x3f8b5a,_0x1c0415){return _0x3f8b5a['db'][_0x4880('0x4f')][_0x4880('0x18c')]({'where':{'id':id}},_0x1c0415);}};const _0x4f3ada=new _0x403c10(0x3c*0x5);const _0x216339=_0x59e517=>{if(_0x59e517===_0x4880('0x1a2')){return _0xf53cae()[_0x4880('0x1a3')](_0x4880('0x1a4'));}else if(_0x59e517===_0x4880('0x1a5')){return _0xf53cae()[_0x4880('0x1a6')](0x6,_0x4880('0x1a7'))[_0x4880('0x1a3')](_0x4880('0x1a4'));}else if(_0x59e517===_0x4880('0x1a8')){return _0xf53cae()['subtract'](0xd,_0x4880('0x1a7'))[_0x4880('0x1a3')](_0x4880('0x1a4'));}else if(_0x59e517===_0x4880('0x1a9')){return _0xf53cae()[_0x4880('0x1a6')](0x1e,_0x4880('0x1a7'))[_0x4880('0x1a3')](_0x4880('0x1a4'));}else if(_0x59e517===_0x4880('0x1aa')){return _0xf53cae()[_0x4880('0x1a6')](0x3c,'days')[_0x4880('0x1a3')](_0x4880('0x1a4'));}};var _0x59ccaf={'chartFailedCountByTestSetByDay'(_0x296199,{testProjectId,timeFrame},_0x17ccd4,_0x7c1fbe){const _0x2617e2=_0x216339(timeFrame||_0x4880('0x1a8'));const _0x224db0=_0xf53cae();const _0x423867=_0x4880('0x1ab')+JSON['stringify']({'fromDate':_0x2617e2,'testProjectId':testProjectId});return _0x4f3ada['get'](_0x423867,()=>{return _0x17ccd4['db'][_0x4880('0x4f')][_0x4880('0xa4')]({'orderBy':_0x4880('0x122')},_0x4880('0x139'))[_0x4880('0x64')](_0xaae8fe=>{return Promise[_0x4880('0x155')](_0xaae8fe[_0x4880('0x85')](_0x52a73f=>{const _0x6fc9bd=[];for(const _0x4b1e9c=_0xf53cae(_0x2617e2);_0x4b1e9c[_0x4880('0x1ac')](_0x224db0);_0x4b1e9c[_0x4880('0x15d')](0x1,_0x4880('0x1a7'))){const _0x57a686=_0xf53cae(_0x4b1e9c);const _0x4f613c=_0xf53cae(_0x4b1e9c)['add'](0x1,_0x4880('0x1a7'));const _0xfc700c={'status_in':[_0x4880('0xf6'),_0x4880('0xf9')],'testSets_some':{'id':_0x52a73f['id']},'createdAt_gte':_0x57a686[_0x4880('0x1ad')](),'createdAt_lte':_0x4f613c[_0x4880('0x1ad')]()};if(testProjectId){_0xfc700c[_0x4880('0x9d')]={'id':testProjectId};}_0x6fc9bd[_0x4880('0x4a')](_0x17ccd4['db'][_0x4880('0x4f')][_0x4880('0x147')]({'where':_0xfc700c},'{\x20id\x20results\x20{\x20success\x20testSet\x20{\x20id\x20}\x20}\x20}')['then'](_0x6c7b70=>{if(!_0x6c7b70)return undefined;return Math[_0x4880('0x1ae')](_0x6c7b70[_0x4880('0x48')]((_0x6da709,_0x43e0b8)=>_0x6da709+_0x43e0b8['results']['filter'](_0x14fd93=>_0x14fd93[_0x4880('0x7f')]&&_0x14fd93['testSet']['id']===_0x52a73f['id']&&!_0x14fd93[_0x4880('0xdf')])[_0x4880('0x56')],0x0)/_0x6c7b70[_0x4880('0x56')]);}));}return Promise[_0x4880('0x155')](_0x6fc9bd)[_0x4880('0x64')](_0x20ee40=>{return{'id':_0x52a73f['id'],'name':_0x52a73f[_0x4880('0x52')],'data':_0x20ee40};});}));})[_0x4880('0x64')](_0x45fba4=>{if(testProjectId){return _0x45fba4[_0x4880('0x82')](_0x370475=>_0x370475[_0x4880('0x67')]&&_0x370475[_0x4880('0x67')][_0x4880('0x82')](_0x5eec03=>!isNaN(_0x5eec03))[_0x4880('0x56')]>0x0);}else{return _0x45fba4[_0x4880('0x82')](_0x30f535=>_0x30f535[_0x4880('0x67')]&&_0x30f535['data'][_0x4880('0x82')](_0x160b93=>!isNaN(_0x160b93)&&_0x160b93>0x0)['length']>0x0);}});});},'chartFailedCountByChatbotByDay'(_0x3c2fd1,{timeFrame},_0x4f9d75,_0x5148c8){const _0x5710c1=_0x216339(timeFrame||'LAST2WEEKS');const _0x4bd062=_0xf53cae();const _0x4bcf0f=_0x4880('0x1af')+JSON['stringify']({'fromDate':_0x5710c1});return _0x4f3ada[_0x4880('0x187')](_0x4bcf0f,()=>{return _0x4f9d75['db'][_0x4880('0x4f')][_0x4880('0x124')]({'orderBy':'name_ASC'},'{\x20id\x20name\x20}')[_0x4880('0x64')](_0x3bf2af=>{return Promise[_0x4880('0x155')](_0x3bf2af[_0x4880('0x85')](_0x10e884=>{const _0x294d3c=[];for(const _0x9c8683=_0xf53cae(_0x5710c1);_0x9c8683['isBefore'](_0x4bd062);_0x9c8683['add'](0x1,_0x4880('0x1a7'))){const _0x4af1e9=_0xf53cae(_0x9c8683);const _0x7aad5b=_0xf53cae(_0x9c8683)[_0x4880('0x15d')](0x1,_0x4880('0x1a7'));_0x294d3c['push'](_0x4f9d75['db'][_0x4880('0x4f')][_0x4880('0x147')]({'where':{'status_in':[_0x4880('0xf6'),_0x4880('0xf9')],'chatbot':{'id':_0x10e884['id']},'createdAt_gte':_0x4af1e9[_0x4880('0x1ad')](),'createdAt_lte':_0x7aad5b[_0x4880('0x1ad')]()}},_0x4880('0x1b0'))[_0x4880('0x64')](_0x529054=>{if(!_0x529054)return undefined;return Math[_0x4880('0x1ae')](_0x529054[_0x4880('0x48')]((_0x58e9f7,_0x319dc8)=>_0x58e9f7+_0x319dc8[_0x4880('0x1b1')]['filter'](_0x434839=>!_0x434839[_0x4880('0xdf')])[_0x4880('0x56')],0x0)/_0x529054['length']);}));}return Promise['all'](_0x294d3c)[_0x4880('0x64')](_0x4254ce=>{return{'id':_0x10e884['id'],'name':_0x10e884[_0x4880('0x52')],'data':_0x4254ce};});}));})[_0x4880('0x64')](_0x2289e5=>{return _0x2289e5[_0x4880('0x82')](_0x59ff6f=>_0x59ff6f[_0x4880('0x67')]&&_0x59ff6f[_0x4880('0x67')]['filter'](_0xd83f0=>!isNaN(_0xd83f0))[_0x4880('0x56')]>0x0);});});},'chartTestSetResultCount'(_0x4244ea,{testProjectId},_0x4cbb3f,_0x2bd26a){const _0x3df43c='chartTestSetResultCount_'+JSON[_0x4880('0xa1')]({'testProjectId':testProjectId});return _0x4f3ada['get'](_0x3df43c,()=>{return _0x4cbb3f['db'][_0x4880('0x4f')][_0x4880('0xa4')]({'orderBy':_0x4880('0x122')},_0x4880('0x139'))[_0x4880('0x64')](_0x4e4795=>{return Promise[_0x4880('0x155')](_0x4e4795['map'](_0x2ecf28=>{const _0x1c7859={'status_in':[_0x4880('0xf6'),_0x4880('0xf9')],'testSets_some':{'id':_0x2ecf28['id']}};if(testProjectId){_0x1c7859['testProject']={'id':testProjectId};}return _0x4cbb3f['db'][_0x4880('0x4f')][_0x4880('0x147')]({'where':_0x1c7859,'orderBy':_0x4880('0x146'),'skip':0x0,'first':0x2},_0x4880('0x1b2'))[_0x4880('0x64')](_0x4b006a=>{const _0x1f37b7={'id':_0x2ecf28['id'],'name':_0x2ecf28['name'],'testCaseLastTotalCount':0x0,'testCaseLastSuccessCount':0x0,'testCaseLastSuccessRate':0x0,'testCasePreviousTotalCount':0x0,'testCasePreviousSuccessCount':0x0,'testCasePreviousSuccessRate':0x0,'testCaseTrend':_0x4880('0x1b3')};if(_0x4b006a&&_0x4b006a[_0x4880('0x56')]>0x0){const _0x2cbe3c=_0x4b006a[0x0][_0x4880('0x1b1')]['filter'](_0x1bce08=>_0x1bce08[_0x4880('0x7f')]&&_0x1bce08[_0x4880('0x7f')]['id']===_0x2ecf28['id']);_0x1f37b7[_0x4880('0x1b4')]=_0x4b006a[0x0][_0x4880('0x1b5')];_0x1f37b7[_0x4880('0x1b6')]=_0x4b006a[0x0]['id'];_0x1f37b7[_0x4880('0x1b7')]=_0x2cbe3c[_0x4880('0x56')];_0x1f37b7[_0x4880('0x1b8')]=_0x2cbe3c[_0x4880('0x82')](_0x3d3406=>_0x3d3406[_0x4880('0xdf')])[_0x4880('0x56')];_0x1f37b7[_0x4880('0x1b9')]=_0x1f37b7[_0x4880('0x1b7')]===_0x1f37b7['testCaseLastSuccessCount']?0x64:_0x1f37b7[_0x4880('0x1b8')]/_0x1f37b7['testCaseLastTotalCount']*0x64;}if(_0x4b006a&&_0x4b006a[_0x4880('0x56')]>0x1){const _0x4d33a9=_0x4b006a[0x1][_0x4880('0x1b1')][_0x4880('0x82')](_0x55b9c4=>_0x55b9c4[_0x4880('0x7f')]&&_0x55b9c4['testSet']['id']===_0x2ecf28['id']);_0x1f37b7['previousRun']=_0x4b006a[0x1][_0x4880('0x1b5')];_0x1f37b7['previousTestSessionId']=_0x4b006a[0x1]['id'];_0x1f37b7[_0x4880('0x1ba')]=_0x4d33a9['length'];_0x1f37b7['testCasePreviousSuccessCount']=_0x4d33a9['filter'](_0x239d06=>_0x239d06[_0x4880('0xdf')])[_0x4880('0x56')];_0x1f37b7['testCasePreviousSuccessRate']=_0x1f37b7['testCasePreviousTotalCount']===_0x1f37b7['testCasePreviousSuccessCount']?0x64:_0x1f37b7['testCasePreviousSuccessCount']/_0x1f37b7[_0x4880('0x1ba')]*0x64;if(_0x1f37b7[_0x4880('0x1b9')]>_0x1f37b7['testCasePreviousSuccessRate'])_0x1f37b7[_0x4880('0x1bb')]=_0x4880('0x1bc');else if(_0x1f37b7[_0x4880('0x1b9')]<_0x1f37b7[_0x4880('0x1bd')])_0x1f37b7['testCaseTrend']=_0x4880('0x1be');else _0x1f37b7[_0x4880('0x1bb')]=_0x4880('0x1bf');}return _0x1f37b7;});}));})[_0x4880('0x64')](_0x4ca3d3=>{const _0x26c4a2=_0x4ca3d3[_0x4880('0x82')](_0x3eedb3=>_0x3eedb3[_0x4880('0x1b7')]>0x0);return _0x191809[_0x4880('0x198')](_0x26c4a2,_0x4880('0x1b4'),'desc');});});},'chartTestProjectTrainingStatusByTestSet'(_0x25d149,{testProjectId},_0x3e9dab,_0x56cae0){const _0x45f91c=_0x4880('0x1c0')+JSON[_0x4880('0xa1')]({'testProjectId':testProjectId});return _0x4f3ada[_0x4880('0x187')](_0x45f91c,async()=>{const _0x386c9d={'status_in':[_0x4880('0xf6'),'FAILED'],'testProject':{'id':testProjectId}};const _0x4ee73b=await _0x3e9dab['db'][_0x4880('0x4f')]['testSessions']({'where':_0x386c9d,'orderBy':'createdAt_DESC','skip':0x0,'first':0x1},_0x4880('0x1c1'));if(!_0x4ee73b||_0x4ee73b['length']===0x0)return null;const _0x51de5f=_0x4ee73b[0x0];const _0x3d03f2=_0x191809[_0x4880('0x1c2')](_0x51de5f[_0x4880('0x1b1')][_0x4880('0x85')](_0xf08dae=>_0xf08dae[_0x4880('0x7f')]),'id');_0x3d03f2[_0x4880('0x57')](_0x35e18d=>{_0x35e18d[_0x4880('0x1c3')]=_0x51de5f[_0x4880('0x1b1')]['filter'](_0x8d85ae=>_0x8d85ae['testSet']['id']===_0x35e18d['id'])[_0x4880('0x56')];_0x35e18d[_0x4880('0x1c4')]=_0x51de5f[_0x4880('0x1b1')]['filter'](_0x24bc78=>_0x24bc78[_0x4880('0x7f')]['id']===_0x35e18d['id']&&_0x24bc78[_0x4880('0xdf')])[_0x4880('0x56')];_0x35e18d[_0x4880('0x1c5')]=_0x51de5f[_0x4880('0x1b1')]['filter'](_0x438fa9=>_0x438fa9[_0x4880('0x7f')]['id']===_0x35e18d['id']&&!_0x438fa9[_0x4880('0xdf')])[_0x4880('0x56')];});return _0x191809[_0x4880('0x1c6')](_0x3d03f2,_0x4880('0x52'));});},'chartTestProjectTrainingStatusByDeviceSet'(_0x549c87,{testProjectId},_0x146316,_0x99eb6d){const _0x144722=_0x4880('0x1c7')+JSON[_0x4880('0xa1')]({'testProjectId':testProjectId});return _0x4f3ada[_0x4880('0x187')](_0x144722,async()=>{const _0x3ed31a={'status_in':[_0x4880('0xf6'),_0x4880('0xf9')],'testProject':{'id':testProjectId}};const _0x21786c=await _0x146316['db'][_0x4880('0x4f')][_0x4880('0x147')]({'where':_0x3ed31a,'orderBy':_0x4880('0x146'),'skip':0x0,'first':0x1},_0x4880('0x1c8'));if(!_0x21786c||_0x21786c[_0x4880('0x56')]===0x0)return null;const _0x258ec5=_0x21786c[0x0];const _0x3fd7c6=_0x191809[_0x4880('0x1c2')](_0x258ec5[_0x4880('0x1b1')][_0x4880('0x82')](_0x313f8f=>_0x313f8f['deviceSet'])[_0x4880('0x85')](_0x567956=>_0x567956['deviceSet']),'id');_0x3fd7c6[_0x4880('0x57')](_0x47f9ce=>{_0x47f9ce['totalCount']=_0x258ec5[_0x4880('0x1b1')][_0x4880('0x82')](_0x2f7b24=>_0x2f7b24[_0x4880('0xeb')]&&_0x2f7b24[_0x4880('0xeb')]['id']===_0x47f9ce['id'])[_0x4880('0x56')];_0x47f9ce['successCount']=_0x258ec5['results']['filter'](_0x49f326=>_0x49f326[_0x4880('0xeb')]&&_0x49f326[_0x4880('0xeb')]['id']===_0x47f9ce['id']&&_0x49f326[_0x4880('0xdf')])[_0x4880('0x56')];_0x47f9ce['failedCount']=_0x258ec5['results'][_0x4880('0x82')](_0x337477=>_0x337477['deviceSet']&&_0x337477[_0x4880('0xeb')]['id']===_0x47f9ce['id']&&!_0x337477['success'])[_0x4880('0x56')];});if(_0x258ec5['results'][_0x4880('0x82')](_0x8e9785=>!_0x8e9785[_0x4880('0xeb')])[_0x4880('0x56')]>0x0){_0x3fd7c6['push']({'id':'','name':_0x4880('0x1c9'),'totalCount':_0x258ec5[_0x4880('0x1b1')][_0x4880('0x82')](_0x14f72d=>!_0x14f72d['deviceSet'])[_0x4880('0x56')],'successCount':_0x258ec5[_0x4880('0x1b1')]['filter'](_0x2324f1=>!_0x2324f1['deviceSet']&&_0x2324f1[_0x4880('0xdf')])[_0x4880('0x56')],'failedCount':_0x258ec5[_0x4880('0x1b1')][_0x4880('0x82')](_0x5bded1=>!_0x5bded1[_0x4880('0xeb')]&&!_0x5bded1['success'])[_0x4880('0x56')]});}return _0x191809[_0x4880('0x1c6')](_0x3fd7c6,'name');});}};const {generateToken:generateToken$2}=_0x5eeec3;var _0x37edce={async 'login'(_0x12f173,{name,email,password},_0x2b2966,_0x489a47){const _0x1e0a10=name?{'name':name}:email?{'email':email}:null;if(!_0x1e0a10){throw new Error('Invalid\x20request');}const _0x5869f5=await _0x2b2966['db'][_0x4880('0x4f')][_0x4880('0x11f')]({'where':_0x1e0a10});if(!_0x5869f5){throw new Error(_0x4880('0x1ca')+(name?name:email));}const _0x56fd94=await _0x5ee493['compare'](password,_0x5869f5[_0x4880('0xbb')]);if(!_0x56fd94){throw new Error(_0x4880('0x1cb'));}return{'token':generateToken$2(_0x5869f5),'user':_0x5869f5};}};var _0x10b1aa={async 'createAgent'(_0x132c90,{agent},_0x2e199f,_0x358222){},async 'updateAgent'(_0x415d06,{id,agent},_0x1cc1b6,_0x428117){const _0x2adb5d=await _0x1cc1b6['db'][_0x4880('0x1cc')][_0x4880('0x1cd')]({'id':id});if(!_0x2adb5d){throw new Error('Agent\x20not\x20found\x20'+id);}return _0x1cc1b6['db'][_0x4880('0x5c')]['updateAgent']({'where':{'id':id},'data':agent},_0x428117);},async 'deleteAgent'(_0x51b56c,{id},_0x3337ca){}};var _0x5da7e0={async 'createChatbot'(_0x32284b,{chatbot},_0x25bc7e,_0x501de5){return _0x25bc7e['db'][_0x4880('0x5c')][_0x4880('0x1ce')]({'data':chatbot},_0x501de5);},async 'updateChatbot'(_0x35ca20,{id,chatbot},_0x4c1537,_0x53389d){const _0x5e6ded=await _0x4c1537['db'][_0x4880('0x1cc')][_0x4880('0x1cf')]({'id':id});if(!_0x5e6ded){throw new Error(_0x4880('0x1d0')+id);}return _0x4c1537['db'][_0x4880('0x5c')][_0x4880('0x1d1')]({'where':{'id':id},'data':chatbot},_0x53389d);},async 'deleteChatbot'(_0x145ce1,{id},_0x581b92){return new Promise((_0x323de5,_0x48c2b9)=>{_0x581b92['db']['mutation'][_0x4880('0x1d2')]({'where':{'id':id}},'{id}')[_0x4880('0x64')](()=>_0x323de5(!![]))[_0x4880('0x7a')](_0x40188e=>_0x48c2b9(_0x40188e));});}};const _0x3465ba=_0x4f1188('botium-box-server-mutation-testsession');var _0x31b6f9={async 'createTestSession'(_0x2608e9,{testSession},_0x1bbb49,_0x176da1){return _0x1bbb49['db'][_0x4880('0x5c')][_0x4880('0x1d3')]({'data':testSession},_0x176da1)[_0x4880('0x64')](_0x40241e=>{return new Promise((_0x4287c2,_0x48c04d)=>{_0x1bbb49['queueConnector'][_0x4880('0xa8')](_0x4880('0x10b'),{'title':_0x4880('0x1d4')+testSession[_0x4880('0x52')],'testSessionId':_0x40241e['id']})[_0x4880('0xab')](!![])['save'](_0x4eded6=>{if(_0x4eded6){return _0x48c04d(_0x4eded6);}_0x4287c2(_0x40241e);});});});},async 'deleteTestSession'(_0x519599,{id},_0x270a8e){return new Promise((_0x3342bf,_0x939c1d)=>{_0x270a8e['db']['mutation'][_0x4880('0x1d5')]({'where':{'testSessionJob':{'testSession':{'id':id}}}})['then'](()=>_0x270a8e['db'][_0x4880('0x5c')][_0x4880('0x1d6')]({'where':{'testSession':{'id':id}}}))[_0x4880('0x64')](()=>_0x270a8e['db'][_0x4880('0x5c')][_0x4880('0x1d7')]({'where':{'testSession':{'id':id}}}))['then'](()=>_0x270a8e['db'][_0x4880('0x5c')][_0x4880('0x1d8')]({'where':{'id':id}},_0x4880('0x1d9')))[_0x4880('0x64')](()=>_0x3342bf(!![]))[_0x4880('0x7a')](_0x52bdf2=>{_0x3465ba('Error\x20deleting\x20test\x20session\x20'+id+':\x20'+_0x52bdf2);return _0x939c1d(_0x52bdf2);});});}};var _0x3a3adf={async 'createTestSet'(_0x27e7cb,{testSet},_0x3a7188,_0x37f3ce){return _0x3a7188['db'][_0x4880('0x5c')]['createTestSet']({'data':testSet},_0x37f3ce);},async 'updateTestSet'(_0x1e7018,{id,testSet},_0x11eaa8,_0x49180d){const _0x1fdea7=await _0x11eaa8['db'][_0x4880('0x1cc')][_0x4880('0x1da')]({'id':id});if(!_0x1fdea7){throw new Error(_0x4880('0x1db')+id);}return _0x11eaa8['db']['mutation'][_0x4880('0x1dc')]({'where':{'id':id},'data':testSet},_0x49180d);},async 'deleteTestSet'(_0x11226e,{id},_0x34ec7d){return new Promise((_0x49441a,_0x516f20)=>{_0x34ec7d['db'][_0x4880('0x5c')][_0x4880('0x1dd')]({'where':{'id':id}},_0x4880('0x1d9'))[_0x4880('0x64')](()=>_0x49441a(!![]))['catch'](_0x5beea1=>_0x516f20(_0x5beea1));});},async 'createTestSetScript'(_0x9e83fc,{testSetScript},_0xf3d209,_0x1dc021){return _0xf3d209['db']['mutation'][_0x4880('0x144')]({'data':testSetScript},_0x1dc021);},async 'updateTestSetScript'(_0x1fbccd,{id,testSetScript},_0x3b370b,_0x2e378a){const _0x3f9e33=await _0x3b370b['db']['exists'][_0x4880('0x1de')]({'id':id});if(!_0x3f9e33){throw new Error('TestSetScript\x20not\x20found\x20'+id);}return _0x3b370b['db'][_0x4880('0x5c')][_0x4880('0x1df')]({'where':{'id':id},'data':testSetScript},_0x2e378a);},async 'deleteTestSetScript'(_0x5bdf71,{id},_0x4b0342){return new Promise((_0x243fe1,_0x1c2a70)=>{_0x4b0342['db']['mutation'][_0x4880('0x1e0')]({'where':{'id':id}},_0x4880('0x1d9'))[_0x4880('0x64')](()=>_0x243fe1(!![]))[_0x4880('0x7a')](_0x1a16e3=>_0x1c2a70(_0x1a16e3));});},async 'createTestSetRepository'(_0x1bf1d6,{testSetRepository},_0x1dc296,_0x389be1){},async 'updateTestSetRepository'(_0x4b0501,{id,testSetRepository},_0x32322e,_0x2f63bd){},async 'deleteTestSetRepository'(_0x541a5f,{id},_0x1a7fdf){},async 'createTestSetFolder'(_0x10da61,{testSetFolder},_0x3f3887,_0x45aa6d){return _0x3f3887['db'][_0x4880('0x5c')][_0x4880('0x1e1')]({'data':testSetFolder},_0x45aa6d);},async 'updateTestSetFolder'(_0x2f49d4,{id,testSetFolder},_0x4ac164,_0x1682a5){const _0x5b4889=await _0x4ac164['db'][_0x4880('0x1cc')][_0x4880('0x1e2')]({'id':id});if(!_0x5b4889){throw new Error('TestSetFolder\x20not\x20found\x20'+id);}return _0x4ac164['db'][_0x4880('0x5c')]['updateTestSetFolder']({'where':{'id':id},'data':testSetFolder},_0x1682a5);},async 'deleteTestSetFolder'(_0x7b80c9,{id},_0xed6b3a){return new Promise((_0xa4394,_0x1d2d6b)=>{_0xed6b3a['db'][_0x4880('0x5c')]['deleteTestSetFolder']({'where':{'id':id}},_0x4880('0x1d9'))[_0x4880('0x64')](()=>_0xa4394(!![]))[_0x4880('0x7a')](_0x59cf02=>_0x1d2d6b(_0x59cf02));});},async 'createTestSetExcel'(_0x29f937,{testSetExcel},_0x38b4f2,_0x36e510){return _0x38b4f2['db']['mutation'][_0x4880('0x1e3')]({'data':testSetExcel},_0x36e510);},async 'updateTestSetExcel'(_0x5cb8eb,{id,testSetExcel},_0x171577,_0x52c28d){const _0x41e333=await _0x171577['db'][_0x4880('0x1cc')][_0x4880('0x1e4')]({'id':id});if(!_0x41e333){throw new Error('TestSetExcel\x20not\x20found\x20'+id);}return _0x171577['db'][_0x4880('0x5c')]['updateTestSetExcel']({'where':{'id':id},'data':testSetExcel},_0x52c28d);},async 'deleteTestSetExcel'(_0x5079fb,{id},_0x3eb0f8){return new Promise((_0x5a5486,_0x202915)=>{_0x3eb0f8['db'][_0x4880('0x5c')][_0x4880('0x1e5')]({'where':{'id':id}},_0x4880('0x1d9'))['then'](()=>_0x5a5486(!![]))[_0x4880('0x7a')](_0x44b207=>_0x202915(_0x44b207));});},async 'cloneTestSet'(_0x326c99,{id,options},_0x3cb472,_0x273e27){const _0x2a4523=await _0x3cb472['db'][_0x4880('0x4f')][_0x4880('0x7f')]({'where':{'id':id}},_0x4880('0x1e6'));if(!_0x2a4523){throw new Error(_0x4880('0x1db')+id);}const _0x537c40=await _0x24b754[_0x4880('0x1e7')](_0x2a4523,_0x369ca2);const _0x473a85=_0x2a4523[_0x4880('0x52')]+'/'+_0x5e7844[_0x4880('0x1e8')](_0x537c40);const _0x2fbcc4=_0x2a4523[_0x4880('0x52')]+'\x20cloned\x20to\x20\x22'+_0x5e7844['basename'](_0x537c40)+_0x4880('0x1e9')+(_0x369ca2['humanifiersToExecute']&&_0x369ca2[_0x4880('0x15e')][_0x4880('0x49')](',\x20'))+'\x22,\x20percentage\x20'+_0x369ca2[_0x4880('0x1ea')]+'.';const _0x4c2d13={'data':{..._0x2a4523,'name':_0x473a85,'description':_0x2fbcc4,'tags':{'set':_0x2a4523[_0x4880('0x1eb')]?[..._0x2a4523['tags'],_0x4880('0x1ec')]:[_0x4880('0x1ec')]},'folders':{'create':[{'name':'cloned','path':_0x5e7844['resolve'](_0x537c40)}]},'repositories':{},'scripts':[],'excels':{}}};delete _0x4c2d13[_0x4880('0x67')]['id'];console[_0x4880('0x3f')](_0x4c2d13);return _0x3cb472['db']['mutation'][_0x4880('0x1ed')](_0x4c2d13,_0x273e27);}};const _0x128407=_0x31b6f9[_0x4880('0x1d3')];const _0x13aec2=_0x4f1188('botium-box-server-mutation-testproject');var _0x1fb038={async 'createTestProject'(_0x47daa4,{testProject},_0x25497e,_0x5c0302){return _0x25497e['db']['mutation'][_0x4880('0x1ee')]({'data':{...testProject,'code':_0x34573f(testProject[_0x4880('0x52')])}},_0x5c0302);},async 'startTestProject'(_0x32339d,{id,code},_0x56f87a){return _0x56f87a['db'][_0x4880('0x4f')][_0x4880('0x9d')]({'where':{'id':id,'code':code}},_0x4880('0x1ef'))[_0x4880('0x64')](_0x4ee9d8=>{if(!_0x4ee9d8)throw new Error(_0x4880('0x1f0')+id+'/'+code+_0x4880('0x1f1'));return _0x128407(_0x32339d,{'testSession':{'name':_0x4ee9d8[_0x4880('0x52')]+_0x4880('0x1f2'),'status':'PENDING','tags':{'set':[_0x4880('0x1f3')]},'chatbot':{'connect':{'id':_0x4ee9d8['chatbot']['id']}},'testSets':{'connect':_0x4ee9d8['testSets']&&_0x4ee9d8[_0x4880('0xa4')]['map'](_0xb52c70=>{return{'id':_0xb52c70['id']};})},'deviceSets':{'connect':_0x4ee9d8[_0x4880('0xb4')]&&_0x4ee9d8['deviceSets']['map'](_0x33341c=>{return{'id':_0x33341c['id']};})},'testProject':{'connect':{'id':_0x4ee9d8['id']}},'batchCount':_0x4ee9d8['batchCount']}},_0x56f87a,_0x4880('0x5d'));})['then'](_0x259631=>_0x259631['id']);},async 'quickstartTestProject'(_0x12e617,{testProject},_0x13f84a){return _0x13f84a['db'][_0x4880('0x5c')][_0x4880('0x1ee')]({'data':{...testProject,'code':_0x34573f(testProject['name'])}},_0x4880('0x1f4'))[_0x4880('0x64')](_0x1abd61=>{return _0x128407(_0x12e617,{'testSession':{'name':_0x1abd61[_0x4880('0x52')]+_0x4880('0x1f5'),'status':_0x4880('0xaf'),'tags':{'set':[_0x4880('0x1f6')]},'chatbot':{'connect':{'id':_0x1abd61[_0x4880('0x9c')]['id']}},'testSets':{'connect':_0x1abd61[_0x4880('0xa4')]&&_0x1abd61[_0x4880('0xa4')][_0x4880('0x85')](_0x5c5d7b=>{return{'id':_0x5c5d7b['id']};})},'deviceSets':{'connect':_0x1abd61['deviceSets']&&_0x1abd61['deviceSets'][_0x4880('0x85')](_0x46f81d=>{return{'id':_0x46f81d['id']};})},'testProject':{'connect':{'id':_0x1abd61['id']}}}},_0x13f84a,_0x4880('0x5d'));})[_0x4880('0x64')](_0x321e12=>_0x321e12['id']);},async 'updateTestProject'(_0x9fbb20,{id,testProject},_0x41cf70,_0xf24af0){const _0x254338=await _0x41cf70['db']['exists'][_0x4880('0x1f7')]({'id':id});if(!_0x254338){throw new Error(_0x4880('0x1f8')+id);}return _0x41cf70['db'][_0x4880('0x5c')]['updateTestProject']({'where':{'id':id},'data':{...testProject,'code':_0x34573f(testProject[_0x4880('0x52')])}},_0xf24af0);},async 'deleteTestProject'(_0x311832,{id},_0x1e5e56){return new Promise((_0x36cfe4,_0x8750cf)=>{_0x1e5e56['db'][_0x4880('0x5c')][_0x4880('0xfd')]({'data':{'testProject':{'disconnect':!![]}},'where':{'testProject':{'id':id}}})[_0x4880('0x64')](()=>_0x1e5e56['db'][_0x4880('0x5c')]['deleteTestProject']({'where':{'id':id}},'{id}'))['then'](()=>_0x36cfe4(!![]))[_0x4880('0x7a')](_0x12a0c0=>{_0x13aec2(_0x4880('0x1f9')+id+':\x20'+_0x12a0c0);return _0x8750cf(_0x12a0c0);});});}};const _0x43a87a=_0x4f1188(_0x4880('0x1fa'));let _0x3a31e6=[_0x4880('0xc0')];var _0x1e0b39={async 'createUser'(_0x36a884,{user},_0xdaf5f4,_0x39a60d){if(user[_0x4880('0xbb')]){user[_0x4880('0xbb')]=await _0x5ee493['hash'](user[_0x4880('0xbb')],0xa);}if(!user['roles']){user[_0x4880('0x1fb')]={'set':['USER']};}return _0xdaf5f4['db'][_0x4880('0x5c')][_0x4880('0x1fc')]({'data':user},_0x39a60d);},async 'updateUser'(_0x311b01,{id,user},_0x4ab1ed,_0x58d5ea){const _0xde174a=await _0x4ab1ed['db'][_0x4880('0x4f')]['user']({'where':{'id':id}});if(!_0xde174a){throw new Error('User\x20not\x20found\x20'+id);}if(_0x4ab1ed['request']['user']['id']!==id&&_0x4ab1ed[_0x4880('0x121')]['user']['roles'][_0x4880('0x1fd')](_0x11b090=>_0x11b090===_0x4880('0x1fe'))<0x0){throw new Error(_0x4880('0x1ff'));}if(user[_0x4880('0xbb')]){user[_0x4880('0xbb')]=await _0x5ee493[_0x4880('0x200')](user['password'],0xa);}if(_0xde174a[_0x4880('0x52')]==='admin'){user[_0x4880('0x52')]=_0x4880('0x201');user['roles']={'set':[_0x4880('0x1fe')]};}if(!user[_0x4880('0x1fb')]){user['roles']={'set':[_0x4880('0x202')]};}return _0x4ab1ed['db'][_0x4880('0x5c')][_0x4880('0x203')]({'where':{'id':id},'data':user},_0x58d5ea);},async 'deleteUser'(_0x5993da,{id},_0x4cd820){const _0x5920ea=await _0x4cd820['db'][_0x4880('0x4f')][_0x4880('0x11f')]({'where':{'id':id}});if(!_0x5920ea)return!![];if(_0x5920ea[_0x4880('0x52')]===_0x4880('0x201')){throw new Error(_0x4880('0x204'));}return _0x4cd820['db'][_0x4880('0x5c')][_0x4880('0x205')]({'where':{'id':id}},_0x4880('0x1d9'))[_0x4880('0x64')](()=>!![])[_0x4880('0x7a')](_0x11c70e=>{_0x43a87a(_0x4880('0x206')+id+':\x20'+_0x11c70e);throw _0x11c70e;});},async 'createApiKey'(_0x4b024b,{apiKey},_0x495af7,_0x4eec96){apiKey[_0x4880('0x207')]=_0x4abe9b(_0x4880('0x160'),0x14);return _0x495af7['db'][_0x4880('0x5c')][_0x4880('0x208')]({'data':apiKey},_0x4eec96);},async 'updateApiKey'(_0x2e15da,{id,apiKey},_0x3a7dda,_0x125588){const _0x1eed36=await _0x3a7dda['db'][_0x4880('0x1cc')]['ApiKey']({'id':id});if(!_0x1eed36){throw new Error(_0x4880('0x209')+id);}delete apiKey[_0x4880('0x207')];return _0x3a7dda['db']['mutation'][_0x4880('0x20a')]({'where':{'id':id},'data':apiKey},_0x125588);},async 'deleteApiKey'(_0x3605e5,{id},_0x2e0585){return _0x2e0585['db'][_0x4880('0x5c')]['deleteApiKey']({'where':{'id':id}},_0x4880('0x1d9'))[_0x4880('0x64')](()=>!![])[_0x4880('0x7a')](_0x2a6cae=>{_0x43a87a(_0x4880('0x20b')+id+':\x20'+_0x2a6cae);throw _0x2a6cae;});},async 'createDeviceProvider'(_0x1d5dd7,{deviceProvider},_0x59d712,_0x384efe){if(deviceProvider[_0x4880('0x6b')]===_0x4880('0xc1')){throw new Error('DeviceProvider\x20type\x20INTEGRATED\x20not\x20allowed\x20to\x20create');}if(_0x3a31e6['indexOf'](deviceProvider[_0x4880('0x6b')])<0x0){throw new Error(_0x4880('0x20c')+deviceProvider[_0x4880('0x6b')]+_0x4880('0x20d'));}return _0x59d712['db'][_0x4880('0x5c')]['createDeviceProvider']({'data':deviceProvider},_0x384efe);},async 'updateDeviceProvider'(_0xa2686e,{id,deviceProvider},_0x73beb,_0x126f57){const _0x33c2b8=await _0x73beb['db'][_0x4880('0x1cc')][_0x4880('0x20e')]({'id':id});if(!_0x33c2b8){throw new Error('DeviceProvider\x20not\x20found\x20'+id);}if(_0x3a31e6['indexOf'](deviceProvider[_0x4880('0x6b')])<0x0){throw new Error(_0x4880('0x20c')+deviceProvider[_0x4880('0x6b')]+'\x20not\x20supported\x20in\x20this\x20version');}return _0x73beb['db'][_0x4880('0x5c')]['updateDeviceProvider']({'where':{'id':id},'data':deviceProvider},_0x126f57);},async 'deleteDeviceProvider'(_0x3832fa,{id},_0x555773){const _0x24b948=await _0x555773['db']['query'][_0x4880('0x18c')]({'where':{'id':id}});if(!_0x24b948)return!![];if(_0x24b948[_0x4880('0x6b')]==='INTEGRATED'){throw new Error(_0x4880('0x20f'));}try{await _0x555773['db'][_0x4880('0x5c')][_0x4880('0x210')]({'where':{'id':id}},'{id}');return!![];}catch(_0x179575){_0x43a87a(_0x4880('0x211')+id+':\x20'+_0x179575);throw _0x179575;}}};const _0x6fd83a=_0x4f1188(_0x4880('0x212'));var _0x2d42be={async 'createDeviceSet'(_0x5bedf6,{deviceSet},_0x1cc6c5,_0x36c3b6){return _0x1cc6c5['db'][_0x4880('0x5c')][_0x4880('0x213')]({'data':deviceSet},_0x36c3b6);},async 'updateDeviceSet'(_0x54f96d,{id,deviceSet},_0x30b99c,_0x219611){const _0x42ff6d=await _0x30b99c['db']['exists'][_0x4880('0x214')]({'id':id});if(!_0x42ff6d){throw new Error(_0x4880('0x215')+id);}return _0x30b99c['db'][_0x4880('0x5c')][_0x4880('0x216')]({'where':{'id':id},'data':deviceSet},_0x219611);},async 'deleteDeviceSet'(_0x34ec87,{id},_0x1c51ab){return new Promise((_0x683a3,_0x596385)=>{_0x1c51ab['db'][_0x4880('0x4f')][_0x4880('0xeb')]({'where':{'id':id}},_0x4880('0x217'))[_0x4880('0x64')](_0x2b692e=>{if(!_0x2b692e)throw new Error(_0x4880('0x215')+id);return _0x1c51ab['db'][_0x4880('0x5c')][_0x4880('0x218')]({'where':{'id_in':_0x2b692e[_0x4880('0xb5')][_0x4880('0x85')](_0x4598d2=>_0x4598d2['id'])}});})[_0x4880('0x64')](()=>_0x1c51ab['db'][_0x4880('0x5c')]['deleteDeviceSet']({'where':{'id':id}},'{id}'))[_0x4880('0x64')](()=>_0x683a3(!![]))[_0x4880('0x7a')](_0x990910=>{_0x6fd83a(_0x4880('0x219')+id+':\x20'+_0x990910);return _0x596385(_0x990910);});});}};const _0x521f46={};var _0x4c8b48=_0x521f46;const {withFilter}=_0x436c57;var _0x4c85b9={'testSessionProgress':{'subscribe':withFilter((_0x50fbd5,{testSessionId},{pubsub})=>_0x155d72[_0x4880('0x21a')](_0x4880('0x103')),(_0x3a3968,{testSessionId})=>{return _0x3a3968[_0x4880('0x117')]['id']===testSessionId;})},'newTestSession':{'subscribe':(_0x135459,_0x11430f,_0x38d3e1,_0x56931d)=>{return _0x38d3e1['db'][_0x4880('0x21b')][_0x4880('0x65')]({'where':{'mutation_in':[_0x4880('0x21c')]}},_0x56931d);}},'changeTestSession':{'subscribe':(_0x5db71f,{ids},_0x3c4292,_0x15b9ed)=>{return _0x3c4292['db'][_0x4880('0x21b')]['testSession']({'where':{'mutation_in':[_0x4880('0x21d')],'node':{'id_in':ids}}},_0x15b9ed);}},'changeTestSessionJobs':{'subscribe':(_0x14e07b,{testSessionIds},_0x26b196,_0x1cd022)=>{return _0x26b196['db'][_0x4880('0x21b')][_0x4880('0x21e')]({'where':{'mutation_in':['UPDATED'],'node':{'testSession':{'id_in':testSessionIds}}}},_0x1cd022);}},'newTestSessionJobLogs':{'subscribe':(_0x20aa12,{testSessionJobId},_0x23600b,_0x4bd0cf)=>{return _0x23600b['db'][_0x4880('0x21b')][_0x4880('0x21f')]({'where':{'mutation_in':[_0x4880('0x21c')],'node':{'testSessionJob':{'id':testSessionJobId}}}},_0x4bd0cf);}},'newTestSessionTestCaseResults':{'subscribe':(_0x135b32,{testSessionIds},_0x1ad4b1,_0x24440b)=>{return _0x1ad4b1['db']['subscription'][_0x4880('0x148')]({'where':{'mutation_in':[_0x4880('0x21c')],'node':{'testSession':{'id_in':testSessionIds}}}},_0x24440b);}}};var _0x1caf5c={'Query':{..._0x3f02d8,..._0x6aec67,..._0x5d36e1,..._0x4d7d2c[_0x4880('0x220')],..._0x465a46,..._0x349c93,..._0x14f804,..._0xde821f,..._0x4a0e30,..._0x59ccaf},'Mutation':{..._0x37edce,..._0x10b1aa,..._0x5da7e0,..._0x4d7d2c['Mutation'],..._0x31b6f9,..._0x3a3adf,..._0x1fb038,..._0x1e0b39,..._0x2d42be},'Subscription':{..._0x4c8b48,..._0x4d7d2c[_0x4880('0x221')],..._0x4c85b9}};const _0x542602='request.user';const _0x2b3f7d=_0x4880('0x222');const _0x39666d=_0x3347a9=>_0x6c3f1e(_0x3347a9,_0x542602);const _0x396c07=_0x49a4db=>_0x6c3f1e(_0x49a4db,_0x2b3f7d);const _0x3c01ec=_0x38adca=>{const _0x4845d2=_0x39666d(_0x38adca);const _0x33dacf=_0x396c07(_0x38adca);if(!_0x4845d2&&!_0x33dacf)throw new Error(_0x4880('0x223'));return _0x4845d2||_0x33dacf;};var _0x13e648={'isAuthenticated':(_0x47a040,_0x910727,_0x2e08f5,_0x5a2eda)=>{_0x3c01ec(_0x5a2eda);return _0x47a040();},'hasRole':(_0x3dab20,_0x504d24,{roles},_0x206bdb)=>{const _0x307af0=_0x3c01ec(_0x206bdb);for(const _0xb0ccc9 in _0x307af0['roles']||[]){const _0x17fa65=_0x307af0[_0x4880('0x1fb')][_0xb0ccc9];if(roles[_0x4880('0x224')](_0x17fa65)){return _0x3dab20();}}throw new Error(_0x4880('0x225'));}};const {jwtSettings:jwtSettings$1,tokenToUserId:tokenToUserId$1}=_0x5eeec3;const _0x31ec9b=_0x4f1188(_0x4880('0x226'));let _0x394633=null;const _0x115403=async(_0x4fae3d,_0x5a09f5,_0x5dab9e,_0xb3689e)=>{const _0x373d30=_0x4fae3d[_0x4880('0x4f')]['APIKEY']||_0x4fae3d[_0x4880('0x227')]&&_0x4fae3d[_0x4880('0x227')][_0x4880('0x228')]||_0x4fae3d['headers'][_0x4880('0x228')];const _0x1c6194=_0xb3689e(_0x4fae3d);if(_0x373d30){_0x52a1dd[_0x4880('0x229')](_0x1c6194['db'],_0x373d30)[_0x4880('0x64')](_0x16fc36=>{if(_0x16fc36){_0x31ec9b('Api\x20Key\x20found\x20-\x20'+_0x253a4b[_0x4880('0x22a')](_0x16fc36));_0x4fae3d['apiKey']=_0x16fc36;return _0x5dab9e();}else{_0x31ec9b('Api\x20Key\x20not\x20found\x20-\x20'+_0x373d30);return _0x5dab9e();}})['catch'](_0x42dbc1=>{_0x31ec9b(_0x4880('0x22b')+_0x373d30+_0x4880('0x22c')+_0x42dbc1);return _0x5dab9e();});}else{return _0x5dab9e();}};const _0x114c0a=async(_0x16e5f5,_0x33f224,_0x3c5fe8,_0x218771)=>{if(_0x16e5f5[_0x4880('0x11f')]){const _0x4a635c=_0x218771(_0x16e5f5)['db'];const _0x52d56e=_0x16e5f5[_0x4880('0x11f')];const _0xe5d9d0=await _0x4a635c[_0x4880('0x4f')][_0x4880('0x11f')]({'where':{'id':tokenToUserId$1(_0x52d56e)}},_0x4880('0x120'));_0x16e5f5['user']={..._0xe5d9d0,'token':_0x52d56e};return _0x3c5fe8();}if(process[_0x4880('0x46')]['JWT_AUTOLOGIN_USERNAME']){if(!_0x394633){const _0x3f85ff=_0x218771(_0x16e5f5)['db'];_0x394633=await _0x3f85ff['query']['user']({'where':{'name':process[_0x4880('0x46')][_0x4880('0x22d')]}},_0x4880('0x120'));_0x31ec9b(_0x4880('0x22e')+process[_0x4880('0x46')][_0x4880('0x22d')]+'.');}_0x16e5f5[_0x4880('0x11f')]={..._0x394633,'token':null};return _0x3c5fe8();}return _0x3c5fe8();};const _0x49cb4c=()=>_0x812771(Object[_0x4880('0xb8')]({},jwtSettings$1(),{'credentialsRequired':![],'getToken':_0x1ca271=>{if(_0x1ca271[_0x4880('0x22f')][_0x4880('0x230')]&&_0x1ca271[_0x4880('0x22f')][_0x4880('0x230')][_0x4880('0x231')]('\x20')[0x0]===_0x4880('0x232')){return _0x1ca271['headers'][_0x4880('0x230')][_0x4880('0x231')]('\x20')[0x1];}else if(_0x1ca271[_0x4880('0x4f')]&&_0x1ca271['query']['token']){return _0x1ca271['query'][_0x4880('0x233')];}else if(_0x1ca271[_0x4880('0x227')]&&_0x1ca271['body'][_0x4880('0x233')]){return _0x1ca271[_0x4880('0x227')][_0x4880('0x233')];}return null;}}));var _0x4e7852=(_0x60e423,_0x78af6f,_0x338608)=>{_0x60e423[_0x4880('0x234')](_0x49cb4c());_0x60e423[_0x4880('0x234')]((_0x2219c7,_0x17af04,_0x209168)=>_0x114c0a(_0x2219c7,_0x17af04,_0x209168,_0x338608));_0x60e423['use']((_0x2e31b6,_0x1d2c42,_0x10f5c9)=>_0x115403(_0x2e31b6,_0x1d2c42,_0x10f5c9,_0x338608));};const _0x47a4bb=_0x4f1188(_0x4880('0x235'));var _0x85ad1f=(_0x488010,_0x464add)=>{_0x488010[_0x4880('0x187')](_0x4880('0x236'),(_0x3d06ad,_0x1c3741)=>{const _0x2e4a69=_0x3d06ad['params']['id'];const _0x4c7030=_0x464add(_0x3d06ad);_0x52a1dd['getExcel'](_0x4c7030['db'],_0x2e4a69)['then'](_0x41ffee=>{if(_0x41ffee){const _0x5e7779=new Buffer(_0x41ffee['filecontent'],'base64');_0x1c3741[_0x4880('0x237')](0xc8,{'Content-disposition':'attachment;\x20filename='+_0x41ffee[_0x4880('0x8c')],'Content-Length':_0x5e7779[_0x4880('0x56')]});_0x1c3741[_0x4880('0x238')](_0x5e7779);}else{_0x47a4bb(_0x4880('0x239')+_0x2e4a69);_0x1c3741[_0x4880('0x23a')](0x194);}})[_0x4880('0x7a')](_0x5d4e4b=>{_0x47a4bb(_0x4880('0x23b')+_0x2e4a69+_0x4880('0x22c')+_0x5d4e4b);_0x1c3741['sendStatus'](0x194);});});_0x488010[_0x4880('0x187')](_0x4880('0x23c'),(_0x5da4bc,_0x2c481d)=>{const _0x4017a7=_0x5da4bc[_0x4880('0x23d')]['id'];const _0x4870cc=_0x464add(_0x5da4bc);_0x52a1dd[_0x4880('0x23e')](_0x4870cc['db'],_0x4017a7)['then'](_0x85ad1f=>{if(_0x85ad1f){const _0x4971e1=new Buffer(_0x85ad1f[_0x4880('0xee')],_0x4880('0xee'));_0x2c481d[_0x4880('0x237')](0xc8,{'Content-Disposition':'inline;\x20filename='+_0x85ad1f[_0x4880('0x52')],'Content-Type':_0x85ad1f[_0x4880('0xed')],'Content-Length':_0x4971e1[_0x4880('0x56')]});_0x2c481d[_0x4880('0x238')](_0x4971e1);}else{_0x47a4bb('Attachment\x20not\x20found\x20-\x20'+_0x4017a7);_0x2c481d[_0x4880('0x23a')](0x194);}})['catch'](_0x22dbb5=>{_0x47a4bb(_0x4880('0x23f')+_0x4017a7+_0x4880('0x22c')+_0x22dbb5);_0x2c481d[_0x4880('0x23a')](0x194);});});};const _0x36830b=_0x4f1188(_0x4880('0x240'));const _0x543d7d=_0x31b6f9['createTestSession'];const _0x508d1d=(_0x166dda,_0x5076ce)=>{return _0x166dda[_0x4880('0x4f')][_0x5076ce]||_0x166dda[_0x4880('0x227')]&&_0x166dda['body'][_0x5076ce]||_0x166dda[_0x4880('0x22f')][_0x5076ce];};const _0x3a4f16=(_0x584463,_0x567be7,_0xe20bc8,_0x27c95c)=>{_0x52a1dd[_0x4880('0x241')](_0x567be7['db'],_0x584463)[_0x4880('0x64')](_0x21a179=>{if(!_0x21a179){throw new Error('Test\x20Session\x20'+_0x584463+'\x20not\x20found');}const _0x2032e1=_0x508d1d(_0xe20bc8,_0x4880('0x242'))||_0x4880('0x243');if(_0x2032e1===_0x4880('0x243')){delete _0x21a179[_0x4880('0x1b1')];if(_0x21a179['status']===_0x4880('0xf9')){_0x27c95c[_0x4880('0xce')](0x1f4)['send'](_0x21a179);}else{_0x27c95c[_0x4880('0xce')](0xc8)[_0x4880('0x244')](_0x21a179);}}else if(_0x2032e1==='junit'){const _0x2faff1=_0x191809['groupBy'](_0x21a179[_0x4880('0x1b1')],_0x595900=>_0x595900['testSet']?_0x595900[_0x4880('0x7f')][_0x4880('0x52')]:'');const _0x5329cb=_0x191809['keys'](_0x2faff1)[_0x4880('0x85')](_0x25ef7d=>{const _0xdb7034=_0x2faff1[_0x25ef7d];const _0x5cfa8c={'testsuite':[{'_attr':{'name':_0x25ef7d||_0x4880('0x245'),'tests':_0xdb7034[_0x4880('0x56')],'failures':_0xdb7034['filter'](_0x2be91e=>!_0x2be91e[_0x4880('0xdf')])[_0x4880('0x56')]}}]};return _0x5cfa8c;});const _0x2afeb1=_0x568132({'testsuites':[{'_attr':{'name':_0x21a179[_0x4880('0x52')],'tests':_0x21a179['results'][_0x4880('0x56')],'failures':_0x21a179['results'][_0x4880('0x82')](_0x19aaae=>!_0x19aaae['success'])['length']}}][_0x4880('0x16b')](_0x5329cb)},{'declaration':!![]});_0x27c95c[_0x4880('0x246')](_0x4880('0x247'),_0x4880('0x248'));_0x27c95c[_0x4880('0xce')](0xc8)[_0x4880('0x244')](_0x2afeb1);}else{_0x27c95c[_0x4880('0x23a')](0x194)[_0x4880('0x244')](_0x4880('0x249'));}})[_0x4880('0x7a')](_0x1a38ae=>{_0x36830b(_0x4880('0x24a')+_0x584463+_0x4880('0x22c')+_0x1a38ae);_0x27c95c['sendStatus'](0x194);});};const _0x3b7e52=(_0x32d880,_0x41e38f,_0x3df470,_0x58a177)=>{const _0x169683=_0x41e38f[_0x4880('0x101')][_0x4880('0x21a')](_0x4880('0x103'));(async function loop(){while(!![]){const {value}=await _0x169683[_0x4880('0x24b')]();if(value[_0x4880('0x117')]&&value[_0x4880('0x117')][_0x4880('0xce')]&&value[_0x4880('0x117')]['id']===_0x32d880){_0x36830b('Test\x20Project\x20'+_0x32d880+_0x4880('0x24c')+value['testSessionProgress'][_0x4880('0xce')]);if(value[_0x4880('0x117')][_0x4880('0xce')]==='READY'){return _0x3a4f16(_0x32d880,_0x41e38f,_0x3df470,_0x58a177);}if(value['testSessionProgress'][_0x4880('0xce')]==='FAILED'){return _0x3a4f16(_0x32d880,_0x41e38f,_0x3df470,_0x58a177);}}}}());};const _0x558d1a=({ctxFactory,testProjectCode,req,res})=>{const _0x597813=_0x365087(req);_0x597813['db'][_0x4880('0x4f')][_0x4880('0x9d')]({'where':{'code':testProjectCode}},_0x4880('0x1f4'))['then'](_0x26a6fe=>{if(!_0x26a6fe){throw new Error(_0x4880('0x1f0')+testProjectCode+_0x4880('0x1f1'));}const _0xdd2478=_0x508d1d(req,_0x4880('0x24d'));const _0x3dc78f=_0x508d1d(req,_0x4880('0x24e'));const _0x12a7db=_0x508d1d(req,_0x4880('0x24f'));const _0xec4641=_0x56a78a=>{return Object[_0x4880('0x162')](_0x56a78a)[_0x4880('0x48')]((_0x2b1b06,_0x59d536)=>{_0x2b1b06['push']({'name':_0x59d536,'type':_0x4880('0x6c'),'stringValue':_0x56a78a[_0x59d536]});return _0x2b1b06;},[]);};const _0x2ada31=req['body']&&req[_0x4880('0x227')][_0x4880('0x250')]&&_0xec4641(req[_0x4880('0x227')]['CAPS'])||[];const _0x248a7f=req[_0x4880('0x227')]&&req[_0x4880('0x227')]['SOURCES']&&_0xec4641(req[_0x4880('0x227')][_0x4880('0x251')])||[];const _0x5517dc=req[_0x4880('0x227')]&&req[_0x4880('0x227')]['ENVS']&&_0xec4641(req[_0x4880('0x227')][_0x4880('0x252')])||[];const _0x31b3f5={'name':_0xdd2478||_0x26a6fe[_0x4880('0x52')]+_0x4880('0x253'),'description':_0x3dc78f,'status':'PENDING','tags':{'set':_0x12a7db?_0x191809['isArray'](_0x12a7db)?_0x12a7db:[_0x12a7db]:[]},'chatbot':{'connect':{'id':_0x26a6fe[_0x4880('0x9c')]['id']}},'testSets':{'connect':_0x26a6fe[_0x4880('0xa4')]&&_0x26a6fe['testSets']['map'](_0x43fdce=>{return{'id':_0x43fdce['id']};})},'deviceSets':{'connect':_0x26a6fe[_0x4880('0xb4')]&&_0x26a6fe[_0x4880('0xb4')][_0x4880('0x85')](_0x4d3a11=>{return{'id':_0x4d3a11['id']};})},'testProject':{'connect':{'id':_0x26a6fe['id']}},'capabilities':{'create':_0x2ada31},'sources':{'create':_0x248a7f},'envs':{'create':_0x5517dc},'batchCount':_0x26a6fe[_0x4880('0xa6')]};_0x36830b(_0x4880('0x254')+JSON[_0x4880('0xa1')](_0x31b3f5,null,0x2));return _0x543d7d(null,{'testSession':_0x31b3f5},_0x597813,_0x4880('0x255'));})[_0x4880('0x64')](_0x548640=>{const _0x17d722=_0x508d1d(req,'WAIT');if(_0x548640[_0x4880('0xce')]!==_0x4880('0xf6')&&_0x548640[_0x4880('0xce')]!==_0x4880('0xf9')&&_0x17d722==='1'){_0x3b7e52(_0x548640['id'],_0x597813,req,res);}else{_0x3a4f16(_0x548640['id'],_0x597813,req,res);}})[_0x4880('0x7a')](_0x5459a2=>{_0x36830b(_0x4880('0x256')+testProjectCode+'\x20-\x20'+_0x5459a2);res[_0x4880('0x23a')](0x194);});};const _0x535fde=({ctxFactory,nameOrId,req,res})=>{const _0x4c929c=_0x365087(req);_0x4c929c['db'][_0x4880('0x4f')][_0x4880('0x147')]({'where':{'OR':[{'id':nameOrId},{'name':nameOrId}]},'orderBy':_0x4880('0x146'),'first':0x1},_0x4880('0x257'))[_0x4880('0x64')](_0x4f1cbe=>{if(!_0x4f1cbe){return res[_0x4880('0x23a')](0x194);}const _0x538867=_0x4f1cbe[0x0];const _0x33ade5=_0x508d1d(req,_0x4880('0x258'));if(_0x538867[_0x4880('0xce')]!==_0x4880('0xf6')&&_0x538867['status']!==_0x4880('0xf9')&&_0x33ade5==='1'){_0x3b7e52(_0x538867['id'],_0x4c929c,req,res);}else{_0x3a4f16(_0x538867['id'],_0x4c929c,req,res);}})['catch'](_0x504c41=>{_0x36830b(_0x4880('0x24a')+nameOrId+_0x4880('0x22c')+_0x504c41);res[_0x4880('0x23a')](0x194);});};var _0x2f1a94=(_0x1cc453,_0x3304a4)=>{const _0x1d0523=(_0x26c0ba,_0x22a91d)=>{_0x558d1a({'testProjectCode':_0x26c0ba[_0x4880('0x23d')][_0x4880('0x259')],'ctxFactory':_0x3304a4,'req':_0x26c0ba,'res':_0x22a91d});};const _0xf34bba=(_0x5c0a4c,_0x4a82f0)=>{_0x535fde({'nameOrId':_0x5c0a4c[_0x4880('0x23d')][_0x4880('0x25a')],'ctxFactory':_0x3304a4,'req':_0x5c0a4c,'res':_0x4a82f0});};_0x1cc453[_0x4880('0x25b')]('/api/triggerbuild/:code',_0x1d0523);_0x1cc453['get'](_0x4880('0x25c'),_0x1d0523);_0x1cc453[_0x4880('0x187')](_0x4880('0x25d'),_0xf34bba);};var _0x5f0c2e=(_0x56d094,_0x52b3b2)=>{_0x56d094[_0x4880('0x187')]('/api/version',(_0x405e4f,_0x1f041a)=>{_0x1f041a[_0x4880('0xce')](0xc8)[_0x4880('0x244')](_0x12cef0[_0x4880('0x25e')]);});};const _0x2cc75a=_0x4f1188('botium-box-server-endpoints');const _0x5de4c1=(_0x4d4bfa,_0x2e796a,_0x3d02b3,_0x4c481c)=>{if(!_0x2e796a[_0x4880('0x25f')]&&!_0x2e796a['user'])return _0x3d02b3[_0x4880('0x23a')](0x191);else return _0x4c481c();};var _0x5b8534=(_0x458a48,_0x3f7b2a)=>{_0x458a48['use'](_0x40881d[_0x4880('0x243')]({'limit':_0x4880('0x260'),'extended':!![]}));_0x458a48[_0x4880('0x234')]([_0x4880('0x261'),_0x4880('0x262'),'/api/triggerbuild/*'],_0x5de4c1['bind'](null,_0x3f7b2a));_0x85ad1f(_0x458a48,_0x3f7b2a);_0x2f1a94(_0x458a48,_0x3f7b2a);_0x5f0c2e(_0x458a48,_0x3f7b2a);};_0xdd94c2[_0x4880('0x263')]();_0x12cef0[_0x4880('0x264')]();const {GraphQLServer,PubSub}=_0x436c57;const {Prisma}=_0x2cd184;const {validateToken:validateToken$1}=_0x5eeec3;const _0x243fde=_0x4f1188(_0x4880('0x265'));const _0x122822=()=>{return new Prisma({'typeDefs':process['env'][_0x4880('0x266')]||_0x4880('0x267'),'endpoint':process[_0x4880('0x46')][_0x4880('0x268')],'debug':process[_0x4880('0x46')][_0x4880('0x269')],'secret':process['env'][_0x4880('0x26a')]});};const _0x18154d=(_0x14e49a,_0x527060)=>{if(_0x14e49a)console[_0x4880('0x3f')](_0x14e49a);if(_0x527060)console[_0x4880('0x3f')](_0x527060);process[_0x4880('0x26b')](0x1);};let _0x55e07f={};if(process[_0x4880('0x46')][_0x4880('0x26c')]){try{_0x55e07f=JSON['parse'](process[_0x4880('0x46')][_0x4880('0x26c')]);_0x243fde(_0x4880('0x26d')+JSON[_0x4880('0xa1')](_0x55e07f)+'\x27');}catch(_0xc5d2ba){_0x18154d(_0x4880('0x26e')+process['env']['BOTIUMBOX_QUEUE_SETTINGS']+'\x22:',_0xc5d2ba);}}else{if(process[_0x4880('0x46')]['BOTIUMBOX_QUEUE_PREFIX']){_0x55e07f[_0x4880('0x26f')]=process[_0x4880('0x46')][_0x4880('0x270')];}if(process[_0x4880('0x46')]['BOTIUMBOX_QUEUE_REDISURL']){_0x55e07f['redis']=process['env'][_0x4880('0x271')];}}_0x243fde(_0x4880('0x272')+JSON[_0x4880('0xa1')](_0x55e07f)+'\x27');const _0x56da09=_0x567fac[_0x4880('0x273')](_0x55e07f);_0x56da09['on'](_0x4880('0x10d'),_0x134322=>{_0x18154d(_0x4880('0x274')+JSON[_0x4880('0xa1')](_0x55e07f)+'\x27:',_0x134322);});process[_0x4880('0x46')][_0x4880('0x275')]=process['env'][_0x4880('0x275')]||_0x4880('0x276');try{_0x393ff8[_0x4880('0x161')](process[_0x4880('0x46')][_0x4880('0x275')]);_0x243fde('Using\x20BOTIUM_TEMPDIR\x20'+process[_0x4880('0x46')][_0x4880('0x275')]);}catch(_0x58b8b3){_0x18154d(_0x4880('0x277')+process['env'][_0x4880('0x275')]+'\x27:',_0x58b8b3);}process['env'][_0x4880('0x169')]=process[_0x4880('0x46')][_0x4880('0x169')]||_0x4880('0x278');try{_0x393ff8[_0x4880('0x161')](process['env'][_0x4880('0x169')]);_0x243fde('Using\x20TESTSETDIR\x20'+process[_0x4880('0x46')]['TESTSETDIR']);}catch(_0x18c82d){_0x18154d('ERROR\x20verifying\x20TESTSETDIR\x20\x27'+process[_0x4880('0x46')][_0x4880('0x169')]+'\x27:',_0x18c82d);}_0x3bb767[_0x4880('0x279')](_0x122822());const _0x155d72=new PubSub();const _0x365087=_0x132182=>({..._0x132182||{},'db':_0x122822(),'queueConnector':_0x56da09,'pubsub':_0x155d72});const _0x2e82f6=new GraphQLServer({'typeDefs':process[_0x4880('0x46')]['GRAPHQL_SCHEMA']||_0x4880('0x27a'),'resolvers':_0x1caf5c,'resolverValidationOptions':{'requireResolversForResolveType':![]},'directiveResolvers':_0x13e648,'context':_0x365087});const _0x369ca2={'port':process[_0x4880('0x46')][_0x4880('0x27b')]||0xfa0,'endpoint':_0x4880('0x27c'),'subscriptions':{'path':'/subscriptions','onConnect':async(_0x53d19c,_0x67896e,_0x1f23f7)=>{if(_0x53d19c[_0x4880('0x27d')]){_0x243fde(_0x4880('0x27e')+_0x53d19c[_0x4880('0x27d')]);const _0x40b601=await validateToken$1(_0x53d19c[_0x4880('0x27d')],_0x122822());return{'user':_0x40b601};}throw new Error('Missing\x20auth\x20token!');},'onDisconnect':(_0x39e667,_0x514c6a)=>{}},'playground':_0x4880('0x27f')};_0x4e7852(_0x2e82f6[_0x4880('0x1e')],_0x369ca2,_0x365087);_0x5b8534(_0x2e82f6[_0x4880('0x1e')],_0x365087);_0x2e82f6[_0x4880('0x106')](_0x369ca2,({port})=>{const _0x4d4530=_0x5e7844[_0x4880('0x49')](__dirname,'../../client/build');_0x2e82f6[_0x4880('0x1e')][_0x4880('0x234')](_0x677d0c());_0x2e82f6['express'][_0x4880('0x234')]('/',_0x5e7a38[_0x4880('0x280')](_0x4d4530));console[_0x4880('0x3f')](_0x4880('0x281')+port+_0x4880('0x282')+_0x4d4530);});const _0x43f7ca=new _0x2ee596(_0x365087);_0x43f7ca[_0x4880('0x106')]();var _0x20ce5a={};return _0x20ce5a;}));