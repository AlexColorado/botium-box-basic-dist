var _0x2fa8=['createTestSet','exists','TestSet\x20not\x20found\x20','updateTestSet','deleteTestSet','TestSetScript','TestSetScript\x20not\x20found\x20','updateTestSetScript','deleteTestSetScript','createTestSetFolder','TestSetFolder','TestSetFolder\x20not\x20found\x20','updateTestSetFolder','TestSetExcel\x20not\x20found\x20','updateTestSetExcel','\x20\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20id\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20\x20\x20expandConvos\x0a\x20\x20\x20\x20\x20\x20expandUtterancesToConvos\x0a\x20\x20\x20\x20\x20\x20expandUtterancesIncomprehension\x0a\x20\x20\x20\x20\x20\x20tags\x0a\x20\x20\x20\x20\x20\x20scripts\x20{\x20id\x20script\x20scriptType\x20}\x0a\x20\x20\x20\x20\x20\x20repositories\x20{\x20id\x20giturl\x20gitbranch\x20gitdir\x20globFilter\x20}\x0a\x20\x20\x20\x20\x20\x20folders\x20{\x20id\x20path\x20globFilter\x20}\x0a\x20\x20\x20\x20\x20\x20excels\x20{\x20id\x20filename\x20filecontent\x20hasConvos\x20hasUtterances\x20worksheetsConvos\x20worksheetsUtterances\x20startRow\x20startCol\x20}\x0a\x20\x20\x20\x20}','CloneTestset','basename','\x20cloned\x20to\x20\x22','tags','Cloned','cloned','botium-box-server-mutation-testproject','{\x20id\x20name\x20chatbot\x20{\x20id\x20}\x20testSets\x20{\x20id\x20}\x20deviceSets\x20{\x20id\x20}\x20batchCount\x20}','Test\x20Project\x20','\x20-\x20Manual\x20Test\x20Session','batchCount','createTestProject','QuickStart','deleteTestProject','Error\x20deleting\x20TestProject\x20','botium-box-server-mutation-settings','hash','roles','USER','createUser','findIndex','ADMIN','Only\x20admin\x20can\x20update\x20users','admin','updateUser','deleteUser','Error\x20deleting\x20User\x20','ApiKey','ApiKey\x20not\x20found\x20','key','updateApiKey','Error\x20deleting\x20ApiKey\x20','DeviceProvider\x20type\x20INTEGRATED\x20not\x20allowed\x20to\x20create','DeviceProvider\x20type\x20','\x20not\x20supported\x20in\x20this\x20version','createDeviceProvider','DeviceProvider\x20not\x20found\x20','updateDeviceProvider','DeviceProvider\x20type\x20INTEGRATED\x20not\x20allowed\x20to\x20delete','Error\x20deleting\x20DeviceProvider\x20','botium-box-server-mutation-deviceset','createDeviceSet','DeviceSet','DeviceSet\x20not\x20found\x20','updateDeviceSet','{\x20id\x20devices\x20{\x20id\x20}\x20}','deleteManyDeviceDescriptors','deleteDeviceSet','testSessionProgress','subscription','CREATED','UPDATED','testSessionJobLog','testSessionTestCaseResult','Query','Subscription','request.user','Not\x20logged\x20in','includes','Unauthorized,\x20incorrect\x20role','botium-box-middleware-jwt','APIKEY','body','lookupApiKey','Api\x20Key\x20found\x20-\x20','inspect','Api\x20Key\x20not\x20found\x20-\x20','{\x20id\x20name\x20email\x20roles\x20}','JWT_AUTOLOGIN_USERNAME','Auto\x20login\x20user\x20','headers','authorization','Bearer','token','use','botium-box-server-endpoints-attachments','/api/attachment/excel/:id','params','getExcel','writeHead','attachment;\x20filename=','end','sendStatus','Excel\x20lookup\x20error\x20-\x20','/api/attachment/screenshot/:id','Attachment\x20not\x20found\x20-\x20','Attachment\x20lookup\x20error\x20-\x20','botium-box-server-endpoints-build','json','send','junit','groupBy','unnamed','Content-Type','VALID\x20REPORTER\x20OPTIONS:\x20json,\x20junit','Test\x20Session\x20lookup\x20error\x20-\x20','next','{\x20id\x20name\x20chatbot\x20{\x20id\x20}\x20testSets\x20{\x20id\x20}\x20deviceSets\x20{\x20id\x20}\x20}','\x20not\x20found','BUILDID','BUILDCOMMENT','TAG','STRING','CAPS','SOURCES','ENVS','\x20-\x20Test\x20Session','isArray','Creating\x20Test\x20Session\x20','{\x20id\x20status\x20}','{\x20id\x20name\x20status\x20}','WAIT','code','post','/api/triggerbuild/:code','/api/build/:nameOrId','/api/version','buildInfo','50mb','/api/attachment/*','/api/build/*','/api/triggerbuild/*','bind','config','printVersion','PRISMA_SCHEMA','PRISMA_ENDPOINT','PRISMA_DEBUG','exit','BOTIUMBOX_QUEUE_SETTINGS','Got\x20queue\x20settings\x20\x27','ERROR\x20parsing\x20queue\x20settings\x20\x22','BOTIUMBOX_QUEUE_PREFIX','prefix','BOTIUMBOX_QUEUE_REDISURL','redis','connecting\x20to\x20Botium\x20queue\x20\x27','./botiumwork','Using\x20BOTIUM_TEMPDIR\x20','ERROR\x20verifying\x20BOTIUM_TEMPDIR\x20\x27','ERROR\x20verifying\x20TESTSETDIR\x20\x27','scanForTestSets','GRAPHQL_SCHEMA','./src/schema.graphql','PORT','/graphql','/subscriptions','Authorization','onConnect\x20called,\x20authorization\x20','static','Server\x20started,\x20listening\x20on\x20port\x20','\x20for\x20incoming\x20requests,\x20static\x20files\x20served\x20from\x20','object','async','url','better-queue','jsonwebtoken','watson-developer-cloud/assistant/v1','uuid/v1','botium-core/src/scripting/Constants','slug','botium-core/src/repos/GitRepo','botium-core/src/Capabilities','require-all','mkdirp','rimraf','botium-core/src/scripting/ScriptingProvider','botium-core/src/scripting/CompilerTxt','node-cache','request-promise-native','moment','path','slugify','randomatic','graphql-yoga','express-jwt','util','debug','body-parser','dotenv-flow','express','connect-history-api-fallback','function','amd','botium-core','botium-core/src/Source','botium-core/src/Defaults','bcryptjs','lodash.get','xml','prisma-binding','kue','main','betterQueue','v1$1','botiumCore','Constants','Source','GitRepo','Capabilities','requireAll','Defaults','ScriptingProvider','CompilerTxt','nodeCache','requestPromiseNative','graphqlYoga','lodash$1','bodyParser','dotenvFlow','connectHistoryApiFallback','default','hasOwnProperty','COMMUNITY\x20EDITION','da4a10cf1f8060457be9e50a9042e8e3e64702bf','2018-12-05T21:19:56+00:00','log','BOTIUM\x20BOX\x20-\x20SERVER','BUILD_TARGET:\x20','BUILD_BRANCH:\x20','buildBranch','BUILD_REVISION:\x20','buildRevision','BUILD_TIMESTAMP:\x20','buildDate','botium-testset-scanner','env','resolve','TESTSETDIR_PUBLIC','readdirSync','join','push','statSync','isDirectory','isFile','query','testSetFolders','{\x20id\x20name\x20testSet\x20{\x20id\x20name\x20}\x20}','length','Folder\x20','\x20already\x20in\x20use\x20-\x20','name','\x20in\x20Test\x20Set\x20','testSet','scanDirForTestSets\x20scanning\x20','scanDirForTestSets\x20','\x20found\x20','\x20subdirectories\x20...','\x20files.\x20Importing\x20Test\x20Set.','Imported\x20from\x20directory\x20','\x20files','split','sep','mutation','{\x20id\x20}','\x20Created\x20Test\x20Set\x20','TESTSETDIR','scanForTestSets\x20failed:\x20','botium-box-server-agents-utils','testSessionTestCaseResultAttachment','testSetExcel','{\x20id\x20filename\x20filecontent\x20}','now','{\x20id\x20name\x20}','then','testSession','data','group','reject','reduce','type','TEXT','stringValue','replace','INT','intValue','BOOLEAN','JSON','parse','jsonValue','forEach','keys','findAgentFromJobData','{\x20id,\x20name\x20}','updateAgent','\x20not\x20configured','{\x20id,\x20name,\x20capabilities\x20{\x20name,\x20stringValue\x20}\x20}','composeBotiumCapabilities','Agent\x20registered,\x20config:\x20','catch','expandUtterancesToConvos','expandUtterancesIncomprehension','scripts','SCRIPTING_TYPE_CONVO','script','filter','scriptType','map','SCRIPTING_FORMAT_TXT','globFilter','excels','filecontent','hasUtterances','worksheetsConvos','startCol','findFullTestSession','testSessionId','Test\x20Session\x20','startTestSession\x20','agent','process','\x20queueToSend:\x20','testProject','capabilities','\x20testSessionCaps:\x20','stringify','chatbot','sources','\x20testSessionSources:\x20','combineBotiumCapabilities','envs','\x20testSessionEnvs:\x20','\x20testSessionTestSets:\x20','queueConnector','create','Processing\x20Job\x20#','\x20for\x20Test\x20Session\x20','delay','save','Saving\x20batchJob\x20failed:\x20','createTestSessionJob','{\x20id,\x20jobId\x20}','\x20registered\x20(jobId:\x20','TestSessionJob\x20for\x20TestSession\x20','\x20registration\x20failed\x20(jobId:\x20','):\x20','devices','provider','assign','password','protocol','host','pathname','port','INTEGRATED','\x20adding\x20capability\x20for\x20starting\x20integrated\x20PhantomJS','WEBDRIVERIO_START_PHANTOMJS','\x20testSessionDevices:\x20','deviceSetId','deviceName','convos','utterances','folders','deviceOptions','startTestSession\x20failed:\x20','testSessionProgress:\x20Job\x20','status','updateTestSession','RUNNING','\x20set\x20Test\x20Session\x20','\x20RUNNING.','Test\x20Session\x20Job\x20','\x20RUNNING\x20failed:\x20','PENDING','toISOString','isNumber','\x20set\x20Test\x20Session\x20Job\x20RUNNING.','\x20set\x20Test\x20Session\x20Job\x20RUNNING\x20failed:\x20','progressPercent','updateTestSessionJob','\x20set\x20Test\x20Session\x20Job\x20progressPercent\x20','\x20wrote\x20log:\x20','\x20write\x20log\x20failed:\x20','testcase','source','err','messages','isString','sourceTag','filename','testSetFilename','testSetId','testSetScriptId','testSetScript','testSetRepositoryId','testSetRepository','testSetFolderId','testSetExcelId','deviceSet','attachments','mimeType','base64','createTestSessionTestCaseResult','TestResult\x20for\x20TestCase\x20','\x20in\x20TestSession\x20','\x20id:\x20','\x20registration\x20failed:\x20','testSessionProgress\x20failed:\x20','testSessionJobs','{\x20id,\x20testSession\x20{\x20id\x20name\x20}\x20\x20}','READY','createTestSessionJobLog','Job\x20completed','testSessionJobCompleted\x20failed:\x20','\x20not\x20registered\x20as\x20test\x20session\x20job.\x20Skipping.','FAILED','\x20failed:\x20','Job\x20failed:\x20','testSessionJobFailed\x20createTestSessionJobLog\x20failed:\x20','testSessionJobFailed\x20failed:\x20','updateManyTestSessions','testSessionCheckFinished\x20','{\x20id\x20name\x20status\x20jobs\x20{\x20id\x20progressPercent\x20}\x20}','pubsub','publish','TEST_SESSION_PROGRESS','botium-box-server-agents','ctxFactory','start','agent.heartbeat:\x20','agent.register','box.createprocessingjobs','box.createprocessingjobs:\x20','startTestSession','error','ERROR\x20connecting\x20to\x20queue:','job\x20enqueue','Job\x20','job\x20error','\x20error\x20','testSessionJobFailed','job\x20complete','testSessionJobCompleted','job\x20progress','\x20progress\x20','JWT_SECRET','JWT_AUDIENCE','botiumbox','JWT_ISSUER','sign','JWT_EXPIRY_DAYS','toString','verify','user','request','name_ASC','agents','chatbots','listWorkspaces','description','workspace_id','botium-box-server-livechat','asyncIterator','Conversation\x20','\x20not\x20available.','{\x20id\x20name\x20capabilities\x20{\x20name\x20type\x20stringValue\x20intValue\x20booleanValue\x20jsonValue\x20}\x20}',')\x20launching\x20bot\x20','\x20...','MESSAGE_SENTTOBOT',')\x20container\x20built,\x20now\x20starting','liveChatStartBot(',')\x20container\x20started.',')\x20sending\x20convoStep\x20','liveChatStopBot(',')\x20container\x20stopped.','liveChatSaveConvoSteps(',')\x20saving\x20test\x20case\x20for\x20test\x20set\x20','sender','messageText','buttons','media','mediaUri','cards','BUTTONS\x20','text','image','MEDIA\x20','createTestSetScript',')\x20saved\x20test\x20case\x20for\x20test\x20set\x20','\x20-\x20','testSessions','testSessionTestCaseResults','botium-retrieve-all-test-cases','format','SCRIPTING_FORMAT_XSLX','from','Compile','SCRIPTING_TYPE_UTTERANCES','content',':\x20Convo\x20Script\x20compilation\x20failed:\x20',':\x20Utterance\x20script\x20compilation\x20failed:\x20','ReadScriptsFromDirectory',':\x20Folder\x20','caps','SCRIPTING_XLSX_SHEETNAMES','SCRIPTING_XLSX_STARTROW','SCRIPTING_XLSX_STARTCOL','all','values','concat','metadata','habits','typo','Unknown\x20ID:\x20','execute','has','duplicate\x20utterance\x20:\x20<','>\x20created\x20by\x20','add','humanifiersToExecute','botium-clone-testset','_JUST_BOT','allHumanifiers','Build','BOTIUM_TEMPDIR','{slugify(testSet.Name)}_CLONED_','Aa0','size','bot','both','toHumanify','allUtteranceCount','Cloning\x20finished:\x20','_CLONED_','sync','GetCompiler','Decompile','writeFile','.convo.txt','neither','conversation','percentToHumanify','utterancesToHumanifyCount','cloneDeep','uniq','humanifiedRefs','humanifiedRefCount','humanifiedUtterancesCount','duplicates','clonedConvoCount','testSets','header','no\x20script\x20provided','testSetRepositories','testSetFolder','possibleOptions','cache','get','del','delStartWith','indexOf','flush','flushAll','deviceSets','deviceProvider','SAUCELABS','long_name','short_version','api_name','device','MOBILEBROWSER','iphone','ipad','Chrome','Android','uniqBy','orderBy','asc','LOCALSELENIUM','PhantomJS\x20Virtual\x20Browser','DESKTOP','phantomjs','Google\x20Chrome\x20(Headless)','chrome','--headless','testProjects','users','apiKeys','apiKey','deviceProviders','TODAY','subtract','days','LAST2WEEKS','startOf','day','LASTMONTH','LAST2MONTHS','chartFailedCountByTestSetByDay_','isBefore','toDate','{\x20id\x20results\x20{\x20success\x20testSet\x20{\x20id\x20}\x20}\x20}','ceil','results','success','chartFailedCountByChatbotByDay_','{\x20id\x20results\x20{\x20success\x20}\x20}','chartTestSetResultCount_','createdAt_DESC','{\x20id\x20createdAt\x20results\x20{\x20success\x20testSet\x20{\x20id\x20}\x20}\x20}','lastRun','testCaseLastTotalCount','testCaseLastSuccessCount','previousRun','createdAt','testCasePreviousTotalCount','testCasePreviousSuccessCount','testCasePreviousSuccessRate','testCaseLastSuccessRate','testCaseTrend','BAD','desc','chartTestProjectTrainingStatusByTestSet_','totalCount','successCount','sortBy','{\x20id\x20createdAt\x20results\x20{\x20success\x20deviceSet\x20{\x20id\x20name\x20}\x20}\x20}','failedCount','No\x20Device\x20Set','No\x20such\x20user\x20found:\x20','compare','Agent','Agent\x20not\x20found\x20','createChatbot','Chatbot','Chatbot\x20not\x20found\x20','deleteChatbot','{id}','botium-box-server-mutation-testsession','createTestSession','removeOnComplete','deleteManyTestSessionJobLogs','deleteManyTestSessionJobs','deleteManyTestSessionTestCaseResults','deleteTestSession','Error\x20deleting\x20test\x20session\x20'];(function(_0x562c5e,_0x686ecc){var _0x46dd17=function(_0x3cd537){while(--_0x3cd537){_0x562c5e['push'](_0x562c5e['shift']());}};var _0x1a8b64=function(){var _0x583cf9={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x241b63,_0x1feed4,_0x170899,_0x3f372d){_0x3f372d=_0x3f372d||{};var _0x29abbb=_0x1feed4+'='+_0x170899;var _0x51048c=0x0;for(var _0x51048c=0x0,_0x1bb15d=_0x241b63['length'];_0x51048c<_0x1bb15d;_0x51048c++){var _0x3651e1=_0x241b63[_0x51048c];_0x29abbb+=';\x20'+_0x3651e1;var _0x1974b1=_0x241b63[_0x3651e1];_0x241b63['push'](_0x1974b1);_0x1bb15d=_0x241b63['length'];if(_0x1974b1!==!![]){_0x29abbb+='='+_0x1974b1;}}_0x3f372d['cookie']=_0x29abbb;},'removeCookie':function(){return'dev';},'getCookie':function(_0x643236,_0x313ade){_0x643236=_0x643236||function(_0x31abff){return _0x31abff;};var _0x5c0d16=_0x643236(new RegExp('(?:^|;\x20)'+_0x313ade['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x18f957=function(_0x48f048,_0x5ab228){_0x48f048(++_0x5ab228);};_0x18f957(_0x46dd17,_0x686ecc);return _0x5c0d16?decodeURIComponent(_0x5c0d16[0x1]):undefined;}};var _0x5f1265=function(){var _0x1b405f=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x1b405f['test'](_0x583cf9['removeCookie']['toString']());};_0x583cf9['updateCookie']=_0x5f1265;var _0x5ed794='';var _0x43f241=_0x583cf9['updateCookie']();if(!_0x43f241){_0x583cf9['setCookie'](['*'],'counter',0x1);}else if(_0x43f241){_0x5ed794=_0x583cf9['getCookie'](null,'counter');}else{_0x583cf9['removeCookie']();}};_0x1a8b64();}(_0x2fa8,0xa8));var _0x44d3=function(_0x3adfcd,_0xab6e9a){_0x3adfcd=_0x3adfcd-0x0;var _0xc52e9a=_0x2fa8[_0x3adfcd];return _0xc52e9a;};(function(_0x3b14fa,_0x5d7af2){var _0x4f2a51=function(){var _0x3c03bc=!![];return function(_0x419ae3,_0x484694){var _0x4026db=_0x3c03bc?function(){if(_0x484694){var _0x59aca8=_0x484694['apply'](_0x419ae3,arguments);_0x484694=null;return _0x59aca8;}}:function(){};_0x3c03bc=![];return _0x4026db;};}();var _0x3bdb81=_0x4f2a51(this,function(){var _0x1436af=function(){return'\x64\x65\x76';},_0x1af8a4=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x2139f5=function(){var _0x14b4e6=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x14b4e6['\x74\x65\x73\x74'](_0x1436af['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x1cc358=function(){var _0x1616cd=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x1616cd['\x74\x65\x73\x74'](_0x1af8a4['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x519377=function(_0x5caba8){var _0x44b74a=~-0x1>>0x1+0xff%0x0;if(_0x5caba8['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x44b74a)){_0x5ce65e(_0x5caba8);}};var _0x5ce65e=function(_0xbebc11){var _0x352b2b=~-0x4>>0x1+0xff%0x0;if(_0xbebc11['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x352b2b){_0x519377(_0xbebc11);}};if(!_0x2139f5()){if(!_0x1cc358()){_0x519377('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x519377('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x519377('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x3bdb81();typeof exports===_0x44d3('0x0')&&typeof module!=='undefined'?module['exports']=_0x5d7af2(require(_0x44d3('0x1')),require(_0x44d3('0x2')),require(_0x44d3('0x3')),require(_0x44d3('0x4')),require(_0x44d3('0x5')),require(_0x44d3('0x6')),require('botium-core'),require('fs'),require(_0x44d3('0x7')),require(_0x44d3('0x8')),require('botium-core/src/Source'),require(_0x44d3('0x9')),require(_0x44d3('0xa')),require(_0x44d3('0xb')),require(_0x44d3('0xc')),require(_0x44d3('0xd')),require('botium-core/src/Defaults'),require(_0x44d3('0xe')),require(_0x44d3('0xf')),require(_0x44d3('0x10')),require(_0x44d3('0x11')),require(_0x44d3('0x12')),require(_0x44d3('0x13')),require(_0x44d3('0x14')),require(_0x44d3('0x15')),require('bcryptjs'),require(_0x44d3('0x16')),require('lodash.get'),require(_0x44d3('0x17')),require(_0x44d3('0x18')),require('lodash'),require(_0x44d3('0x19')),require('xml'),require(_0x44d3('0x1a')),require(_0x44d3('0x1b')),require('prisma-binding'),require(_0x44d3('0x1c')),require('kue'),require(_0x44d3('0x1d'))):typeof define===_0x44d3('0x1e')&&define[_0x44d3('0x1f')]?define([_0x44d3('0x1'),_0x44d3('0x2'),'better-queue',_0x44d3('0x4'),'watson-developer-cloud/assistant/v1',_0x44d3('0x6'),_0x44d3('0x20'),'fs',_0x44d3('0x7'),_0x44d3('0x8'),_0x44d3('0x21'),_0x44d3('0x9'),_0x44d3('0xa'),'require-all',_0x44d3('0xc'),_0x44d3('0xd'),_0x44d3('0x22'),'botium-core/src/scripting/ScriptingProvider',_0x44d3('0xf'),'node-cache',_0x44d3('0x11'),_0x44d3('0x12'),_0x44d3('0x13'),_0x44d3('0x14'),_0x44d3('0x15'),_0x44d3('0x23'),_0x44d3('0x16'),_0x44d3('0x24'),'express-jwt',_0x44d3('0x18'),'lodash','debug',_0x44d3('0x25'),_0x44d3('0x1a'),_0x44d3('0x1b'),_0x44d3('0x26'),'express',_0x44d3('0x27'),_0x44d3('0x1d')],_0x5d7af2):_0x3b14fa[_0x44d3('0x28')]=_0x5d7af2(_0x3b14fa[_0x44d3('0x1')],_0x3b14fa[_0x44d3('0x2')],_0x3b14fa[_0x44d3('0x29')],_0x3b14fa[_0x44d3('0x4')],_0x3b14fa['v1'],_0x3b14fa[_0x44d3('0x2a')],_0x3b14fa[_0x44d3('0x2b')],_0x3b14fa['fs'],_0x3b14fa[_0x44d3('0x2c')],_0x3b14fa[_0x44d3('0x8')],_0x3b14fa[_0x44d3('0x2d')],_0x3b14fa[_0x44d3('0x2e')],_0x3b14fa[_0x44d3('0x2f')],_0x3b14fa[_0x44d3('0x30')],_0x3b14fa['mkdirp'],_0x3b14fa[_0x44d3('0xd')],_0x3b14fa[_0x44d3('0x31')],_0x3b14fa[_0x44d3('0x32')],_0x3b14fa[_0x44d3('0x33')],_0x3b14fa[_0x44d3('0x34')],_0x3b14fa[_0x44d3('0x35')],_0x3b14fa[_0x44d3('0x12')],_0x3b14fa[_0x44d3('0x13')],_0x3b14fa[_0x44d3('0x14')],_0x3b14fa[_0x44d3('0x15')],_0x3b14fa['bcryptjs'],_0x3b14fa[_0x44d3('0x36')],_0x3b14fa['lodash'],_0x3b14fa['expressJwt'],_0x3b14fa[_0x44d3('0x18')],_0x3b14fa[_0x44d3('0x37')],_0x3b14fa['debug'],_0x3b14fa[_0x44d3('0x25')],_0x3b14fa[_0x44d3('0x38')],_0x3b14fa[_0x44d3('0x39')],_0x3b14fa['prismaBinding'],_0x3b14fa[_0x44d3('0x1c')],_0x3b14fa['kue'],_0x3b14fa[_0x44d3('0x3a')]);}(this,function(_0x5464f2,_0x2a3bbe,_0x51ad09,_0xd4c5d4,_0x532164,_0x9e02bb,_0x1d82d9,_0x43c8f3,_0x304f56,_0xfd0f66,_0x4016dd,_0x4f45c7,_0x5aa91e,_0x10cc39,_0x4b409f,_0xbece0a,_0x315787,_0x27ada0,_0x587ce1,_0x289174,_0x4901a8,_0x24a087,_0x501a4c,_0x2e33f5,_0x494b8a,_0x433116,_0x46f03d,_0x4903ae,_0x3b8d17,_0x47b65c,_0x1eeeb8,_0x5c56d3,_0x189d9b,_0x3776de,_0x205ee5,_0x62f697,_0x2c224c,_0x44350f,_0x59b8af){'use strict';_0x5464f2=_0x5464f2&&_0x5464f2['hasOwnProperty'](_0x44d3('0x3b'))?_0x5464f2[_0x44d3('0x3b')]:_0x5464f2;_0x2a3bbe=_0x2a3bbe&&_0x2a3bbe[_0x44d3('0x3c')]('default')?_0x2a3bbe[_0x44d3('0x3b')]:_0x2a3bbe;_0x51ad09=_0x51ad09&&_0x51ad09['hasOwnProperty'](_0x44d3('0x3b'))?_0x51ad09[_0x44d3('0x3b')]:_0x51ad09;_0xd4c5d4=_0xd4c5d4&&_0xd4c5d4['hasOwnProperty']('default')?_0xd4c5d4['default']:_0xd4c5d4;_0x532164=_0x532164&&_0x532164[_0x44d3('0x3c')](_0x44d3('0x3b'))?_0x532164[_0x44d3('0x3b')]:_0x532164;_0x9e02bb=_0x9e02bb&&_0x9e02bb[_0x44d3('0x3c')](_0x44d3('0x3b'))?_0x9e02bb[_0x44d3('0x3b')]:_0x9e02bb;_0x1d82d9=_0x1d82d9&&_0x1d82d9['hasOwnProperty'](_0x44d3('0x3b'))?_0x1d82d9[_0x44d3('0x3b')]:_0x1d82d9;_0x43c8f3=_0x43c8f3&&_0x43c8f3['hasOwnProperty']('default')?_0x43c8f3[_0x44d3('0x3b')]:_0x43c8f3;_0x304f56=_0x304f56&&_0x304f56[_0x44d3('0x3c')]('default')?_0x304f56[_0x44d3('0x3b')]:_0x304f56;_0xfd0f66=_0xfd0f66&&_0xfd0f66[_0x44d3('0x3c')](_0x44d3('0x3b'))?_0xfd0f66[_0x44d3('0x3b')]:_0xfd0f66;_0x4016dd=_0x4016dd&&_0x4016dd[_0x44d3('0x3c')](_0x44d3('0x3b'))?_0x4016dd['default']:_0x4016dd;_0x4f45c7=_0x4f45c7&&_0x4f45c7[_0x44d3('0x3c')]('default')?_0x4f45c7['default']:_0x4f45c7;_0x5aa91e=_0x5aa91e&&_0x5aa91e['hasOwnProperty']('default')?_0x5aa91e['default']:_0x5aa91e;_0x10cc39=_0x10cc39&&_0x10cc39[_0x44d3('0x3c')](_0x44d3('0x3b'))?_0x10cc39[_0x44d3('0x3b')]:_0x10cc39;_0x4b409f=_0x4b409f&&_0x4b409f['hasOwnProperty']('default')?_0x4b409f['default']:_0x4b409f;_0xbece0a=_0xbece0a&&_0xbece0a[_0x44d3('0x3c')](_0x44d3('0x3b'))?_0xbece0a[_0x44d3('0x3b')]:_0xbece0a;_0x315787=_0x315787&&_0x315787[_0x44d3('0x3c')](_0x44d3('0x3b'))?_0x315787[_0x44d3('0x3b')]:_0x315787;_0x27ada0=_0x27ada0&&_0x27ada0['hasOwnProperty'](_0x44d3('0x3b'))?_0x27ada0[_0x44d3('0x3b')]:_0x27ada0;_0x587ce1=_0x587ce1&&_0x587ce1[_0x44d3('0x3c')](_0x44d3('0x3b'))?_0x587ce1[_0x44d3('0x3b')]:_0x587ce1;_0x289174=_0x289174&&_0x289174[_0x44d3('0x3c')]('default')?_0x289174[_0x44d3('0x3b')]:_0x289174;_0x4901a8=_0x4901a8&&_0x4901a8[_0x44d3('0x3c')](_0x44d3('0x3b'))?_0x4901a8[_0x44d3('0x3b')]:_0x4901a8;_0x24a087=_0x24a087&&_0x24a087[_0x44d3('0x3c')]('default')?_0x24a087[_0x44d3('0x3b')]:_0x24a087;_0x501a4c=_0x501a4c&&_0x501a4c[_0x44d3('0x3c')](_0x44d3('0x3b'))?_0x501a4c[_0x44d3('0x3b')]:_0x501a4c;_0x2e33f5=_0x2e33f5&&_0x2e33f5[_0x44d3('0x3c')](_0x44d3('0x3b'))?_0x2e33f5['default']:_0x2e33f5;_0x494b8a=_0x494b8a&&_0x494b8a[_0x44d3('0x3c')](_0x44d3('0x3b'))?_0x494b8a[_0x44d3('0x3b')]:_0x494b8a;_0x433116=_0x433116&&_0x433116[_0x44d3('0x3c')](_0x44d3('0x3b'))?_0x433116[_0x44d3('0x3b')]:_0x433116;_0x46f03d=_0x46f03d&&_0x46f03d['hasOwnProperty']('default')?_0x46f03d['default']:_0x46f03d;_0x4903ae=_0x4903ae&&_0x4903ae['hasOwnProperty'](_0x44d3('0x3b'))?_0x4903ae['default']:_0x4903ae;_0x3b8d17=_0x3b8d17&&_0x3b8d17[_0x44d3('0x3c')](_0x44d3('0x3b'))?_0x3b8d17['default']:_0x3b8d17;_0x47b65c=_0x47b65c&&_0x47b65c[_0x44d3('0x3c')](_0x44d3('0x3b'))?_0x47b65c[_0x44d3('0x3b')]:_0x47b65c;_0x1eeeb8=_0x1eeeb8&&_0x1eeeb8[_0x44d3('0x3c')](_0x44d3('0x3b'))?_0x1eeeb8['default']:_0x1eeeb8;_0x5c56d3=_0x5c56d3&&_0x5c56d3[_0x44d3('0x3c')](_0x44d3('0x3b'))?_0x5c56d3[_0x44d3('0x3b')]:_0x5c56d3;_0x189d9b=_0x189d9b&&_0x189d9b[_0x44d3('0x3c')](_0x44d3('0x3b'))?_0x189d9b['default']:_0x189d9b;_0x3776de=_0x3776de&&_0x3776de[_0x44d3('0x3c')]('default')?_0x3776de['default']:_0x3776de;_0x205ee5=_0x205ee5&&_0x205ee5[_0x44d3('0x3c')](_0x44d3('0x3b'))?_0x205ee5[_0x44d3('0x3b')]:_0x205ee5;_0x62f697=_0x62f697&&_0x62f697['hasOwnProperty']('default')?_0x62f697[_0x44d3('0x3b')]:_0x62f697;_0x2c224c=_0x2c224c&&_0x2c224c[_0x44d3('0x3c')](_0x44d3('0x3b'))?_0x2c224c[_0x44d3('0x3b')]:_0x2c224c;_0x44350f=_0x44350f&&_0x44350f['hasOwnProperty'](_0x44d3('0x3b'))?_0x44350f[_0x44d3('0x3b')]:_0x44350f;_0x59b8af=_0x59b8af&&_0x59b8af[_0x44d3('0x3c')]('default')?_0x59b8af['default']:_0x59b8af;const _0xbe70a6={'buildTarget':_0x44d3('0x3d'),'buildBranch':'feature/BOT-179_Heroku','buildRevision':_0x44d3('0x3e'),'buildDate':_0x44d3('0x3f')};const _0x273975=()=>{console[_0x44d3('0x40')](_0x44d3('0x41'));console[_0x44d3('0x40')](_0x44d3('0x42')+_0xbe70a6['buildTarget']);console['log'](_0x44d3('0x43')+_0xbe70a6[_0x44d3('0x44')]);console[_0x44d3('0x40')](_0x44d3('0x45')+_0xbe70a6[_0x44d3('0x46')]);console[_0x44d3('0x40')](_0x44d3('0x47')+_0xbe70a6[_0x44d3('0x48')]);};var _0x522d0e={'buildInfo':_0xbe70a6,'printVersion':_0x273975};const _0x4da028=_0x5c56d3(_0x44d3('0x49'));const _0x4e18ad=(_0x1880e6,_0x1da3ef)=>{if(process[_0x44d3('0x4a')]['TESTSETDIR_PUBLIC']){return _0x501a4c[_0x44d3('0x4b')](process['env'][_0x44d3('0x4c')],_0x1da3ef);}else{return _0x501a4c['resolve'](_0x1880e6,_0x1da3ef);}};const _0x39484d=(_0x170187,_0x398743)=>{return _0x43c8f3[_0x44d3('0x4d')](_0x170187)['reduce']((_0x3abb69,_0x2f8d23)=>{const _0x3bd25a=_0x501a4c[_0x44d3('0x4e')](_0x170187,_0x2f8d23);if(_0x398743(_0x3bd25a))_0x3abb69[_0x44d3('0x4f')](_0x2f8d23);return _0x3abb69;},[]);};const _0x5cad7e=_0x13afd0=>{return _0x39484d(_0x13afd0,_0x60b805=>_0x43c8f3[_0x44d3('0x50')](_0x60b805)[_0x44d3('0x51')]());};const _0x2adcf6=_0xe5e63=>{return _0x39484d(_0xe5e63,_0x143ec3=>_0x43c8f3[_0x44d3('0x50')](_0x143ec3)[_0x44d3('0x52')]());};const _0x41041f=async(_0x5a046e,_0x261c99)=>{let _0x297518=await _0x5a046e[_0x44d3('0x53')][_0x44d3('0x54')]({'where':{'path':_0x261c99}},_0x44d3('0x55'));if(!_0x297518||_0x297518[_0x44d3('0x56')]===0x0){_0x297518=await _0x5a046e['query'][_0x44d3('0x54')]({'where':{'path':_0x261c99+'/'}},_0x44d3('0x55'));}if(_0x297518&&_0x297518['length']>0x0){_0x4da028(_0x44d3('0x57')+_0x261c99+_0x44d3('0x58')+_0x297518[0x0][_0x44d3('0x59')]+_0x44d3('0x5a')+_0x297518[0x0][_0x44d3('0x5b')][_0x44d3('0x59')]);return!![];}return![];};const _0x24efa0=async(_0x5e1103,_0xaa82e1,_0x5a5653)=>{const _0x13a5de=_0x501a4c['join'](_0xaa82e1,_0x5a5653);_0x4da028(_0x44d3('0x5c')+_0x13a5de+'\x20...');const _0x3ef1f1=_0x5cad7e(_0x13a5de);const _0x2acf1b=_0x2adcf6(_0x13a5de);if(_0x3ef1f1&&_0x3ef1f1['length']>0x0){_0x4da028(_0x44d3('0x5d')+_0x5a5653+_0x44d3('0x5e')+_0x3ef1f1[_0x44d3('0x56')]+_0x44d3('0x5f'));await _0x3ef1f1['forEach'](async _0x3a3983=>{const _0x13524b=_0x4e18ad(_0xaa82e1,_0x501a4c[_0x44d3('0x4e')](_0x5a5653,_0x3a3983));const _0x2820f4=await _0x41041f(_0x5e1103,_0x13524b);if(_0x2820f4)return;await _0x24efa0(_0x5e1103,_0xaa82e1,_0x501a4c[_0x44d3('0x4e')](_0x5a5653,_0x3a3983));});}else if(_0x2acf1b&&_0x2acf1b[_0x44d3('0x56')]>0x0){_0x4da028(_0x44d3('0x5d')+_0x5a5653+_0x44d3('0x5e')+_0x2acf1b[_0x44d3('0x56')]+_0x44d3('0x60'));const _0x1c8b97={'data':{'name':_0x5a5653,'description':_0x44d3('0x61')+_0x13a5de+',\x20'+_0x2acf1b[_0x44d3('0x56')]+_0x44d3('0x62'),'expandConvos':!![],'expandUtterancesToConvos':!![],'tags':{'set':_0x5a5653[_0x44d3('0x63')](_0x501a4c[_0x44d3('0x64')])},'folders':{'create':[{'name':_0x5a5653,'path':_0x4e18ad(_0xaa82e1,_0x5a5653)}]}}};const _0x49545f=await _0x5e1103[_0x44d3('0x65')]['createTestSet'](_0x1c8b97,_0x44d3('0x66'));_0x4da028(_0x44d3('0x5d')+_0x5a5653+_0x44d3('0x67')+_0x49545f['id']);}};var _0x526c59=_0x4176b3=>{(async()=>{_0x24efa0(_0x4176b3,process[_0x44d3('0x4a')][_0x44d3('0x68')],'.');})()['catch'](_0x571e10=>{_0x4da028(_0x44d3('0x69')+_0x571e10);});};var _0x39aa65={'scanForTestSets':_0x526c59};const _0x7d073e=_0x5c56d3(_0x44d3('0x6a'));var _0x3fd9aa=(_0x39411b,_0x2a7aab)=>{return _0x39411b[_0x44d3('0x53')][_0x44d3('0x6b')]({'where':{'id':_0x2a7aab}},'{\x20id\x20name\x20mimeType\x20base64\x20}');};var _0x25f5f0=(_0x29951e,_0x55f526)=>{return _0x29951e[_0x44d3('0x53')][_0x44d3('0x6c')]({'where':{'id':_0x55f526}},_0x44d3('0x6d'));};var _0x442886=(_0x1bb561,_0x28ec46)=>{const _0x42763b=new Date(Date[_0x44d3('0x6e')]())['toISOString']();if(!_0x28ec46)return;const _0x2960fd={'where':{'AND':[{'key':_0x28ec46},{'OR':[{'validFrom':null},{'validFrom_lte':_0x42763b}]},{'OR':[{'validTo':null},{'validTo_gte':_0x42763b}]}]}};return _0x1bb561[_0x44d3('0x53')]['apiKeys'](_0x2960fd,_0x44d3('0x6f'))[_0x44d3('0x70')](_0x5454cb=>{if(!_0x5454cb||_0x5454cb['length']===0x0)return null;return _0x5454cb[0x0];});};var _0x30dac7=(_0x3a5e2d,_0x315e11)=>{return _0x3a5e2d[_0x44d3('0x53')][_0x44d3('0x71')]({'where':{'id':_0x315e11}},'{\x20\x0a\x20\x20\x20\x20id\x20\x0a\x20\x20\x20\x20name\x20\x0a\x20\x20\x20\x20batchCount\x20\x0a\x20\x20\x20\x20chatbot\x20{\x20\x0a\x20\x20\x20\x20\x20\x20id\x20\x0a\x20\x20\x20\x20\x20\x20name\x20\x0a\x20\x20\x20\x20\x20\x20capabilities\x20{\x20name\x20type\x20stringValue\x20intValue\x20booleanValue\x20jsonValue\x20}\x20\x0a\x20\x20\x20\x20\x20\x20sources\x20{\x20name\x20type\x20stringValue\x20intValue\x20booleanValue\x20jsonValue\x20}\x20\x0a\x20\x20\x20\x20\x20\x20envs\x20{\x20name\x20type\x20stringValue\x20intValue\x20booleanValue\x20jsonValue\x20}\x20\x0a\x20\x20\x20\x20}\x20\x0a\x20\x20\x20\x20testSets\x20{\x20\x0a\x20\x20\x20\x20\x20\x20id\x20\x0a\x20\x20\x20\x20\x20\x20name\x20\x0a\x20\x20\x20\x20\x20\x20expandConvos\x0a\x20\x20\x20\x20\x20\x20expandUtterancesToConvos\x0a\x20\x20\x20\x20\x20\x20expandUtterancesIncomprehension\x0a\x20\x20\x20\x20\x20\x20scripts\x20{\x20id\x20script\x20scriptType\x20}\x20\x0a\x20\x20\x20\x20\x20\x20repositories\x20{\x20id\x20giturl\x20gitbranch\x20gitdir\x20globFilter\x20}\x20\x0a\x20\x20\x20\x20\x20\x20folders\x20{\x20id\x20path\x20globFilter\x20}\x0a\x20\x20\x20\x20\x20\x20excels\x20{\x20id\x20filename\x20filecontent\x20hasConvos\x20hasUtterances\x20worksheetsConvos\x20worksheetsUtterances\x20startRow\x20startCol\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20deviceSets\x20{\x20id\x20name\x20provider\x20{\x20id\x20name\x20type\x20url\x20username\x20password\x20}\x20devices\x20{\x20id\x20name\x20capabilities\x20}\x20}\x20\x0a\x20\x20\x20\x20testProject\x20{\x20id\x20name\x20capabilities\x20{\x20name\x20type\x20stringValue\x20intValue\x20booleanValue\x20jsonValue\x20}\x20}\x0a\x20\x20\x20\x20agent\x20{\x20id\x20name\x20}\x20\x0a\x20\x20\x20\x20capabilities\x20{\x20name\x20type\x20stringValue\x20intValue\x20booleanValue\x20jsonValue\x20}\x20\x0a\x20\x20\x20\x20sources\x20{\x20name\x20type\x20stringValue\x20intValue\x20booleanValue\x20jsonValue\x20}\x20\x0a\x20\x20\x20\x20envs\x20{\x20name\x20type\x20stringValue\x20intValue\x20booleanValue\x20jsonValue\x20}\x20\x0a\x20\x20\x20\x20}');};var _0x2796ab=(_0x3eb9ba,_0x2fd797)=>{return _0x3eb9ba['query'][_0x44d3('0x71')]({'where':{'id':_0x2fd797}},'{\x20id\x20name\x20status\x0a\x20\x20\x20\x20results\x20{\x20id\x20testcaseName\x20testcaseSource\x20success\x20err\x20testSet\x20{\x20id\x20name\x20}\x20}\x20}');};var _0x1281ec=(_0x2963cb,_0x27321e,_0x2bd081)=>{if(!_0x27321e['data'][_0x44d3('0x59')]||!_0x27321e[_0x44d3('0x72')][_0x44d3('0x73')]){const _0x95d1be='invalid\x20agent\x20event,\x20name\x20or\x20group\x20not\x20given\x20'+_0x27321e[_0x44d3('0x72')];_0x7d073e(_0x95d1be);return Promise[_0x44d3('0x74')](_0x95d1be);}return _0x2963cb[_0x44d3('0x53')]['agent']({'where':{'name':_0x27321e[_0x44d3('0x72')][_0x44d3('0x59')]}},_0x2bd081);};var _0x2ed4f4=_0x5f267d=>{return _0x5f267d&&_0x5f267d[_0x44d3('0x75')]((_0xf17d02,_0x32870a)=>{if(_0x32870a[_0x44d3('0x76')]==='STRING'||_0x32870a[_0x44d3('0x76')]===_0x44d3('0x77'))_0xf17d02[_0x32870a['name']]=_0x32870a[_0x44d3('0x78')][_0x44d3('0x79')](/\\n/g,'\x0a');if(_0x32870a['type']===_0x44d3('0x7a'))_0xf17d02[_0x32870a['name']]=parseInt(_0x32870a[_0x44d3('0x7b')]);if(_0x32870a[_0x44d3('0x76')]===_0x44d3('0x7c'))_0xf17d02[_0x32870a[_0x44d3('0x59')]]=_0x32870a['booleanValue']?!![]:![];if(_0x32870a[_0x44d3('0x76')]===_0x44d3('0x7d'))_0xf17d02[_0x32870a[_0x44d3('0x59')]]=JSON[_0x44d3('0x7e')](_0x32870a[_0x44d3('0x7f')]);return _0xf17d02;},{});};var _0x18e6ac=(..._0x18b36e)=>{const _0x390710={};_0x18b36e&&_0x18b36e[_0x44d3('0x80')](_0x2c4e6c=>{_0x2c4e6c&&Object[_0x44d3('0x81')](_0x2c4e6c)['forEach'](_0x488c35=>{_0x390710[_0x488c35]=_0x2c4e6c[_0x488c35];});});return _0x390710;};var _0x5c65ab={'getAttachment':_0x3fd9aa,'getExcel':_0x25f5f0,'lookupApiKey':_0x442886,'findFullTestSession':_0x30dac7,'findSimpleTestSessionResults':_0x2796ab,'findAgentFromJobData':_0x1281ec,'composeBotiumCapabilities':_0x2ed4f4,'combineBotiumCapabilities':_0x18e6ac};const _0x29b491=_0x5c56d3('botium-box-server-agents-heartbeat');var _0x43c430=(_0x442dc7,_0x193705,_0x4c543a)=>{_0x5c65ab[_0x44d3('0x82')](_0x442dc7['db'],_0x193705,_0x44d3('0x83'))[_0x44d3('0x70')](_0x39ae13=>{if(_0x39ae13){_0x442dc7['db'][_0x44d3('0x65')][_0x44d3('0x84')]({'where':{'id':_0x39ae13['id']},'data':{'heartbeat':new Date(Date[_0x44d3('0x6e')]())['toISOString']()}})[_0x44d3('0x70')](()=>_0x4c543a());}else{const _0x257c98='Agent\x20'+_0x193705['data'][_0x44d3('0x59')]+_0x44d3('0x85');_0x29b491(_0x257c98);return _0x4c543a(_0x257c98);}})['catch'](_0x4edd10=>{return _0x4c543a(_0x4edd10);});};const _0xc5f17e=_0x5c56d3('botium-box-server-agents-registeragent');var _0x3726ee=(_0x12f5dd,_0x4962c9,_0x1cda66)=>{_0x5c65ab[_0x44d3('0x82')](_0x12f5dd['db'],_0x4962c9,_0x44d3('0x86'))[_0x44d3('0x70')](_0x562e79=>{if(_0x562e79){const _0x4dd551=_0x5c65ab[_0x44d3('0x87')](_0x562e79['capabilities']);const _0x30838d={'debug':![],'botium':{'Capabilities':_0x4dd551}};_0xc5f17e(_0x44d3('0x88')+JSON['stringify'](_0x30838d));return _0x1cda66(null,_0x30838d);}else{const _0x4ea6a1='Agent\x20'+_0x4962c9[_0x44d3('0x72')]['name']+'\x20not\x20configured';_0xc5f17e(_0x4ea6a1);return _0x1cda66(_0x4ea6a1);}})[_0x44d3('0x89')](_0x2c3d8d=>{return _0x1cda66(_0x2c3d8d);});};const _0x3f44c6=(_0x49d03b,_0x3d360a)=>{return _0x49d03b[_0x44d3('0x53')][_0x44d3('0x5b')]({'where':{'id':_0x3d360a}});};const _0x5bbb59=_0x4b8228=>{return{'id':_0x4b8228['id'],'name':_0x4b8228[_0x44d3('0x59')],'expandConvos':_0x4b8228['expandConvos'],'expandUtterancesToConvos':_0x4b8228[_0x44d3('0x8a')],'expandUtterancesIncomprehension':_0x4b8228[_0x44d3('0x8b')],'convos':_0x4b8228['scripts']&&_0x4b8228[_0x44d3('0x8c')]['filter'](_0x5df680=>_0x5df680['scriptType']===_0x44d3('0x8d'))['map'](_0x5143c0=>({'format':'SCRIPTING_FORMAT_TXT','content':_0x5143c0[_0x44d3('0x8e')],'sourceTag':{'testSetId':_0x4b8228['id'],'testSetScriptId':_0x5143c0['id']}})),'utterances':_0x4b8228[_0x44d3('0x8c')]&&_0x4b8228['scripts'][_0x44d3('0x8f')](_0x22b4ef=>_0x22b4ef[_0x44d3('0x90')]==='SCRIPTING_TYPE_UTTERANCES')[_0x44d3('0x91')](_0xed49ba=>({'format':_0x44d3('0x92'),'content':_0xed49ba[_0x44d3('0x8e')],'sourceTag':{'testSetId':_0x4b8228['id'],'testSetScriptId':_0xed49ba['id']}})),'folders':_0x4b8228['folders']&&_0x4b8228['folders'][_0x44d3('0x91')](_0x512e3d=>({'id':_0x512e3d['id'],'path':_0x512e3d[_0x44d3('0x13')],'globFilter':_0x512e3d[_0x44d3('0x93')],'sourceTag':{'testSetId':_0x4b8228['id'],'testSetFolderId':_0x512e3d['id']}})),'excels':_0x4b8228[_0x44d3('0x94')]&&_0x4b8228['excels'][_0x44d3('0x91')](_0x513f24=>({'id':_0x513f24['id'],'filename':_0x513f24['filename'],'filecontent':_0x513f24[_0x44d3('0x95')],'hasConvos':_0x513f24['hasConvos'],'hasUtterances':_0x513f24[_0x44d3('0x96')],'worksheetsConvos':_0x513f24[_0x44d3('0x97')],'worksheetsUtterances':_0x513f24['worksheetsUtterances'],'startRow':_0x513f24['startRow'],'startCol':_0x513f24[_0x44d3('0x98')],'sourceTag':{'testSetId':_0x4b8228['id'],'testSetExcelId':_0x513f24['id']}}))};};var _0x3142d1={'FindFullTestSet':_0x3f44c6,'RetrieveTestSetDetails':_0x5bbb59};const {URL}=_0x2a3bbe;const _0x50a940=_0x5c56d3('botium-box-server-agents-testsession');const {RetrieveTestSetDetails:RetrieveTestSetDetails$1}=_0x3142d1;var _0x2550bc=(_0xbdc5d6,_0xa09ff,_0x5e8487)=>{_0x5c65ab[_0x44d3('0x99')](_0xbdc5d6['db'],_0xa09ff[_0x44d3('0x72')][_0x44d3('0x9a')])[_0x44d3('0x70')](_0x3aada4=>{if(!_0x3aada4){const _0x1f0c78=_0x44d3('0x9b')+_0xa09ff[_0x44d3('0x72')][_0x44d3('0x9a')]+_0x44d3('0x85');_0x50a940(_0x1f0c78);return _0x5e8487(_0x1f0c78);}_0x50a940(_0x44d3('0x9c')+_0x3aada4['id']);const _0x2fa5fe=_0x3aada4[_0x44d3('0x9d')]?'process.'+_0x3aada4[_0x44d3('0x9d')][_0x44d3('0x59')]:_0x44d3('0x9e');_0x50a940(_0x44d3('0x9c')+_0x3aada4['id']+_0x44d3('0x9f')+_0x2fa5fe);const _0x1439c6=_0x5c65ab['combineBotiumCapabilities']({'PROJECTNAME':_0x3aada4['name']},_0x5c65ab[_0x44d3('0x87')](_0x3aada4['chatbot']['capabilities']),_0x3aada4[_0x44d3('0xa0')]&&_0x5c65ab[_0x44d3('0x87')](_0x3aada4[_0x44d3('0xa0')]['capabilities'])||[],_0x5c65ab[_0x44d3('0x87')](_0x3aada4[_0x44d3('0xa1')]));_0x50a940(_0x44d3('0x9c')+_0x3aada4['id']+_0x44d3('0xa2')+JSON[_0x44d3('0xa3')](_0x1439c6));const _0x4cabef=_0x5c65ab['combineBotiumCapabilities'](_0x5c65ab[_0x44d3('0x87')](_0x3aada4[_0x44d3('0xa4')][_0x44d3('0xa5')]),_0x5c65ab['composeBotiumCapabilities'](_0x3aada4[_0x44d3('0xa5')]));_0x50a940('startTestSession\x20'+_0x3aada4['id']+_0x44d3('0xa6')+JSON[_0x44d3('0xa3')](_0x4cabef));const _0x244e4b=_0x5c65ab[_0x44d3('0xa7')](_0x5c65ab[_0x44d3('0x87')](_0x3aada4[_0x44d3('0xa4')][_0x44d3('0xa8')]),_0x5c65ab['composeBotiumCapabilities'](_0x3aada4['envs']));_0x50a940(_0x44d3('0x9c')+_0x3aada4['id']+_0x44d3('0xa9')+JSON[_0x44d3('0xa3')](_0x244e4b));const _0x55d7a6=_0x3aada4['testSets'][_0x44d3('0x91')](_0xfff76a=>RetrieveTestSetDetails$1(_0xfff76a));_0x50a940(_0x44d3('0x9c')+_0x3aada4['id']+_0x44d3('0xaa')+JSON[_0x44d3('0xa3')](_0x55d7a6));const _0x58a3c9=(_0x41ffe3,_0x28dc85)=>{const _0x79f5f8=_0x3aada4['batchCount']||0x1;let _0x27f0b2=Promise[_0x44d3('0x4b')]();for(let _0x481f54=0x1;_0x481f54<=_0x79f5f8;_0x481f54++){const _0x1883b8=_0x481f54;_0x27f0b2=_0x27f0b2[_0x44d3('0x70')](()=>new Promise(_0x47f070=>{const _0x104bd1=_0xbdc5d6[_0x44d3('0xab')][_0x44d3('0xac')](_0x2fa5fe,{'title':_0x44d3('0xad')+_0x1883b8+'/'+_0x79f5f8+_0x44d3('0xae')+_0x3aada4[_0x44d3('0x59')],'botium':{'Capabilities':_0x41ffe3,'Sources':_0x4cabef,'Envs':_0x244e4b},'testSets':_0x28dc85,'batchNum':_0x1883b8,'batchCount':_0x79f5f8})['removeOnComplete'](!![])[_0x44d3('0xaf')](0x1388)[_0x44d3('0xb0')](_0x1f0c78=>{if(_0x1f0c78)return _0x50a940(_0x44d3('0xb1')+_0x1f0c78);const _0x5bedae=_0x104bd1['id'];_0xbdc5d6['db']['mutation'][_0x44d3('0xb2')]({'data':{'jobId':_0x5bedae,'status':'PENDING','progressPercent':0x0,'testSession':{'connect':{'id':_0x3aada4['id']}}}},_0x44d3('0xb3'))['then'](_0x2dadf9=>{_0x50a940('TestSessionJob\x20for\x20TestSession\x20'+_0x3aada4['name']+_0x44d3('0xb4')+_0x5bedae+'\x20id:\x20'+_0x2dadf9['id']+')');_0x47f070();})[_0x44d3('0x89')](_0x1f0c78=>{_0x50a940(_0x44d3('0xb5')+_0x3aada4[_0x44d3('0x59')]+_0x44d3('0xb6')+_0x5bedae+_0x44d3('0xb7')+_0x1f0c78);_0x47f070();});});}));}return _0x27f0b2;};if(_0x3aada4['deviceSets']&&_0x3aada4['deviceSets'][_0x44d3('0x56')]>0x0){const _0x28f8c6=_0x3aada4['deviceSets'][_0x44d3('0x75')]((_0xeb14ed,_0x36dfad)=>{return[..._0xeb14ed,..._0x36dfad[_0x44d3('0xb8')][_0x44d3('0x91')](_0x324980=>{const _0x4412c0=_0x36dfad[_0x44d3('0xb9')][_0x44d3('0x2')]&&new URL(_0x36dfad[_0x44d3('0xb9')]['url']);if(_0x36dfad['provider'][_0x44d3('0x76')]==='SAUCELABS'){return{'deviceSetId':_0x36dfad['id'],'deviceName':_0x324980[_0x44d3('0x59')],'deviceOptions':{'desiredCapabilities':Object[_0x44d3('0xba')]({},JSON[_0x44d3('0x7e')](_0x324980['capabilities']),{'name':_0x3aada4[_0x44d3('0x59')],'username':_0x36dfad['provider']['username'],'accessKey':_0x36dfad[_0x44d3('0xb9')][_0x44d3('0xbb')]}),'protocol':_0x4412c0&&_0x4412c0[_0x44d3('0xbc')],'host':_0x4412c0&&_0x4412c0[_0x44d3('0xbd')],'port':_0x4412c0&&_0x4412c0['port'],'path':_0x4412c0&&_0x4412c0[_0x44d3('0xbe')]}};}else if(_0x36dfad['provider']['type']==='LOCALSELENIUM'){return{'deviceSetId':_0x36dfad['id'],'deviceName':_0x324980[_0x44d3('0x59')],'deviceOptions':{'desiredCapabilities':Object[_0x44d3('0xba')]({},JSON[_0x44d3('0x7e')](_0x324980[_0x44d3('0xa1')]),{'name':_0x3aada4['name']}),'protocol':_0x4412c0&&_0x4412c0[_0x44d3('0xbc')],'host':_0x4412c0&&_0x4412c0['host'],'port':_0x4412c0&&_0x4412c0[_0x44d3('0xbf')],'path':_0x4412c0&&_0x4412c0[_0x44d3('0xbe')]}};}else{if(_0x36dfad['provider'][_0x44d3('0x76')]===_0x44d3('0xc0')){_0x50a940(_0x44d3('0x9c')+_0x3aada4['id']+_0x44d3('0xc1'));_0x1439c6[_0x44d3('0xc2')]=!![];}return{'deviceSetId':_0x36dfad['id'],'deviceName':_0x324980['name'],'deviceOptions':{'desiredCapabilities':Object[_0x44d3('0xba')]({},JSON['parse'](_0x324980[_0x44d3('0xa1')]),{'name':_0x3aada4[_0x44d3('0x59')]})}};}})];},[]);_0x50a940(_0x44d3('0x9c')+_0x3aada4['id']+_0x44d3('0xc3')+JSON[_0x44d3('0xa3')](_0x28f8c6,null,0x2));let _0xf86328=Promise[_0x44d3('0x4b')]();_0x28f8c6[_0x44d3('0x80')](_0x1a7a6d=>{const _0xba0def=_0x487116=>{return _0x487116&&_0x487116[_0x44d3('0x80')](_0x360ce5=>{_0x360ce5['sourceTag']=Object['assign']({},_0x360ce5['sourceTag'],{'deviceSetId':_0x1a7a6d[_0x44d3('0xc4')],'deviceName':_0x1a7a6d[_0x44d3('0xc5')]});});};const _0x2df826=_0x1eeeb8['cloneDeep'](_0x55d7a6);_0x2df826[_0x44d3('0x80')](_0x56f85e=>{_0xba0def(_0x56f85e[_0x44d3('0xc6')]);_0xba0def(_0x56f85e[_0x44d3('0xc7')]);_0xba0def(_0x56f85e['repositories']);_0xba0def(_0x56f85e[_0x44d3('0xc8')]);_0xba0def(_0x56f85e[_0x44d3('0x94')]);});const _0xe91256=Object[_0x44d3('0xba')]({},_0x1439c6,{'WEBDRIVERIO_OPTIONS':_0x1a7a6d[_0x44d3('0xc9')]});_0xf86328=_0xf86328[_0x44d3('0x70')](()=>_0x58a3c9(_0xe91256,_0x2df826));});return _0xf86328['then'](()=>_0x5e8487())[_0x44d3('0x89')](_0x5e8487);}else{return _0x58a3c9(_0x1439c6,_0x55d7a6)[_0x44d3('0x70')](()=>_0x5e8487())[_0x44d3('0x89')](_0x5e8487);}})[_0x44d3('0x89')](_0x15f1f4=>{_0x50a940(_0x44d3('0xca')+_0x15f1f4);_0x5e8487(_0x15f1f4);});};var _0x4d395a=(_0x52beb0,_0x2a6c4d,_0x3df42e,_0x50f2be)=>{return _0x52beb0['db'][_0x44d3('0x53')]['testSessionJobs']({'where':{'jobId':_0x2a6c4d}},'{\x20id\x20status\x20progressPercent\x20testSession\x20{\x20id\x20name\x20status\x20}\x20\x20}')[_0x44d3('0x70')](_0x17d65d=>{if(!_0x17d65d||_0x17d65d[_0x44d3('0x56')]===0x0){return _0x50a940(_0x44d3('0xcb')+_0x2a6c4d+'\x20not\x20registered\x20as\x20test\x20session\x20job.\x20Skipping.');}const _0x2c1ace=_0x17d65d[0x0];if(_0x2c1ace['testSession'][_0x44d3('0xcc')]==='PENDING'){_0x52beb0['db']['mutation'][_0x44d3('0xcd')]({'data':{'status':_0x44d3('0xce')},'where':{'id':_0x2c1ace[_0x44d3('0x71')]['id']}})[_0x44d3('0x70')](()=>{_0x50a940('Test\x20Session\x20Job\x20'+_0x2a6c4d+'/'+_0x2c1ace['id']+_0x44d3('0xcf')+_0x2c1ace[_0x44d3('0x71')]['id']+_0x44d3('0xd0'));})[_0x44d3('0x89')](_0x5df50e=>{_0x50a940(_0x44d3('0xd1')+_0x2a6c4d+'/'+_0x2c1ace['id']+_0x44d3('0xcf')+_0x2c1ace[_0x44d3('0x71')]['id']+_0x44d3('0xd2')+_0x5df50e);});}if(_0x2c1ace[_0x44d3('0xcc')]===_0x44d3('0xd3')){_0x52beb0['db']['mutation']['updateTestSessionJob']({'data':{'status':'RUNNING','started':new Date(Date[_0x44d3('0x6e')]())[_0x44d3('0xd4')](),'progressPercent':_0x1eeeb8[_0x44d3('0xd5')](_0x3df42e)&&_0x3df42e},'where':{'id':_0x2c1ace['id']}})['then'](()=>{_0x50a940('Test\x20Session\x20Job\x20'+_0x2a6c4d+'/'+_0x2c1ace['id']+_0x44d3('0xd6'));})[_0x44d3('0x89')](_0x59fc09=>{_0x50a940(_0x44d3('0xd1')+_0x2a6c4d+'/'+_0x2c1ace['id']+_0x44d3('0xd7')+_0x59fc09);});}if(_0x2c1ace[_0x44d3('0xcc')]==='RUNNING'&&_0x1eeeb8[_0x44d3('0xd5')](_0x3df42e)&&_0x2c1ace[_0x44d3('0xd8')]<_0x3df42e){_0x52beb0['db'][_0x44d3('0x65')][_0x44d3('0xd9')]({'data':{'progressPercent':_0x3df42e},'where':{'id':_0x2c1ace['id']}})[_0x44d3('0x70')](()=>{_0x50a940('Test\x20Session\x20Job\x20'+_0x2a6c4d+'/'+_0x2c1ace['id']+_0x44d3('0xda')+_0x3df42e+'.');})[_0x44d3('0x70')](()=>_0x58c92d(_0x52beb0,_0x2c1ace['testSession']['id']))[_0x44d3('0x89')](_0x5b9139=>{_0x50a940(_0x44d3('0xd1')+_0x2a6c4d+'/'+_0x2c1ace['id']+_0x44d3('0xda')+_0x3df42e+'\x20failed:\x20'+_0x5b9139);});}if(_0x50f2be[_0x44d3('0x40')]){_0x52beb0['db'][_0x44d3('0x65')]['createTestSessionJobLog']({'data':{'log':_0x50f2be['log'],'testSessionJob':{'connect':{'id':_0x2c1ace['id']}}}},_0x44d3('0x66'))[_0x44d3('0x70')](()=>{_0x50a940('Test\x20Session\x20Job\x20'+_0x2a6c4d+'/'+_0x2c1ace['id']+_0x44d3('0xdb')+_0x50f2be[_0x44d3('0x40')]);})[_0x44d3('0x89')](_0x247a69=>{_0x50a940(_0x44d3('0xd1')+_0x2a6c4d+'/'+_0x2c1ace['id']+_0x44d3('0xdc')+_0x247a69);});}if(_0x50f2be['testcase']){const _0x4936b7={'testcaseName':_0x50f2be[_0x44d3('0xdd')],'testcaseSource':_0x50f2be[_0x44d3('0xde')],'success':_0x50f2be['success'],'err':_0x50f2be[_0x44d3('0xdf')],'testSession':{'connect':{'id':_0x2c1ace[_0x44d3('0x71')]['id']}}};if(_0x50f2be[_0x44d3('0xe0')]){_0x4936b7[_0x44d3('0xe0')]=_0x1eeeb8[_0x44d3('0xe1')](_0x50f2be[_0x44d3('0xe0')])?_0x50f2be[_0x44d3('0xe0')]:JSON[_0x44d3('0xa3')](_0x50f2be[_0x44d3('0xe0')]);}if(_0x50f2be['sourceTag']){if(_0x50f2be[_0x44d3('0xe2')][_0x44d3('0xe3')])_0x4936b7[_0x44d3('0xe4')]=_0x50f2be[_0x44d3('0xe2')][_0x44d3('0xe3')];if(_0x50f2be[_0x44d3('0xe2')][_0x44d3('0xe5')])_0x4936b7[_0x44d3('0x5b')]={'connect':{'id':_0x50f2be[_0x44d3('0xe2')]['testSetId']}};if(_0x50f2be[_0x44d3('0xe2')][_0x44d3('0xe6')])_0x4936b7[_0x44d3('0xe7')]={'connect':{'id':_0x50f2be[_0x44d3('0xe2')]['testSetScriptId']}};if(_0x50f2be['sourceTag'][_0x44d3('0xe8')])_0x4936b7[_0x44d3('0xe9')]={'connect':{'id':_0x50f2be[_0x44d3('0xe2')][_0x44d3('0xe8')]}};if(_0x50f2be['sourceTag'][_0x44d3('0xea')])_0x4936b7['testSetFolder']={'connect':{'id':_0x50f2be[_0x44d3('0xe2')]['testSetFolderId']}};if(_0x50f2be[_0x44d3('0xe2')][_0x44d3('0xeb')])_0x4936b7['testSetExcel']={'connect':{'id':_0x50f2be['sourceTag'][_0x44d3('0xeb')]}};if(_0x50f2be['sourceTag'][_0x44d3('0xc4')])_0x4936b7[_0x44d3('0xec')]={'connect':{'id':_0x50f2be[_0x44d3('0xe2')][_0x44d3('0xc4')]}};if(_0x50f2be['sourceTag'][_0x44d3('0xc5')])_0x4936b7['deviceName']=_0x50f2be[_0x44d3('0xe2')][_0x44d3('0xc5')];}if(_0x50f2be[_0x44d3('0xed')]){_0x4936b7[_0x44d3('0xed')]={'create':_0x50f2be[_0x44d3('0xed')][_0x44d3('0x91')](_0x3621a1=>{return{'name':_0x3621a1[_0x44d3('0x59')],'mimeType':_0x3621a1[_0x44d3('0xee')],'base64':_0x3621a1[_0x44d3('0xef')]};})};}_0x52beb0['db'][_0x44d3('0x65')][_0x44d3('0xf0')]({'data':_0x4936b7},_0x44d3('0x66'))['then'](_0xe0d338=>{_0x50a940(_0x44d3('0xf1')+_0x50f2be[_0x44d3('0xdd')]+_0x44d3('0xf2')+_0x2c1ace[_0x44d3('0x71')][_0x44d3('0x59')]+_0x44d3('0xb4')+_0x2a6c4d+_0x44d3('0xf3')+_0xe0d338['id']+')');})[_0x44d3('0x89')](_0x3b3caf=>{_0x50a940(_0x44d3('0xf1')+_0x50f2be[_0x44d3('0xdd')]+'\x20in\x20TestSession\x20'+_0x2c1ace[_0x44d3('0x71')][_0x44d3('0x59')]+_0x44d3('0xf4')+_0x3b3caf);});}})['catch'](_0x5ceafb=>{_0x50a940(_0x44d3('0xf5')+_0x5ceafb);});};var _0x966f7b=(_0x4bbb83,_0x5b591b,_0x102276)=>{return _0x4bbb83['db'][_0x44d3('0x53')][_0x44d3('0xf6')]({'where':{'jobId':_0x5b591b}},_0x44d3('0xf7'))[_0x44d3('0x70')](_0x707e11=>{if(!_0x707e11||_0x707e11['length']===0x0){return _0x50a940('testSessionJobCompleted:\x20Job\x20'+_0x5b591b+'\x20not\x20registered\x20as\x20test\x20session\x20job.\x20Skipping.');}const _0x52145b=_0x707e11[0x0];_0x4bbb83['db'][_0x44d3('0x65')]['updateTestSessionJob']({'data':{'status':_0x44d3('0xf8'),'jobId':null,'progressPercent':0x64,'finished':new Date(Date[_0x44d3('0x6e')]())[_0x44d3('0xd4')]()},'where':{'id':_0x52145b['id']}})[_0x44d3('0x70')](()=>{_0x50a940('Test\x20Session\x20Job\x20'+_0x5b591b+'/'+_0x52145b['id']+'\x20completed.');})[_0x44d3('0x70')](()=>{_0x4bbb83['db']['mutation'][_0x44d3('0xf9')]({'data':{'log':_0x44d3('0xfa'),'testSessionJob':{'connect':{'id':_0x52145b['id']}}}},_0x44d3('0x66'))[_0x44d3('0x89')](_0x8adfde=>{_0x50a940('testSessionJobCompleted\x20createTestSessionJobLog\x20failed:\x20'+_0x8adfde);});})[_0x44d3('0x70')](()=>_0x9093f6(_0x4bbb83,_0x5b591b,_0x52145b['id'],_0x52145b['testSession']['id']))[_0x44d3('0x70')](()=>_0x58c92d(_0x4bbb83,_0x52145b[_0x44d3('0x71')]['id']))[_0x44d3('0x89')](_0x47359e=>{_0x50a940(_0x44d3('0xfb')+_0x47359e);});});};var _0x234b1d=(_0x1d37ac,_0x41804f,_0x54b290)=>{return _0x1d37ac['db'][_0x44d3('0x53')][_0x44d3('0xf6')]({'where':{'jobId':_0x41804f}},_0x44d3('0xf7'))[_0x44d3('0x70')](_0x16c2fd=>{if(!_0x16c2fd||_0x16c2fd[_0x44d3('0x56')]===0x0){return _0x50a940('testSessionJobFailed:\x20Job\x20'+_0x41804f+_0x44d3('0xfc'));}const _0x606c63=_0x16c2fd[0x0];_0x1d37ac['db']['mutation'][_0x44d3('0xd9')]({'data':{'status':_0x44d3('0xfd'),'jobId':null,'err':_0x54b290},'where':{'id':_0x606c63['id']}})['then'](()=>{_0x50a940('Test\x20Session\x20Job\x20'+_0x41804f+'/'+_0x606c63['id']+_0x44d3('0xfe')+_0x54b290+'.');})[_0x44d3('0x70')](()=>{_0x1d37ac['db'][_0x44d3('0x65')][_0x44d3('0xf9')]({'data':{'log':_0x44d3('0xff')+_0x54b290,'testSessionJob':{'connect':{'id':_0x606c63['id']}}}},'{\x20id\x20}')[_0x44d3('0x89')](_0x54b290=>{_0x50a940(_0x44d3('0x100')+_0x54b290);});})[_0x44d3('0x70')](()=>_0x9093f6(_0x1d37ac,_0x41804f,_0x606c63['id'],_0x606c63['testSession']['id']))['then'](()=>_0x58c92d(_0x1d37ac,_0x606c63[_0x44d3('0x71')]['id']))['catch'](_0x54b290=>{_0x50a940(_0x44d3('0x101')+_0x54b290);});});};const _0x9093f6=(_0x324b30,_0x336398,_0xa40999,_0x396670)=>{_0x50a940(_0x44d3('0xd1')+_0x336398+'/'+_0xa40999+'\x20testSessionCheckFinished\x20'+_0x396670);return _0x324b30['db'][_0x44d3('0x65')][_0x44d3('0x102')]({'data':{'status':_0x44d3('0xf8')},'where':{'AND':[{'id':_0x396670},{'results_every':{'success':!![]}},{'jobs_every':{'status':_0x44d3('0xf8')}}]}})[_0x44d3('0x89')](_0x1badc4=>{_0x50a940(_0x44d3('0x103')+_0x336398+'/'+_0xa40999+'\x20failed:\x20'+_0x1badc4);})[_0x44d3('0x70')](()=>_0x324b30['db'][_0x44d3('0x65')][_0x44d3('0x102')]({'data':{'status':_0x44d3('0xfd')},'where':{'AND':[{'id':_0x396670},{'jobs_every':{'status_in':['READY',_0x44d3('0xfd')]}},{'OR':[{'results_some':{'success':![]}},{'jobs_some':{'status':'FAILED'}}]}]}}))[_0x44d3('0x89')](_0x28ced1=>{_0x50a940(_0x44d3('0x103')+_0x336398+'/'+_0xa40999+_0x44d3('0xfe')+_0x28ced1);});};const _0x58c92d=(_0x218e8b,_0x3b3bf9)=>{_0x50a940(_0x44d3('0x9b')+_0x3b3bf9+'\x20sendSubscriptionProgress');_0x218e8b['db'][_0x44d3('0x53')][_0x44d3('0x71')]({'where':{'id':_0x3b3bf9}},_0x44d3('0x104'))[_0x44d3('0x70')](_0x3cc669=>{if(!_0x3cc669)return;_0x218e8b[_0x44d3('0x105')][_0x44d3('0x106')](_0x44d3('0x107'),{'testSessionProgress':_0x3cc669});});};var _0x213c2f={'startTestSession':_0x2550bc,'testSessionProgress':_0x4d395a,'testSessionJobCompleted':_0x966f7b,'testSessionJobFailed':_0x234b1d};const _0x38c203=_0x5c56d3(_0x44d3('0x108'));var _0x534920=class AgentsConnector{constructor(_0x3d8ed2){this[_0x44d3('0x109')]=_0x3d8ed2;}[_0x44d3('0x10a')](){const _0x2a1401=this[_0x44d3('0x109')]();_0x2a1401[_0x44d3('0xab')][_0x44d3('0x9e')]('agent.heartbeat',(_0x575e65,_0x39ea78)=>{_0x38c203(_0x44d3('0x10b')+JSON[_0x44d3('0xa3')](_0x575e65[_0x44d3('0x72')]));_0x43c430(_0x2a1401,_0x575e65,_0x39ea78);});_0x2a1401[_0x44d3('0xab')]['process'](_0x44d3('0x10c'),(_0x4b3cd5,_0x29287a)=>{_0x38c203('agent.register:\x20'+JSON[_0x44d3('0xa3')](_0x4b3cd5[_0x44d3('0x72')]));_0x3726ee(_0x2a1401,_0x4b3cd5,_0x29287a);});_0x2a1401[_0x44d3('0xab')][_0x44d3('0x9e')](_0x44d3('0x10d'),(_0xe83647,_0x2ab9af)=>{_0x38c203(_0x44d3('0x10e')+JSON[_0x44d3('0xa3')](_0xe83647['data']));_0x213c2f[_0x44d3('0x10f')](_0x2a1401,_0xe83647,_0x2ab9af);});_0x2a1401[_0x44d3('0xab')]['on'](_0x44d3('0x110'),_0x6d4dce=>{_0x38c203(_0x44d3('0x111'));_0x38c203(_0x6d4dce);});_0x2a1401[_0x44d3('0xab')]['on'](_0x44d3('0x112'),(_0x49fe5c,_0xc5136d)=>{_0x38c203(_0x44d3('0x113')+_0x49fe5c+'\x20got\x20queued\x20of\x20type\x20'+_0xc5136d);});const _0x4a21be=new _0x51ad09((_0x351783,_0x3029ec)=>{_0x351783()[_0x44d3('0x70')](()=>_0x3029ec())[_0x44d3('0x89')](_0x552278=>_0x38c203('jobProcessingQueue\x20error:\x20'+_0x552278)&&_0x3029ec(_0x552278));},{'maxRetries':0xa,'retryDelay':0x3e8});_0x2a1401['queueConnector']['on'](_0x44d3('0x114'),(_0x8a0f34,_0x65ab79)=>{_0x38c203('Job\x20'+_0x8a0f34+_0x44d3('0x115')+_0x65ab79);_0x4a21be[_0x44d3('0x4f')](()=>_0x213c2f[_0x44d3('0x116')](_0x2a1401,_0x8a0f34,_0x65ab79));});_0x2a1401[_0x44d3('0xab')]['on'](_0x44d3('0x117'),(_0x4bc6d0,_0x488064)=>{_0x38c203(_0x44d3('0x113')+_0x4bc6d0+'\x20completed\x20'+JSON['stringify'](_0x488064));_0x4a21be[_0x44d3('0x4f')](()=>_0x213c2f[_0x44d3('0x118')](_0x2a1401,_0x4bc6d0,_0x488064));});_0x2a1401[_0x44d3('0xab')]['on'](_0x44d3('0x119'),(_0x2e3962,_0x29962f,_0x41ea00)=>{_0x38c203('Job\x20'+_0x2e3962+_0x44d3('0x11a')+_0x29962f);_0x4a21be['push'](()=>_0x213c2f['testSessionProgress'](_0x2a1401,_0x2e3962,_0x29962f,_0x41ea00));});}};const _0x36a751=()=>({'secret':process[_0x44d3('0x4a')][_0x44d3('0x11b')],'audience':process['env'][_0x44d3('0x11c')]||_0x44d3('0x11d'),'issuer':process[_0x44d3('0x4a')][_0x44d3('0x11e')]||_0x44d3('0x11d')});const _0x342f23=_0x53f486=>({'id':_0x53f486});const _0x5c8a54=_0x2b26d9=>_0x2b26d9&&_0x2b26d9['id'];const _0x5508dc=_0x2e14b9=>{return _0xd4c5d4[_0x44d3('0x11f')](_0x342f23(_0x2e14b9['id']),process[_0x44d3('0x4a')][_0x44d3('0x11b')],{'expiresIn':0x15180*(process[_0x44d3('0x4a')][_0x44d3('0x120')]||0x1e),'audience':process[_0x44d3('0x4a')]['JWT_AUDIENCE']||_0x44d3('0x11d'),'issuer':process['env'][_0x44d3('0x11e')]||_0x44d3('0x11d'),'subject':_0x2e14b9['id'][_0x44d3('0x121')]()});};const _0x40c951=async(_0x4ff6db,_0x226a04)=>{const _0x596fb8=_0xd4c5d4[_0x44d3('0x122')](_0x4ff6db,process[_0x44d3('0x4a')][_0x44d3('0x11b')],{'audience':process[_0x44d3('0x4a')][_0x44d3('0x11c')]||_0x44d3('0x11d'),'issuer':process[_0x44d3('0x4a')][_0x44d3('0x11e')]||_0x44d3('0x11d')});const _0x5b5095=await _0x226a04[_0x44d3('0x53')][_0x44d3('0x123')]({'where':{'id':_0x5c8a54(_0x596fb8)}},'{\x20id\x20name\x20email\x20roles\x20}');return _0x5b5095;};var _0x117d42={'jwtSettings':_0x36a751,'userIdToToken':_0x342f23,'tokenToUserId':_0x5c8a54,'generateToken':_0x5508dc,'validateToken':_0x40c951};const {generateToken:generateToken$1}=_0x117d42;var _0x168e94={async 'me'(_0x50c75b,_0x1badde,_0x392621,_0x5160d4){return _0x392621[_0x44d3('0x124')]&&_0x392621[_0x44d3('0x124')][_0x44d3('0x123')];},async 'autologin'(_0xcb0b0a,_0x33f0bc,_0x3d813b,_0xd5f1c5){if(_0x3d813b['request']&&_0x3d813b['request'][_0x44d3('0x123')]){return{'user':_0x3d813b['request'][_0x44d3('0x123')],'token':generateToken$1(_0x3d813b['request'][_0x44d3('0x123')])};}}};var _0x5d2816={'agents'(_0x3c9375,{where,orderBy,skip,first},_0xb08345,_0xce7fb0){orderBy=orderBy||_0x44d3('0x125');return _0xb08345['db'][_0x44d3('0x53')][_0x44d3('0x126')]({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0xce7fb0);},'agent'(_0x55c1a5,{id},_0x2ae992,_0x92d8a7){return _0x2ae992['db']['query'][_0x44d3('0x9d')]({'where':{'id':id}},_0x92d8a7);}};var _0x4a4d0c={'chatbots'(_0x2aa33d,{where,orderBy,skip,first},_0x282d34,_0x599fba){orderBy=orderBy||'name_ASC';return _0x282d34['db'][_0x44d3('0x53')][_0x44d3('0x127')]({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x599fba);},'chatbot'(_0x14a06d,{id},_0x5ebb5e,_0x536313){return _0x5ebb5e['db'][_0x44d3('0x53')]['chatbot']({'where':{'id':id}},_0x536313);},'availablewatsonworkspaces'(_0x6bf39d,{url:_0x95af08,version,username,password}){return new Promise((_0x52eb04,_0x5a7204)=>{const _0x4ca03b=new _0x532164({'url':_0x95af08,'version':_0x522d0e,'username':username,'password':password});_0x4ca03b[_0x44d3('0x128')]((_0x3a1b42,_0x2ac7a9)=>{if(_0x3a1b42){_0x5a7204(_0x3a1b42);}else{const _0x11b0b0=_0x2ac7a9['workspaces'][_0x44d3('0x91')](_0x35e42c=>({'name':_0x35e42c[_0x44d3('0x59')],'description':_0x35e42c[_0x44d3('0x129')],'value':_0x35e42c[_0x44d3('0x12a')]}));_0x52eb04(_0x11b0b0);}});});}};const _0x281053=_0x5c56d3(_0x44d3('0x12b'));const _0xbbfa51=_0x1d82d9['BotDriver'];const {composeBotiumCapabilities:composeBotiumCapabilities$1}=_0x5c65ab;const _0x4bd2b4={};const _0x4f8492={};var _0x364cec={'Subscription':{'liveChatConvoStepAdded':{'subscribe':(_0x199528,{conversationId},{pubsub})=>_0x3a7ab9[_0x44d3('0x12c')](conversationId)}},'Query':{'liveChatConvoSteps'(_0x367968,{conversationId}){if(!_0x4f8492[conversationId])return Promise[_0x44d3('0x74')](new Error(_0x44d3('0x12d')+conversationId+_0x44d3('0x12e')));return _0x4f8492[conversationId];}},'Mutation':{'liveChatStartBot'(_0xe338ec,{id},{db,pubsub}){const _0x202eab=_0x9e02bb();return db[_0x44d3('0x53')][_0x44d3('0xa4')]({'where':{'id':id}},_0x44d3('0x12f'))[_0x44d3('0x70')](_0x2b9e98=>{_0x281053('liveChatStartBot('+_0x202eab+_0x44d3('0x130')+_0x2b9e98[_0x44d3('0x59')]+_0x44d3('0x131'));const _0x33f3a0=new _0xbbfa51(composeBotiumCapabilities$1(_0x2b9e98[_0x44d3('0xa1')]));const _0xe76927=(_0x38bfa4,_0x5b2216)=>{const _0x11e592=_0x4f8492[_0x202eab]['length'];const _0x44d882=JSON[_0x44d3('0xa3')](Object['assign'](_0x5b2216,{'convoStepIndex':_0x11e592}));_0x4f8492[_0x202eab]['push'](_0x44d882);_0x3a7ab9[_0x44d3('0x106')](_0x202eab,{'liveChatConvoStepAdded':_0x44d882});};_0x33f3a0['on'](_0x44d3('0x132'),_0xe76927);_0x33f3a0['on']('MESSAGE_RECEIVEDFROMBOT',_0xe76927);return _0x33f3a0['Build']();})[_0x44d3('0x70')](_0x17f115=>{_0x4bd2b4[_0x202eab]=_0x17f115;_0x4f8492[_0x202eab]=[];_0x281053('liveChatStartBot('+_0x202eab+_0x44d3('0x133'));return _0x17f115['Start']();})[_0x44d3('0x70')](()=>{_0x281053(_0x44d3('0x134')+_0x202eab+_0x44d3('0x135'));return _0x202eab;});},'liveChatSendToBot'(_0x4c39e,{conversationId,convoStep},{pubsub}){if(!_0x4bd2b4[conversationId])return Promise[_0x44d3('0x74')](new Error(_0x44d3('0x12d')+conversationId+_0x44d3('0x12e')));_0x281053('liveChatSendToBot('+conversationId+_0x44d3('0x136')+convoStep);const _0x3620e2=_0x4bd2b4[conversationId];_0x3620e2['UserSays'](JSON[_0x44d3('0x7e')](convoStep))['catch'](_0x3dd1dc=>_0x281053(_0x3dd1dc));return!![];},'liveChatStopBot'(_0x576c7e,{conversationId}){if(!_0x4bd2b4[conversationId])return Promise[_0x44d3('0x74')](new Error(_0x44d3('0x12d')+conversationId+_0x44d3('0x12e')));_0x281053(_0x44d3('0x137')+conversationId+')\x20stopping\x20container');const _0x23de62=_0x4bd2b4[conversationId];return _0x23de62['Stop']()[_0x44d3('0x70')](()=>_0x23de62['Clean']())['then'](()=>{_0x281053(_0x44d3('0x137')+conversationId+_0x44d3('0x138'));delete _0x4bd2b4[conversationId];delete _0x4f8492[conversationId];return!![];});},async 'liveChatSaveConvoSteps'(_0xabc25a,{conversationId,testSetId,newTestSetName,testCaseName},_0x14df6a){if(!_0x4bd2b4[conversationId])return Promise[_0x44d3('0x74')](new Error(_0x44d3('0x12d')+conversationId+_0x44d3('0x12e')));let _0x34e5fc=null;if(newTestSetName){_0x34e5fc=await _0x14df6a['db']['mutation']['createTestSet']({'data':{'name':newTestSetName}},'{\x20id\x20name\x20}');}else{_0x34e5fc=await _0x14df6a['db']['query'][_0x44d3('0x5b')]({'where':{'id':testSetId}},_0x44d3('0x6f'));}_0x281053(_0x44d3('0x139')+conversationId+_0x44d3('0x13a')+_0x34e5fc['id']+'/'+_0x34e5fc[_0x44d3('0x59')]);const _0x595e83=[testCaseName,''];_0x4f8492[conversationId][_0x44d3('0x80')](_0x5f2f97=>{const _0x475a8f=JSON[_0x44d3('0x7e')](_0x5f2f97);_0x595e83[_0x44d3('0x4f')]('#'+_0x475a8f[_0x44d3('0x13b')]);if(_0x475a8f[_0x44d3('0x13c')]){_0x595e83[_0x44d3('0x4f')](_0x475a8f[_0x44d3('0x13c')]);}if(_0x475a8f['buttons']&&_0x475a8f[_0x44d3('0x13d')]['length']>0x0)_0x595e83[_0x44d3('0x4f')]('BUTTONS\x20'+_0x475a8f[_0x44d3('0x13d')][_0x44d3('0x91')](_0x584a81=>_0x584a81['text'])['join']('|'));if(_0x475a8f[_0x44d3('0x13e')]&&_0x475a8f[_0x44d3('0x13e')][_0x44d3('0x56')]>0x0)_0x595e83[_0x44d3('0x4f')]('MEDIA\x20'+_0x475a8f[_0x44d3('0x13e')][_0x44d3('0x91')](_0x3096d7=>_0x3096d7[_0x44d3('0x13f')])['join']('|'));if(_0x475a8f[_0x44d3('0x140')]&&_0x475a8f['cards'][_0x44d3('0x56')]>0x0){_0x475a8f[_0x44d3('0x140')][_0x44d3('0x80')](_0x27e1e0=>{if(_0x27e1e0[_0x44d3('0x13d')]&&_0x27e1e0[_0x44d3('0x13d')][_0x44d3('0x56')]>0x0)_0x595e83[_0x44d3('0x4f')](_0x44d3('0x141')+_0x27e1e0[_0x44d3('0x13d')][_0x44d3('0x91')](_0x2bd515=>_0x2bd515[_0x44d3('0x142')])['join']('|'));if(_0x27e1e0[_0x44d3('0x143')])_0x595e83[_0x44d3('0x4f')](_0x44d3('0x144')+_0x27e1e0['image']['mediaUri']);});}_0x595e83['push']('');});let _0x47069e=await _0x14df6a['db'][_0x44d3('0x65')][_0x44d3('0x145')]({'data':{'name':testCaseName,'script':_0x595e83[_0x44d3('0x4e')]('\x0a'),'scriptType':_0x44d3('0x8d'),'testSet':{'connect':{'id':_0x34e5fc['id']}}}},_0x44d3('0x6f'));_0x281053('liveChatSaveConvoSteps('+conversationId+_0x44d3('0x146')+_0x34e5fc['id']+'/'+_0x34e5fc[_0x44d3('0x59')]+_0x44d3('0x147')+_0x47069e['id']+'/'+_0x47069e[_0x44d3('0x59')]);return _0x47069e['id'];}}};var _0x15c6fd={'testsessions'(_0x52aee3,{where,orderBy,skip,first},_0x99aeb5,_0x54839a){orderBy=orderBy||'createdAt_DESC';skip=isNaN(skip)?0x0:skip;first=isNaN(first)?0x64:first;return _0x99aeb5['db'][_0x44d3('0x53')][_0x44d3('0x148')]({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x54839a);},'testsession'(_0x1f8586,{id},_0x3fc975,_0x34821d){return _0x3fc975['db'][_0x44d3('0x53')][_0x44d3('0x71')]({'where':{'id':id}},_0x34821d);},'testsessiontestcaseresults'(_0x234ad9,{where,orderBy,skip,first},_0x217ca6,_0x34d3fc){orderBy=orderBy||'createdAt_DESC';skip=isNaN(skip)?0x0:skip;first=isNaN(first)?0x64:first;return _0x217ca6['db'][_0x44d3('0x53')][_0x44d3('0x149')]({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x34d3fc);},'testsessiontestcaseresult'(_0x3c7f49,{id},_0x59270a,_0x59068a){return _0x59270a['db']['query']['testSessionTestCaseResult']({'where':{'id':id}},_0x59068a);}};const _0x28b2fd=_0x5c56d3(_0x44d3('0x14a'));var _0x1c1d6d=(_0x30f9e4,_0x573751,_0x160ee8,_0x469265)=>{_0x30f9e4['convos']&&_0x30f9e4[_0x44d3('0xc6')][_0x44d3('0x80')](_0x178887=>{let _0x5d1324=[];let _0x18adcf=[];try{if(_0x178887[_0x44d3('0x14b')]===_0x304f56[_0x44d3('0x14c')]){const _0x1b11e1=Buffer[_0x44d3('0x14d')](_0x178887['content'],_0x44d3('0xef'));_0x18adcf=_0x573751[_0x44d3('0x14e')](_0x1b11e1,_0x304f56[_0x44d3('0x14c')],_0x304f56[_0x44d3('0x14f')]);_0x5d1324=_0x573751[_0x44d3('0x14e')](_0x1b11e1,_0x304f56['SCRIPTING_FORMAT_XSLX'],_0x304f56[_0x44d3('0x8d')]);}else if(_0x178887[_0x44d3('0x14b')]===_0x304f56[_0x44d3('0x92')]){_0x5d1324=_0x573751['Compile'](_0x178887[_0x44d3('0x150')],_0x304f56['SCRIPTING_FORMAT_TXT'],_0x304f56[_0x44d3('0x8d')]);}if(_0x5d1324)_0x5d1324[_0x44d3('0x80')](_0x123587=>{_0x123587[_0x44d3('0xe2')]=_0x178887['sourceTag'];});if(_0x18adcf)_0x18adcf[_0x44d3('0x80')](_0x3acc27=>{_0x3acc27[_0x44d3('0xe2')]=_0x178887[_0x44d3('0xe2')];});}catch(_0x51a8d6){_0x28b2fd(_0x51a8d6);throw new Error(_0x30f9e4['name']+_0x44d3('0x151')+JSON[_0x44d3('0xa3')](_0x51a8d6));}});_0x30f9e4[_0x44d3('0xc7')]&&_0x30f9e4['utterances'][_0x44d3('0x80')](_0x28a7c3=>{let _0x2c3426=[];try{_0x2c3426=_0x573751[_0x44d3('0x14e')](_0x28a7c3[_0x44d3('0x150')],_0x304f56[_0x44d3('0x92')],_0x304f56[_0x44d3('0x14f')]);if(_0x2c3426)_0x2c3426[_0x44d3('0x80')](_0x19f746=>{_0x19f746[_0x44d3('0xe2')]=_0x28a7c3[_0x44d3('0xe2')];});}catch(_0x5697ee){_0x28b2fd(_0x5697ee);throw new Error(_0x30f9e4[_0x44d3('0x59')]+_0x44d3('0x152')+JSON[_0x44d3('0xa3')](_0x5697ee));}});_0x30f9e4['folders']&&_0x30f9e4[_0x44d3('0xc8')][_0x44d3('0x80')](_0x19dcd0=>{try{const {convos,utterances}=_0x573751[_0x44d3('0x153')](_0x19dcd0[_0x44d3('0x13')],_0x19dcd0[_0x44d3('0x93')]);convos&&convos[_0x44d3('0x80')](_0x10d690=>{_0x10d690[_0x44d3('0xe2')]=Object['assign']({},_0x10d690[_0x44d3('0xe2')],_0x19dcd0[_0x44d3('0xe2')]);});utterances&&utterances['forEach'](_0x236f31=>{_0x236f31[_0x44d3('0xe2')]=Object[_0x44d3('0xba')]({},_0x236f31[_0x44d3('0xe2')],_0x19dcd0[_0x44d3('0xe2')]);});}catch(_0x27c42d){_0x28b2fd(_0x27c42d);throw new Error(_0x30f9e4['name']+_0x44d3('0x154')+_0x19dcd0+'\x20script\x20compilation\x20failed:\x20'+JSON[_0x44d3('0xa3')](_0x27c42d));}});let _0x5cb9f5=Promise[_0x44d3('0x4b')]();if(_0x30f9e4[_0x44d3('0x94')]&&_0x30f9e4[_0x44d3('0x94')][_0x44d3('0x56')]>0x0){_0x5cb9f5=Promise['all'](_0x30f9e4[_0x44d3('0x94')][_0x44d3('0x91')](({id,filename,filecontent,hasConvos,hasUtterances,worksheetsConvos,worksheetsUtterances,startRow,startCol,sourceTag})=>{return new Promise(_0xf49a88=>{const _0x4b8bc6=Buffer['from'](filecontent,_0x44d3('0xef'));let _0x44fff5=[];let _0x41044b=[];if(hasConvos){if(worksheetsConvos)_0x573751[_0x44d3('0x155')][_0x5aa91e[_0x44d3('0x156')]]=worksheetsConvos;if(!isNaN(startRow))_0x573751[_0x44d3('0x155')][_0x5aa91e[_0x44d3('0x157')]]=startRow;if(!isNaN(startCol))_0x573751[_0x44d3('0x155')][_0x5aa91e[_0x44d3('0x158')]]=startCol;_0x44fff5=_0x573751['Compile'](_0x4b8bc6,_0x304f56[_0x44d3('0x14c')],_0x304f56[_0x44d3('0x8d')]);}if(hasUtterances){if(worksheetsUtterances)_0x573751['caps'][_0x5aa91e['SCRIPTING_XLSX_SHEETNAMES_UTTERANCES']]=worksheetsUtterances;if(!isNaN(startRow))_0x573751['caps'][_0x5aa91e['SCRIPTING_XLSX_STARTROW']]=startRow;if(!isNaN(startCol))_0x573751[_0x44d3('0x155')][_0x5aa91e[_0x44d3('0x158')]]=startCol;_0x41044b=_0x573751['Compile'](_0x4b8bc6,_0x304f56['SCRIPTING_FORMAT_XSLX'],_0x304f56[_0x44d3('0x14f')]);}_0x44fff5&&_0x44fff5[_0x44d3('0x80')](_0x2b633d=>{_0x2b633d[_0x44d3('0xe2')]=Object[_0x44d3('0xba')]({},_0x2b633d[_0x44d3('0xe2')],sourceTag);});_0x41044b&&_0x41044b[_0x44d3('0x80')](_0x258412=>{_0x258412[_0x44d3('0xe2')]=Object[_0x44d3('0xba')]({},_0x258412['sourceTag'],sourceTag);});_0xf49a88();});}));}let _0x4995f7=Promise[_0x44d3('0x4b')]();return Promise[_0x44d3('0x159')]([_0x4995f7,_0x5cb9f5]);};const _0x4d900b=_0x10cc39({'dirname':__dirname,'filter':/(.+Provider)\.js$/});var _0x5e7c20=Object[_0x44d3('0x15a')](_0x4d900b);const _0xcf2c2a=_0x10cc39({'dirname':__dirname,'filter':/(.+Provider)\.js$/});var _0x3c0e2d=Object['values'](_0xcf2c2a);const _0xc8bf40=_0x5e7c20[_0x44d3('0x15b')](_0x3c0e2d);const _0x5f2ec6={};_0xc8bf40[_0x44d3('0x80')](_0x250112=>{_0x5f2ec6[_0x250112[_0x44d3('0x15c')]['id']]=_0x250112;});const _0x5e9619={};_0x5e7c20[_0x44d3('0x80')](_0x8a5062=>{_0x5e9619[_0x8a5062[_0x44d3('0x15c')]['id']]=_0x44d3('0x15d');});_0x3c0e2d[_0x44d3('0x80')](_0x1a295a=>{_0x5e9619[_0x1a295a[_0x44d3('0x15c')]['id']]=_0x44d3('0x15e');});var _0x22de8b=_0x403eba=>{if(!(_0x403eba in _0x5e9619)){throw Error(_0x44d3('0x15f')+_0x403eba);}return _0x5f2ec6[_0x403eba];};var _0x378543=Object['keys'](_0x5f2ec6);var _0x43e49d=[[_0x5e7c20,_0x3c0e2d],[_0x5e7c20],[_0x3c0e2d]];var _0x7fa907=[[_0x5e7c20],[_0x3c0e2d]];var _0x5ebbda={'GetMutatorById':_0x22de8b,'allMutatorNames':_0x378543,'pipelineAllMutatorCombined':_0x43e49d,'pipelineAllMutatorNotCombined':_0x7fa907};const {pipelineAllMutatorCombined:pipelineAllMutatorCombined$1,pipelineAllMutatorNotCombined:pipelineAllMutatorNotCombined$1,GetMutatorById:GetMutatorById$1,allMutatorNames:allMutatorNames$1}=_0x5ebbda;var _0x2b0ac1=pipelineAllMutatorCombined$1;var _0x575551=pipelineAllMutatorNotCombined$1;var _0x1d8e24=allMutatorNames$1;var _0x3be993=(_0x1a2457,_0x13d53c)=>{const _0x39759b=_0x5239b8(_0x13d53c);return _0x3eafc8(_0x1a2457,_0x39759b);};const _0x3eafc8=(_0x1d7290,_0x29bfe9)=>{let _0x51e8d1=new Set();for(const _0x282436 of _0x29bfe9){let _0x57db95=[_0x1d7290];for(const _0x9c4fa8 of _0x282436){let _0x1d3d04=[];for(const _0x102d36 of _0x9c4fa8){for(const _0x544bd7 of _0x57db95){_0x1d3d04=_0x1d3d04['concat'](_0x102d36[_0x44d3('0x160')](_0x544bd7));}}_0x57db95=_0x1d3d04;}for(const _0x5d2a9c of _0x57db95){if(_0x51e8d1[_0x44d3('0x161')](_0x5d2a9c)){console[_0x44d3('0x40')](_0x44d3('0x162')+_0x5d2a9c+_0x44d3('0x163')+JSON[_0x44d3('0xa3')](_0x282436,0x2));}else{_0x51e8d1[_0x44d3('0x164')](_0x5d2a9c);}}}return[..._0x51e8d1];};var _0x42c164=_0x3eafc8;const _0x5239b8=_0x4dfd67=>{if(!_0x4dfd67['humanifiersToExecute']||!_0x4dfd67[_0x44d3('0x165')][_0x44d3('0x56')]){return[[pipelineAllMutatorNotCombined$1]];}const _0x3462c9=_0x4ba950=>_0x4ba950['map'](_0x328e96=>GetMutatorById$1(_0x328e96));return[[_0x3462c9(_0x4dfd67[_0x44d3('0x165')])]];};var _0x5edf76={'pipelineAllMutatorCombined':_0x2b0ac1,'pipelineAllMutatorNotCombined':_0x575551,'allHumanifiers':_0x1d8e24,'Execute':_0x3be993,'ExecutePipeline':_0x42c164};const _0x2d36f8=_0x5c56d3(_0x44d3('0x166'));const {RetrieveTestSetDetails:RetrieveTestSetDetails$2}=_0x3142d1;const _0x43153f=_0x44d3('0x167');var _0xd5202c={'humanifiers':_0x5edf76[_0x44d3('0x168')]};var _0x5289e=(_0x2fe902,_0x84a5ef)=>{const _0x5951c9=new _0x27ada0(_0x315787[_0x44d3('0x2f')]);_0x5951c9[_0x44d3('0x169')]();const _0x4b6e6d=_0x501a4c[_0x44d3('0x4e')](process[_0x44d3('0x4a')][_0x44d3('0x16a')],_0x44d3('0x16b')+_0x494b8a(_0x44d3('0x16c'),0x5));_0x4b409f['sync'](_0x4b6e6d);return _0x1c1d6d(RetrieveTestSetDetails$2(_0x2fe902),_0x5951c9,_0x4b6e6d,_0x315787['Sources'])['then'](()=>{_0xbece0a(_0x4b6e6d,_0x3c88d8=>{if(_0x3c88d8){throw _0x3c88d8;}});const _0x2713a0={};const _0x376dbb=_0x58bb24(_0x5951c9,_0x84a5ef);_0x2713a0['utterances']={'all':Object[_0x44d3('0x81')](_0x376dbb[_0x44d3('0x159')])[_0x44d3('0x56')],'me':_0x376dbb['me'][_0x44d3('0x16d')],'bot':_0x376dbb[_0x44d3('0x16e')][_0x44d3('0x16d')],'both':_0x376dbb[_0x44d3('0x16f')][_0x44d3('0x16d')],'neither':_0x376dbb['neither'][_0x44d3('0x16d')],'toHumanify':Object[_0x44d3('0x15a')](_0x376dbb[_0x44d3('0x170')])['filter'](_0x5bf5e9=>_0x5bf5e9)[_0x44d3('0x56')],'allUtteranceCount':_0x376dbb[_0x44d3('0x171')],'utterancesToHumanifyCount':_0x376dbb['utterancesToHumanifyCount']};_0x2713a0[_0x44d3('0x9e')]=_0x5764fd(_0x5951c9,_0x376dbb,_0x84a5ef);_0x2d36f8(_0x44d3('0x172')+JSON[_0x44d3('0xa3')](_0x2713a0));return _0x1d9f07(_0x5951c9,_0x2fe902[_0x44d3('0x59')]);});};const _0x1d9f07=(_0x241841,_0x276378)=>{const _0x49075d=_0x501a4c[_0x44d3('0x4e')](process[_0x44d3('0x4a')][_0x44d3('0x68')],_0x2e33f5(_0x276378)+_0x44d3('0x173')+_0x494b8a(_0x44d3('0x16c'),0x5));_0x4b409f[_0x44d3('0x174')](_0x49075d);const _0x57a46b=Object[_0x44d3('0x81')](_0x241841[_0x44d3('0xc7')]);for(let _0x42ac0a=0x0;_0x42ac0a<_0x57a46b[_0x44d3('0x56')];_0x42ac0a++){let _0x3c8c42=[_0x57a46b[_0x42ac0a]][_0x44d3('0x15b')](_0x241841[_0x44d3('0xc7')][_0x57a46b[_0x42ac0a]][_0x44d3('0xc7')])['join']('\x0d\x0a');_0x43c8f3['writeFile'](_0x501a4c[_0x44d3('0x4e')](_0x49075d,_0x57a46b[_0x42ac0a]+'.utterances.txt'),_0x3c8c42,function(_0x5ad28d){if(_0x5ad28d){throw _0x5ad28d;}});}const _0xd1df63=_0x241841[_0x44d3('0x175')](_0x304f56[_0x44d3('0x92')]);for(let _0x352dcf=0x0;_0x352dcf<_0x241841[_0x44d3('0xc6')][_0x44d3('0x56')];_0x352dcf++){let _0x3c8c42=_0xd1df63[_0x44d3('0x176')]([_0x241841[_0x44d3('0xc6')][_0x352dcf]]);_0x43c8f3[_0x44d3('0x177')](_0x501a4c[_0x44d3('0x4e')](_0x49075d,'c'+_0x352dcf+_0x44d3('0x178')),_0x3c8c42,function(_0x589aae){if(_0x589aae){throw _0x589aae;}});}return _0x49075d;};const _0x58bb24=(_0x5691e6,_0x5b7932)=>{const _0x31f0c0={'all':_0x5691e6[_0x44d3('0xc7')],'me':new Set(),'bot':new Set(),'both':null,'neither':null,'toHumanify':{},'allUtteranceCount':0x0,'utterancesToHumanifyCount':0x0};_0x31f0c0[_0x44d3('0x179')]=new Set(Object[_0x44d3('0x81')](_0x31f0c0[_0x44d3('0x159')]));_0x5691e6[_0x44d3('0xc6')][_0x44d3('0x80')](_0x34572c=>{_0x34572c[_0x44d3('0x17a')][_0x44d3('0x80')](_0x299306=>{if(_0x299306[_0x44d3('0x13c')]&&_0x299306[_0x44d3('0x13c')]in _0x31f0c0[_0x44d3('0x159')]){_0x31f0c0[_0x299306[_0x44d3('0x13b')]][_0x44d3('0x164')](_0x299306[_0x44d3('0x13c')]);_0x31f0c0[_0x44d3('0x179')]['delete'](_0x299306['messageText']);}});});const _0x2c607f=_0x1eeeb8['uniq'](Array[_0x44d3('0x14d')](_0x31f0c0['me']))[_0x44d3('0x8f')](_0x4975e0=>_0x31f0c0[_0x44d3('0x16e')][_0x44d3('0x161')](_0x4975e0));_0x31f0c0[_0x44d3('0x16f')]=new Set(_0x2c607f);const _0xb4c32e={};let _0x26ed11=0x0;let _0x4d900b=0x0;if(_0x5b7932[_0x44d3('0x165')][_0x44d3('0x56')]){[..._0x31f0c0['me'],..._0x2c607f,..._0x31f0c0[_0x44d3('0x179')]][_0x44d3('0x80')](_0x5e716b=>{_0x4d900b+=_0x31f0c0[_0x44d3('0x159')][_0x5e716b][_0x44d3('0xc7')]['length'];let _0x2b65e9=Math['round'](_0x4d900b*_0x5b7932[_0x44d3('0x17b')]-_0x26ed11);if(_0x26ed11===0x0&&_0x2b65e9===0x0){_0x2b65e9=0x1;}_0xb4c32e[_0x5e716b]=_0x2b65e9;_0x26ed11+=_0x2b65e9;});}_0x31f0c0[_0x44d3('0x170')]=_0xb4c32e;_0x31f0c0['allUtteranceCount']=_0x4d900b;_0x31f0c0[_0x44d3('0x17c')]=_0x26ed11;return _0x31f0c0;};const _0x5764fd=(_0x3ff641,_0x231bae,_0x4fc87d)=>{_0x231bae[_0x44d3('0x16f')][_0x44d3('0x80')](_0x1969cd=>{if(_0x231bae[_0x44d3('0x170')][_0x1969cd]){let _0x8c7fdb=_0x1969cd+_0x43153f;if(_0x8c7fdb in _0x3ff641[_0x44d3('0xc7')]){throw new Error('There\x20is\x20already\x20an\x20utterance\x20'+_0x8c7fdb+'\x20in\x20the\x20testset!');}}});const _0x283ed3={'humanifiedRefs':[],'humanifiedRefCount':0x0,'humanifiedUtterancesCount':0x0,'duplicates':0x0};_0x231bae[_0x44d3('0x16f')][_0x44d3('0x80')](_0x5a1421=>{if(_0x231bae['toHumanify'][_0x5a1421]){_0x3ff641[_0x44d3('0xc7')][_0x5a1421+_0x43153f]=_0x1eeeb8[_0x44d3('0x17d')](_0x3ff641['utterances'][_0x5a1421]);}});const _0x489ed3=_0x37ce30=>{_0x3ff641[_0x44d3('0xc7')][_0x37ce30][_0x44d3('0xc7')]=_0x1eeeb8[_0x44d3('0x17e')](_0x3ff641[_0x44d3('0xc7')][_0x37ce30][_0x44d3('0xc7')]);const _0x53dd28=_0x231bae['toHumanify'][_0x37ce30];const _0x30012f=_0x3ff641[_0x44d3('0xc7')][_0x37ce30][_0x44d3('0xc7')];let _0x19cdba=0x0;for(let _0x5366a9=0x0;_0x5366a9<_0x53dd28;_0x5366a9++){const _0x2b59bb=_0x5edf76['Execute'](_0x30012f[_0x5366a9],{'humanifiersToExecute':_0x4fc87d['humanifiersToExecute']});_0x3ff641['utterances'][_0x37ce30][_0x44d3('0xc7')]=_0x3ff641[_0x44d3('0xc7')][_0x37ce30][_0x44d3('0xc7')]['concat'](_0x2b59bb);_0x19cdba+=_0x2b59bb[_0x44d3('0x56')];}let _0x537b44=_0x3ff641[_0x44d3('0xc7')][_0x37ce30][_0x44d3('0xc7')]['length'];_0x3ff641[_0x44d3('0xc7')][_0x37ce30]['utterances']=_0x1eeeb8[_0x44d3('0x17e')](_0x3ff641[_0x44d3('0xc7')][_0x37ce30][_0x44d3('0xc7')]);return{'humanifiedRefCount':_0x53dd28,'humanifiedUtterancesCount':_0x19cdba,'duplicates':_0x537b44-_0x3ff641['utterances'][_0x37ce30][_0x44d3('0x56')]};};Object[_0x44d3('0x81')](_0x231bae['toHumanify'])[_0x44d3('0x80')](_0x552c27=>{if(_0x231bae[_0x44d3('0x170')][_0x552c27]){const _0x1e3a3c=_0x489ed3(_0x552c27);_0x283ed3[_0x44d3('0x17f')][_0x44d3('0x4f')](_0x552c27);_0x283ed3[_0x44d3('0x180')]+=_0x1e3a3c[_0x44d3('0x180')];_0x283ed3[_0x44d3('0x181')]+=_0x1e3a3c['humanifiedUtterancesCount'];_0x283ed3[_0x44d3('0x182')]+=_0x1e3a3c[_0x44d3('0x182')];}});const _0x4eb8d0=(_0x391dd7,_0x231bae)=>{_0x391dd7[_0x44d3('0x17a')]['forEach'](_0x122c0a=>{if(_0x122c0a[_0x44d3('0x13c')]&&_0x231bae[_0x44d3('0x16f')][_0x44d3('0x161')](_0x122c0a['messageText'])){return!![];}});return![];};const _0x3374fd=[];_0x3ff641[_0x44d3('0xc6')][_0x44d3('0x80')](_0x15ba25=>{if(_0x4eb8d0(_0x15ba25,_0x231bae));});_0x3ff641[_0x44d3('0xc6')]=_0x3ff641['convos'][_0x44d3('0x15b')](_0x3374fd);_0x283ed3[_0x44d3('0x183')]=_0x3374fd['length'];return _0x283ed3;};var _0x8fed3b={'possibleOptions':_0xd5202c,'CloneTestset':_0x5289e};var _0xcecbbb={'testsets'(_0x2cee8c,{where,orderBy,skip,first},_0x18e2e9,_0x2742f5){orderBy=orderBy||_0x44d3('0x125');return _0x18e2e9['db']['query'][_0x44d3('0x184')]({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x2742f5);},'testset'(_0x243168,{id},_0x3b348e,_0x25f404){return _0x3b348e['db'][_0x44d3('0x53')]['testSet']({'where':{'id':id}},_0x25f404);},'testsetscripts'(_0x7870db,{testSetId,skip,first},_0x1606b8,_0x45f3e8){return _0x1606b8['db'][_0x44d3('0x53')]['testSetScripts']({'where':{'testSet':{'id':testSetId}},'skip':skip,'first':first},_0x45f3e8);},'testsetscript'(_0x314c3b,{id},_0x42bdf3,_0x1b159b){return _0x42bdf3['db'][_0x44d3('0x53')][_0x44d3('0xe7')]({'where':{'id':id}},_0x1b159b);},'validatetestsetscript'(_0x25f6f7,{script,scriptType}){const _0x1b0f54=new _0x587ce1({'AddConvos':()=>{},'AddUtterances':()=>{},'IsAsserterValid':()=>!![],'scriptingEvents':{}},{'SCRIPTING_TXT_EOL':'\x0a'});const _0x548cbe=_0x1b0f54[_0x44d3('0x14e')](script,scriptType);if(_0x548cbe&&_0x548cbe['length']>0x0){if(scriptType===_0x44d3('0x14f')){return Promise[_0x44d3('0x4b')]({'name':_0x548cbe[0x0][_0x44d3('0x59')],'description':'Utterances','script':script,'scriptType':scriptType});}else{return Promise[_0x44d3('0x4b')]({'name':_0x548cbe[0x0][_0x44d3('0x185')][_0x44d3('0x59')],'description':_0x548cbe[0x0]['header']['description'],'script':script,'scriptType':scriptType});}}else{return Promise[_0x44d3('0x74')](new Error(_0x44d3('0x186')));}},'testsetrepositories'(_0x47e24f,{testSetId,skip,first},_0x552462,_0x40232e){return _0x552462['db']['query'][_0x44d3('0x187')]({'where':{'testSet':{'id':testSetId}},'skip':skip,'first':first},_0x40232e);},'testsetrepository'(_0x4047a5,{id},_0x17f9d2,_0x398914){return _0x17f9d2['db']['query']['testSetRepository']({'where':{'id':id}},_0x398914);},'testsetfolders'(_0x100dab,{testSetId,skip,first},_0x2a3f6c,_0x8e1941){return _0x2a3f6c['db']['query']['testSetFolders']({'where':{'testSet':{'id':testSetId}},'skip':skip,'first':first},_0x8e1941);},'testsetfolder'(_0x1245e6,{id},_0x3908ef,_0x3872ff){return _0x3908ef['db'][_0x44d3('0x53')][_0x44d3('0x188')]({'where':{'id':id}},_0x3872ff);},'testsetexcels'(_0x57e720,{testSetId,skip,first},_0x5c51f1,_0x4e7bc8){return _0x5c51f1['db'][_0x44d3('0x53')]['testSetExcels']({'where':{'testSet':{'id':testSetId}},'skip':skip,'first':first},_0x4e7bc8);},'testsetexcel'(_0x5e52f4,{id},_0x12a395,_0x42bcdc){return _0x12a395['db'][_0x44d3('0x53')][_0x44d3('0x6c')]({'where':{'id':id}},_0x42bcdc);},'clonetestsetoptions'(_0x26875,_0x253b5d,_0x517c2b,_0x2905c6){return _0x8fed3b[_0x44d3('0x189')];}};var _0x43c840=class Cache{constructor(_0x4ebe39){this[_0x44d3('0x18a')]=new _0x289174({'stdTTL':_0x4ebe39,'checkperiod':_0x4ebe39*0.2,'useClones':![]});}['get'](_0x4d20c0,_0x4df30e){const _0x2ee848=this[_0x44d3('0x18a')][_0x44d3('0x18b')](_0x4d20c0);if(_0x2ee848){return Promise[_0x44d3('0x4b')](_0x2ee848);}return _0x4df30e()['then'](_0x299e6d=>{this[_0x44d3('0x18a')]['set'](_0x4d20c0,_0x299e6d);return _0x299e6d;});}[_0x44d3('0x18c')](_0x267995){this[_0x44d3('0x18a')][_0x44d3('0x18c')](_0x267995);}[_0x44d3('0x18d')](_0x1f8025=''){if(!_0x1f8025){return;}const _0x1d4984=this[_0x44d3('0x18a')][_0x44d3('0x81')]();for(const _0x517a36 of _0x1d4984){if(_0x517a36[_0x44d3('0x18e')](_0x1f8025)===0x0){this[_0x44d3('0x18c')](_0x517a36);}}}[_0x44d3('0x18f')](){this[_0x44d3('0x18a')][_0x44d3('0x190')]();}};const _0x5b71a9=new _0x43c840(0x3c*0x3c*0x1);var _0x34dabf={'devicesets'(_0x1b00e7,{where,orderBy,skip,first},_0x23cd94,_0x37a2c0){orderBy=orderBy||_0x44d3('0x125');return _0x23cd94['db'][_0x44d3('0x53')][_0x44d3('0x191')]({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x37a2c0);},'deviceset'(_0x2dae27,{id},_0x4b6e6b,_0x55527c){return _0x4b6e6b['db']['query'][_0x44d3('0xec')]({'where':{'id':id}},_0x55527c);},async 'availabledevices'(_0x192db7,{provider},_0x28182e){const _0x45c2d4=await _0x28182e['db'][_0x44d3('0x53')][_0x44d3('0x192')]({'where':{'id':provider}});if(!_0x45c2d4)return[];if(_0x45c2d4[_0x44d3('0x76')]===_0x44d3('0x193')){return _0x5b71a9[_0x44d3('0x18b')](_0x44d3('0x193'),()=>{return _0x4901a8({'url':'https://saucelabs.com/rest/v1/info/platforms/all','json':!![]})[_0x44d3('0x70')](_0x213b8c=>{const _0x24ced3=_0x213b8c[_0x44d3('0x8f')](_0x56bb52=>!_0x56bb52['device'])[_0x44d3('0x91')](_0x42cba3=>({'name':_0x42cba3[_0x44d3('0x194')]+'\x20'+_0x42cba3[_0x44d3('0x195')]+',\x20'+_0x42cba3['os'],'value':JSON[_0x44d3('0xa3')]({'type':'DESKTOP','capabilities':{'browserName':_0x42cba3[_0x44d3('0x196')],'platform':_0x42cba3['os'],'version':_0x42cba3[_0x44d3('0x195')]}})}))[_0x44d3('0x15b')](_0x213b8c[_0x44d3('0x8f')](_0x3f23a3=>_0x3f23a3[_0x44d3('0x197')])[_0x44d3('0x91')](_0x4e4fe8=>({'name':_0x4e4fe8['long_name']+',\x20'+_0x4e4fe8[_0x44d3('0x195')],'value':JSON[_0x44d3('0xa3')]({'type':_0x44d3('0x198'),'capabilities':{'browserName':[_0x44d3('0x199'),_0x44d3('0x19a')][_0x44d3('0x18e')](_0x4e4fe8[_0x44d3('0x196')])>=0x0?'Safari':_0x44d3('0x19b'),'deviceName':_0x4e4fe8[_0x44d3('0x197')],'platformName':['iphone','ipad'][_0x44d3('0x18e')](_0x4e4fe8['api_name'])>=0x0?'iOS':_0x44d3('0x19c'),'platformVersion':_0x4e4fe8[_0x44d3('0x195')]}})})));return _0x1eeeb8[_0x44d3('0x19d')](_0x1eeeb8[_0x44d3('0x19e')](_0x24ced3,_0x44d3('0x59'),_0x44d3('0x19f')),_0x44d3('0x59'));});});}else if(_0x45c2d4[_0x44d3('0x76')]===_0x44d3('0x1a0')){return _0x5b71a9[_0x44d3('0x18b')]('LOCALSELENIUM',()=>{return Promise[_0x44d3('0x4b')]([{'name':_0x44d3('0x1a1'),'value':JSON[_0x44d3('0xa3')]({'type':_0x44d3('0x1a2'),'capabilities':{'browserName':_0x44d3('0x1a3')}})},{'name':'Generic\x20Browser\x20(manually\x20set\x20capabilities)','value':JSON['stringify']({'type':_0x44d3('0x1a2'),'capabilities':{}})},{'name':_0x44d3('0x1a4'),'value':JSON['stringify']({'type':_0x44d3('0x1a2'),'capabilities':{'browserName':_0x44d3('0x1a5'),'chromeOptions':{'args':[_0x44d3('0x1a6'),'--disable-gpu']}}})}]);});}else if(_0x45c2d4[_0x44d3('0x76')]===_0x44d3('0xc0')){return Promise[_0x44d3('0x4b')]([{'name':_0x44d3('0x1a1'),'value':JSON[_0x44d3('0xa3')]({'type':_0x44d3('0x1a2'),'capabilities':{'browserName':'phantomjs'}})}]);}}};var _0x58169f={'testprojects'(_0x46355a,{where,orderBy,skip,first},_0x514a21,_0x344ded){orderBy=orderBy||_0x44d3('0x125');return _0x514a21['db'][_0x44d3('0x53')][_0x44d3('0x1a7')]({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x344ded);},'testproject'(_0x10d501,{id},_0x419d5c,_0xa97ef0){return _0x419d5c['db']['query'][_0x44d3('0xa0')]({'where':{'id':id}},_0xa97ef0);}};var _0x975ee0={'users'(_0x60b7b8,{where,orderBy,skip,first},_0x2b134b,_0x25dfba){orderBy=orderBy||_0x44d3('0x125');return _0x2b134b['db'][_0x44d3('0x53')][_0x44d3('0x1a8')]({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x25dfba);},'user'(_0x2abb1b,{id},_0x2c5d69,_0x1cfc00){return _0x2c5d69['db'][_0x44d3('0x53')][_0x44d3('0x123')]({'where':{'id':id}},_0x1cfc00);},'apikeys'(_0x5586bf,{where,orderBy,skip,first},_0x3a8f35,_0x2624d6){orderBy=orderBy||_0x44d3('0x125');return _0x3a8f35['db']['query'][_0x44d3('0x1a9')]({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x2624d6);},'apikey'(_0x3b554f,{id},_0x17da09,_0x1ac4f3){return _0x17da09['db'][_0x44d3('0x53')][_0x44d3('0x1aa')]({'where':{'id':id}},_0x1ac4f3);},'deviceproviders'(_0x1aac2f,{where,orderBy,skip,first},_0x134d28,_0x485578){orderBy=orderBy||_0x44d3('0x125');return _0x134d28['db'][_0x44d3('0x53')][_0x44d3('0x1ab')]({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x485578);},'deviceprovider'(_0x580ee8,{id},_0x419950,_0x477597){return _0x419950['db'][_0x44d3('0x53')][_0x44d3('0x192')]({'where':{'id':id}},_0x477597);}};const _0x2d4a8c=new _0x43c840(0x3c*0x5);const _0x48f00b=_0x338e74=>{if(_0x338e74===_0x44d3('0x1ac')){return _0x24a087()['startOf']('day');}else if(_0x338e74==='LASTWEEK'){return _0x24a087()[_0x44d3('0x1ad')](0x6,_0x44d3('0x1ae'))['startOf']('day');}else if(_0x338e74===_0x44d3('0x1af')){return _0x24a087()[_0x44d3('0x1ad')](0xd,_0x44d3('0x1ae'))[_0x44d3('0x1b0')](_0x44d3('0x1b1'));}else if(_0x338e74===_0x44d3('0x1b2')){return _0x24a087()[_0x44d3('0x1ad')](0x1e,_0x44d3('0x1ae'))[_0x44d3('0x1b0')](_0x44d3('0x1b1'));}else if(_0x338e74===_0x44d3('0x1b3')){return _0x24a087()[_0x44d3('0x1ad')](0x3c,_0x44d3('0x1ae'))[_0x44d3('0x1b0')](_0x44d3('0x1b1'));}};var _0x4955db={'chartFailedCountByTestSetByDay'(_0x56876a,{testProjectId,timeFrame},_0x23fc22,_0x59e9be){const _0x3c7440=_0x48f00b(timeFrame||_0x44d3('0x1af'));const _0x19d133=_0x24a087();const _0x2363d6=_0x44d3('0x1b4')+JSON[_0x44d3('0xa3')]({'fromDate':_0x3c7440,'testProjectId':testProjectId});return _0x2d4a8c[_0x44d3('0x18b')](_0x2363d6,()=>{return _0x23fc22['db'][_0x44d3('0x53')]['testSets']({'orderBy':_0x44d3('0x125')},'{\x20id\x20name\x20}')[_0x44d3('0x70')](_0xef4ee2=>{return Promise['all'](_0xef4ee2['map'](_0x26a244=>{const _0xcec1ca=[];for(const _0x46e585=_0x24a087(_0x3c7440);_0x46e585[_0x44d3('0x1b5')](_0x19d133);_0x46e585[_0x44d3('0x164')](0x1,_0x44d3('0x1ae'))){const _0x2755ef=_0x24a087(_0x46e585);const _0x26692f=_0x24a087(_0x46e585)['add'](0x1,_0x44d3('0x1ae'));const _0x4ccae8={'status_in':['READY',_0x44d3('0xfd')],'testSets_some':{'id':_0x26a244['id']},'createdAt_gte':_0x2755ef[_0x44d3('0x1b6')](),'createdAt_lte':_0x26692f[_0x44d3('0x1b6')]()};if(testProjectId){_0x4ccae8['testProject']={'id':testProjectId};}_0xcec1ca[_0x44d3('0x4f')](_0x23fc22['db'][_0x44d3('0x53')][_0x44d3('0x148')]({'where':_0x4ccae8},_0x44d3('0x1b7'))[_0x44d3('0x70')](_0xddf6ee=>{if(!_0xddf6ee)return undefined;return Math[_0x44d3('0x1b8')](_0xddf6ee['reduce']((_0x2f149d,_0x4b1c5e)=>_0x2f149d+_0x4b1c5e[_0x44d3('0x1b9')]['filter'](_0x478594=>_0x478594[_0x44d3('0x5b')]&&_0x478594[_0x44d3('0x5b')]['id']===_0x26a244['id']&&!_0x478594[_0x44d3('0x1ba')])[_0x44d3('0x56')],0x0)/_0xddf6ee[_0x44d3('0x56')]);}));}return Promise[_0x44d3('0x159')](_0xcec1ca)[_0x44d3('0x70')](_0x43f4c4=>{return{'id':_0x26a244['id'],'name':_0x26a244[_0x44d3('0x59')],'data':_0x43f4c4};});}));})['then'](_0x2f1998=>{if(testProjectId){return _0x2f1998[_0x44d3('0x8f')](_0x378680=>_0x378680[_0x44d3('0x72')]&&_0x378680[_0x44d3('0x72')]['filter'](_0x590c00=>!isNaN(_0x590c00))[_0x44d3('0x56')]>0x0);}else{return _0x2f1998[_0x44d3('0x8f')](_0x19e8ce=>_0x19e8ce['data']&&_0x19e8ce['data'][_0x44d3('0x8f')](_0x52d01e=>!isNaN(_0x52d01e)&&_0x52d01e>0x0)[_0x44d3('0x56')]>0x0);}});});},'chartFailedCountByChatbotByDay'(_0x2b49b3,{timeFrame},_0x504954,_0x1cc536){const _0x5a0750=_0x48f00b(timeFrame||_0x44d3('0x1af'));const _0x50021f=_0x24a087();const _0x2f6dbe=_0x44d3('0x1bb')+JSON[_0x44d3('0xa3')]({'fromDate':_0x5a0750});return _0x2d4a8c[_0x44d3('0x18b')](_0x2f6dbe,()=>{return _0x504954['db']['query']['chatbots']({'orderBy':_0x44d3('0x125')},_0x44d3('0x6f'))[_0x44d3('0x70')](_0x120f97=>{return Promise[_0x44d3('0x159')](_0x120f97['map'](_0x4d13a1=>{const _0x117257=[];for(const _0x5872e2=_0x24a087(_0x5a0750);_0x5872e2[_0x44d3('0x1b5')](_0x50021f);_0x5872e2[_0x44d3('0x164')](0x1,_0x44d3('0x1ae'))){const _0x9d1975=_0x24a087(_0x5872e2);const _0x34f7cf=_0x24a087(_0x5872e2)[_0x44d3('0x164')](0x1,_0x44d3('0x1ae'));_0x117257[_0x44d3('0x4f')](_0x504954['db'][_0x44d3('0x53')]['testSessions']({'where':{'status_in':['READY',_0x44d3('0xfd')],'chatbot':{'id':_0x4d13a1['id']},'createdAt_gte':_0x9d1975['toDate'](),'createdAt_lte':_0x34f7cf[_0x44d3('0x1b6')]()}},_0x44d3('0x1bc'))[_0x44d3('0x70')](_0x9b9410=>{if(!_0x9b9410)return undefined;return Math['ceil'](_0x9b9410[_0x44d3('0x75')]((_0x1f91d6,_0x5ac790)=>_0x1f91d6+_0x5ac790[_0x44d3('0x1b9')][_0x44d3('0x8f')](_0x1943bb=>!_0x1943bb[_0x44d3('0x1ba')])[_0x44d3('0x56')],0x0)/_0x9b9410[_0x44d3('0x56')]);}));}return Promise[_0x44d3('0x159')](_0x117257)[_0x44d3('0x70')](_0x16b77d=>{return{'id':_0x4d13a1['id'],'name':_0x4d13a1[_0x44d3('0x59')],'data':_0x16b77d};});}));})[_0x44d3('0x70')](_0x4fc1d5=>{return _0x4fc1d5[_0x44d3('0x8f')](_0x190433=>_0x190433['data']&&_0x190433['data']['filter'](_0x3b21f8=>!isNaN(_0x3b21f8))[_0x44d3('0x56')]>0x0);});});},'chartTestSetResultCount'(_0x5f29dc,{testProjectId},_0x30cb87,_0x4a6527){const _0x291c90=_0x44d3('0x1bd')+JSON[_0x44d3('0xa3')]({'testProjectId':testProjectId});return _0x2d4a8c[_0x44d3('0x18b')](_0x291c90,()=>{return _0x30cb87['db'][_0x44d3('0x53')][_0x44d3('0x184')]({'orderBy':_0x44d3('0x125')},_0x44d3('0x6f'))[_0x44d3('0x70')](_0x1d86f5=>{return Promise[_0x44d3('0x159')](_0x1d86f5[_0x44d3('0x91')](_0x4a5e88=>{const _0x39a069={'status_in':[_0x44d3('0xf8'),'FAILED'],'testSets_some':{'id':_0x4a5e88['id']}};if(testProjectId){_0x39a069['testProject']={'id':testProjectId};}return _0x30cb87['db'][_0x44d3('0x53')][_0x44d3('0x148')]({'where':_0x39a069,'orderBy':_0x44d3('0x1be'),'skip':0x0,'first':0x2},_0x44d3('0x1bf'))[_0x44d3('0x70')](_0x223ab4=>{const _0x51a57b={'id':_0x4a5e88['id'],'name':_0x4a5e88['name'],'testCaseLastTotalCount':0x0,'testCaseLastSuccessCount':0x0,'testCaseLastSuccessRate':0x0,'testCasePreviousTotalCount':0x0,'testCasePreviousSuccessCount':0x0,'testCasePreviousSuccessRate':0x0,'testCaseTrend':'UNKNOWN'};if(_0x223ab4&&_0x223ab4[_0x44d3('0x56')]>0x0){const _0x18913c=_0x223ab4[0x0][_0x44d3('0x1b9')]['filter'](_0x5da206=>_0x5da206[_0x44d3('0x5b')]&&_0x5da206[_0x44d3('0x5b')]['id']===_0x4a5e88['id']);_0x51a57b[_0x44d3('0x1c0')]=_0x223ab4[0x0]['createdAt'];_0x51a57b['lastTestSessionId']=_0x223ab4[0x0]['id'];_0x51a57b[_0x44d3('0x1c1')]=_0x18913c[_0x44d3('0x56')];_0x51a57b[_0x44d3('0x1c2')]=_0x18913c[_0x44d3('0x8f')](_0x21e19d=>_0x21e19d['success'])[_0x44d3('0x56')];_0x51a57b['testCaseLastSuccessRate']=_0x51a57b['testCaseLastTotalCount']===_0x51a57b[_0x44d3('0x1c2')]?0x64:_0x51a57b['testCaseLastSuccessCount']/_0x51a57b[_0x44d3('0x1c1')]*0x64;}if(_0x223ab4&&_0x223ab4[_0x44d3('0x56')]>0x1){const _0x52551e=_0x223ab4[0x1][_0x44d3('0x1b9')][_0x44d3('0x8f')](_0x32a000=>_0x32a000[_0x44d3('0x5b')]&&_0x32a000['testSet']['id']===_0x4a5e88['id']);_0x51a57b[_0x44d3('0x1c3')]=_0x223ab4[0x1][_0x44d3('0x1c4')];_0x51a57b['previousTestSessionId']=_0x223ab4[0x1]['id'];_0x51a57b[_0x44d3('0x1c5')]=_0x52551e[_0x44d3('0x56')];_0x51a57b[_0x44d3('0x1c6')]=_0x52551e[_0x44d3('0x8f')](_0x138a88=>_0x138a88[_0x44d3('0x1ba')])['length'];_0x51a57b[_0x44d3('0x1c7')]=_0x51a57b[_0x44d3('0x1c5')]===_0x51a57b['testCasePreviousSuccessCount']?0x64:_0x51a57b['testCasePreviousSuccessCount']/_0x51a57b['testCasePreviousTotalCount']*0x64;if(_0x51a57b['testCaseLastSuccessRate']>_0x51a57b[_0x44d3('0x1c7')])_0x51a57b['testCaseTrend']='GOOD';else if(_0x51a57b[_0x44d3('0x1c8')]<_0x51a57b[_0x44d3('0x1c7')])_0x51a57b[_0x44d3('0x1c9')]=_0x44d3('0x1ca');else _0x51a57b['testCaseTrend']='CONSTANT';}return _0x51a57b;});}));})[_0x44d3('0x70')](_0x140885=>{const _0x3aa4f9=_0x140885[_0x44d3('0x8f')](_0x213807=>_0x213807[_0x44d3('0x1c1')]>0x0);return _0x1eeeb8[_0x44d3('0x19e')](_0x3aa4f9,_0x44d3('0x1c0'),_0x44d3('0x1cb'));});});},'chartTestProjectTrainingStatusByTestSet'(_0x1391c4,{testProjectId},_0xea90aa,_0x386233){const _0x43cdc6=_0x44d3('0x1cc')+JSON['stringify']({'testProjectId':testProjectId});return _0x2d4a8c[_0x44d3('0x18b')](_0x43cdc6,async()=>{const _0x5d706f={'status_in':['READY',_0x44d3('0xfd')],'testProject':{'id':testProjectId}};const _0x522be8=await _0xea90aa['db']['query'][_0x44d3('0x148')]({'where':_0x5d706f,'orderBy':'createdAt_DESC','skip':0x0,'first':0x1},'{\x20id\x20createdAt\x20results\x20{\x20success\x20testSet\x20{\x20id\x20name\x20}\x20}\x20}');if(!_0x522be8||_0x522be8[_0x44d3('0x56')]===0x0)return null;const _0x5cde20=_0x522be8[0x0];const _0x1ea2de=_0x1eeeb8[_0x44d3('0x19d')](_0x5cde20[_0x44d3('0x1b9')]['map'](_0x37da05=>_0x37da05[_0x44d3('0x5b')]),'id');_0x1ea2de[_0x44d3('0x80')](_0x50d456=>{_0x50d456[_0x44d3('0x1cd')]=_0x5cde20['results']['filter'](_0x156aa9=>_0x156aa9[_0x44d3('0x5b')]['id']===_0x50d456['id'])[_0x44d3('0x56')];_0x50d456[_0x44d3('0x1ce')]=_0x5cde20['results'][_0x44d3('0x8f')](_0x546122=>_0x546122[_0x44d3('0x5b')]['id']===_0x50d456['id']&&_0x546122[_0x44d3('0x1ba')])['length'];_0x50d456['failedCount']=_0x5cde20[_0x44d3('0x1b9')][_0x44d3('0x8f')](_0x133c47=>_0x133c47['testSet']['id']===_0x50d456['id']&&!_0x133c47[_0x44d3('0x1ba')])[_0x44d3('0x56')];});return _0x1eeeb8[_0x44d3('0x1cf')](_0x1ea2de,_0x44d3('0x59'));});},'chartTestProjectTrainingStatusByDeviceSet'(_0x46aa95,{testProjectId},_0x14c562,_0x461bb7){const _0x21e1ad='chartTestProjectTrainingStatusByDeviceSet_'+JSON[_0x44d3('0xa3')]({'testProjectId':testProjectId});return _0x2d4a8c['get'](_0x21e1ad,async()=>{const _0x28ef74={'status_in':['READY',_0x44d3('0xfd')],'testProject':{'id':testProjectId}};const _0x30f362=await _0x14c562['db'][_0x44d3('0x53')][_0x44d3('0x148')]({'where':_0x28ef74,'orderBy':_0x44d3('0x1be'),'skip':0x0,'first':0x1},_0x44d3('0x1d0'));if(!_0x30f362||_0x30f362[_0x44d3('0x56')]===0x0)return null;const _0x41efca=_0x30f362[0x0];const _0x42a329=_0x1eeeb8[_0x44d3('0x19d')](_0x41efca['results'][_0x44d3('0x8f')](_0x42d1b4=>_0x42d1b4[_0x44d3('0xec')])[_0x44d3('0x91')](_0x4062bf=>_0x4062bf[_0x44d3('0xec')]),'id');_0x42a329[_0x44d3('0x80')](_0x5d730c=>{_0x5d730c[_0x44d3('0x1cd')]=_0x41efca[_0x44d3('0x1b9')][_0x44d3('0x8f')](_0x2f1eab=>_0x2f1eab[_0x44d3('0xec')]&&_0x2f1eab[_0x44d3('0xec')]['id']===_0x5d730c['id'])['length'];_0x5d730c[_0x44d3('0x1ce')]=_0x41efca['results']['filter'](_0x37c141=>_0x37c141[_0x44d3('0xec')]&&_0x37c141[_0x44d3('0xec')]['id']===_0x5d730c['id']&&_0x37c141['success'])['length'];_0x5d730c[_0x44d3('0x1d1')]=_0x41efca[_0x44d3('0x1b9')][_0x44d3('0x8f')](_0x226722=>_0x226722['deviceSet']&&_0x226722[_0x44d3('0xec')]['id']===_0x5d730c['id']&&!_0x226722[_0x44d3('0x1ba')])[_0x44d3('0x56')];});if(_0x41efca[_0x44d3('0x1b9')][_0x44d3('0x8f')](_0x37aa1b=>!_0x37aa1b[_0x44d3('0xec')])['length']>0x0){_0x42a329[_0x44d3('0x4f')]({'id':'','name':_0x44d3('0x1d2'),'totalCount':_0x41efca['results']['filter'](_0x4956b8=>!_0x4956b8[_0x44d3('0xec')])[_0x44d3('0x56')],'successCount':_0x41efca['results'][_0x44d3('0x8f')](_0x585ebb=>!_0x585ebb[_0x44d3('0xec')]&&_0x585ebb[_0x44d3('0x1ba')])[_0x44d3('0x56')],'failedCount':_0x41efca[_0x44d3('0x1b9')]['filter'](_0x4381a7=>!_0x4381a7[_0x44d3('0xec')]&&!_0x4381a7['success'])[_0x44d3('0x56')]});}return _0x1eeeb8[_0x44d3('0x1cf')](_0x42a329,'name');});}};const {generateToken:generateToken$2}=_0x117d42;var _0x493159={async 'login'(_0x18820c,{name,email,password},_0x3e7bc8,_0x9a800d){const _0x67e37d=name?{'name':name}:email?{'email':email}:null;if(!_0x67e37d){throw new Error('Invalid\x20request');}const _0x264af5=await _0x3e7bc8['db'][_0x44d3('0x53')]['user']({'where':_0x67e37d});if(!_0x264af5){throw new Error(_0x44d3('0x1d3')+(name?name:email));}const _0x1e4f11=await _0x433116[_0x44d3('0x1d4')](password,_0x264af5['password']);if(!_0x1e4f11){throw new Error('Invalid\x20password');}return{'token':generateToken$2(_0x264af5),'user':_0x264af5};}};var _0x40b493={async 'createAgent'(_0x1cfe28,{agent},_0x568b5b,_0x3c8fb0){},async 'updateAgent'(_0x427b8e,{id,agent},_0x3ca70e,_0xf268f8){const _0x347e50=await _0x3ca70e['db']['exists'][_0x44d3('0x1d5')]({'id':id});if(!_0x347e50){throw new Error(_0x44d3('0x1d6')+id);}return _0x3ca70e['db'][_0x44d3('0x65')]['updateAgent']({'where':{'id':id},'data':agent},_0xf268f8);},async 'deleteAgent'(_0x4c1484,{id},_0x5cca99){}};var _0x3d679d={async 'createChatbot'(_0x23cb43,{chatbot},_0x278b92,_0x3dbc97){return _0x278b92['db'][_0x44d3('0x65')][_0x44d3('0x1d7')]({'data':chatbot},_0x3dbc97);},async 'updateChatbot'(_0x29153e,{id,chatbot},_0x2d4bd7,_0x46d2d7){const _0x556671=await _0x2d4bd7['db']['exists'][_0x44d3('0x1d8')]({'id':id});if(!_0x556671){throw new Error(_0x44d3('0x1d9')+id);}return _0x2d4bd7['db'][_0x44d3('0x65')]['updateChatbot']({'where':{'id':id},'data':chatbot},_0x46d2d7);},async 'deleteChatbot'(_0x3367d1,{id},_0x2af7c1){return new Promise((_0x183f1b,_0x3dd8e7)=>{_0x2af7c1['db'][_0x44d3('0x65')][_0x44d3('0x1da')]({'where':{'id':id}},_0x44d3('0x1db'))[_0x44d3('0x70')](()=>_0x183f1b(!![]))[_0x44d3('0x89')](_0xbdc95=>_0x3dd8e7(_0xbdc95));});}};const _0x2ae768=_0x5c56d3(_0x44d3('0x1dc'));var _0x3d6456={async 'createTestSession'(_0x23b820,{testSession},_0x4701df,_0x1af0a8){return _0x4701df['db'][_0x44d3('0x65')][_0x44d3('0x1dd')]({'data':testSession},_0x1af0a8)[_0x44d3('0x70')](_0x58fd47=>{return new Promise((_0x19cc41,_0x13ce8a)=>{_0x4701df[_0x44d3('0xab')][_0x44d3('0xac')]('box.createprocessingjobs',{'title':'Job\x20Creation\x20Job\x20for\x20Test\x20Session\x20'+testSession['name'],'testSessionId':_0x58fd47['id']})[_0x44d3('0x1de')](!![])[_0x44d3('0xb0')](_0x15c80f=>{if(_0x15c80f){return _0x13ce8a(_0x15c80f);}_0x19cc41(_0x58fd47);});});});},async 'deleteTestSession'(_0x4132c1,{id},_0x54ac20){return new Promise((_0x3f3aa8,_0x585490)=>{_0x54ac20['db'][_0x44d3('0x65')][_0x44d3('0x1df')]({'where':{'testSessionJob':{'testSession':{'id':id}}}})['then'](()=>_0x54ac20['db'][_0x44d3('0x65')][_0x44d3('0x1e0')]({'where':{'testSession':{'id':id}}}))[_0x44d3('0x70')](()=>_0x54ac20['db'][_0x44d3('0x65')][_0x44d3('0x1e1')]({'where':{'testSession':{'id':id}}}))[_0x44d3('0x70')](()=>_0x54ac20['db'][_0x44d3('0x65')][_0x44d3('0x1e2')]({'where':{'id':id}},'{id}'))['then'](()=>_0x3f3aa8(!![]))[_0x44d3('0x89')](_0x3045ed=>{_0x2ae768(_0x44d3('0x1e3')+id+':\x20'+_0x3045ed);return _0x585490(_0x3045ed);});});}};var _0x584e2d={async 'createTestSet'(_0x412e46,{testSet},_0x16bf5f,_0x5d5453){return _0x16bf5f['db']['mutation'][_0x44d3('0x1e4')]({'data':testSet},_0x5d5453);},async 'updateTestSet'(_0x55c389,{id,testSet},_0x4c6f12,_0xa4c109){const _0xa8952=await _0x4c6f12['db'][_0x44d3('0x1e5')]['TestSet']({'id':id});if(!_0xa8952){throw new Error(_0x44d3('0x1e6')+id);}return _0x4c6f12['db'][_0x44d3('0x65')][_0x44d3('0x1e7')]({'where':{'id':id},'data':testSet},_0xa4c109);},async 'deleteTestSet'(_0x3b1448,{id},_0x542b18){return new Promise((_0x242c81,_0x578a59)=>{_0x542b18['db'][_0x44d3('0x65')][_0x44d3('0x1e8')]({'where':{'id':id}},'{id}')[_0x44d3('0x70')](()=>_0x242c81(!![]))['catch'](_0x1cec6a=>_0x578a59(_0x1cec6a));});},async 'createTestSetScript'(_0x499606,{testSetScript},_0x3af61f,_0x3ceaec){return _0x3af61f['db'][_0x44d3('0x65')][_0x44d3('0x145')]({'data':testSetScript},_0x3ceaec);},async 'updateTestSetScript'(_0x31f923,{id,testSetScript},_0x50fc63,_0x5dae77){const _0x17a150=await _0x50fc63['db'][_0x44d3('0x1e5')][_0x44d3('0x1e9')]({'id':id});if(!_0x17a150){throw new Error(_0x44d3('0x1ea')+id);}return _0x50fc63['db'][_0x44d3('0x65')][_0x44d3('0x1eb')]({'where':{'id':id},'data':testSetScript},_0x5dae77);},async 'deleteTestSetScript'(_0x262e89,{id},_0x236690){return new Promise((_0x4bfdc7,_0x348bce)=>{_0x236690['db'][_0x44d3('0x65')][_0x44d3('0x1ec')]({'where':{'id':id}},_0x44d3('0x1db'))[_0x44d3('0x70')](()=>_0x4bfdc7(!![]))[_0x44d3('0x89')](_0x1899e8=>_0x348bce(_0x1899e8));});},async 'createTestSetRepository'(_0x3e1a30,{testSetRepository},_0x4e89c8,_0x1fe9ac){},async 'updateTestSetRepository'(_0x48ca67,{id,testSetRepository},_0x3fb856,_0x5986ee){},async 'deleteTestSetRepository'(_0x18bd7b,{id},_0x43624e){},async 'createTestSetFolder'(_0x145a03,{testSetFolder},_0x227957,_0x40660c){return _0x227957['db'][_0x44d3('0x65')][_0x44d3('0x1ed')]({'data':testSetFolder},_0x40660c);},async 'updateTestSetFolder'(_0x2a1f5f,{id,testSetFolder},_0x43d33b,_0xb4917e){const _0x2426e1=await _0x43d33b['db'][_0x44d3('0x1e5')][_0x44d3('0x1ee')]({'id':id});if(!_0x2426e1){throw new Error(_0x44d3('0x1ef')+id);}return _0x43d33b['db'][_0x44d3('0x65')][_0x44d3('0x1f0')]({'where':{'id':id},'data':testSetFolder},_0xb4917e);},async 'deleteTestSetFolder'(_0x1dc946,{id},_0x1cf2c9){return new Promise((_0x3f6a74,_0x57cbd5)=>{_0x1cf2c9['db'][_0x44d3('0x65')]['deleteTestSetFolder']({'where':{'id':id}},_0x44d3('0x1db'))['then'](()=>_0x3f6a74(!![]))[_0x44d3('0x89')](_0xb25961=>_0x57cbd5(_0xb25961));});},async 'createTestSetExcel'(_0x89cba7,{testSetExcel},_0xdc3470,_0x27636d){return _0xdc3470['db'][_0x44d3('0x65')]['createTestSetExcel']({'data':testSetExcel},_0x27636d);},async 'updateTestSetExcel'(_0x217a5c,{id,testSetExcel},_0x15348e,_0x415a1e){const _0x11d072=await _0x15348e['db'][_0x44d3('0x1e5')]['TestSetExcel']({'id':id});if(!_0x11d072){throw new Error(_0x44d3('0x1f1')+id);}return _0x15348e['db'][_0x44d3('0x65')][_0x44d3('0x1f2')]({'where':{'id':id},'data':testSetExcel},_0x415a1e);},async 'deleteTestSetExcel'(_0xd2fd4e,{id},_0x19f8fa){return new Promise((_0x18c0e1,_0x1d6f68)=>{_0x19f8fa['db'][_0x44d3('0x65')]['deleteTestSetExcel']({'where':{'id':id}},'{id}')['then'](()=>_0x18c0e1(!![]))[_0x44d3('0x89')](_0x4b16ec=>_0x1d6f68(_0x4b16ec));});},async 'cloneTestSet'(_0x44b52e,{id,options},_0x256b4f,_0x4f9469){const _0x218c63=await _0x256b4f['db'][_0x44d3('0x53')]['testSet']({'where':{'id':id}},_0x44d3('0x1f3'));if(!_0x218c63){throw new Error('TestSet\x20not\x20found\x20'+id);}const _0x5df9d0=await _0x8fed3b[_0x44d3('0x1f4')](_0x218c63,_0x12f713);const _0x4f4445=_0x218c63[_0x44d3('0x59')]+'/'+_0x501a4c[_0x44d3('0x1f5')](_0x5df9d0);const _0x543230=_0x218c63[_0x44d3('0x59')]+_0x44d3('0x1f6')+_0x501a4c['basename'](_0x5df9d0)+'\x22,\x20Humanifiers\x20\x22'+(_0x12f713[_0x44d3('0x165')]&&_0x12f713[_0x44d3('0x165')]['join'](',\x20'))+'\x22,\x20percentage\x20'+_0x12f713[_0x44d3('0x17b')]+'.';const _0xdbc5b9={'data':{..._0x218c63,'name':_0x4f4445,'description':_0x543230,'tags':{'set':_0x218c63[_0x44d3('0x1f7')]?[..._0x218c63[_0x44d3('0x1f7')],_0x44d3('0x1f8')]:[_0x44d3('0x1f8')]},'folders':{'create':[{'name':_0x44d3('0x1f9'),'path':_0x501a4c['resolve'](_0x5df9d0)}]},'repositories':{},'scripts':[],'excels':{}}};delete _0xdbc5b9[_0x44d3('0x72')]['id'];return _0x256b4f['db'][_0x44d3('0x65')][_0x44d3('0x1e4')](_0xdbc5b9,_0x4f9469);}};const _0x10c518=_0x3d6456[_0x44d3('0x1dd')];const _0xb1a0b6=_0x5c56d3(_0x44d3('0x1fa'));var _0x4996bf={async 'createTestProject'(_0x1e1480,{testProject},_0x574270,_0x2a9bfc){return _0x574270['db'][_0x44d3('0x65')]['createTestProject']({'data':{...testProject,'code':_0x2e33f5(testProject[_0x44d3('0x59')])}},_0x2a9bfc);},async 'startTestProject'(_0xd829ce,{id,code},_0x28cc73){return _0x28cc73['db']['query'][_0x44d3('0xa0')]({'where':{'id':id,'code':code}},_0x44d3('0x1fb'))[_0x44d3('0x70')](_0x5ec1b1=>{if(!_0x5ec1b1)throw new Error(_0x44d3('0x1fc')+id+'/'+code+'\x20not\x20found');return _0x10c518(_0xd829ce,{'testSession':{'name':_0x5ec1b1[_0x44d3('0x59')]+_0x44d3('0x1fd'),'status':_0x44d3('0xd3'),'tags':{'set':['Manual']},'chatbot':{'connect':{'id':_0x5ec1b1[_0x44d3('0xa4')]['id']}},'testSets':{'connect':_0x5ec1b1['testSets']&&_0x5ec1b1[_0x44d3('0x184')][_0x44d3('0x91')](_0x5ab1c5=>{return{'id':_0x5ab1c5['id']};})},'deviceSets':{'connect':_0x5ec1b1[_0x44d3('0x191')]&&_0x5ec1b1[_0x44d3('0x191')][_0x44d3('0x91')](_0x5a0bd1=>{return{'id':_0x5a0bd1['id']};})},'testProject':{'connect':{'id':_0x5ec1b1['id']}},'batchCount':_0x5ec1b1[_0x44d3('0x1fe')]}},_0x28cc73,_0x44d3('0x66'));})[_0x44d3('0x70')](_0x55ca78=>_0x55ca78['id']);},async 'quickstartTestProject'(_0x3484a4,{testProject},_0x313906){return _0x313906['db'][_0x44d3('0x65')][_0x44d3('0x1ff')]({'data':{...testProject,'code':_0x2e33f5(testProject[_0x44d3('0x59')])}},'{\x20id\x20name\x20chatbot\x20{\x20id\x20}\x20testSets\x20{\x20id\x20}\x20deviceSets\x20{\x20id\x20}\x20}')[_0x44d3('0x70')](_0x501b7d=>{return _0x10c518(_0x3484a4,{'testSession':{'name':_0x501b7d[_0x44d3('0x59')]+'\x20-\x20Initial\x20Test\x20Session','status':_0x44d3('0xd3'),'tags':{'set':[_0x44d3('0x200')]},'chatbot':{'connect':{'id':_0x501b7d[_0x44d3('0xa4')]['id']}},'testSets':{'connect':_0x501b7d['testSets']&&_0x501b7d[_0x44d3('0x184')][_0x44d3('0x91')](_0x17f53e=>{return{'id':_0x17f53e['id']};})},'deviceSets':{'connect':_0x501b7d[_0x44d3('0x191')]&&_0x501b7d[_0x44d3('0x191')][_0x44d3('0x91')](_0x172956=>{return{'id':_0x172956['id']};})},'testProject':{'connect':{'id':_0x501b7d['id']}}}},_0x313906,_0x44d3('0x66'));})[_0x44d3('0x70')](_0xbc3ecb=>_0xbc3ecb['id']);},async 'updateTestProject'(_0x3beb54,{id,testProject},_0x2bbad8,_0x12500c){const _0x79a18b=await _0x2bbad8['db']['exists']['TestProject']({'id':id});if(!_0x79a18b){throw new Error('TestProject\x20not\x20found\x20'+id);}return _0x2bbad8['db'][_0x44d3('0x65')]['updateTestProject']({'where':{'id':id},'data':{...testProject,'code':_0x2e33f5(testProject[_0x44d3('0x59')])}},_0x12500c);},async 'deleteTestProject'(_0x4ed235,{id},_0x2810b6){return new Promise((_0x20df6b,_0x2008f4)=>{_0x2810b6['db'][_0x44d3('0x65')][_0x44d3('0x102')]({'data':{'testProject':{'disconnect':!![]}},'where':{'testProject':{'id':id}}})[_0x44d3('0x70')](()=>_0x2810b6['db'][_0x44d3('0x65')][_0x44d3('0x201')]({'where':{'id':id}},_0x44d3('0x1db')))[_0x44d3('0x70')](()=>_0x20df6b(!![]))['catch'](_0x54c992=>{_0xb1a0b6(_0x44d3('0x202')+id+':\x20'+_0x54c992);return _0x2008f4(_0x54c992);});});}};const _0x373712=_0x5c56d3(_0x44d3('0x203'));let _0x492292=[_0x44d3('0x1a0')];var _0x387e45={async 'createUser'(_0x43e953,{user},_0x4a58bf,_0x29efde){if(user[_0x44d3('0xbb')]){user[_0x44d3('0xbb')]=await _0x433116[_0x44d3('0x204')](user['password'],0xa);}if(!user[_0x44d3('0x205')]){user[_0x44d3('0x205')]={'set':[_0x44d3('0x206')]};}return _0x4a58bf['db'][_0x44d3('0x65')][_0x44d3('0x207')]({'data':user},_0x29efde);},async 'updateUser'(_0x50bdb2,{id,user},_0x5b3dd3,_0x24cd98){const _0x295efc=await _0x5b3dd3['db']['query']['user']({'where':{'id':id}});if(!_0x295efc){throw new Error('User\x20not\x20found\x20'+id);}if(_0x5b3dd3[_0x44d3('0x124')]['user']['id']!==id&&_0x5b3dd3[_0x44d3('0x124')][_0x44d3('0x123')][_0x44d3('0x205')][_0x44d3('0x208')](_0x17456f=>_0x17456f===_0x44d3('0x209'))<0x0){throw new Error(_0x44d3('0x20a'));}if(user[_0x44d3('0xbb')]){user[_0x44d3('0xbb')]=await _0x433116[_0x44d3('0x204')](user[_0x44d3('0xbb')],0xa);}if(_0x295efc[_0x44d3('0x59')]===_0x44d3('0x20b')){user['name']=_0x44d3('0x20b');user['roles']={'set':[_0x44d3('0x209')]};}if(!user[_0x44d3('0x205')]){user[_0x44d3('0x205')]={'set':[_0x44d3('0x206')]};}return _0x5b3dd3['db'][_0x44d3('0x65')][_0x44d3('0x20c')]({'where':{'id':id},'data':user},_0x24cd98);},async 'deleteUser'(_0x47efdf,{id},_0x3174e2){const _0xd8bcc6=await _0x3174e2['db'][_0x44d3('0x53')][_0x44d3('0x123')]({'where':{'id':id}});if(!_0xd8bcc6)return!![];if(_0xd8bcc6[_0x44d3('0x59')]===_0x44d3('0x20b')){throw new Error('Not\x20allowed\x20to\x20delete\x20user\x20\x22admin\x22');}return _0x3174e2['db'][_0x44d3('0x65')][_0x44d3('0x20d')]({'where':{'id':id}},_0x44d3('0x1db'))[_0x44d3('0x70')](()=>!![])['catch'](_0x4dea3f=>{_0x373712(_0x44d3('0x20e')+id+':\x20'+_0x4dea3f);throw _0x4dea3f;});},async 'createApiKey'(_0x51a79b,{apiKey},_0x50267a,_0x2510d5){apiKey['key']=_0x494b8a('Aa0',0x14);return _0x50267a['db']['mutation']['createApiKey']({'data':apiKey},_0x2510d5);},async 'updateApiKey'(_0x573794,{id,apiKey},_0x2a261c,_0x38b42d){const _0x16c06a=await _0x2a261c['db'][_0x44d3('0x1e5')][_0x44d3('0x20f')]({'id':id});if(!_0x16c06a){throw new Error(_0x44d3('0x210')+id);}delete apiKey[_0x44d3('0x211')];return _0x2a261c['db'][_0x44d3('0x65')][_0x44d3('0x212')]({'where':{'id':id},'data':apiKey},_0x38b42d);},async 'deleteApiKey'(_0x26e156,{id},_0x12ad6a){return _0x12ad6a['db']['mutation']['deleteApiKey']({'where':{'id':id}},_0x44d3('0x1db'))['then'](()=>!![])[_0x44d3('0x89')](_0x47b474=>{_0x373712(_0x44d3('0x213')+id+':\x20'+_0x47b474);throw _0x47b474;});},async 'createDeviceProvider'(_0x2c39af,{deviceProvider},_0x369894,_0x99bf21){if(deviceProvider['type']==='INTEGRATED'){throw new Error(_0x44d3('0x214'));}if(_0x492292[_0x44d3('0x18e')](deviceProvider[_0x44d3('0x76')])<0x0){throw new Error(_0x44d3('0x215')+deviceProvider[_0x44d3('0x76')]+_0x44d3('0x216'));}return _0x369894['db']['mutation'][_0x44d3('0x217')]({'data':deviceProvider},_0x99bf21);},async 'updateDeviceProvider'(_0xfbdb71,{id,deviceProvider},_0x4c9efb,_0x4faaa5){const _0x90d73d=await _0x4c9efb['db'][_0x44d3('0x1e5')]['DeviceProvider']({'id':id});if(!_0x90d73d){throw new Error(_0x44d3('0x218')+id);}if(_0x492292[_0x44d3('0x18e')](deviceProvider['type'])<0x0){throw new Error(_0x44d3('0x215')+deviceProvider[_0x44d3('0x76')]+'\x20not\x20supported\x20in\x20this\x20version');}return _0x4c9efb['db'][_0x44d3('0x65')][_0x44d3('0x219')]({'where':{'id':id},'data':deviceProvider},_0x4faaa5);},async 'deleteDeviceProvider'(_0x1fb9b8,{id},_0x3af94b){const _0x577bfb=await _0x3af94b['db'][_0x44d3('0x53')]['deviceProvider']({'where':{'id':id}});if(!_0x577bfb)return!![];if(_0x577bfb['type']===_0x44d3('0xc0')){throw new Error(_0x44d3('0x21a'));}try{await _0x3af94b['db']['mutation']['deleteDeviceProvider']({'where':{'id':id}},_0x44d3('0x1db'));return!![];}catch(_0xe0e701){_0x373712(_0x44d3('0x21b')+id+':\x20'+_0xe0e701);throw _0xe0e701;}}};const _0x5d6bd7=_0x5c56d3(_0x44d3('0x21c'));var _0x215110={async 'createDeviceSet'(_0x4e2074,{deviceSet},_0x405bcd,_0x114660){return _0x405bcd['db'][_0x44d3('0x65')][_0x44d3('0x21d')]({'data':deviceSet},_0x114660);},async 'updateDeviceSet'(_0x4b8542,{id,deviceSet},_0x44c87d,_0xc51858){const _0x3a554f=await _0x44c87d['db'][_0x44d3('0x1e5')][_0x44d3('0x21e')]({'id':id});if(!_0x3a554f){throw new Error(_0x44d3('0x21f')+id);}return _0x44c87d['db'][_0x44d3('0x65')][_0x44d3('0x220')]({'where':{'id':id},'data':deviceSet},_0xc51858);},async 'deleteDeviceSet'(_0x49c0f1,{id},_0x2d9ff4){return new Promise((_0xa63479,_0x58731c)=>{_0x2d9ff4['db']['query']['deviceSet']({'where':{'id':id}},_0x44d3('0x221'))[_0x44d3('0x70')](_0x21e970=>{if(!_0x21e970)throw new Error(_0x44d3('0x21f')+id);return _0x2d9ff4['db'][_0x44d3('0x65')][_0x44d3('0x222')]({'where':{'id_in':_0x21e970[_0x44d3('0xb8')][_0x44d3('0x91')](_0x4da351=>_0x4da351['id'])}});})[_0x44d3('0x70')](()=>_0x2d9ff4['db'][_0x44d3('0x65')][_0x44d3('0x223')]({'where':{'id':id}},'{id}'))[_0x44d3('0x70')](()=>_0xa63479(!![]))['catch'](_0x33866b=>{_0x5d6bd7('Error\x20deleting\x20DeviceSet\x20'+id+':\x20'+_0x33866b);return _0x58731c(_0x33866b);});});}};const _0x43ca03={};var _0x1dd0ae=_0x43ca03;const {withFilter}=_0x46f03d;var _0xb204fe={'testSessionProgress':{'subscribe':withFilter((_0x260b7d,{testSessionId},{pubsub})=>_0x3a7ab9[_0x44d3('0x12c')]('TEST_SESSION_PROGRESS'),(_0x2b34ee,{testSessionId})=>{return _0x2b34ee[_0x44d3('0x224')]['id']===testSessionId;})},'newTestSession':{'subscribe':(_0x121b1e,_0x2b1e21,_0x8bad5f,_0xca3ade)=>{return _0x8bad5f['db'][_0x44d3('0x225')]['testSession']({'where':{'mutation_in':[_0x44d3('0x226')]}},_0xca3ade);}},'changeTestSession':{'subscribe':(_0x47cf45,{ids},_0x3a3998,_0x54cb3d)=>{return _0x3a3998['db'][_0x44d3('0x225')][_0x44d3('0x71')]({'where':{'mutation_in':[_0x44d3('0x227')],'node':{'id_in':ids}}},_0x54cb3d);}},'changeTestSessionJobs':{'subscribe':(_0x3804fe,{testSessionIds},_0x1f02cf,_0x15b6cc)=>{return _0x1f02cf['db'][_0x44d3('0x225')]['testSessionJob']({'where':{'mutation_in':[_0x44d3('0x227')],'node':{'testSession':{'id_in':testSessionIds}}}},_0x15b6cc);}},'newTestSessionJobLogs':{'subscribe':(_0x44a774,{testSessionJobId},_0x335ad3,_0x3ad6ab)=>{return _0x335ad3['db'][_0x44d3('0x225')][_0x44d3('0x228')]({'where':{'mutation_in':[_0x44d3('0x226')],'node':{'testSessionJob':{'id':testSessionJobId}}}},_0x3ad6ab);}},'newTestSessionTestCaseResults':{'subscribe':(_0x23f6c5,{testSessionIds},_0x26f1f0,_0x18e5cf)=>{return _0x26f1f0['db']['subscription'][_0x44d3('0x229')]({'where':{'mutation_in':[_0x44d3('0x226')],'node':{'testSession':{'id_in':testSessionIds}}}},_0x18e5cf);}}};var _0x2a6083={'Query':{..._0x168e94,..._0x5d2816,..._0x4a4d0c,..._0x364cec[_0x44d3('0x22a')],..._0x15c6fd,..._0xcecbbb,..._0x34dabf,..._0x58169f,..._0x975ee0,..._0x4955db},'Mutation':{..._0x493159,..._0x40b493,..._0x3d679d,..._0x364cec['Mutation'],..._0x3d6456,..._0x584e2d,..._0x4996bf,..._0x387e45,..._0x215110},'Subscription':{..._0x1dd0ae,..._0x364cec[_0x44d3('0x22b')],..._0xb204fe}};const _0x1b3f4d=_0x44d3('0x22c');const _0x3f86f1='request.apiKey';const _0x334764=_0x15a122=>_0x4903ae(_0x15a122,_0x1b3f4d);const _0x3935fb=_0x3e9bd3=>_0x4903ae(_0x3e9bd3,_0x3f86f1);const _0x4692c8=_0x34a699=>{const _0x40259d=_0x334764(_0x34a699);const _0x2f1697=_0x3935fb(_0x34a699);if(!_0x40259d&&!_0x2f1697)throw new Error(_0x44d3('0x22d'));return _0x40259d||_0x2f1697;};var _0x5878ec={'isAuthenticated':(_0x24e052,_0x2c3664,_0x17decc,_0x415a4a)=>{_0x4692c8(_0x415a4a);return _0x24e052();},'hasRole':(_0x35ef6c,_0x24a796,{roles},_0x2c287a)=>{const _0x2b4b91=_0x4692c8(_0x2c287a);for(const _0x71df29 in _0x2b4b91['roles']||[]){const _0x5412a5=_0x2b4b91['roles'][_0x71df29];if(roles[_0x44d3('0x22e')](_0x5412a5)){return _0x35ef6c();}}throw new Error(_0x44d3('0x22f'));}};const {jwtSettings:jwtSettings$1,tokenToUserId:tokenToUserId$1}=_0x117d42;const _0xf96a05=_0x5c56d3(_0x44d3('0x230'));let _0x1541a5=null;const _0x2d55c0=async(_0x411d6c,_0x395439,_0x2fbdf2,_0x4fad73)=>{const _0x3d17cb=_0x411d6c[_0x44d3('0x53')][_0x44d3('0x231')]||_0x411d6c[_0x44d3('0x232')]&&_0x411d6c[_0x44d3('0x232')]['APIKEY']||_0x411d6c['headers'][_0x44d3('0x231')];const _0x171ecd=_0x4fad73(_0x411d6c);if(_0x3d17cb){_0x5c65ab[_0x44d3('0x233')](_0x171ecd['db'],_0x3d17cb)['then'](_0x3ffcc9=>{if(_0x3ffcc9){_0xf96a05(_0x44d3('0x234')+_0x47b65c[_0x44d3('0x235')](_0x3ffcc9));_0x411d6c['apiKey']=_0x3ffcc9;return _0x2fbdf2();}else{_0xf96a05(_0x44d3('0x236')+_0x3d17cb);return _0x2fbdf2();}})[_0x44d3('0x89')](_0x482871=>{_0xf96a05('Api\x20Key\x20lookup\x20error\x20-\x20'+_0x3d17cb+_0x44d3('0x147')+_0x482871);return _0x2fbdf2();});}else{return _0x2fbdf2();}};const _0x428796=async(_0x6870cb,_0x2b2d97,_0x1d202d,_0x2f568c)=>{if(_0x6870cb[_0x44d3('0x123')]){const _0x3e971e=_0x2f568c(_0x6870cb)['db'];const _0x4a483e=_0x6870cb[_0x44d3('0x123')];const _0x37450b=await _0x3e971e['query'][_0x44d3('0x123')]({'where':{'id':tokenToUserId$1(_0x4a483e)}},_0x44d3('0x237'));_0x6870cb[_0x44d3('0x123')]={..._0x37450b,'token':_0x4a483e};return _0x1d202d();}if(process[_0x44d3('0x4a')][_0x44d3('0x238')]){if(!_0x1541a5){const _0x2b0df7=_0x2f568c(_0x6870cb)['db'];_0x1541a5=await _0x2b0df7['query'][_0x44d3('0x123')]({'where':{'name':process[_0x44d3('0x4a')][_0x44d3('0x238')]}},'{\x20id\x20name\x20email\x20roles\x20}');_0xf96a05(_0x44d3('0x239')+process[_0x44d3('0x4a')][_0x44d3('0x238')]+'.');}_0x6870cb['user']={..._0x1541a5,'token':null};return _0x1d202d();}return _0x1d202d();};const _0x53108c=()=>_0x3b8d17(Object[_0x44d3('0xba')]({},jwtSettings$1(),{'credentialsRequired':![],'getToken':_0x1f8e1e=>{if(_0x1f8e1e['headers']['authorization']&&_0x1f8e1e[_0x44d3('0x23a')][_0x44d3('0x23b')]['split']('\x20')[0x0]===_0x44d3('0x23c')){return _0x1f8e1e['headers'][_0x44d3('0x23b')][_0x44d3('0x63')]('\x20')[0x1];}else if(_0x1f8e1e[_0x44d3('0x53')]&&_0x1f8e1e[_0x44d3('0x53')][_0x44d3('0x23d')]){return _0x1f8e1e[_0x44d3('0x53')]['token'];}else if(_0x1f8e1e[_0x44d3('0x232')]&&_0x1f8e1e[_0x44d3('0x232')]['token']){return _0x1f8e1e['body'][_0x44d3('0x23d')];}return null;}}));var _0x2ea7b4=(_0xd21f07,_0x4f8f0d,_0x2f28f7)=>{_0xd21f07[_0x44d3('0x23e')](_0x53108c());_0xd21f07[_0x44d3('0x23e')]((_0x57e2f0,_0x23eea1,_0x378e0d)=>_0x428796(_0x57e2f0,_0x23eea1,_0x378e0d,_0x2f28f7));_0xd21f07['use']((_0x39680a,_0x486e52,_0x1551b3)=>_0x2d55c0(_0x39680a,_0x486e52,_0x1551b3,_0x2f28f7));};const _0x1e966e=_0x5c56d3(_0x44d3('0x23f'));var _0x480bae=(_0x3126f0,_0x30a2c0)=>{_0x3126f0[_0x44d3('0x18b')](_0x44d3('0x240'),(_0x3db526,_0x130e09)=>{const _0x41cef3=_0x3db526[_0x44d3('0x241')]['id'];const _0x2e5234=_0x30a2c0(_0x3db526);_0x5c65ab[_0x44d3('0x242')](_0x2e5234['db'],_0x41cef3)[_0x44d3('0x70')](_0x4175bf=>{if(_0x4175bf){const _0x21a1e4=new Buffer(_0x4175bf[_0x44d3('0x95')],'base64');_0x130e09[_0x44d3('0x243')](0xc8,{'Content-disposition':_0x44d3('0x244')+_0x4175bf[_0x44d3('0xe3')],'Content-Length':_0x21a1e4[_0x44d3('0x56')]});_0x130e09[_0x44d3('0x245')](_0x21a1e4);}else{_0x1e966e('Excel\x20not\x20found\x20-\x20'+_0x41cef3);_0x130e09[_0x44d3('0x246')](0x194);}})[_0x44d3('0x89')](_0x67bce6=>{_0x1e966e(_0x44d3('0x247')+_0x41cef3+_0x44d3('0x147')+_0x67bce6);_0x130e09[_0x44d3('0x246')](0x194);});});_0x3126f0[_0x44d3('0x18b')](_0x44d3('0x248'),(_0x1c9046,_0x4e0154)=>{const _0x807042=_0x1c9046[_0x44d3('0x241')]['id'];const _0x58c844=_0x30a2c0(_0x1c9046);_0x5c65ab['getAttachment'](_0x58c844['db'],_0x807042)[_0x44d3('0x70')](_0x480bae=>{if(_0x480bae){const _0x2d43d7=new Buffer(_0x480bae[_0x44d3('0xef')],'base64');_0x4e0154['writeHead'](0xc8,{'Content-Disposition':'inline;\x20filename='+_0x480bae[_0x44d3('0x59')],'Content-Type':_0x480bae[_0x44d3('0xee')],'Content-Length':_0x2d43d7['length']});_0x4e0154[_0x44d3('0x245')](_0x2d43d7);}else{_0x1e966e(_0x44d3('0x249')+_0x807042);_0x4e0154[_0x44d3('0x246')](0x194);}})['catch'](_0x256039=>{_0x1e966e(_0x44d3('0x24a')+_0x807042+_0x44d3('0x147')+_0x256039);_0x4e0154[_0x44d3('0x246')](0x194);});});};const _0x536e54=_0x5c56d3(_0x44d3('0x24b'));const _0x3076e5=_0x3d6456[_0x44d3('0x1dd')];const _0x5653f8=(_0x50b408,_0x1e8a84)=>{return _0x50b408[_0x44d3('0x53')][_0x1e8a84]||_0x50b408['body']&&_0x50b408['body'][_0x1e8a84]||_0x50b408['headers'][_0x1e8a84];};const _0x4eba61=(_0x54c1f3,_0x5d3ecc,_0x3a4677,_0x3db610)=>{_0x5c65ab['findSimpleTestSessionResults'](_0x5d3ecc['db'],_0x54c1f3)[_0x44d3('0x70')](_0x4410df=>{if(!_0x4410df){throw new Error('Test\x20Session\x20'+_0x54c1f3+'\x20not\x20found');}const _0x2a4249=_0x5653f8(_0x3a4677,'REPORTER')||_0x44d3('0x24c');if(_0x2a4249===_0x44d3('0x24c')){delete _0x4410df[_0x44d3('0x1b9')];if(_0x4410df[_0x44d3('0xcc')]===_0x44d3('0xfd')){_0x3db610[_0x44d3('0xcc')](0x1f4)[_0x44d3('0x24d')](_0x4410df);}else{_0x3db610[_0x44d3('0xcc')](0xc8)[_0x44d3('0x24d')](_0x4410df);}}else if(_0x2a4249===_0x44d3('0x24e')){const _0x16d6a0=_0x1eeeb8[_0x44d3('0x24f')](_0x4410df['results'],_0x188713=>_0x188713['testSet']?_0x188713['testSet'][_0x44d3('0x59')]:'');const _0x5e300e=_0x1eeeb8[_0x44d3('0x81')](_0x16d6a0)[_0x44d3('0x91')](_0x14e7ba=>{const _0x282956=_0x16d6a0[_0x14e7ba];const _0x3b7682={'testsuite':[{'_attr':{'name':_0x14e7ba||_0x44d3('0x250'),'tests':_0x282956[_0x44d3('0x56')],'failures':_0x282956[_0x44d3('0x8f')](_0x35e9e6=>!_0x35e9e6[_0x44d3('0x1ba')])[_0x44d3('0x56')]}}]};return _0x3b7682;});const _0x3dbf7b=_0x189d9b({'testsuites':[{'_attr':{'name':_0x4410df['name'],'tests':_0x4410df[_0x44d3('0x1b9')]['length'],'failures':_0x4410df[_0x44d3('0x1b9')][_0x44d3('0x8f')](_0xbddbaf=>!_0xbddbaf['success'])[_0x44d3('0x56')]}}]['concat'](_0x5e300e)},{'declaration':!![]});_0x3db610['set'](_0x44d3('0x251'),'text/xml');_0x3db610[_0x44d3('0xcc')](0xc8)[_0x44d3('0x24d')](_0x3dbf7b);}else{_0x3db610['sendStatus'](0x194)[_0x44d3('0x24d')](_0x44d3('0x252'));}})[_0x44d3('0x89')](_0x4c5b1f=>{_0x536e54(_0x44d3('0x253')+_0x54c1f3+_0x44d3('0x147')+_0x4c5b1f);_0x3db610[_0x44d3('0x246')](0x194);});};const _0x36d77e=(_0x5a987f,_0x379e10,_0xa293b,_0x3ed4c5)=>{const _0x5c0baf=_0x379e10[_0x44d3('0x105')]['asyncIterator'](_0x44d3('0x107'));(async function loop(){while(!![]){const {value}=await _0x5c0baf[_0x44d3('0x254')]();if(value[_0x44d3('0x224')]&&value[_0x44d3('0x224')][_0x44d3('0xcc')]&&value[_0x44d3('0x224')]['id']===_0x5a987f){_0x536e54(_0x44d3('0x1fc')+_0x5a987f+'\x20got\x20status:\x20'+value[_0x44d3('0x224')][_0x44d3('0xcc')]);if(value[_0x44d3('0x224')][_0x44d3('0xcc')]===_0x44d3('0xf8')){return _0x4eba61(_0x5a987f,_0x379e10,_0xa293b,_0x3ed4c5);}if(value[_0x44d3('0x224')]['status']===_0x44d3('0xfd')){return _0x4eba61(_0x5a987f,_0x379e10,_0xa293b,_0x3ed4c5);}}}}());};const _0x46bae6=({ctxFactory,testProjectCode,req,res})=>{const _0x563cc4=_0x58ad3d(req);_0x563cc4['db'][_0x44d3('0x53')]['testProject']({'where':{'code':testProjectCode}},_0x44d3('0x255'))[_0x44d3('0x70')](_0x5192e0=>{if(!_0x5192e0){throw new Error(_0x44d3('0x1fc')+testProjectCode+_0x44d3('0x256'));}const _0x5e779c=_0x5653f8(req,_0x44d3('0x257'));const _0x4815b0=_0x5653f8(req,_0x44d3('0x258'));const _0x3a50e8=_0x5653f8(req,_0x44d3('0x259'));const _0x10912c=_0x434bb9=>{return Object[_0x44d3('0x81')](_0x434bb9)['reduce']((_0x276940,_0x2e640e)=>{_0x276940[_0x44d3('0x4f')]({'name':_0x2e640e,'type':_0x44d3('0x25a'),'stringValue':_0x434bb9[_0x2e640e]});return _0x276940;},[]);};const _0x195823=req[_0x44d3('0x232')]&&req[_0x44d3('0x232')][_0x44d3('0x25b')]&&_0x10912c(req[_0x44d3('0x232')]['CAPS'])||[];const _0x559477=req[_0x44d3('0x232')]&&req[_0x44d3('0x232')][_0x44d3('0x25c')]&&_0x10912c(req[_0x44d3('0x232')][_0x44d3('0x25c')])||[];const _0x5480f9=req[_0x44d3('0x232')]&&req[_0x44d3('0x232')][_0x44d3('0x25d')]&&_0x10912c(req[_0x44d3('0x232')]['ENVS'])||[];const _0xa90975={'name':_0x5e779c||_0x5192e0['name']+_0x44d3('0x25e'),'description':_0x4815b0,'status':'PENDING','tags':{'set':_0x3a50e8?_0x1eeeb8[_0x44d3('0x25f')](_0x3a50e8)?_0x3a50e8:[_0x3a50e8]:[]},'chatbot':{'connect':{'id':_0x5192e0[_0x44d3('0xa4')]['id']}},'testSets':{'connect':_0x5192e0[_0x44d3('0x184')]&&_0x5192e0[_0x44d3('0x184')]['map'](_0x26e963=>{return{'id':_0x26e963['id']};})},'deviceSets':{'connect':_0x5192e0[_0x44d3('0x191')]&&_0x5192e0['deviceSets'][_0x44d3('0x91')](_0x5801f2=>{return{'id':_0x5801f2['id']};})},'testProject':{'connect':{'id':_0x5192e0['id']}},'capabilities':{'create':_0x195823},'sources':{'create':_0x559477},'envs':{'create':_0x5480f9},'batchCount':_0x5192e0[_0x44d3('0x1fe')]};_0x536e54(_0x44d3('0x260')+JSON[_0x44d3('0xa3')](_0xa90975,null,0x2));return _0x3076e5(null,{'testSession':_0xa90975},_0x563cc4,_0x44d3('0x261'));})[_0x44d3('0x70')](_0x1161c7=>{const _0xeef469=_0x5653f8(req,'WAIT');if(_0x1161c7[_0x44d3('0xcc')]!=='READY'&&_0x1161c7[_0x44d3('0xcc')]!==_0x44d3('0xfd')&&_0xeef469==='1'){_0x36d77e(_0x1161c7['id'],_0x563cc4,req,res);}else{_0x4eba61(_0x1161c7['id'],_0x563cc4,req,res);}})[_0x44d3('0x89')](_0x59df05=>{_0x536e54('Test\x20Project\x20start\x20error\x20-\x20'+testProjectCode+_0x44d3('0x147')+_0x59df05);res[_0x44d3('0x246')](0x194);});};const _0x2a6efb=({ctxFactory,nameOrId,req,res})=>{const _0xf7aa4=_0x58ad3d(req);_0xf7aa4['db'][_0x44d3('0x53')]['testSessions']({'where':{'OR':[{'id':nameOrId},{'name':nameOrId}]},'orderBy':_0x44d3('0x1be'),'first':0x1},_0x44d3('0x262'))[_0x44d3('0x70')](_0x44d7c3=>{if(!_0x44d7c3){return res[_0x44d3('0x246')](0x194);}const _0x566520=_0x44d7c3[0x0];const _0x2a34ba=_0x5653f8(req,_0x44d3('0x263'));if(_0x566520[_0x44d3('0xcc')]!==_0x44d3('0xf8')&&_0x566520[_0x44d3('0xcc')]!==_0x44d3('0xfd')&&_0x2a34ba==='1'){_0x36d77e(_0x566520['id'],_0xf7aa4,req,res);}else{_0x4eba61(_0x566520['id'],_0xf7aa4,req,res);}})[_0x44d3('0x89')](_0x89d8a=>{_0x536e54(_0x44d3('0x253')+nameOrId+_0x44d3('0x147')+_0x89d8a);res[_0x44d3('0x246')](0x194);});};var _0x6107c8=(_0x1fdd9e,_0x4496a7)=>{const _0x1a8b16=(_0x4fdeb5,_0x1d566b)=>{_0x46bae6({'testProjectCode':_0x4fdeb5[_0x44d3('0x241')][_0x44d3('0x264')],'ctxFactory':_0x4496a7,'req':_0x4fdeb5,'res':_0x1d566b});};const _0x4710fe=(_0x240af9,_0x21678e)=>{_0x2a6efb({'nameOrId':_0x240af9[_0x44d3('0x241')]['nameOrId'],'ctxFactory':_0x4496a7,'req':_0x240af9,'res':_0x21678e});};_0x1fdd9e[_0x44d3('0x265')](_0x44d3('0x266'),_0x1a8b16);_0x1fdd9e['get']('/api/triggerbuild/:code',_0x1a8b16);_0x1fdd9e['get'](_0x44d3('0x267'),_0x4710fe);};var _0x5112fe=(_0x40da42,_0x467db2)=>{_0x40da42[_0x44d3('0x18b')](_0x44d3('0x268'),(_0x4510cd,_0x3de612)=>{_0x3de612[_0x44d3('0xcc')](0xc8)[_0x44d3('0x24d')](_0x522d0e[_0x44d3('0x269')]);});};const _0x23f02f=_0x5c56d3('botium-box-server-endpoints');const _0x269697=(_0x27ba10,_0x8ba8dc,_0x50b5e3,_0xc8ae4f)=>{if(!_0x8ba8dc[_0x44d3('0x1aa')]&&!_0x8ba8dc[_0x44d3('0x123')])return _0x50b5e3['sendStatus'](0x191);else return _0xc8ae4f();};var _0x39b933=(_0x175b2c,_0x2added)=>{_0x175b2c[_0x44d3('0x23e')](_0x3776de[_0x44d3('0x24c')]({'limit':_0x44d3('0x26a'),'extended':!![]}));_0x175b2c[_0x44d3('0x23e')]([_0x44d3('0x26b'),_0x44d3('0x26c'),_0x44d3('0x26d')],_0x269697[_0x44d3('0x26e')](null,_0x2added));_0x480bae(_0x175b2c,_0x2added);_0x6107c8(_0x175b2c,_0x2added);_0x5112fe(_0x175b2c,_0x2added);};_0x205ee5[_0x44d3('0x26f')]();_0x522d0e[_0x44d3('0x270')]();const {GraphQLServer,PubSub}=_0x46f03d;const {Prisma}=_0x62f697;const {validateToken:validateToken$1}=_0x117d42;const _0x2868d9=_0x5c56d3('botium-box-server-index');const _0x569b2a=()=>{return new Prisma({'typeDefs':process[_0x44d3('0x4a')][_0x44d3('0x271')]||'src/generated/prisma.graphql','endpoint':process[_0x44d3('0x4a')][_0x44d3('0x272')],'debug':process['env'][_0x44d3('0x273')],'secret':process[_0x44d3('0x4a')]['PRISMA_SECRET']});};const _0x54314a=(_0x16f8f6,_0x3ea092)=>{if(_0x16f8f6)console[_0x44d3('0x40')](_0x16f8f6);if(_0x3ea092)console['log'](_0x3ea092);process[_0x44d3('0x274')](0x1);};let _0x373b08={};if(process['env'][_0x44d3('0x275')]){try{_0x373b08=JSON[_0x44d3('0x7e')](process[_0x44d3('0x4a')][_0x44d3('0x275')]);_0x2868d9(_0x44d3('0x276')+JSON['stringify'](_0x373b08)+'\x27');}catch(_0x540c58){_0x54314a(_0x44d3('0x277')+process[_0x44d3('0x4a')][_0x44d3('0x275')]+'\x22:',_0x540c58);}}else{if(process[_0x44d3('0x4a')][_0x44d3('0x278')]){_0x373b08[_0x44d3('0x279')]=process[_0x44d3('0x4a')][_0x44d3('0x278')];}if(process[_0x44d3('0x4a')][_0x44d3('0x27a')]){_0x373b08[_0x44d3('0x27b')]=process['env'][_0x44d3('0x27a')];}}_0x2868d9(_0x44d3('0x27c')+JSON[_0x44d3('0xa3')](_0x373b08)+'\x27');const _0x3f84de=_0x44350f['createQueue'](_0x373b08);_0x3f84de['on'](_0x44d3('0x110'),_0xae485=>{_0x54314a('ERROR\x20connecting\x20to\x20queue\x20\x27'+JSON[_0x44d3('0xa3')](_0x373b08)+'\x27:',_0xae485);});process[_0x44d3('0x4a')][_0x44d3('0x16a')]=process[_0x44d3('0x4a')][_0x44d3('0x16a')]||_0x44d3('0x27d');try{_0x4b409f[_0x44d3('0x174')](process['env'][_0x44d3('0x16a')]);_0x2868d9(_0x44d3('0x27e')+process[_0x44d3('0x4a')][_0x44d3('0x16a')]);}catch(_0x53ddac){_0x54314a(_0x44d3('0x27f')+process[_0x44d3('0x4a')]['BOTIUM_TEMPDIR']+'\x27:',_0x53ddac);}process[_0x44d3('0x4a')][_0x44d3('0x68')]=process[_0x44d3('0x4a')][_0x44d3('0x68')]||'./testsets';try{_0x4b409f[_0x44d3('0x174')](process[_0x44d3('0x4a')]['TESTSETDIR']);_0x2868d9('Using\x20TESTSETDIR\x20'+process['env']['TESTSETDIR']);}catch(_0x3a06dd){_0x54314a(_0x44d3('0x280')+process['env'][_0x44d3('0x68')]+'\x27:',_0x3a06dd);}_0x39aa65[_0x44d3('0x281')](_0x569b2a());const _0x3a7ab9=new PubSub();const _0x58ad3d=_0x38ef5e=>({..._0x38ef5e||{},'db':_0x569b2a(),'queueConnector':_0x3f84de,'pubsub':_0x3a7ab9});const _0x4825a0=new GraphQLServer({'typeDefs':process['env'][_0x44d3('0x282')]||_0x44d3('0x283'),'resolvers':_0x2a6083,'resolverValidationOptions':{'requireResolversForResolveType':![]},'directiveResolvers':_0x5878ec,'context':_0x58ad3d});const _0x12f713={'port':process[_0x44d3('0x4a')][_0x44d3('0x284')]||0xfa0,'endpoint':_0x44d3('0x285'),'subscriptions':{'path':_0x44d3('0x286'),'onConnect':async(_0x21db1c,_0x2ae666,_0xd4d950)=>{if(_0x21db1c[_0x44d3('0x287')]){_0x2868d9(_0x44d3('0x288')+_0x21db1c[_0x44d3('0x287')]);const _0x5e24a3=await validateToken$1(_0x21db1c['Authorization'],_0x569b2a());return{'user':_0x5e24a3};}throw new Error('Missing\x20auth\x20token!');},'onDisconnect':(_0x53a25e,_0x2f3653)=>{}},'playground':'/playground'};_0x2ea7b4(_0x4825a0[_0x44d3('0x1c')],_0x12f713,_0x58ad3d);_0x39b933(_0x4825a0['express'],_0x58ad3d);_0x4825a0['start'](_0x12f713,({port})=>{const _0x296a34=_0x501a4c['join'](__dirname,'../../client/build');_0x4825a0[_0x44d3('0x1c')]['use'](_0x59b8af());_0x4825a0[_0x44d3('0x1c')]['use']('/',_0x2c224c[_0x44d3('0x289')](_0x296a34));console[_0x44d3('0x40')](_0x44d3('0x28a')+port+_0x44d3('0x28b')+_0x296a34);});const _0xdc3f1d=new _0x534920(_0x58ad3d);_0xdc3f1d[_0x44d3('0x10a')]();var _0x42055d={};return _0x42055d;}));