var _0xca1a=['createTestProject','{\x20id\x20name\x20chatbot\x20{\x20id\x20}\x20testSets\x20{\x20id\x20}\x20deviceSets\x20{\x20id\x20}\x20batchCount\x20}','\x20not\x20found','\x20-\x20Manual\x20Test\x20Session','Manual','\x20-\x20Initial\x20Test\x20Session','TestProject','TestProject\x20not\x20found\x20','updateTestProject','deleteTestProject','Error\x20deleting\x20TestProject\x20','botium-box-server-mutation-settings','hash','roles','createUser','User\x20not\x20found\x20','findIndex','ADMIN','Only\x20admin\x20can\x20update\x20users','admin','USER','updateUser','Error\x20deleting\x20User\x20','key','createApiKey','ApiKey','ApiKey\x20not\x20found\x20','Error\x20deleting\x20ApiKey\x20','DeviceProvider\x20type\x20INTEGRATED\x20not\x20allowed\x20to\x20create','DeviceProvider\x20type\x20','\x20not\x20supported\x20in\x20this\x20version','createDeviceProvider','updateDeviceProvider','deleteDeviceProvider','Error\x20deleting\x20DeviceProvider\x20','botium-box-server-mutation-deviceset','createDeviceSet','DeviceSet','DeviceSet\x20not\x20found\x20','updateDeviceSet','{\x20id\x20devices\x20{\x20id\x20}\x20}','devices','Error\x20deleting\x20DeviceSet\x20','TEST_SESSION_PROGRESS','subscription','CREATED','UPDATED','testSessionJob','testSessionJobLog','Mutation','Subscription','request.user','request.apiKey','Not\x20logged\x20in','includes','botium-box-middleware-jwt','APIKEY','body','headers','lookupApiKey','inspect','Api\x20Key\x20not\x20found\x20-\x20','Api\x20Key\x20lookup\x20error\x20-\x20','{\x20id\x20name\x20email\x20roles\x20}','JWT_AUTOLOGIN_USERNAME','authorization','Bearer','token','use','/api/attachment/excel/:id','getExcel','writeHead','Excel\x20not\x20found\x20-\x20','sendStatus','Excel\x20lookup\x20error\x20-\x20','params','getAttachment','end','Attachment\x20lookup\x20error\x20-\x20','botium-box-server-endpoints-build','createTestSession','findSimpleTestSessionResults','json','send','junit','groupBy','text/xml','VALID\x20REPORTER\x20OPTIONS:\x20json,\x20junit','Test\x20Session\x20lookup\x20error\x20-\x20','next','Test\x20Project\x20','\x20got\x20status:\x20','{\x20id\x20name\x20chatbot\x20{\x20id\x20}\x20testSets\x20{\x20id\x20}\x20deviceSets\x20{\x20id\x20}\x20}','BUILDID','TAG','CAPS','SOURCES','ENVS','\x20-\x20Test\x20Session','isArray','batchCount','Creating\x20Test\x20Session\x20','{\x20id\x20status\x20}','WAIT','Test\x20Project\x20start\x20error\x20-\x20','{\x20id\x20name\x20status\x20}','nameOrId','post','/api/triggerbuild/:code','/api/build/:nameOrId','/api/version','buildInfo','50mb','/api/attachment/*','/api/build/*','/api/triggerbuild/*','bind','printVersion','botium-box-server-index','PRISMA_SCHEMA','src/generated/prisma.graphql','PRISMA_ENDPOINT','PRISMA_DEBUG','PRISMA_SECRET','exit','BOTIUMBOX_QUEUE_SETTINGS','ERROR\x20parsing\x20queue\x20settings\x20\x22','prefix','BOTIUMBOX_QUEUE_PREFIX','BOTIUMBOX_QUEUE_REDISURL','redis','connecting\x20to\x20Botium\x20queue\x20\x27','ERROR\x20connecting\x20to\x20queue\x20\x27','./botiumwork','ERROR\x20verifying\x20BOTIUM_TEMPDIR\x20\x27','Using\x20TESTSETDIR\x20','ERROR\x20verifying\x20TESTSETDIR\x20\x27','scanForTestSets','GRAPHQL_SCHEMA','./src/schema.graphql','PORT','/graphql','/subscriptions','Authorization','Missing\x20auth\x20token!','/playground','start','../../client/build','static','\x20for\x20incoming\x20requests,\x20static\x20files\x20served\x20from\x20','exports','async','url','jsonwebtoken','watson-developer-cloud/assistant/v1','uuid/v1','botium-core','botium-core/src/scripting/Constants','slug','botium-core/src/Source','botium-core/src/repos/GitRepo','botium-core/src/Capabilities','require-all','rimraf','botium-core/src/Defaults','botium-core/src/scripting/ScriptingProvider','botium-core/src/scripting/CompilerTxt','node-cache','moment','path','slugify','randomatic','bcryptjs','graphql-yoga','lodash.get','express-jwt','lodash','debug','xml','body-parser','dotenv-flow','prisma-binding','express','connect-history-api-fallback','function','amd','better-queue','request-promise-native','kue','main','betterQueue','v1$1','botiumCore','Constants','Source','GitRepo','requireAll','mkdirp','Defaults','CompilerTxt','requestPromiseNative','graphqlYoga','expressJwt','lodash$1','bodyParser','dotenvFlow','connectHistoryApiFallback','default','hasOwnProperty','COMMUNITY\x20EDITION','03da144150324720885ae9bc1a81c44676d03d9a','2018-12-05T13:48:35+00:00','log','buildBranch','BUILD_REVISION:\x20','BUILD_TIMESTAMP:\x20','buildDate','env','TESTSETDIR_PUBLIC','resolve','readdirSync','reduce','join','isDirectory','statSync','isFile','query','testSetFolders','{\x20id\x20name\x20testSet\x20{\x20id\x20name\x20}\x20}','length','Folder\x20','name','\x20in\x20Test\x20Set\x20','testSet','scanDirForTestSets\x20scanning\x20','scanDirForTestSets\x20','\x20found\x20','\x20subdirectories\x20...','forEach','\x20files.\x20Importing\x20Test\x20Set.','Imported\x20from\x20directory\x20','split','sep','createTestSet','\x20Created\x20Test\x20Set\x20','TESTSETDIR','catch','scanForTestSets\x20failed:\x20','botium-box-server-agents-utils','testSessionTestCaseResultAttachment','{\x20id\x20name\x20mimeType\x20base64\x20}','testSetExcel','now','then','testSession','{\x20\x0a\x20\x20\x20\x20id\x20\x0a\x20\x20\x20\x20name\x20\x0a\x20\x20\x20\x20batchCount\x20\x0a\x20\x20\x20\x20chatbot\x20{\x20\x0a\x20\x20\x20\x20\x20\x20id\x20\x0a\x20\x20\x20\x20\x20\x20name\x20\x0a\x20\x20\x20\x20\x20\x20capabilities\x20{\x20name\x20type\x20stringValue\x20intValue\x20booleanValue\x20jsonValue\x20}\x20\x0a\x20\x20\x20\x20\x20\x20sources\x20{\x20name\x20type\x20stringValue\x20intValue\x20booleanValue\x20jsonValue\x20}\x20\x0a\x20\x20\x20\x20\x20\x20envs\x20{\x20name\x20type\x20stringValue\x20intValue\x20booleanValue\x20jsonValue\x20}\x20\x0a\x20\x20\x20\x20}\x20\x0a\x20\x20\x20\x20testSets\x20{\x20\x0a\x20\x20\x20\x20\x20\x20id\x20\x0a\x20\x20\x20\x20\x20\x20name\x20\x0a\x20\x20\x20\x20\x20\x20expandConvos\x0a\x20\x20\x20\x20\x20\x20expandUtterancesToConvos\x0a\x20\x20\x20\x20\x20\x20expandUtterancesIncomprehension\x0a\x20\x20\x20\x20\x20\x20scripts\x20{\x20id\x20script\x20scriptType\x20}\x20\x0a\x20\x20\x20\x20\x20\x20repositories\x20{\x20id\x20giturl\x20gitbranch\x20gitdir\x20globFilter\x20}\x20\x0a\x20\x20\x20\x20\x20\x20folders\x20{\x20id\x20path\x20globFilter\x20}\x0a\x20\x20\x20\x20\x20\x20excels\x20{\x20id\x20filename\x20filecontent\x20hasConvos\x20hasUtterances\x20worksheetsConvos\x20worksheetsUtterances\x20startRow\x20startCol\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20deviceSets\x20{\x20id\x20name\x20provider\x20{\x20id\x20name\x20type\x20url\x20username\x20password\x20}\x20devices\x20{\x20id\x20name\x20capabilities\x20}\x20}\x20\x0a\x20\x20\x20\x20testProject\x20{\x20id\x20name\x20capabilities\x20{\x20name\x20type\x20stringValue\x20intValue\x20booleanValue\x20jsonValue\x20}\x20}\x0a\x20\x20\x20\x20agent\x20{\x20id\x20name\x20}\x20\x0a\x20\x20\x20\x20capabilities\x20{\x20name\x20type\x20stringValue\x20intValue\x20booleanValue\x20jsonValue\x20}\x20\x0a\x20\x20\x20\x20sources\x20{\x20name\x20type\x20stringValue\x20intValue\x20booleanValue\x20jsonValue\x20}\x20\x0a\x20\x20\x20\x20envs\x20{\x20name\x20type\x20stringValue\x20intValue\x20booleanValue\x20jsonValue\x20}\x20\x0a\x20\x20\x20\x20}','{\x20id\x20name\x20status\x0a\x20\x20\x20\x20results\x20{\x20id\x20testcaseName\x20testcaseSource\x20success\x20err\x20testSet\x20{\x20id\x20name\x20}\x20}\x20}','data','group','invalid\x20agent\x20event,\x20name\x20or\x20group\x20not\x20given\x20','reject','agent','STRING','type','TEXT','stringValue','replace','INT','intValue','BOOLEAN','booleanValue','JSON','parse','jsonValue','botium-box-server-agents-heartbeat','findAgentFromJobData','{\x20id,\x20name\x20}','mutation','updateAgent','\x20not\x20configured','botium-box-server-agents-registeragent','{\x20id,\x20name,\x20capabilities\x20{\x20name,\x20stringValue\x20}\x20}','composeBotiumCapabilities','capabilities','Agent\x20registered,\x20config:\x20','stringify','Agent\x20','expandUtterancesIncomprehension','scripts','filter','scriptType','script','SCRIPTING_TYPE_UTTERANCES','SCRIPTING_FORMAT_TXT','folders','map','excels','filename','filecontent','hasConvos','hasUtterances','worksheetsConvos','worksheetsUtterances','startRow','startCol','botium-box-server-agents-testsession','Test\x20Session\x20','process','startTestSession\x20','\x20queueToSend:\x20','combineBotiumCapabilities','testProject','\x20testSessionCaps:\x20','chatbot','sources','\x20testSessionSources:\x20','envs','\x20testSessionTestSets:\x20','create','Processing\x20Job\x20#','\x20for\x20Test\x20Session\x20','delay','save','Saving\x20batchJob\x20failed:\x20','createTestSessionJob','PENDING','{\x20id,\x20jobId\x20}','\x20registered\x20(jobId:\x20','\x20id:\x20','TestSessionJob\x20for\x20TestSession\x20','\x20registration\x20failed\x20(jobId:\x20','deviceSets','provider','SAUCELABS','assign','password','protocol','host','port','pathname','\x20adding\x20capability\x20for\x20starting\x20integrated\x20PhantomJS','\x20testSessionDevices:\x20','sourceTag','deviceName','convos','utterances','deviceOptions','startTestSession\x20failed:\x20','testSessionJobs','{\x20id\x20status\x20progressPercent\x20testSession\x20{\x20id\x20name\x20status\x20}\x20\x20}','\x20not\x20registered\x20as\x20test\x20session\x20job.\x20Skipping.','status','RUNNING','Test\x20Session\x20Job\x20','\x20set\x20Test\x20Session\x20','\x20RUNNING.','\x20RUNNING\x20failed:\x20','updateTestSessionJob','toISOString','isNumber','\x20set\x20Test\x20Session\x20Job\x20RUNNING.','progressPercent','\x20set\x20Test\x20Session\x20Job\x20progressPercent\x20','\x20failed:\x20','createTestSessionJobLog','{\x20id\x20}','\x20wrote\x20log:\x20','\x20write\x20log\x20failed:\x20','testcase','source','success','messages','isString','testSetFilename','testSetId','testSetScriptId','testSetRepositoryId','testSetRepository','testSetFolderId','testSetExcelId','deviceSetId','deviceSet','attachments','mimeType','base64','createTestSessionTestCaseResult','TestResult\x20for\x20TestCase\x20','\x20in\x20TestSession\x20','\x20registration\x20failed:\x20','testSessionProgress\x20failed:\x20','READY','Job\x20completed','testSessionJobCompleted\x20createTestSessionJobLog\x20failed:\x20','testSessionJobFailed:\x20Job\x20','Job\x20failed:\x20','testSessionJobFailed\x20createTestSessionJobLog\x20failed:\x20','testSessionJobFailed\x20failed:\x20','updateManyTestSessions','FAILED','\x20sendSubscriptionProgress','pubsub','ctxFactory','queueConnector','agent.heartbeat','agent.heartbeat:\x20','agent.register:\x20','box.createprocessingjobs','box.createprocessingjobs:\x20','startTestSession','error','ERROR\x20connecting\x20to\x20queue:','Job\x20','\x20got\x20queued\x20of\x20type\x20','jobProcessingQueue\x20error:\x20','job\x20error','\x20error\x20','push','testSessionJobFailed','job\x20complete','testSessionJobCompleted','\x20progress\x20','testSessionProgress','JWT_SECRET','JWT_ISSUER','botiumbox','sign','JWT_EXPIRY_DAYS','JWT_AUDIENCE','toString','verify','user','request','name_ASC','agents','chatbots','listWorkspaces','workspaces','description','workspace_id','BotDriver','asyncIterator','\x20not\x20available.','{\x20id\x20name\x20capabilities\x20{\x20name\x20type\x20stringValue\x20intValue\x20booleanValue\x20jsonValue\x20}\x20}','liveChatStartBot(',')\x20launching\x20bot\x20','\x20...','publish','MESSAGE_SENTTOBOT','MESSAGE_RECEIVEDFROMBOT','Build',')\x20container\x20built,\x20now\x20starting',')\x20container\x20started.','Conversation\x20','liveChatSendToBot(','liveChatStopBot(',')\x20stopping\x20container','Clean',')\x20container\x20stopped.','{\x20id\x20name\x20}','liveChatSaveConvoSteps(',')\x20saving\x20test\x20case\x20for\x20test\x20set\x20','sender','messageText','buttons','text','media','MEDIA\x20','mediaUri','cards','BUTTONS\x20','image','createTestSetScript','SCRIPTING_TYPE_CONVO',')\x20saved\x20test\x20case\x20for\x20test\x20set\x20','\x20-\x20','createdAt_DESC','testSessions','testSessionTestCaseResults','testSessionTestCaseResult','botium-retrieve-all-test-cases','from','SCRIPTING_FORMAT_XSLX','format','Compile',':\x20Convo\x20Script\x20compilation\x20failed:\x20','content','globFilter',':\x20Folder\x20','all','SCRIPTING_XLSX_SHEETNAMES','caps','SCRIPTING_XLSX_STARTROW','SCRIPTING_XLSX_STARTCOL','values','concat','metadata','habits','Unknown\x20ID:\x20','keys','execute','duplicate\x20utterance\x20:\x20<','>\x20created\x20by\x20','add','humanifiersToExecute','_JUST_BOT','allHumanifiers','Capabilities','BOTIUM_TEMPDIR','{slugify(testSet.Name)}_CLONED_','Aa0','sync','Sources','size','bot','neither','toHumanify','utterancesToHumanifyCount','_CLONED_','writeFile','.utterances.txt','GetCompiler','.convo.txt','conversation','delete','uniq','has','round','percentToHumanify','allUtteranceCount','\x20in\x20the\x20testset!','both','cloneDeep','Execute','humanifiedRefs','humanifiedRefCount','humanifiedUtterancesCount','duplicates','clonedConvoCount','testSets','testSetScripts','testSetScript','Utterances','header','no\x20script\x20provided','testSetRepositories','testSetFolder','possibleOptions','cache','get','set','del','delStartWith','indexOf','flush','flushAll','deviceProvider','device','long_name','short_version','DESKTOP','iphone','ipad','api_name','Safari','Chrome','iOS','Android','uniqBy','orderBy','asc','LOCALSELENIUM','PhantomJS\x20Virtual\x20Browser','phantomjs','Generic\x20Browser\x20(manually\x20set\x20capabilities)','Google\x20Chrome\x20(Headless)','chrome','--headless','--disable-gpu','INTEGRATED','testProjects','apiKeys','apiKey','deviceProviders','TODAY','startOf','day','subtract','days','LAST2WEEKS','LASTMONTH','LAST2MONTHS','toDate','{\x20id\x20results\x20{\x20success\x20testSet\x20{\x20id\x20}\x20}\x20}','ceil','results','chartFailedCountByChatbotByDay_','isBefore','{\x20id\x20results\x20{\x20success\x20}\x20}','chartTestSetResultCount_','lastRun','lastTestSessionId','testCaseLastTotalCount','testCaseLastSuccessRate','testCaseLastSuccessCount','previousRun','createdAt','previousTestSessionId','testCasePreviousSuccessCount','testCasePreviousSuccessRate','testCaseTrend','BAD','CONSTANT','desc','chartTestProjectTrainingStatusByTestSet_','{\x20id\x20createdAt\x20results\x20{\x20success\x20testSet\x20{\x20id\x20name\x20}\x20}\x20}','successCount','failedCount','sortBy','chartTestProjectTrainingStatusByDeviceSet_','{\x20id\x20createdAt\x20results\x20{\x20success\x20deviceSet\x20{\x20id\x20name\x20}\x20}\x20}','totalCount','No\x20Device\x20Set','compare','Invalid\x20password','Agent\x20not\x20found\x20','createChatbot','exists','Chatbot\x20not\x20found\x20','{id}','botium-box-server-mutation-testsession','Job\x20Creation\x20Job\x20for\x20Test\x20Session\x20','removeOnComplete','deleteManyTestSessionJobLogs','deleteManyTestSessionJobs','Error\x20deleting\x20test\x20session\x20','TestSet','TestSet\x20not\x20found\x20','updateTestSet','deleteTestSet','updateTestSetScript','createTestSetFolder','TestSetFolder','TestSetFolder\x20not\x20found\x20','updateTestSetFolder','createTestSetExcel','TestSetExcel','TestSetExcel\x20not\x20found\x20','updateTestSetExcel','deleteTestSetExcel','\x20\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20id\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20\x20\x20expandConvos\x0a\x20\x20\x20\x20\x20\x20expandUtterancesToConvos\x0a\x20\x20\x20\x20\x20\x20expandUtterancesIncomprehension\x0a\x20\x20\x20\x20\x20\x20tags\x0a\x20\x20\x20\x20\x20\x20scripts\x20{\x20id\x20script\x20scriptType\x20}\x0a\x20\x20\x20\x20\x20\x20repositories\x20{\x20id\x20giturl\x20gitbranch\x20gitdir\x20globFilter\x20}\x0a\x20\x20\x20\x20\x20\x20folders\x20{\x20id\x20path\x20globFilter\x20}\x0a\x20\x20\x20\x20\x20\x20excels\x20{\x20id\x20filename\x20filecontent\x20hasConvos\x20hasUtterances\x20worksheetsConvos\x20worksheetsUtterances\x20startRow\x20startCol\x20}\x0a\x20\x20\x20\x20}','CloneTestset','basename','\x22,\x20Humanifiers\x20\x22','tags','Cloned','botium-box-server-mutation-testproject'];(function(_0xb43e4d,_0x2d093b){var _0x281cdb=function(_0x3b0f04){while(--_0x3b0f04){_0xb43e4d['push'](_0xb43e4d['shift']());}};var _0x4e3c06=function(){var _0x3c6add={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x3b980e,_0x569d62,_0x48f909,_0x255237){_0x255237=_0x255237||{};var _0xce9b4b=_0x569d62+'='+_0x48f909;var _0x11bb02=0x0;for(var _0x11bb02=0x0,_0x4a9de8=_0x3b980e['length'];_0x11bb02<_0x4a9de8;_0x11bb02++){var _0x473c3b=_0x3b980e[_0x11bb02];_0xce9b4b+=';\x20'+_0x473c3b;var _0x5c7092=_0x3b980e[_0x473c3b];_0x3b980e['push'](_0x5c7092);_0x4a9de8=_0x3b980e['length'];if(_0x5c7092!==!![]){_0xce9b4b+='='+_0x5c7092;}}_0x255237['cookie']=_0xce9b4b;},'removeCookie':function(){return'dev';},'getCookie':function(_0x384f21,_0x33ee16){_0x384f21=_0x384f21||function(_0x543d9f){return _0x543d9f;};var _0x2a8627=_0x384f21(new RegExp('(?:^|;\x20)'+_0x33ee16['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x126594=function(_0x338b67,_0x3161f8){_0x338b67(++_0x3161f8);};_0x126594(_0x281cdb,_0x2d093b);return _0x2a8627?decodeURIComponent(_0x2a8627[0x1]):undefined;}};var _0x49f23f=function(){var _0x3028db=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x3028db['test'](_0x3c6add['removeCookie']['toString']());};_0x3c6add['updateCookie']=_0x49f23f;var _0x394413='';var _0x588f80=_0x3c6add['updateCookie']();if(!_0x588f80){_0x3c6add['setCookie'](['*'],'counter',0x1);}else if(_0x588f80){_0x394413=_0x3c6add['getCookie'](null,'counter');}else{_0x3c6add['removeCookie']();}};_0x4e3c06();}(_0xca1a,0x96));var _0x5a81=function(_0x50f501,_0x29f33f){_0x50f501=_0x50f501-0x0;var _0x426803=_0xca1a[_0x50f501];return _0x426803;};(function(_0x3f19ba,_0x14996d){var _0x4c36bc=function(){var _0x36f90d=!![];return function(_0x33e930,_0x52ea31){var _0x42ddca=_0x36f90d?function(){if(_0x52ea31){var _0x10ce38=_0x52ea31['apply'](_0x33e930,arguments);_0x52ea31=null;return _0x10ce38;}}:function(){};_0x36f90d=![];return _0x42ddca;};}();var _0x1efdc9=_0x4c36bc(this,function(){var _0x37c74a=function(){return'\x64\x65\x76';},_0x512731=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x1ffafb=function(){var _0x39c15b=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x39c15b['\x74\x65\x73\x74'](_0x37c74a['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x518d31=function(){var _0x3f462e=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x3f462e['\x74\x65\x73\x74'](_0x512731['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x1523e9=function(_0x4cc653){var _0x84b4b5=~-0x1>>0x1+0xff%0x0;if(_0x4cc653['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x84b4b5)){_0x1a4a8a(_0x4cc653);}};var _0x1a4a8a=function(_0xb89be7){var _0x3c235c=~-0x4>>0x1+0xff%0x0;if(_0xb89be7['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x3c235c){_0x1523e9(_0xb89be7);}};if(!_0x1ffafb()){if(!_0x518d31()){_0x1523e9('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x1523e9('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x1523e9('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x1efdc9();typeof exports==='object'&&typeof module!=='undefined'?module[_0x5a81('0x0')]=_0x14996d(require(_0x5a81('0x1')),require(_0x5a81('0x2')),require('better-queue'),require(_0x5a81('0x3')),require(_0x5a81('0x4')),require(_0x5a81('0x5')),require(_0x5a81('0x6')),require('fs'),require(_0x5a81('0x7')),require(_0x5a81('0x8')),require(_0x5a81('0x9')),require(_0x5a81('0xa')),require(_0x5a81('0xb')),require(_0x5a81('0xc')),require('mkdirp'),require(_0x5a81('0xd')),require(_0x5a81('0xe')),require(_0x5a81('0xf')),require(_0x5a81('0x10')),require(_0x5a81('0x11')),require('request-promise-native'),require(_0x5a81('0x12')),require(_0x5a81('0x13')),require(_0x5a81('0x14')),require(_0x5a81('0x15')),require(_0x5a81('0x16')),require(_0x5a81('0x17')),require(_0x5a81('0x18')),require(_0x5a81('0x19')),require('util'),require(_0x5a81('0x1a')),require(_0x5a81('0x1b')),require(_0x5a81('0x1c')),require(_0x5a81('0x1d')),require(_0x5a81('0x1e')),require(_0x5a81('0x1f')),require(_0x5a81('0x20')),require('kue'),require(_0x5a81('0x21'))):typeof define===_0x5a81('0x22')&&define[_0x5a81('0x23')]?define([_0x5a81('0x1'),_0x5a81('0x2'),_0x5a81('0x24'),_0x5a81('0x3'),'watson-developer-cloud/assistant/v1',_0x5a81('0x5'),_0x5a81('0x6'),'fs',_0x5a81('0x7'),'slug',_0x5a81('0x9'),_0x5a81('0xa'),_0x5a81('0xb'),_0x5a81('0xc'),'mkdirp',_0x5a81('0xd'),_0x5a81('0xe'),_0x5a81('0xf'),_0x5a81('0x10'),_0x5a81('0x11'),_0x5a81('0x25'),_0x5a81('0x12'),'path','slugify','randomatic',_0x5a81('0x16'),_0x5a81('0x17'),'lodash.get','express-jwt','util',_0x5a81('0x1a'),_0x5a81('0x1b'),'xml',_0x5a81('0x1d'),'dotenv-flow',_0x5a81('0x1f'),_0x5a81('0x20'),_0x5a81('0x26'),_0x5a81('0x21')],_0x14996d):_0x3f19ba[_0x5a81('0x27')]=_0x14996d(_0x3f19ba[_0x5a81('0x1')],_0x3f19ba[_0x5a81('0x2')],_0x3f19ba[_0x5a81('0x28')],_0x3f19ba[_0x5a81('0x3')],_0x3f19ba['v1'],_0x3f19ba[_0x5a81('0x29')],_0x3f19ba[_0x5a81('0x2a')],_0x3f19ba['fs'],_0x3f19ba[_0x5a81('0x2b')],_0x3f19ba[_0x5a81('0x8')],_0x3f19ba[_0x5a81('0x2c')],_0x3f19ba[_0x5a81('0x2d')],_0x3f19ba['Capabilities'],_0x3f19ba[_0x5a81('0x2e')],_0x3f19ba[_0x5a81('0x2f')],_0x3f19ba[_0x5a81('0xd')],_0x3f19ba[_0x5a81('0x30')],_0x3f19ba['ScriptingProvider'],_0x3f19ba[_0x5a81('0x31')],_0x3f19ba['nodeCache'],_0x3f19ba[_0x5a81('0x32')],_0x3f19ba[_0x5a81('0x12')],_0x3f19ba[_0x5a81('0x13')],_0x3f19ba[_0x5a81('0x14')],_0x3f19ba[_0x5a81('0x15')],_0x3f19ba[_0x5a81('0x16')],_0x3f19ba[_0x5a81('0x33')],_0x3f19ba[_0x5a81('0x1a')],_0x3f19ba[_0x5a81('0x34')],_0x3f19ba['util'],_0x3f19ba[_0x5a81('0x35')],_0x3f19ba['debug'],_0x3f19ba['xml'],_0x3f19ba[_0x5a81('0x36')],_0x3f19ba[_0x5a81('0x37')],_0x3f19ba['prismaBinding'],_0x3f19ba['express'],_0x3f19ba[_0x5a81('0x26')],_0x3f19ba[_0x5a81('0x38')]);}(this,function(_0x470a30,_0x404b9e,_0x1c6260,_0x2e5efa,_0x5e73e7,_0x27252a,_0x5a80b7,_0x327d14,_0x1b5566,_0x39126a,_0x2c3301,_0x27cd63,_0xd5a4a1,_0x476ad3,_0x7fec69,_0x3b00c6,_0x1d2a88,_0x494e2b,_0x49c8f5,_0x2c0234,_0x3e536d,_0x3ad386,_0x2c9d0d,_0x2ec4f2,_0x539664,_0x481218,_0x5d4167,_0x18b1f2,_0x23f13f,_0x1b4f7d,_0x49a4dc,_0x558a61,_0x306601,_0x4ae9e3,_0x59f2df,_0xf1416c,_0x244e7e,_0x5ba110,_0x165baa){'use strict';_0x470a30=_0x470a30&&_0x470a30['hasOwnProperty'](_0x5a81('0x39'))?_0x470a30[_0x5a81('0x39')]:_0x470a30;_0x404b9e=_0x404b9e&&_0x404b9e['hasOwnProperty'](_0x5a81('0x39'))?_0x404b9e[_0x5a81('0x39')]:_0x404b9e;_0x1c6260=_0x1c6260&&_0x1c6260[_0x5a81('0x3a')](_0x5a81('0x39'))?_0x1c6260['default']:_0x1c6260;_0x2e5efa=_0x2e5efa&&_0x2e5efa[_0x5a81('0x3a')]('default')?_0x2e5efa[_0x5a81('0x39')]:_0x2e5efa;_0x5e73e7=_0x5e73e7&&_0x5e73e7[_0x5a81('0x3a')]('default')?_0x5e73e7[_0x5a81('0x39')]:_0x5e73e7;_0x27252a=_0x27252a&&_0x27252a[_0x5a81('0x3a')](_0x5a81('0x39'))?_0x27252a[_0x5a81('0x39')]:_0x27252a;_0x5a80b7=_0x5a80b7&&_0x5a80b7[_0x5a81('0x3a')](_0x5a81('0x39'))?_0x5a80b7[_0x5a81('0x39')]:_0x5a80b7;_0x327d14=_0x327d14&&_0x327d14[_0x5a81('0x3a')](_0x5a81('0x39'))?_0x327d14[_0x5a81('0x39')]:_0x327d14;_0x1b5566=_0x1b5566&&_0x1b5566[_0x5a81('0x3a')](_0x5a81('0x39'))?_0x1b5566[_0x5a81('0x39')]:_0x1b5566;_0x39126a=_0x39126a&&_0x39126a[_0x5a81('0x3a')](_0x5a81('0x39'))?_0x39126a[_0x5a81('0x39')]:_0x39126a;_0x2c3301=_0x2c3301&&_0x2c3301[_0x5a81('0x3a')](_0x5a81('0x39'))?_0x2c3301[_0x5a81('0x39')]:_0x2c3301;_0x27cd63=_0x27cd63&&_0x27cd63['hasOwnProperty'](_0x5a81('0x39'))?_0x27cd63[_0x5a81('0x39')]:_0x27cd63;_0xd5a4a1=_0xd5a4a1&&_0xd5a4a1['hasOwnProperty'](_0x5a81('0x39'))?_0xd5a4a1['default']:_0xd5a4a1;_0x476ad3=_0x476ad3&&_0x476ad3['hasOwnProperty']('default')?_0x476ad3[_0x5a81('0x39')]:_0x476ad3;_0x7fec69=_0x7fec69&&_0x7fec69[_0x5a81('0x3a')](_0x5a81('0x39'))?_0x7fec69['default']:_0x7fec69;_0x3b00c6=_0x3b00c6&&_0x3b00c6[_0x5a81('0x3a')](_0x5a81('0x39'))?_0x3b00c6[_0x5a81('0x39')]:_0x3b00c6;_0x1d2a88=_0x1d2a88&&_0x1d2a88[_0x5a81('0x3a')](_0x5a81('0x39'))?_0x1d2a88['default']:_0x1d2a88;_0x494e2b=_0x494e2b&&_0x494e2b['hasOwnProperty'](_0x5a81('0x39'))?_0x494e2b[_0x5a81('0x39')]:_0x494e2b;_0x49c8f5=_0x49c8f5&&_0x49c8f5['hasOwnProperty'](_0x5a81('0x39'))?_0x49c8f5['default']:_0x49c8f5;_0x2c0234=_0x2c0234&&_0x2c0234[_0x5a81('0x3a')]('default')?_0x2c0234[_0x5a81('0x39')]:_0x2c0234;_0x3e536d=_0x3e536d&&_0x3e536d[_0x5a81('0x3a')](_0x5a81('0x39'))?_0x3e536d[_0x5a81('0x39')]:_0x3e536d;_0x3ad386=_0x3ad386&&_0x3ad386[_0x5a81('0x3a')](_0x5a81('0x39'))?_0x3ad386['default']:_0x3ad386;_0x2c9d0d=_0x2c9d0d&&_0x2c9d0d['hasOwnProperty'](_0x5a81('0x39'))?_0x2c9d0d['default']:_0x2c9d0d;_0x2ec4f2=_0x2ec4f2&&_0x2ec4f2[_0x5a81('0x3a')](_0x5a81('0x39'))?_0x2ec4f2[_0x5a81('0x39')]:_0x2ec4f2;_0x539664=_0x539664&&_0x539664[_0x5a81('0x3a')](_0x5a81('0x39'))?_0x539664[_0x5a81('0x39')]:_0x539664;_0x481218=_0x481218&&_0x481218[_0x5a81('0x3a')](_0x5a81('0x39'))?_0x481218[_0x5a81('0x39')]:_0x481218;_0x5d4167=_0x5d4167&&_0x5d4167[_0x5a81('0x3a')](_0x5a81('0x39'))?_0x5d4167[_0x5a81('0x39')]:_0x5d4167;_0x18b1f2=_0x18b1f2&&_0x18b1f2[_0x5a81('0x3a')](_0x5a81('0x39'))?_0x18b1f2[_0x5a81('0x39')]:_0x18b1f2;_0x23f13f=_0x23f13f&&_0x23f13f[_0x5a81('0x3a')](_0x5a81('0x39'))?_0x23f13f['default']:_0x23f13f;_0x1b4f7d=_0x1b4f7d&&_0x1b4f7d['hasOwnProperty']('default')?_0x1b4f7d[_0x5a81('0x39')]:_0x1b4f7d;_0x49a4dc=_0x49a4dc&&_0x49a4dc[_0x5a81('0x3a')](_0x5a81('0x39'))?_0x49a4dc['default']:_0x49a4dc;_0x558a61=_0x558a61&&_0x558a61[_0x5a81('0x3a')](_0x5a81('0x39'))?_0x558a61[_0x5a81('0x39')]:_0x558a61;_0x306601=_0x306601&&_0x306601[_0x5a81('0x3a')]('default')?_0x306601[_0x5a81('0x39')]:_0x306601;_0x4ae9e3=_0x4ae9e3&&_0x4ae9e3['hasOwnProperty'](_0x5a81('0x39'))?_0x4ae9e3[_0x5a81('0x39')]:_0x4ae9e3;_0x59f2df=_0x59f2df&&_0x59f2df[_0x5a81('0x3a')]('default')?_0x59f2df[_0x5a81('0x39')]:_0x59f2df;_0xf1416c=_0xf1416c&&_0xf1416c['hasOwnProperty']('default')?_0xf1416c[_0x5a81('0x39')]:_0xf1416c;_0x244e7e=_0x244e7e&&_0x244e7e['hasOwnProperty'](_0x5a81('0x39'))?_0x244e7e['default']:_0x244e7e;_0x5ba110=_0x5ba110&&_0x5ba110[_0x5a81('0x3a')](_0x5a81('0x39'))?_0x5ba110[_0x5a81('0x39')]:_0x5ba110;_0x165baa=_0x165baa&&_0x165baa[_0x5a81('0x3a')](_0x5a81('0x39'))?_0x165baa[_0x5a81('0x39')]:_0x165baa;const _0x85f717={'buildTarget':_0x5a81('0x3b'),'buildBranch':'feature/BOT-176_ShowVersionAndBuildInformation','buildRevision':_0x5a81('0x3c'),'buildDate':_0x5a81('0x3d')};const _0x1dc43a=()=>{console[_0x5a81('0x3e')]('BOTIUM\x20BOX\x20-\x20SERVER');console['log']('BUILD_TARGET:\x20'+_0x85f717['buildTarget']);console['log']('BUILD_BRANCH:\x20'+_0x85f717[_0x5a81('0x3f')]);console[_0x5a81('0x3e')](_0x5a81('0x40')+_0x85f717['buildRevision']);console[_0x5a81('0x3e')](_0x5a81('0x41')+_0x85f717[_0x5a81('0x42')]);};var _0x35b747={'buildInfo':_0x85f717,'printVersion':_0x1dc43a};const _0xc0647b=_0x558a61('botium-testset-scanner');const _0x57a428=(_0x3ea690,_0x1e212f)=>{if(process[_0x5a81('0x43')][_0x5a81('0x44')]){return _0x2c9d0d[_0x5a81('0x45')](process['env'][_0x5a81('0x44')],_0x1e212f);}else{return _0x2c9d0d[_0x5a81('0x45')](_0x3ea690,_0x1e212f);}};const _0x5bbbab=(_0x1555a5,_0x5f3823)=>{return _0x327d14[_0x5a81('0x46')](_0x1555a5)[_0x5a81('0x47')]((_0x5f1c43,_0x2e5851)=>{const _0x4a1c34=_0x2c9d0d[_0x5a81('0x48')](_0x1555a5,_0x2e5851);if(_0x5f3823(_0x4a1c34))_0x5f1c43['push'](_0x2e5851);return _0x5f1c43;},[]);};const _0x4e53c2=_0x739814=>{return _0x5bbbab(_0x739814,_0x54e5cd=>_0x327d14['statSync'](_0x54e5cd)[_0x5a81('0x49')]());};const _0xe0a54b=_0x5024b5=>{return _0x5bbbab(_0x5024b5,_0x27e943=>_0x327d14[_0x5a81('0x4a')](_0x27e943)[_0x5a81('0x4b')]());};const _0x356b56=async(_0x15191d,_0x5b8536)=>{let _0x231b11=await _0x15191d[_0x5a81('0x4c')][_0x5a81('0x4d')]({'where':{'path':_0x5b8536}},_0x5a81('0x4e'));if(!_0x231b11||_0x231b11[_0x5a81('0x4f')]===0x0){_0x231b11=await _0x15191d[_0x5a81('0x4c')][_0x5a81('0x4d')]({'where':{'path':_0x5b8536+'/'}},_0x5a81('0x4e'));}if(_0x231b11&&_0x231b11['length']>0x0){_0xc0647b(_0x5a81('0x50')+_0x5b8536+'\x20already\x20in\x20use\x20-\x20'+_0x231b11[0x0][_0x5a81('0x51')]+_0x5a81('0x52')+_0x231b11[0x0][_0x5a81('0x53')][_0x5a81('0x51')]);return!![];}return![];};const _0x47c311=async(_0x2866d9,_0x4a793b,_0x5853c6)=>{const _0x4200dd=_0x2c9d0d[_0x5a81('0x48')](_0x4a793b,_0x5853c6);_0xc0647b(_0x5a81('0x54')+_0x4200dd+'\x20...');const _0x4dc092=_0x4e53c2(_0x4200dd);const _0x538120=_0xe0a54b(_0x4200dd);if(_0x4dc092&&_0x4dc092[_0x5a81('0x4f')]>0x0){_0xc0647b(_0x5a81('0x55')+_0x5853c6+_0x5a81('0x56')+_0x4dc092[_0x5a81('0x4f')]+_0x5a81('0x57'));await _0x4dc092[_0x5a81('0x58')](async _0x86eb71=>{const _0x56e5b5=_0x57a428(_0x4a793b,_0x2c9d0d[_0x5a81('0x48')](_0x5853c6,_0x86eb71));const _0xa2264b=await _0x356b56(_0x2866d9,_0x56e5b5);if(_0xa2264b)return;await _0x47c311(_0x2866d9,_0x4a793b,_0x2c9d0d['join'](_0x5853c6,_0x86eb71));});}else if(_0x538120&&_0x538120[_0x5a81('0x4f')]>0x0){_0xc0647b(_0x5a81('0x55')+_0x5853c6+_0x5a81('0x56')+_0x538120[_0x5a81('0x4f')]+_0x5a81('0x59'));const _0x220b1f={'data':{'name':_0x5853c6,'description':_0x5a81('0x5a')+_0x4200dd+',\x20'+_0x538120['length']+'\x20files','expandConvos':!![],'expandUtterancesToConvos':!![],'tags':{'set':_0x5853c6[_0x5a81('0x5b')](_0x2c9d0d[_0x5a81('0x5c')])},'folders':{'create':[{'name':_0x5853c6,'path':_0x57a428(_0x4a793b,_0x5853c6)}]}}};const _0x2e6e34=await _0x2866d9['mutation'][_0x5a81('0x5d')](_0x220b1f,'{\x20id\x20}');_0xc0647b('scanDirForTestSets\x20'+_0x5853c6+_0x5a81('0x5e')+_0x2e6e34['id']);}};var _0x26107b=_0x41a235=>{(async()=>{_0x47c311(_0x41a235,process[_0x5a81('0x43')][_0x5a81('0x5f')],'.');})()[_0x5a81('0x60')](_0x3802d2=>{_0xc0647b(_0x5a81('0x61')+_0x3802d2);});};var _0x9ba8fa={'scanForTestSets':_0x26107b};const _0xfe5ebf=_0x558a61(_0x5a81('0x62'));var _0x591de6=(_0x399388,_0x337e6d)=>{return _0x399388[_0x5a81('0x4c')][_0x5a81('0x63')]({'where':{'id':_0x337e6d}},_0x5a81('0x64'));};var _0xe20f0a=(_0xa9f951,_0x5b5bf3)=>{return _0xa9f951[_0x5a81('0x4c')][_0x5a81('0x65')]({'where':{'id':_0x5b5bf3}},'{\x20id\x20filename\x20filecontent\x20}');};var _0x3b1ff7=(_0x2c6eef,_0x4892bf)=>{const _0x57d924=new Date(Date[_0x5a81('0x66')]())['toISOString']();if(!_0x4892bf)return;const _0x2c7334={'where':{'AND':[{'key':_0x4892bf},{'OR':[{'validFrom':null},{'validFrom_lte':_0x57d924}]},{'OR':[{'validTo':null},{'validTo_gte':_0x57d924}]}]}};return _0x2c6eef[_0x5a81('0x4c')]['apiKeys'](_0x2c7334,'{\x20id\x20name\x20}')[_0x5a81('0x67')](_0x410292=>{if(!_0x410292||_0x410292[_0x5a81('0x4f')]===0x0)return null;return _0x410292[0x0];});};var _0x30c52a=(_0xc076a0,_0x4f879f)=>{return _0xc076a0[_0x5a81('0x4c')][_0x5a81('0x68')]({'where':{'id':_0x4f879f}},_0x5a81('0x69'));};var _0x40f86f=(_0x2ea00f,_0x18284d)=>{return _0x2ea00f[_0x5a81('0x4c')]['testSession']({'where':{'id':_0x18284d}},_0x5a81('0x6a'));};var _0x43507a=(_0x29c27b,_0x4ec87b,_0x2f3970)=>{if(!_0x4ec87b['data'][_0x5a81('0x51')]||!_0x4ec87b[_0x5a81('0x6b')][_0x5a81('0x6c')]){const _0x42be2c=_0x5a81('0x6d')+_0x4ec87b[_0x5a81('0x6b')];_0xfe5ebf(_0x42be2c);return Promise[_0x5a81('0x6e')](_0x42be2c);}return _0x29c27b[_0x5a81('0x4c')][_0x5a81('0x6f')]({'where':{'name':_0x4ec87b[_0x5a81('0x6b')][_0x5a81('0x51')]}},_0x2f3970);};var _0x3c5da9=_0x321e69=>{return _0x321e69&&_0x321e69[_0x5a81('0x47')]((_0x44eec3,_0x4f2be0)=>{if(_0x4f2be0['type']===_0x5a81('0x70')||_0x4f2be0[_0x5a81('0x71')]===_0x5a81('0x72'))_0x44eec3[_0x4f2be0[_0x5a81('0x51')]]=_0x4f2be0[_0x5a81('0x73')][_0x5a81('0x74')](/\\n/g,'\x0a');if(_0x4f2be0['type']===_0x5a81('0x75'))_0x44eec3[_0x4f2be0['name']]=parseInt(_0x4f2be0[_0x5a81('0x76')]);if(_0x4f2be0['type']===_0x5a81('0x77'))_0x44eec3[_0x4f2be0[_0x5a81('0x51')]]=_0x4f2be0[_0x5a81('0x78')]?!![]:![];if(_0x4f2be0['type']===_0x5a81('0x79'))_0x44eec3[_0x4f2be0['name']]=JSON[_0x5a81('0x7a')](_0x4f2be0[_0x5a81('0x7b')]);return _0x44eec3;},{});};var _0x19880a=(..._0x842031)=>{const _0x11f107={};_0x842031&&_0x842031[_0x5a81('0x58')](_0x5074c9=>{_0x5074c9&&Object['keys'](_0x5074c9)['forEach'](_0x8d295=>{_0x11f107[_0x8d295]=_0x5074c9[_0x8d295];});});return _0x11f107;};var _0x424e74={'getAttachment':_0x591de6,'getExcel':_0xe20f0a,'lookupApiKey':_0x3b1ff7,'findFullTestSession':_0x30c52a,'findSimpleTestSessionResults':_0x40f86f,'findAgentFromJobData':_0x43507a,'composeBotiumCapabilities':_0x3c5da9,'combineBotiumCapabilities':_0x19880a};const _0x2be352=_0x558a61(_0x5a81('0x7c'));var _0x5fca0f=(_0x420b84,_0x24b1dd,_0x41302f)=>{_0x424e74[_0x5a81('0x7d')](_0x420b84['db'],_0x24b1dd,_0x5a81('0x7e'))['then'](_0x555e69=>{if(_0x555e69){_0x420b84['db'][_0x5a81('0x7f')][_0x5a81('0x80')]({'where':{'id':_0x555e69['id']},'data':{'heartbeat':new Date(Date['now']())['toISOString']()}})[_0x5a81('0x67')](()=>_0x41302f());}else{const _0x6fee71='Agent\x20'+_0x24b1dd[_0x5a81('0x6b')]['name']+_0x5a81('0x81');_0x2be352(_0x6fee71);return _0x41302f(_0x6fee71);}})['catch'](_0x513cac=>{console['log'](_0x513cac);return _0x41302f(_0x513cac);});};const _0x578de1=_0x558a61(_0x5a81('0x82'));var _0x106767=(_0xa5e0ee,_0x5dfc6f,_0x362bd5)=>{_0x424e74['findAgentFromJobData'](_0xa5e0ee['db'],_0x5dfc6f,_0x5a81('0x83'))[_0x5a81('0x67')](_0x314d55=>{if(_0x314d55){const _0xdf7dff=_0x424e74[_0x5a81('0x84')](_0x314d55[_0x5a81('0x85')]);const _0x30b099={'debug':![],'botium':{'Capabilities':_0xdf7dff}};_0x578de1(_0x5a81('0x86')+JSON[_0x5a81('0x87')](_0x30b099));return _0x362bd5(null,_0x30b099);}else{const _0x2d483a=_0x5a81('0x88')+_0x5dfc6f[_0x5a81('0x6b')][_0x5a81('0x51')]+_0x5a81('0x81');_0x578de1(_0x2d483a);return _0x362bd5(_0x2d483a);}})[_0x5a81('0x60')](_0x394726=>{console[_0x5a81('0x3e')](_0x394726);return _0x362bd5(_0x394726);});};const _0x32736d=(_0x56e6f0,_0x837a95)=>{return _0x56e6f0[_0x5a81('0x4c')][_0x5a81('0x53')]({'where':{'id':_0x837a95}});};const _0x4b86e9=_0xc60cb8=>{return{'id':_0xc60cb8['id'],'name':_0xc60cb8['name'],'expandConvos':_0xc60cb8['expandConvos'],'expandUtterancesToConvos':_0xc60cb8['expandUtterancesToConvos'],'expandUtterancesIncomprehension':_0xc60cb8[_0x5a81('0x89')],'convos':_0xc60cb8[_0x5a81('0x8a')]&&_0xc60cb8[_0x5a81('0x8a')][_0x5a81('0x8b')](_0x248ee5=>_0x248ee5[_0x5a81('0x8c')]==='SCRIPTING_TYPE_CONVO')['map'](_0x41d627=>({'format':'SCRIPTING_FORMAT_TXT','content':_0x41d627[_0x5a81('0x8d')],'sourceTag':{'testSetId':_0xc60cb8['id'],'testSetScriptId':_0x41d627['id']}})),'utterances':_0xc60cb8['scripts']&&_0xc60cb8['scripts']['filter'](_0x42ee67=>_0x42ee67[_0x5a81('0x8c')]===_0x5a81('0x8e'))['map'](_0x2ba3b9=>({'format':_0x5a81('0x8f'),'content':_0x2ba3b9[_0x5a81('0x8d')],'sourceTag':{'testSetId':_0xc60cb8['id'],'testSetScriptId':_0x2ba3b9['id']}})),'folders':_0xc60cb8[_0x5a81('0x90')]&&_0xc60cb8[_0x5a81('0x90')][_0x5a81('0x91')](_0x54a54a=>({'id':_0x54a54a['id'],'path':_0x54a54a[_0x5a81('0x13')],'globFilter':_0x54a54a['globFilter'],'sourceTag':{'testSetId':_0xc60cb8['id'],'testSetFolderId':_0x54a54a['id']}})),'excels':_0xc60cb8[_0x5a81('0x92')]&&_0xc60cb8[_0x5a81('0x92')][_0x5a81('0x91')](_0xf500df=>({'id':_0xf500df['id'],'filename':_0xf500df[_0x5a81('0x93')],'filecontent':_0xf500df[_0x5a81('0x94')],'hasConvos':_0xf500df[_0x5a81('0x95')],'hasUtterances':_0xf500df[_0x5a81('0x96')],'worksheetsConvos':_0xf500df[_0x5a81('0x97')],'worksheetsUtterances':_0xf500df[_0x5a81('0x98')],'startRow':_0xf500df[_0x5a81('0x99')],'startCol':_0xf500df[_0x5a81('0x9a')],'sourceTag':{'testSetId':_0xc60cb8['id'],'testSetExcelId':_0xf500df['id']}}))};};var _0x4aeb9c={'FindFullTestSet':_0x32736d,'RetrieveTestSetDetails':_0x4b86e9};const {URL}=_0x404b9e;const _0x3c08ce=_0x558a61(_0x5a81('0x9b'));const {RetrieveTestSetDetails:RetrieveTestSetDetails$1}=_0x4aeb9c;var _0x4ab34d=(_0x2a2a31,_0x48fb48,_0x2d0528)=>{_0x424e74['findFullTestSession'](_0x2a2a31['db'],_0x48fb48[_0x5a81('0x6b')]['testSessionId'])[_0x5a81('0x67')](_0xcbf5aa=>{if(!_0xcbf5aa){const _0x10295a=_0x5a81('0x9c')+_0x48fb48[_0x5a81('0x6b')]['testSessionId']+_0x5a81('0x81');_0x3c08ce(_0x10295a);return _0x2d0528(_0x10295a);}_0x3c08ce('startTestSession\x20'+_0xcbf5aa['id']);const _0x5c6e1d=_0xcbf5aa[_0x5a81('0x6f')]?'process.'+_0xcbf5aa[_0x5a81('0x6f')]['name']:_0x5a81('0x9d');_0x3c08ce(_0x5a81('0x9e')+_0xcbf5aa['id']+_0x5a81('0x9f')+_0x5c6e1d);const _0x1869f2=_0x424e74[_0x5a81('0xa0')]({'PROJECTNAME':_0xcbf5aa['name']},_0x424e74[_0x5a81('0x84')](_0xcbf5aa['chatbot']['capabilities']),_0xcbf5aa[_0x5a81('0xa1')]&&_0x424e74[_0x5a81('0x84')](_0xcbf5aa[_0x5a81('0xa1')][_0x5a81('0x85')])||[],_0x424e74[_0x5a81('0x84')](_0xcbf5aa[_0x5a81('0x85')]));_0x3c08ce(_0x5a81('0x9e')+_0xcbf5aa['id']+_0x5a81('0xa2')+JSON[_0x5a81('0x87')](_0x1869f2));const _0x346f99=_0x424e74['combineBotiumCapabilities'](_0x424e74['composeBotiumCapabilities'](_0xcbf5aa[_0x5a81('0xa3')][_0x5a81('0xa4')]),_0x424e74[_0x5a81('0x84')](_0xcbf5aa[_0x5a81('0xa4')]));_0x3c08ce(_0x5a81('0x9e')+_0xcbf5aa['id']+_0x5a81('0xa5')+JSON[_0x5a81('0x87')](_0x346f99));const _0x216d27=_0x424e74[_0x5a81('0xa0')](_0x424e74[_0x5a81('0x84')](_0xcbf5aa[_0x5a81('0xa3')][_0x5a81('0xa6')]),_0x424e74['composeBotiumCapabilities'](_0xcbf5aa[_0x5a81('0xa6')]));_0x3c08ce(_0x5a81('0x9e')+_0xcbf5aa['id']+'\x20testSessionEnvs:\x20'+JSON['stringify'](_0x216d27));const _0x44da0d=_0xcbf5aa['testSets'][_0x5a81('0x91')](_0x5d75b5=>RetrieveTestSetDetails$1(_0x5d75b5));_0x3c08ce(_0x5a81('0x9e')+_0xcbf5aa['id']+_0x5a81('0xa7')+JSON[_0x5a81('0x87')](_0x44da0d));const _0x996426=(_0x44ea7b,_0x41b50d)=>{const _0x3b2ba2=_0xcbf5aa['batchCount']||0x1;let _0x356822=Promise[_0x5a81('0x45')]();for(let _0x467952=0x1;_0x467952<=_0x3b2ba2;_0x467952++){const _0x4d3359=_0x467952;_0x356822=_0x356822[_0x5a81('0x67')](()=>new Promise(_0x5d06d3=>{const _0x153f49=_0x2a2a31['queueConnector'][_0x5a81('0xa8')](_0x5c6e1d,{'title':_0x5a81('0xa9')+_0x4d3359+'/'+_0x3b2ba2+_0x5a81('0xaa')+_0xcbf5aa[_0x5a81('0x51')],'botium':{'Capabilities':_0x44ea7b,'Sources':_0x346f99,'Envs':_0x216d27},'testSets':_0x41b50d,'batchNum':_0x4d3359,'batchCount':_0x3b2ba2})['removeOnComplete'](!![])[_0x5a81('0xab')](0x1388)[_0x5a81('0xac')](_0x10295a=>{if(_0x10295a)return _0x3c08ce(_0x5a81('0xad')+_0x10295a);const _0x1fa782=_0x153f49['id'];_0x2a2a31['db'][_0x5a81('0x7f')][_0x5a81('0xae')]({'data':{'jobId':_0x1fa782,'status':_0x5a81('0xaf'),'progressPercent':0x0,'testSession':{'connect':{'id':_0xcbf5aa['id']}}}},_0x5a81('0xb0'))[_0x5a81('0x67')](_0x91377e=>{_0x3c08ce('TestSessionJob\x20for\x20TestSession\x20'+_0xcbf5aa[_0x5a81('0x51')]+_0x5a81('0xb1')+_0x1fa782+_0x5a81('0xb2')+_0x91377e['id']+')');_0x5d06d3();})[_0x5a81('0x60')](_0x10295a=>{_0x3c08ce(_0x5a81('0xb3')+_0xcbf5aa['name']+_0x5a81('0xb4')+_0x1fa782+'):\x20'+_0x10295a);_0x5d06d3();});});}));}return _0x356822;};if(_0xcbf5aa[_0x5a81('0xb5')]&&_0xcbf5aa[_0x5a81('0xb5')][_0x5a81('0x4f')]>0x0){const _0x119326=_0xcbf5aa[_0x5a81('0xb5')][_0x5a81('0x47')]((_0x435b1f,_0x518f6d)=>{return[..._0x435b1f,..._0x518f6d['devices'][_0x5a81('0x91')](_0x54bcda=>{const _0x526f44=_0x518f6d['provider'][_0x5a81('0x2')]&&new URL(_0x518f6d[_0x5a81('0xb6')]['url']);if(_0x518f6d[_0x5a81('0xb6')][_0x5a81('0x71')]===_0x5a81('0xb7')){return{'deviceSetId':_0x518f6d['id'],'deviceName':_0x54bcda[_0x5a81('0x51')],'deviceOptions':{'desiredCapabilities':Object[_0x5a81('0xb8')]({},JSON[_0x5a81('0x7a')](_0x54bcda['capabilities']),{'name':_0xcbf5aa['name'],'username':_0x518f6d[_0x5a81('0xb6')]['username'],'accessKey':_0x518f6d[_0x5a81('0xb6')][_0x5a81('0xb9')]}),'protocol':_0x526f44&&_0x526f44[_0x5a81('0xba')],'host':_0x526f44&&_0x526f44[_0x5a81('0xbb')],'port':_0x526f44&&_0x526f44[_0x5a81('0xbc')],'path':_0x526f44&&_0x526f44[_0x5a81('0xbd')]}};}else if(_0x518f6d['provider'][_0x5a81('0x71')]==='LOCALSELENIUM'){return{'deviceSetId':_0x518f6d['id'],'deviceName':_0x54bcda['name'],'deviceOptions':{'desiredCapabilities':Object[_0x5a81('0xb8')]({},JSON[_0x5a81('0x7a')](_0x54bcda[_0x5a81('0x85')]),{'name':_0xcbf5aa[_0x5a81('0x51')]}),'protocol':_0x526f44&&_0x526f44[_0x5a81('0xba')],'host':_0x526f44&&_0x526f44[_0x5a81('0xbb')],'port':_0x526f44&&_0x526f44['port'],'path':_0x526f44&&_0x526f44[_0x5a81('0xbd')]}};}else{if(_0x518f6d['provider'][_0x5a81('0x71')]==='INTEGRATED'){_0x3c08ce(_0x5a81('0x9e')+_0xcbf5aa['id']+_0x5a81('0xbe'));_0x1869f2['WEBDRIVERIO_START_PHANTOMJS']=!![];}return{'deviceSetId':_0x518f6d['id'],'deviceName':_0x54bcda[_0x5a81('0x51')],'deviceOptions':{'desiredCapabilities':Object['assign']({},JSON[_0x5a81('0x7a')](_0x54bcda[_0x5a81('0x85')]),{'name':_0xcbf5aa[_0x5a81('0x51')]})}};}})];},[]);_0x3c08ce(_0x5a81('0x9e')+_0xcbf5aa['id']+_0x5a81('0xbf')+JSON[_0x5a81('0x87')](_0x119326,null,0x2));let _0x43be99=Promise[_0x5a81('0x45')]();_0x119326[_0x5a81('0x58')](_0x1f86a9=>{const _0x55f891=_0x12c25c=>{return _0x12c25c&&_0x12c25c[_0x5a81('0x58')](_0x100fbe=>{_0x100fbe[_0x5a81('0xc0')]=Object[_0x5a81('0xb8')]({},_0x100fbe[_0x5a81('0xc0')],{'deviceSetId':_0x1f86a9['deviceSetId'],'deviceName':_0x1f86a9[_0x5a81('0xc1')]});});};const _0x2d3716=_0x49a4dc['cloneDeep'](_0x44da0d);_0x2d3716['forEach'](_0x29a14d=>{_0x55f891(_0x29a14d[_0x5a81('0xc2')]);_0x55f891(_0x29a14d[_0x5a81('0xc3')]);_0x55f891(_0x29a14d['repositories']);_0x55f891(_0x29a14d[_0x5a81('0x90')]);_0x55f891(_0x29a14d[_0x5a81('0x92')]);});const _0x4387bf=Object[_0x5a81('0xb8')]({},_0x1869f2,{'WEBDRIVERIO_OPTIONS':_0x1f86a9[_0x5a81('0xc4')]});_0x43be99=_0x43be99[_0x5a81('0x67')](()=>_0x996426(_0x4387bf,_0x2d3716));});return _0x43be99[_0x5a81('0x67')](()=>_0x2d0528())[_0x5a81('0x60')](_0x2d0528);}else{return _0x996426(_0x1869f2,_0x44da0d)[_0x5a81('0x67')](()=>_0x2d0528())['catch'](_0x2d0528);}})[_0x5a81('0x60')](_0x175113=>{_0x3c08ce(_0x5a81('0xc5')+_0x175113);_0x2d0528(_0x175113);});};var _0x4d4383=(_0x438ce9,_0x303096,_0x22d6eb,_0x279e7b)=>{return _0x438ce9['db'][_0x5a81('0x4c')][_0x5a81('0xc6')]({'where':{'jobId':_0x303096}},_0x5a81('0xc7'))[_0x5a81('0x67')](_0x35fdb7=>{if(!_0x35fdb7||_0x35fdb7[_0x5a81('0x4f')]===0x0){return _0x3c08ce('testSessionProgress:\x20Job\x20'+_0x303096+_0x5a81('0xc8'));}const _0x5f791a=_0x35fdb7[0x0];if(_0x5f791a[_0x5a81('0x68')][_0x5a81('0xc9')]===_0x5a81('0xaf')){_0x438ce9['db'][_0x5a81('0x7f')]['updateTestSession']({'data':{'status':_0x5a81('0xca')},'where':{'id':_0x5f791a[_0x5a81('0x68')]['id']}})[_0x5a81('0x67')](()=>{_0x3c08ce(_0x5a81('0xcb')+_0x303096+'/'+_0x5f791a['id']+_0x5a81('0xcc')+_0x5f791a[_0x5a81('0x68')]['id']+_0x5a81('0xcd'));})['catch'](_0x401bc8=>{_0x3c08ce('Test\x20Session\x20Job\x20'+_0x303096+'/'+_0x5f791a['id']+_0x5a81('0xcc')+_0x5f791a[_0x5a81('0x68')]['id']+_0x5a81('0xce')+_0x401bc8);});}if(_0x5f791a['status']===_0x5a81('0xaf')){_0x438ce9['db']['mutation'][_0x5a81('0xcf')]({'data':{'status':_0x5a81('0xca'),'started':new Date(Date[_0x5a81('0x66')]())[_0x5a81('0xd0')](),'progressPercent':_0x49a4dc[_0x5a81('0xd1')](_0x22d6eb)&&_0x22d6eb},'where':{'id':_0x5f791a['id']}})[_0x5a81('0x67')](()=>{_0x3c08ce(_0x5a81('0xcb')+_0x303096+'/'+_0x5f791a['id']+_0x5a81('0xd2'));})[_0x5a81('0x60')](_0x303733=>{_0x3c08ce(_0x5a81('0xcb')+_0x303096+'/'+_0x5f791a['id']+'\x20set\x20Test\x20Session\x20Job\x20RUNNING\x20failed:\x20'+_0x303733);});}if(_0x5f791a['status']===_0x5a81('0xca')&&_0x49a4dc['isNumber'](_0x22d6eb)&&_0x5f791a[_0x5a81('0xd3')]<_0x22d6eb){_0x438ce9['db']['mutation']['updateTestSessionJob']({'data':{'progressPercent':_0x22d6eb},'where':{'id':_0x5f791a['id']}})[_0x5a81('0x67')](()=>{_0x3c08ce(_0x5a81('0xcb')+_0x303096+'/'+_0x5f791a['id']+_0x5a81('0xd4')+_0x22d6eb+'.');})[_0x5a81('0x67')](()=>_0x594d59(_0x438ce9,_0x5f791a[_0x5a81('0x68')]['id']))['catch'](_0x5cf171=>{_0x3c08ce(_0x5a81('0xcb')+_0x303096+'/'+_0x5f791a['id']+_0x5a81('0xd4')+_0x22d6eb+_0x5a81('0xd5')+_0x5cf171);});}if(_0x279e7b[_0x5a81('0x3e')]){_0x438ce9['db'][_0x5a81('0x7f')][_0x5a81('0xd6')]({'data':{'log':_0x279e7b['log'],'testSessionJob':{'connect':{'id':_0x5f791a['id']}}}},_0x5a81('0xd7'))['then'](()=>{_0x3c08ce('Test\x20Session\x20Job\x20'+_0x303096+'/'+_0x5f791a['id']+_0x5a81('0xd8')+_0x279e7b[_0x5a81('0x3e')]);})[_0x5a81('0x60')](_0x130f61=>{_0x3c08ce('Test\x20Session\x20Job\x20'+_0x303096+'/'+_0x5f791a['id']+_0x5a81('0xd9')+_0x130f61);});}if(_0x279e7b[_0x5a81('0xda')]){const _0x359f6d={'testcaseName':_0x279e7b[_0x5a81('0xda')],'testcaseSource':_0x279e7b[_0x5a81('0xdb')],'success':_0x279e7b[_0x5a81('0xdc')],'err':_0x279e7b['err'],'testSession':{'connect':{'id':_0x5f791a[_0x5a81('0x68')]['id']}}};if(_0x279e7b[_0x5a81('0xdd')]){_0x359f6d[_0x5a81('0xdd')]=_0x49a4dc[_0x5a81('0xde')](_0x279e7b[_0x5a81('0xdd')])?_0x279e7b[_0x5a81('0xdd')]:JSON['stringify'](_0x279e7b[_0x5a81('0xdd')]);}if(_0x279e7b[_0x5a81('0xc0')]){if(_0x279e7b['sourceTag'][_0x5a81('0x93')])_0x359f6d[_0x5a81('0xdf')]=_0x279e7b[_0x5a81('0xc0')][_0x5a81('0x93')];if(_0x279e7b[_0x5a81('0xc0')][_0x5a81('0xe0')])_0x359f6d[_0x5a81('0x53')]={'connect':{'id':_0x279e7b['sourceTag'][_0x5a81('0xe0')]}};if(_0x279e7b['sourceTag'][_0x5a81('0xe1')])_0x359f6d['testSetScript']={'connect':{'id':_0x279e7b[_0x5a81('0xc0')][_0x5a81('0xe1')]}};if(_0x279e7b[_0x5a81('0xc0')][_0x5a81('0xe2')])_0x359f6d[_0x5a81('0xe3')]={'connect':{'id':_0x279e7b['sourceTag'][_0x5a81('0xe2')]}};if(_0x279e7b[_0x5a81('0xc0')][_0x5a81('0xe4')])_0x359f6d['testSetFolder']={'connect':{'id':_0x279e7b[_0x5a81('0xc0')][_0x5a81('0xe4')]}};if(_0x279e7b[_0x5a81('0xc0')][_0x5a81('0xe5')])_0x359f6d[_0x5a81('0x65')]={'connect':{'id':_0x279e7b[_0x5a81('0xc0')]['testSetExcelId']}};if(_0x279e7b[_0x5a81('0xc0')][_0x5a81('0xe6')])_0x359f6d[_0x5a81('0xe7')]={'connect':{'id':_0x279e7b[_0x5a81('0xc0')]['deviceSetId']}};if(_0x279e7b[_0x5a81('0xc0')][_0x5a81('0xc1')])_0x359f6d[_0x5a81('0xc1')]=_0x279e7b[_0x5a81('0xc0')][_0x5a81('0xc1')];}if(_0x279e7b[_0x5a81('0xe8')]){_0x359f6d[_0x5a81('0xe8')]={'create':_0x279e7b[_0x5a81('0xe8')][_0x5a81('0x91')](_0x1bc332=>{return{'name':_0x1bc332[_0x5a81('0x51')],'mimeType':_0x1bc332[_0x5a81('0xe9')],'base64':_0x1bc332[_0x5a81('0xea')]};})};}_0x438ce9['db']['mutation'][_0x5a81('0xeb')]({'data':_0x359f6d},'{\x20id\x20}')[_0x5a81('0x67')](_0x30cc77=>{_0x3c08ce('TestResult\x20for\x20TestCase\x20'+_0x279e7b[_0x5a81('0xda')]+'\x20in\x20TestSession\x20'+_0x5f791a['testSession'][_0x5a81('0x51')]+_0x5a81('0xb1')+_0x303096+'\x20id:\x20'+_0x30cc77['id']+')');})['catch'](_0x5bb0da=>{_0x3c08ce(_0x5a81('0xec')+_0x279e7b[_0x5a81('0xda')]+_0x5a81('0xed')+_0x5f791a[_0x5a81('0x68')][_0x5a81('0x51')]+_0x5a81('0xee')+_0x5bb0da);});}})[_0x5a81('0x60')](_0x771883=>{_0x3c08ce(_0x5a81('0xef')+_0x771883);});};var _0x2b7338=(_0x136ba7,_0x203510,_0x474880)=>{return _0x136ba7['db'][_0x5a81('0x4c')][_0x5a81('0xc6')]({'where':{'jobId':_0x203510}},'{\x20id,\x20testSession\x20{\x20id\x20name\x20}\x20\x20}')[_0x5a81('0x67')](_0x2f62a7=>{if(!_0x2f62a7||_0x2f62a7['length']===0x0){return _0x3c08ce('testSessionJobCompleted:\x20Job\x20'+_0x203510+'\x20not\x20registered\x20as\x20test\x20session\x20job.\x20Skipping.');}const _0x288b11=_0x2f62a7[0x0];_0x136ba7['db'][_0x5a81('0x7f')][_0x5a81('0xcf')]({'data':{'status':_0x5a81('0xf0'),'jobId':null,'progressPercent':0x64,'finished':new Date(Date['now']())[_0x5a81('0xd0')]()},'where':{'id':_0x288b11['id']}})['then'](()=>{_0x3c08ce(_0x5a81('0xcb')+_0x203510+'/'+_0x288b11['id']+'\x20completed.');})[_0x5a81('0x67')](()=>{_0x136ba7['db'][_0x5a81('0x7f')]['createTestSessionJobLog']({'data':{'log':_0x5a81('0xf1'),'testSessionJob':{'connect':{'id':_0x288b11['id']}}}},_0x5a81('0xd7'))[_0x5a81('0x60')](_0x4ab017=>{_0x3c08ce(_0x5a81('0xf2')+_0x4ab017);});})[_0x5a81('0x67')](()=>_0x450b00(_0x136ba7,_0x203510,_0x288b11['id'],_0x288b11[_0x5a81('0x68')]['id']))[_0x5a81('0x67')](()=>_0x594d59(_0x136ba7,_0x288b11[_0x5a81('0x68')]['id']))[_0x5a81('0x60')](_0x3d29da=>{_0x3c08ce('testSessionJobCompleted\x20failed:\x20'+_0x3d29da);});});};var _0x4a456f=(_0x2a37e1,_0x55c49d,_0x1bbcde)=>{return _0x2a37e1['db']['query']['testSessionJobs']({'where':{'jobId':_0x55c49d}},'{\x20id,\x20testSession\x20{\x20id\x20name\x20}\x20\x20}')[_0x5a81('0x67')](_0x527b9c=>{if(!_0x527b9c||_0x527b9c[_0x5a81('0x4f')]===0x0){return _0x3c08ce(_0x5a81('0xf3')+_0x55c49d+_0x5a81('0xc8'));}const _0x1270ad=_0x527b9c[0x0];_0x2a37e1['db']['mutation']['updateTestSessionJob']({'data':{'status':'FAILED','jobId':null,'err':_0x1bbcde},'where':{'id':_0x1270ad['id']}})['then'](()=>{_0x3c08ce(_0x5a81('0xcb')+_0x55c49d+'/'+_0x1270ad['id']+_0x5a81('0xd5')+_0x1bbcde+'.');})['then'](()=>{_0x2a37e1['db'][_0x5a81('0x7f')][_0x5a81('0xd6')]({'data':{'log':_0x5a81('0xf4')+_0x1bbcde,'testSessionJob':{'connect':{'id':_0x1270ad['id']}}}},_0x5a81('0xd7'))[_0x5a81('0x60')](_0x1bbcde=>{_0x3c08ce(_0x5a81('0xf5')+_0x1bbcde);});})[_0x5a81('0x67')](()=>_0x450b00(_0x2a37e1,_0x55c49d,_0x1270ad['id'],_0x1270ad[_0x5a81('0x68')]['id']))[_0x5a81('0x67')](()=>_0x594d59(_0x2a37e1,_0x1270ad[_0x5a81('0x68')]['id']))['catch'](_0x1bbcde=>{_0x3c08ce(_0x5a81('0xf6')+_0x1bbcde);});});};const _0x450b00=(_0x33f603,_0x378ddf,_0x4278db,_0x3438f6)=>{_0x3c08ce('Test\x20Session\x20Job\x20'+_0x378ddf+'/'+_0x4278db+'\x20testSessionCheckFinished\x20'+_0x3438f6);return _0x33f603['db'][_0x5a81('0x7f')][_0x5a81('0xf7')]({'data':{'status':_0x5a81('0xf0')},'where':{'AND':[{'id':_0x3438f6},{'results_every':{'success':!![]}},{'jobs_every':{'status':_0x5a81('0xf0')}}]}})[_0x5a81('0x60')](_0x12b37e=>{_0x3c08ce('testSessionCheckFinished\x20'+_0x378ddf+'/'+_0x4278db+_0x5a81('0xd5')+_0x12b37e);})['then'](()=>_0x33f603['db'][_0x5a81('0x7f')][_0x5a81('0xf7')]({'data':{'status':_0x5a81('0xf8')},'where':{'AND':[{'id':_0x3438f6},{'jobs_every':{'status_in':[_0x5a81('0xf0'),_0x5a81('0xf8')]}},{'OR':[{'results_some':{'success':![]}},{'jobs_some':{'status':'FAILED'}}]}]}}))[_0x5a81('0x60')](_0x35e7cb=>{_0x3c08ce('testSessionCheckFinished\x20'+_0x378ddf+'/'+_0x4278db+_0x5a81('0xd5')+_0x35e7cb);});};const _0x594d59=(_0x4d6237,_0x87a003)=>{_0x3c08ce(_0x5a81('0x9c')+_0x87a003+_0x5a81('0xf9'));_0x4d6237['db'][_0x5a81('0x4c')][_0x5a81('0x68')]({'where':{'id':_0x87a003}},'{\x20id\x20name\x20status\x20jobs\x20{\x20id\x20progressPercent\x20}\x20}')[_0x5a81('0x67')](_0x534224=>{if(!_0x534224)return;_0x4d6237[_0x5a81('0xfa')]['publish']('TEST_SESSION_PROGRESS',{'testSessionProgress':_0x534224});});};var _0xa9031c={'startTestSession':_0x4ab34d,'testSessionProgress':_0x4d4383,'testSessionJobCompleted':_0x2b7338,'testSessionJobFailed':_0x4a456f};const _0x30771d=_0x558a61('botium-box-server-agents');var _0x3c5c1c=class AgentsConnector{constructor(_0x1910d9){this[_0x5a81('0xfb')]=_0x1910d9;}['start'](){const _0x2cbd36=this[_0x5a81('0xfb')]();_0x2cbd36[_0x5a81('0xfc')]['process'](_0x5a81('0xfd'),(_0x4edc5c,_0x996095)=>{_0x30771d(_0x5a81('0xfe')+JSON[_0x5a81('0x87')](_0x4edc5c['data']));_0x5fca0f(_0x2cbd36,_0x4edc5c,_0x996095);});_0x2cbd36[_0x5a81('0xfc')][_0x5a81('0x9d')]('agent.register',(_0x2a1b4c,_0x4712b5)=>{_0x30771d(_0x5a81('0xff')+JSON[_0x5a81('0x87')](_0x2a1b4c[_0x5a81('0x6b')]));_0x106767(_0x2cbd36,_0x2a1b4c,_0x4712b5);});_0x2cbd36[_0x5a81('0xfc')][_0x5a81('0x9d')](_0x5a81('0x100'),(_0x2e09da,_0x2d0ec6)=>{_0x30771d(_0x5a81('0x101')+JSON[_0x5a81('0x87')](_0x2e09da[_0x5a81('0x6b')]));_0xa9031c[_0x5a81('0x102')](_0x2cbd36,_0x2e09da,_0x2d0ec6);});_0x2cbd36['queueConnector']['on'](_0x5a81('0x103'),_0x38eb0c=>{_0x30771d(_0x5a81('0x104'));_0x30771d(_0x38eb0c);});_0x2cbd36['queueConnector']['on']('job\x20enqueue',(_0x5ea79d,_0x584d91)=>{_0x30771d(_0x5a81('0x105')+_0x5ea79d+_0x5a81('0x106')+_0x584d91);});const _0x1c3ef8=new _0x1c6260((_0x4999d3,_0x493683)=>{_0x4999d3()[_0x5a81('0x67')](()=>_0x493683())[_0x5a81('0x60')](_0x3736bb=>_0x30771d(_0x5a81('0x107')+_0x3736bb)&&_0x493683(_0x3736bb));},{'maxRetries':0xa,'retryDelay':0x3e8});_0x2cbd36[_0x5a81('0xfc')]['on'](_0x5a81('0x108'),(_0x3b36e6,_0x3783fe)=>{_0x30771d(_0x5a81('0x105')+_0x3b36e6+_0x5a81('0x109')+_0x3783fe);_0x1c3ef8[_0x5a81('0x10a')](()=>_0xa9031c[_0x5a81('0x10b')](_0x2cbd36,_0x3b36e6,_0x3783fe));});_0x2cbd36[_0x5a81('0xfc')]['on'](_0x5a81('0x10c'),(_0x3ead90,_0x4596b7)=>{_0x30771d(_0x5a81('0x105')+_0x3ead90+'\x20completed\x20'+JSON[_0x5a81('0x87')](_0x4596b7));_0x1c3ef8[_0x5a81('0x10a')](()=>_0xa9031c[_0x5a81('0x10d')](_0x2cbd36,_0x3ead90,_0x4596b7));});_0x2cbd36[_0x5a81('0xfc')]['on']('job\x20progress',(_0x24439a,_0x47467d,_0x1a7ba7)=>{_0x30771d(_0x5a81('0x105')+_0x24439a+_0x5a81('0x10e')+_0x47467d);_0x1c3ef8[_0x5a81('0x10a')](()=>_0xa9031c[_0x5a81('0x10f')](_0x2cbd36,_0x24439a,_0x47467d,_0x1a7ba7));});}};const _0x27547e=()=>({'secret':process[_0x5a81('0x43')][_0x5a81('0x110')],'audience':process[_0x5a81('0x43')]['JWT_AUDIENCE']||'botiumbox','issuer':process[_0x5a81('0x43')][_0x5a81('0x111')]||_0x5a81('0x112')});const _0x2e68fe=_0x5184fb=>({'id':_0x5184fb});const _0x43e8cb=_0x4ddfe9=>_0x4ddfe9&&_0x4ddfe9['id'];const _0x1729ad=_0x2d266d=>{return _0x2e5efa[_0x5a81('0x113')](_0x2e68fe(_0x2d266d['id']),process['env']['JWT_SECRET'],{'expiresIn':0x15180*(process[_0x5a81('0x43')][_0x5a81('0x114')]||0x1e),'audience':process[_0x5a81('0x43')][_0x5a81('0x115')]||_0x5a81('0x112'),'issuer':process[_0x5a81('0x43')][_0x5a81('0x111')]||'botiumbox','subject':_0x2d266d['id'][_0x5a81('0x116')]()});};const _0x48da82=async(_0x5a3bff,_0x2f583f)=>{const _0x2feabc=_0x2e5efa[_0x5a81('0x117')](_0x5a3bff,process[_0x5a81('0x43')][_0x5a81('0x110')],{'audience':process['env'][_0x5a81('0x115')]||_0x5a81('0x112'),'issuer':process[_0x5a81('0x43')]['JWT_ISSUER']||_0x5a81('0x112')});const _0x3d0d97=await _0x2f583f[_0x5a81('0x4c')][_0x5a81('0x118')]({'where':{'id':_0x43e8cb(_0x2feabc)}},'{\x20id\x20name\x20email\x20roles\x20}');return _0x3d0d97;};var _0x2324c9={'jwtSettings':_0x27547e,'userIdToToken':_0x2e68fe,'tokenToUserId':_0x43e8cb,'generateToken':_0x1729ad,'validateToken':_0x48da82};const {generateToken:generateToken$1}=_0x2324c9;var _0x5ddd7c={async 'me'(_0x20da6e,_0x45c9bb,_0x2a149e,_0xd992bf){return _0x2a149e[_0x5a81('0x119')]&&_0x2a149e[_0x5a81('0x119')][_0x5a81('0x118')];},async 'autologin'(_0x4c461b,_0xa973e8,_0x554c6b,_0x16df81){if(_0x554c6b['request']&&_0x554c6b[_0x5a81('0x119')][_0x5a81('0x118')]){return{'user':_0x554c6b[_0x5a81('0x119')]['user'],'token':generateToken$1(_0x554c6b['request'][_0x5a81('0x118')])};}}};var _0x51991a={'agents'(_0x1b4743,{where,orderBy,skip,first},_0x2c1477,_0x4b9fc2){orderBy=orderBy||_0x5a81('0x11a');return _0x2c1477['db'][_0x5a81('0x4c')][_0x5a81('0x11b')]({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x4b9fc2);},'agent'(_0x49348,{id},_0x2f5944,_0x662648){return _0x2f5944['db'][_0x5a81('0x4c')][_0x5a81('0x6f')]({'where':{'id':id}},_0x662648);}};var _0x1d3deb={'chatbots'(_0x5ee46a,{where,orderBy,skip,first},_0x3c2f91,_0x2507a2){orderBy=orderBy||_0x5a81('0x11a');return _0x3c2f91['db'][_0x5a81('0x4c')][_0x5a81('0x11c')]({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x2507a2);},'chatbot'(_0x3e8a7f,{id},_0x2b8398,_0x4076ed){return _0x2b8398['db']['query'][_0x5a81('0xa3')]({'where':{'id':id}},_0x4076ed);},'availablewatsonworkspaces'(_0x39d566,{url:_0x34722b,version,username,password}){return new Promise((_0x5741c5,_0x467553)=>{const _0x4b0457=new _0x5e73e7({'url':_0x34722b,'version':_0x35b747,'username':username,'password':password});_0x4b0457[_0x5a81('0x11d')]((_0x35a290,_0x1aba6a)=>{if(_0x35a290){_0x467553(_0x35a290);}else{const _0x4f0682=_0x1aba6a[_0x5a81('0x11e')][_0x5a81('0x91')](_0x1e45c7=>({'name':_0x1e45c7[_0x5a81('0x51')],'description':_0x1e45c7[_0x5a81('0x11f')],'value':_0x1e45c7[_0x5a81('0x120')]}));_0x5741c5(_0x4f0682);}});});}};const _0x5b7c42=_0x558a61('botium-box-server-livechat');const _0xe2f4ae=_0x5a80b7[_0x5a81('0x121')];const {composeBotiumCapabilities:composeBotiumCapabilities$1}=_0x424e74;const _0x5b5261={};const _0x58fea8={};var _0x39ce12={'Subscription':{'liveChatConvoStepAdded':{'subscribe':(_0x29d838,{conversationId},{pubsub})=>_0x507c18[_0x5a81('0x122')](conversationId)}},'Query':{'liveChatConvoSteps'(_0x3d3313,{conversationId}){if(!_0x58fea8[conversationId])return Promise[_0x5a81('0x6e')](new Error('Conversation\x20'+conversationId+_0x5a81('0x123')));return _0x58fea8[conversationId];}},'Mutation':{'liveChatStartBot'(_0x38bdb0,{id},{db,pubsub}){const _0x1cacc9=_0x27252a();return db['query'][_0x5a81('0xa3')]({'where':{'id':id}},_0x5a81('0x124'))[_0x5a81('0x67')](_0x3f2c0e=>{_0x5b7c42(_0x5a81('0x125')+_0x1cacc9+_0x5a81('0x126')+_0x3f2c0e[_0x5a81('0x51')]+_0x5a81('0x127'));const _0x11447d=new _0xe2f4ae(composeBotiumCapabilities$1(_0x3f2c0e[_0x5a81('0x85')]));const _0x2374d3=(_0x44ca56,_0xbf6ed3)=>{const _0x5b2d76=_0x58fea8[_0x1cacc9]['length'];const _0x54c2e2=JSON[_0x5a81('0x87')](Object[_0x5a81('0xb8')](_0xbf6ed3,{'convoStepIndex':_0x5b2d76}));_0x58fea8[_0x1cacc9][_0x5a81('0x10a')](_0x54c2e2);_0x507c18[_0x5a81('0x128')](_0x1cacc9,{'liveChatConvoStepAdded':_0x54c2e2});};_0x11447d['on'](_0x5a81('0x129'),_0x2374d3);_0x11447d['on'](_0x5a81('0x12a'),_0x2374d3);return _0x11447d[_0x5a81('0x12b')]();})[_0x5a81('0x67')](_0x348e49=>{_0x5b5261[_0x1cacc9]=_0x348e49;_0x58fea8[_0x1cacc9]=[];_0x5b7c42(_0x5a81('0x125')+_0x1cacc9+_0x5a81('0x12c'));return _0x348e49['Start']();})[_0x5a81('0x67')](()=>{_0x5b7c42('liveChatStartBot('+_0x1cacc9+_0x5a81('0x12d'));return _0x1cacc9;});},'liveChatSendToBot'(_0x293cd4,{conversationId,convoStep},{pubsub}){if(!_0x5b5261[conversationId])return Promise[_0x5a81('0x6e')](new Error(_0x5a81('0x12e')+conversationId+_0x5a81('0x123')));_0x5b7c42(_0x5a81('0x12f')+conversationId+')\x20sending\x20convoStep\x20'+convoStep);const _0xa3e640=_0x5b5261[conversationId];_0xa3e640['UserSays'](JSON[_0x5a81('0x7a')](convoStep))[_0x5a81('0x60')](_0x5e9329=>_0x5b7c42(_0x5e9329));return!![];},'liveChatStopBot'(_0x2ffdac,{conversationId}){if(!_0x5b5261[conversationId])return Promise['reject'](new Error(_0x5a81('0x12e')+conversationId+_0x5a81('0x123')));_0x5b7c42(_0x5a81('0x130')+conversationId+_0x5a81('0x131'));const _0x598fc2=_0x5b5261[conversationId];return _0x598fc2['Stop']()[_0x5a81('0x67')](()=>_0x598fc2[_0x5a81('0x132')]())[_0x5a81('0x67')](()=>{_0x5b7c42(_0x5a81('0x130')+conversationId+_0x5a81('0x133'));delete _0x5b5261[conversationId];delete _0x58fea8[conversationId];return!![];});},async 'liveChatSaveConvoSteps'(_0x1b423f,{conversationId,testSetId,newTestSetName,testCaseName},_0x1b7cac){if(!_0x5b5261[conversationId])return Promise[_0x5a81('0x6e')](new Error(_0x5a81('0x12e')+conversationId+_0x5a81('0x123')));let _0x5c6255=null;if(newTestSetName){_0x5c6255=await _0x1b7cac['db'][_0x5a81('0x7f')][_0x5a81('0x5d')]({'data':{'name':newTestSetName}},'{\x20id\x20name\x20}');}else{_0x5c6255=await _0x1b7cac['db']['query'][_0x5a81('0x53')]({'where':{'id':testSetId}},_0x5a81('0x134'));}_0x5b7c42(_0x5a81('0x135')+conversationId+_0x5a81('0x136')+_0x5c6255['id']+'/'+_0x5c6255[_0x5a81('0x51')]);const _0x37259f=[testCaseName,''];_0x58fea8[conversationId][_0x5a81('0x58')](_0x338091=>{const _0x5ae73c=JSON[_0x5a81('0x7a')](_0x338091);_0x37259f[_0x5a81('0x10a')]('#'+_0x5ae73c[_0x5a81('0x137')]);if(_0x5ae73c[_0x5a81('0x138')]){_0x37259f['push'](_0x5ae73c['messageText']);}if(_0x5ae73c[_0x5a81('0x139')]&&_0x5ae73c[_0x5a81('0x139')]['length']>0x0)_0x37259f[_0x5a81('0x10a')]('BUTTONS\x20'+_0x5ae73c[_0x5a81('0x139')][_0x5a81('0x91')](_0x115c5f=>_0x115c5f[_0x5a81('0x13a')])[_0x5a81('0x48')]('|'));if(_0x5ae73c[_0x5a81('0x13b')]&&_0x5ae73c['media'][_0x5a81('0x4f')]>0x0)_0x37259f[_0x5a81('0x10a')](_0x5a81('0x13c')+_0x5ae73c[_0x5a81('0x13b')]['map'](_0x400e8b=>_0x400e8b[_0x5a81('0x13d')])['join']('|'));if(_0x5ae73c['cards']&&_0x5ae73c['cards'][_0x5a81('0x4f')]>0x0){_0x5ae73c[_0x5a81('0x13e')]['forEach'](_0x20ad2d=>{if(_0x20ad2d['buttons']&&_0x20ad2d[_0x5a81('0x139')][_0x5a81('0x4f')]>0x0)_0x37259f[_0x5a81('0x10a')](_0x5a81('0x13f')+_0x20ad2d['buttons'][_0x5a81('0x91')](_0x25aa20=>_0x25aa20[_0x5a81('0x13a')])[_0x5a81('0x48')]('|'));if(_0x20ad2d[_0x5a81('0x140')])_0x37259f['push'](_0x5a81('0x13c')+_0x20ad2d['image'][_0x5a81('0x13d')]);});}_0x37259f[_0x5a81('0x10a')]('');});let _0x2aa56e=await _0x1b7cac['db'][_0x5a81('0x7f')][_0x5a81('0x141')]({'data':{'name':testCaseName,'script':_0x37259f[_0x5a81('0x48')]('\x0a'),'scriptType':_0x5a81('0x142'),'testSet':{'connect':{'id':_0x5c6255['id']}}}},_0x5a81('0x134'));_0x5b7c42(_0x5a81('0x135')+conversationId+_0x5a81('0x143')+_0x5c6255['id']+'/'+_0x5c6255[_0x5a81('0x51')]+_0x5a81('0x144')+_0x2aa56e['id']+'/'+_0x2aa56e[_0x5a81('0x51')]);return _0x2aa56e['id'];}}};var _0x3da4c2={'testsessions'(_0x1a76ba,{where,orderBy,skip,first},_0x14bc2c,_0x42ea27){orderBy=orderBy||_0x5a81('0x145');skip=isNaN(skip)?0x0:skip;first=isNaN(first)?0x64:first;return _0x14bc2c['db'][_0x5a81('0x4c')][_0x5a81('0x146')]({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x42ea27);},'testsession'(_0xdd4cb7,{id},_0x5ab288,_0x4f016b){return _0x5ab288['db'][_0x5a81('0x4c')][_0x5a81('0x68')]({'where':{'id':id}},_0x4f016b);},'testsessiontestcaseresults'(_0x1a7333,{where,orderBy,skip,first},_0x4892f7,_0x24297a){orderBy=orderBy||_0x5a81('0x145');skip=isNaN(skip)?0x0:skip;first=isNaN(first)?0x64:first;return _0x4892f7['db'][_0x5a81('0x4c')][_0x5a81('0x147')]({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x24297a);},'testsessiontestcaseresult'(_0x1fe248,{id},_0x2f4119,_0x5cffdd){return _0x2f4119['db'][_0x5a81('0x4c')][_0x5a81('0x148')]({'where':{'id':id}},_0x5cffdd);}};const _0x1457ee=_0x558a61(_0x5a81('0x149'));var _0x48d441=(_0x38e5e6,_0xb373ac,_0x29cdd5,_0x1e3f9d)=>{_0x38e5e6['convos']&&_0x38e5e6[_0x5a81('0xc2')][_0x5a81('0x58')](_0x99a383=>{let _0x53caf3=[];let _0x163f32=[];try{if(_0x99a383['format']===_0x1b5566['SCRIPTING_FORMAT_XSLX']){const _0x26bf6d=Buffer[_0x5a81('0x14a')](_0x99a383['content'],_0x5a81('0xea'));_0x163f32=_0xb373ac['Compile'](_0x26bf6d,_0x1b5566[_0x5a81('0x14b')],_0x1b5566[_0x5a81('0x8e')]);_0x53caf3=_0xb373ac['Compile'](_0x26bf6d,_0x1b5566['SCRIPTING_FORMAT_XSLX'],_0x1b5566[_0x5a81('0x142')]);}else if(_0x99a383[_0x5a81('0x14c')]===_0x1b5566['SCRIPTING_FORMAT_TXT']){_0x53caf3=_0xb373ac[_0x5a81('0x14d')](_0x99a383['content'],_0x1b5566[_0x5a81('0x8f')],_0x1b5566[_0x5a81('0x142')]);}if(_0x53caf3)_0x53caf3[_0x5a81('0x58')](_0x42fcd3=>{_0x42fcd3[_0x5a81('0xc0')]=_0x99a383['sourceTag'];});if(_0x163f32)_0x163f32['forEach'](_0x386525=>{_0x386525['sourceTag']=_0x99a383[_0x5a81('0xc0')];});}catch(_0x11b796){_0x1457ee(_0x11b796);throw new Error(_0x38e5e6['name']+_0x5a81('0x14e')+JSON[_0x5a81('0x87')](_0x11b796));}});_0x38e5e6[_0x5a81('0xc3')]&&_0x38e5e6['utterances']['forEach'](_0x2c17af=>{let _0x155fac=[];try{_0x155fac=_0xb373ac['Compile'](_0x2c17af[_0x5a81('0x14f')],_0x1b5566[_0x5a81('0x8f')],_0x1b5566['SCRIPTING_TYPE_UTTERANCES']);if(_0x155fac)_0x155fac[_0x5a81('0x58')](_0x323014=>{_0x323014[_0x5a81('0xc0')]=_0x2c17af[_0x5a81('0xc0')];});}catch(_0xafb95a){_0x1457ee(_0xafb95a);throw new Error(_0x38e5e6[_0x5a81('0x51')]+':\x20Utterance\x20script\x20compilation\x20failed:\x20'+JSON['stringify'](_0xafb95a));}});_0x38e5e6['folders']&&_0x38e5e6[_0x5a81('0x90')][_0x5a81('0x58')](_0x5d3193=>{try{const {convos,utterances}=_0xb373ac['ReadScriptsFromDirectory'](_0x5d3193[_0x5a81('0x13')],_0x5d3193[_0x5a81('0x150')]);convos&&convos[_0x5a81('0x58')](_0x3bb21e=>{_0x3bb21e['sourceTag']=Object['assign']({},_0x3bb21e[_0x5a81('0xc0')],_0x5d3193[_0x5a81('0xc0')]);});utterances&&utterances[_0x5a81('0x58')](_0x3d9b1c=>{_0x3d9b1c['sourceTag']=Object[_0x5a81('0xb8')]({},_0x3d9b1c[_0x5a81('0xc0')],_0x5d3193[_0x5a81('0xc0')]);});}catch(_0x54c5ef){_0x1457ee(_0x54c5ef);throw new Error(_0x38e5e6['name']+_0x5a81('0x151')+_0x5d3193+'\x20script\x20compilation\x20failed:\x20'+JSON[_0x5a81('0x87')](_0x54c5ef));}});let _0x527c3b=Promise[_0x5a81('0x45')]();if(_0x38e5e6[_0x5a81('0x92')]&&_0x38e5e6[_0x5a81('0x92')][_0x5a81('0x4f')]>0x0){_0x527c3b=Promise[_0x5a81('0x152')](_0x38e5e6[_0x5a81('0x92')][_0x5a81('0x91')](({id,filename,filecontent,hasConvos,hasUtterances,worksheetsConvos,worksheetsUtterances,startRow,startCol,sourceTag})=>{return new Promise(_0x5893e2=>{const _0x238714=Buffer[_0x5a81('0x14a')](filecontent,_0x5a81('0xea'));let _0x3ef7ec=[];let _0x558ce1=[];if(hasConvos){if(worksheetsConvos)_0xb373ac['caps'][_0xd5a4a1[_0x5a81('0x153')]]=worksheetsConvos;if(!isNaN(startRow))_0xb373ac[_0x5a81('0x154')][_0xd5a4a1['SCRIPTING_XLSX_STARTROW']]=startRow;if(!isNaN(startCol))_0xb373ac[_0x5a81('0x154')][_0xd5a4a1['SCRIPTING_XLSX_STARTCOL']]=startCol;_0x3ef7ec=_0xb373ac['Compile'](_0x238714,_0x1b5566[_0x5a81('0x14b')],_0x1b5566[_0x5a81('0x142')]);}if(hasUtterances){if(worksheetsUtterances)_0xb373ac[_0x5a81('0x154')][_0xd5a4a1['SCRIPTING_XLSX_SHEETNAMES_UTTERANCES']]=worksheetsUtterances;if(!isNaN(startRow))_0xb373ac[_0x5a81('0x154')][_0xd5a4a1[_0x5a81('0x155')]]=startRow;if(!isNaN(startCol))_0xb373ac['caps'][_0xd5a4a1[_0x5a81('0x156')]]=startCol;_0x558ce1=_0xb373ac[_0x5a81('0x14d')](_0x238714,_0x1b5566[_0x5a81('0x14b')],_0x1b5566[_0x5a81('0x8e')]);}_0x3ef7ec&&_0x3ef7ec[_0x5a81('0x58')](_0x19b368=>{_0x19b368[_0x5a81('0xc0')]=Object[_0x5a81('0xb8')]({},_0x19b368[_0x5a81('0xc0')],sourceTag);});_0x558ce1&&_0x558ce1['forEach'](_0x1065ab=>{_0x1065ab[_0x5a81('0xc0')]=Object[_0x5a81('0xb8')]({},_0x1065ab[_0x5a81('0xc0')],sourceTag);});_0x5893e2();});}));}let _0x112ade=Promise['resolve']();return Promise['all']([_0x112ade,_0x527c3b]);};const _0x50650c=_0x476ad3({'dirname':__dirname,'filter':/(.+Provider)\.js$/});var _0xe1595c=Object[_0x5a81('0x157')](_0x50650c);const _0x1aff38=_0x476ad3({'dirname':__dirname,'filter':/(.+Provider)\.js$/});var _0x5ee897=Object['values'](_0x1aff38);const _0x353486=_0xe1595c[_0x5a81('0x158')](_0x5ee897);const _0x2cc37d={};_0x353486['forEach'](_0x2130b4=>{_0x2cc37d[_0x2130b4[_0x5a81('0x159')]['id']]=_0x2130b4;});const _0x22cc4c={};_0xe1595c[_0x5a81('0x58')](_0x43c088=>{_0x22cc4c[_0x43c088['metadata']['id']]=_0x5a81('0x15a');});_0x5ee897[_0x5a81('0x58')](_0x3219f4=>{_0x22cc4c[_0x3219f4[_0x5a81('0x159')]['id']]='typo';});var _0x5e1c79=_0x29caf1=>{if(!(_0x29caf1 in _0x22cc4c)){throw Error(_0x5a81('0x15b')+_0x29caf1);}return _0x2cc37d[_0x29caf1];};var _0x114bf7=Object[_0x5a81('0x15c')](_0x2cc37d);var _0x384758=[[_0xe1595c,_0x5ee897],[_0xe1595c],[_0x5ee897]];var _0x5aa899=[[_0xe1595c],[_0x5ee897]];var _0x2a93ce={'GetMutatorById':_0x5e1c79,'allMutatorNames':_0x114bf7,'pipelineAllMutatorCombined':_0x384758,'pipelineAllMutatorNotCombined':_0x5aa899};const {pipelineAllMutatorCombined:pipelineAllMutatorCombined$1,pipelineAllMutatorNotCombined:pipelineAllMutatorNotCombined$1,GetMutatorById:GetMutatorById$1,allMutatorNames:allMutatorNames$1}=_0x2a93ce;var _0x1c6ad5=pipelineAllMutatorCombined$1;var _0x18475f=pipelineAllMutatorNotCombined$1;var _0x5b978c=allMutatorNames$1;var _0x157163=(_0x46130c,_0x1a8194)=>{const _0x2624ce=_0x1573c5(_0x1a8194);return _0xc5956a(_0x46130c,_0x2624ce);};const _0xc5956a=(_0x44ee31,_0x4c1697)=>{let _0x1a22bf=new Set();for(const _0x5f0f77 of _0x4c1697){let _0x589f78=[_0x44ee31];for(const _0x19e6d5 of _0x5f0f77){let _0x159604=[];for(const _0x227823 of _0x19e6d5){for(const _0x5b4d4b of _0x589f78){_0x159604=_0x159604[_0x5a81('0x158')](_0x227823[_0x5a81('0x15d')](_0x5b4d4b));}}_0x589f78=_0x159604;}for(const _0x531b00 of _0x589f78){if(_0x1a22bf['has'](_0x531b00)){console[_0x5a81('0x3e')](_0x5a81('0x15e')+_0x531b00+_0x5a81('0x15f')+JSON[_0x5a81('0x87')](_0x5f0f77,0x2));}else{_0x1a22bf[_0x5a81('0x160')](_0x531b00);}}}return[..._0x1a22bf];};var _0x576705=_0xc5956a;const _0x1573c5=_0x217cde=>{if(!_0x217cde[_0x5a81('0x161')]||!_0x217cde[_0x5a81('0x161')]['length']){return[[pipelineAllMutatorNotCombined$1]];}const _0x2cb898=_0x4a8f6c=>_0x4a8f6c['map'](_0xa473d9=>GetMutatorById$1(_0xa473d9));return[[_0x2cb898(_0x217cde[_0x5a81('0x161')])]];};var _0x2e46d3={'pipelineAllMutatorCombined':_0x1c6ad5,'pipelineAllMutatorNotCombined':_0x18475f,'allHumanifiers':_0x5b978c,'Execute':_0x157163,'ExecutePipeline':_0x576705};const _0x4c9dbc=_0x558a61('botium-clone-testset');const {RetrieveTestSetDetails:RetrieveTestSetDetails$2}=_0x4aeb9c;const _0x13ff42=_0x5a81('0x162');var _0x40abf9={'humanifiers':_0x2e46d3[_0x5a81('0x163')]};var _0x33b54f=(_0x3e5412,_0x38ab89)=>{const _0x1f7491=new _0x494e2b(_0x1d2a88[_0x5a81('0x164')]);_0x1f7491[_0x5a81('0x12b')]();const _0x27541d=_0x2c9d0d[_0x5a81('0x48')](process[_0x5a81('0x43')][_0x5a81('0x165')],_0x5a81('0x166')+_0x539664(_0x5a81('0x167'),0x5));_0x7fec69[_0x5a81('0x168')](_0x27541d);return _0x48d441(RetrieveTestSetDetails$2(_0x3e5412),_0x1f7491,_0x27541d,_0x1d2a88[_0x5a81('0x169')])[_0x5a81('0x67')](()=>{_0x3b00c6(_0x27541d,_0x1da135=>{if(_0x1da135){throw _0x1da135;}});const _0x445d0c={};const _0x270808=_0x31c870(_0x1f7491,_0x38ab89);_0x445d0c[_0x5a81('0xc3')]={'all':Object[_0x5a81('0x15c')](_0x270808['all'])[_0x5a81('0x4f')],'me':_0x270808['me'][_0x5a81('0x16a')],'bot':_0x270808[_0x5a81('0x16b')][_0x5a81('0x16a')],'both':_0x270808['both'][_0x5a81('0x16a')],'neither':_0x270808[_0x5a81('0x16c')][_0x5a81('0x16a')],'toHumanify':Object[_0x5a81('0x157')](_0x270808[_0x5a81('0x16d')])['filter'](_0x72c074=>_0x72c074)['length'],'allUtteranceCount':_0x270808['allUtteranceCount'],'utterancesToHumanifyCount':_0x270808[_0x5a81('0x16e')]};_0x445d0c[_0x5a81('0x9d')]=_0x2f0ac1(_0x1f7491,_0x270808,_0x38ab89);_0x4c9dbc('Cloning\x20finished:\x20'+JSON[_0x5a81('0x87')](_0x445d0c));return _0x4bef00(_0x1f7491,_0x3e5412[_0x5a81('0x51')]);});};const _0x4bef00=(_0x343635,_0x28d7a8)=>{const _0x33b285=_0x2c9d0d['join'](process[_0x5a81('0x43')][_0x5a81('0x5f')],_0x2ec4f2(_0x28d7a8)+_0x5a81('0x16f')+_0x539664(_0x5a81('0x167'),0x5));_0x7fec69[_0x5a81('0x168')](_0x33b285);const _0xf4e9db=Object[_0x5a81('0x15c')](_0x343635[_0x5a81('0xc3')]);for(let _0x2d75e=0x0;_0x2d75e<_0xf4e9db[_0x5a81('0x4f')];_0x2d75e++){let _0x406ac2=[_0xf4e9db[_0x2d75e]]['concat'](_0x343635['utterances'][_0xf4e9db[_0x2d75e]][_0x5a81('0xc3')])[_0x5a81('0x48')]('\x0d\x0a');_0x327d14[_0x5a81('0x170')](_0x2c9d0d[_0x5a81('0x48')](_0x33b285,_0xf4e9db[_0x2d75e]+_0x5a81('0x171')),_0x406ac2,function(_0x2d7934){if(_0x2d7934){throw _0x2d7934;}});}const _0x24252d=_0x343635[_0x5a81('0x172')](_0x1b5566['SCRIPTING_FORMAT_TXT']);for(let _0xc4d58f=0x0;_0xc4d58f<_0x343635[_0x5a81('0xc2')]['length'];_0xc4d58f++){let _0x406ac2=_0x24252d['Decompile']([_0x343635['convos'][_0xc4d58f]]);_0x327d14[_0x5a81('0x170')](_0x2c9d0d[_0x5a81('0x48')](_0x33b285,'c'+_0xc4d58f+_0x5a81('0x173')),_0x406ac2,function(_0x37f3f0){if(_0x37f3f0){throw _0x37f3f0;}});}return _0x33b285;};const _0x31c870=(_0x1d8db0,_0x249415)=>{const _0x40a930={'all':_0x1d8db0[_0x5a81('0xc3')],'me':new Set(),'bot':new Set(),'both':null,'neither':null,'toHumanify':{},'allUtteranceCount':0x0,'utterancesToHumanifyCount':0x0};_0x40a930[_0x5a81('0x16c')]=new Set(Object[_0x5a81('0x15c')](_0x40a930[_0x5a81('0x152')]));_0x1d8db0[_0x5a81('0xc2')]['forEach'](_0x3726ae=>{_0x3726ae[_0x5a81('0x174')][_0x5a81('0x58')](_0x14ded7=>{if(_0x14ded7['messageText']&&_0x14ded7[_0x5a81('0x138')]in _0x40a930[_0x5a81('0x152')]){_0x40a930[_0x14ded7[_0x5a81('0x137')]][_0x5a81('0x160')](_0x14ded7[_0x5a81('0x138')]);_0x40a930[_0x5a81('0x16c')][_0x5a81('0x175')](_0x14ded7[_0x5a81('0x138')]);}});});const _0xa51301=_0x49a4dc[_0x5a81('0x176')](Array['from'](_0x40a930['me']))['filter'](_0x47177b=>_0x40a930['bot'][_0x5a81('0x177')](_0x47177b));_0x40a930['both']=new Set(_0xa51301);const _0x334a41={};let _0x47ec9b=0x0;let _0x50650c=0x0;if(_0x249415[_0x5a81('0x161')][_0x5a81('0x4f')]){[..._0x40a930['me'],..._0xa51301,..._0x40a930[_0x5a81('0x16c')]][_0x5a81('0x58')](_0x37d060=>{_0x50650c+=_0x40a930[_0x5a81('0x152')][_0x37d060][_0x5a81('0xc3')][_0x5a81('0x4f')];let _0x120593=Math[_0x5a81('0x178')](_0x50650c*_0x249415[_0x5a81('0x179')]-_0x47ec9b);if(_0x47ec9b===0x0&&_0x120593===0x0){_0x120593=0x1;}_0x334a41[_0x37d060]=_0x120593;_0x47ec9b+=_0x120593;});}_0x40a930[_0x5a81('0x16d')]=_0x334a41;_0x40a930[_0x5a81('0x17a')]=_0x50650c;_0x40a930[_0x5a81('0x16e')]=_0x47ec9b;return _0x40a930;};const _0x2f0ac1=(_0x77dbf3,_0x5ddfc3,_0x19da4a)=>{_0x5ddfc3['both'][_0x5a81('0x58')](_0x240e45=>{if(_0x5ddfc3[_0x5a81('0x16d')][_0x240e45]){let _0x4cbdc4=_0x240e45+_0x13ff42;if(_0x4cbdc4 in _0x77dbf3['utterances']){throw new Error('There\x20is\x20already\x20an\x20utterance\x20'+_0x4cbdc4+_0x5a81('0x17b'));}}});const _0x1fcb7c={'humanifiedRefs':[],'humanifiedRefCount':0x0,'humanifiedUtterancesCount':0x0,'duplicates':0x0};_0x5ddfc3[_0x5a81('0x17c')][_0x5a81('0x58')](_0x25113e=>{if(_0x5ddfc3[_0x5a81('0x16d')][_0x25113e]){_0x77dbf3['utterances'][_0x25113e+_0x13ff42]=_0x49a4dc[_0x5a81('0x17d')](_0x77dbf3[_0x5a81('0xc3')][_0x25113e]);}});const _0x459fa7=_0x431930=>{_0x77dbf3[_0x5a81('0xc3')][_0x431930][_0x5a81('0xc3')]=_0x49a4dc[_0x5a81('0x176')](_0x77dbf3[_0x5a81('0xc3')][_0x431930]['utterances']);const _0x3a790b=_0x5ddfc3[_0x5a81('0x16d')][_0x431930];const _0x28d43f=_0x77dbf3[_0x5a81('0xc3')][_0x431930][_0x5a81('0xc3')];let _0x13c5c5=0x0;for(let _0x4081f4=0x0;_0x4081f4<_0x3a790b;_0x4081f4++){const _0x330f45=_0x2e46d3[_0x5a81('0x17e')](_0x28d43f[_0x4081f4],{'humanifiersToExecute':_0x19da4a[_0x5a81('0x161')]});_0x77dbf3[_0x5a81('0xc3')][_0x431930][_0x5a81('0xc3')]=_0x77dbf3[_0x5a81('0xc3')][_0x431930][_0x5a81('0xc3')][_0x5a81('0x158')](_0x330f45);_0x13c5c5+=_0x330f45[_0x5a81('0x4f')];}let _0x4ff047=_0x77dbf3[_0x5a81('0xc3')][_0x431930][_0x5a81('0xc3')]['length'];_0x77dbf3[_0x5a81('0xc3')][_0x431930]['utterances']=_0x49a4dc['uniq'](_0x77dbf3[_0x5a81('0xc3')][_0x431930][_0x5a81('0xc3')]);return{'humanifiedRefCount':_0x3a790b,'humanifiedUtterancesCount':_0x13c5c5,'duplicates':_0x4ff047-_0x77dbf3[_0x5a81('0xc3')][_0x431930][_0x5a81('0x4f')]};};Object['keys'](_0x5ddfc3['toHumanify'])[_0x5a81('0x58')](_0x1a2c0e=>{if(_0x5ddfc3[_0x5a81('0x16d')][_0x1a2c0e]){const _0x443a93=_0x459fa7(_0x1a2c0e);_0x1fcb7c[_0x5a81('0x17f')][_0x5a81('0x10a')](_0x1a2c0e);_0x1fcb7c[_0x5a81('0x180')]+=_0x443a93[_0x5a81('0x180')];_0x1fcb7c['humanifiedUtterancesCount']+=_0x443a93[_0x5a81('0x181')];_0x1fcb7c[_0x5a81('0x182')]+=_0x443a93[_0x5a81('0x182')];}});const _0x4eefc1=(_0x63f0fb,_0x5ddfc3)=>{_0x63f0fb[_0x5a81('0x174')][_0x5a81('0x58')](_0x9345ad=>{if(_0x9345ad[_0x5a81('0x138')]&&_0x5ddfc3[_0x5a81('0x17c')]['has'](_0x9345ad[_0x5a81('0x138')])){return!![];}});return![];};const _0x540b53=[];_0x77dbf3[_0x5a81('0xc2')][_0x5a81('0x58')](_0x330875=>{if(_0x4eefc1(_0x330875,_0x5ddfc3));});_0x77dbf3[_0x5a81('0xc2')]=_0x77dbf3[_0x5a81('0xc2')][_0x5a81('0x158')](_0x540b53);_0x1fcb7c[_0x5a81('0x183')]=_0x540b53[_0x5a81('0x4f')];return _0x1fcb7c;};var _0x1ccb6a={'possibleOptions':_0x40abf9,'CloneTestset':_0x33b54f};var _0xe7344c={'testsets'(_0x544068,{where,orderBy,skip,first},_0x2bb7ec,_0x1d9d13){orderBy=orderBy||_0x5a81('0x11a');return _0x2bb7ec['db']['query'][_0x5a81('0x184')]({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x1d9d13);},'testset'(_0x42c981,{id},_0x5091d5,_0x505c55){return _0x5091d5['db'][_0x5a81('0x4c')][_0x5a81('0x53')]({'where':{'id':id}},_0x505c55);},'testsetscripts'(_0x125c13,{testSetId,skip,first},_0x150b6a,_0x250187){return _0x150b6a['db'][_0x5a81('0x4c')][_0x5a81('0x185')]({'where':{'testSet':{'id':testSetId}},'skip':skip,'first':first},_0x250187);},'testsetscript'(_0x49c132,{id},_0x2a850c,_0xd96584){return _0x2a850c['db'][_0x5a81('0x4c')][_0x5a81('0x186')]({'where':{'id':id}},_0xd96584);},'validatetestsetscript'(_0x3b94db,{script,scriptType}){const _0x357412=new _0x49c8f5({'AddConvos':()=>{},'AddUtterances':()=>{},'IsAsserterValid':()=>!![],'scriptingEvents':{}},{'SCRIPTING_TXT_EOL':'\x0a'});const _0x1a5c02=_0x357412[_0x5a81('0x14d')](script,scriptType);if(_0x1a5c02&&_0x1a5c02[_0x5a81('0x4f')]>0x0){if(scriptType===_0x5a81('0x8e')){return Promise['resolve']({'name':_0x1a5c02[0x0]['name'],'description':_0x5a81('0x187'),'script':script,'scriptType':scriptType});}else{return Promise[_0x5a81('0x45')]({'name':_0x1a5c02[0x0][_0x5a81('0x188')][_0x5a81('0x51')],'description':_0x1a5c02[0x0]['header'][_0x5a81('0x11f')],'script':script,'scriptType':scriptType});}}else{return Promise[_0x5a81('0x6e')](new Error(_0x5a81('0x189')));}},'testsetrepositories'(_0xce637,{testSetId,skip,first},_0x7a4d7a,_0x300bcc){return _0x7a4d7a['db'][_0x5a81('0x4c')][_0x5a81('0x18a')]({'where':{'testSet':{'id':testSetId}},'skip':skip,'first':first},_0x300bcc);},'testsetrepository'(_0x445b81,{id},_0x51129a,_0x38f2b4){return _0x51129a['db']['query'][_0x5a81('0xe3')]({'where':{'id':id}},_0x38f2b4);},'testsetfolders'(_0x3d9b53,{testSetId,skip,first},_0x9a97b4,_0x17a30b){return _0x9a97b4['db'][_0x5a81('0x4c')][_0x5a81('0x4d')]({'where':{'testSet':{'id':testSetId}},'skip':skip,'first':first},_0x17a30b);},'testsetfolder'(_0x369fe3,{id},_0x69380e,_0x4d2476){return _0x69380e['db'][_0x5a81('0x4c')][_0x5a81('0x18b')]({'where':{'id':id}},_0x4d2476);},'testsetexcels'(_0x58629e,{testSetId,skip,first},_0x857277,_0x332043){return _0x857277['db'][_0x5a81('0x4c')]['testSetExcels']({'where':{'testSet':{'id':testSetId}},'skip':skip,'first':first},_0x332043);},'testsetexcel'(_0x26ff68,{id},_0x2a78d2,_0x2797fb){return _0x2a78d2['db'][_0x5a81('0x4c')][_0x5a81('0x65')]({'where':{'id':id}},_0x2797fb);},'clonetestsetoptions'(_0x160ddb,_0x15745e,_0x57049c,_0x5f33e4){return _0x1ccb6a[_0x5a81('0x18c')];}};var _0x27096e=class Cache{constructor(_0x1e423e){this[_0x5a81('0x18d')]=new _0x2c0234({'stdTTL':_0x1e423e,'checkperiod':_0x1e423e*0.2,'useClones':![]});}[_0x5a81('0x18e')](_0x2d7248,_0x1d1184){const _0x40f712=this['cache']['get'](_0x2d7248);if(_0x40f712){return Promise['resolve'](_0x40f712);}return _0x1d1184()[_0x5a81('0x67')](_0x5212c8=>{this[_0x5a81('0x18d')][_0x5a81('0x18f')](_0x2d7248,_0x5212c8);return _0x5212c8;});}[_0x5a81('0x190')](_0x4b4adb){this['cache'][_0x5a81('0x190')](_0x4b4adb);}[_0x5a81('0x191')](_0xba180b=''){if(!_0xba180b){return;}const _0x43ae61=this[_0x5a81('0x18d')][_0x5a81('0x15c')]();for(const _0x5ac60f of _0x43ae61){if(_0x5ac60f[_0x5a81('0x192')](_0xba180b)===0x0){this[_0x5a81('0x190')](_0x5ac60f);}}}[_0x5a81('0x193')](){this[_0x5a81('0x18d')][_0x5a81('0x194')]();}};const _0x5894bb=new _0x27096e(0x3c*0x3c*0x1);var _0x218eaf={'devicesets'(_0x580746,{where,orderBy,skip,first},_0x185171,_0xd408e5){orderBy=orderBy||_0x5a81('0x11a');return _0x185171['db']['query']['deviceSets']({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0xd408e5);},'deviceset'(_0xd5d711,{id},_0x4ef3fb,_0x4be614){return _0x4ef3fb['db'][_0x5a81('0x4c')]['deviceSet']({'where':{'id':id}},_0x4be614);},async 'availabledevices'(_0x145f02,{provider},_0x5121ff){const _0x455ba2=await _0x5121ff['db'][_0x5a81('0x4c')][_0x5a81('0x195')]({'where':{'id':provider}});if(!_0x455ba2)return[];if(_0x455ba2['type']==='SAUCELABS'){return _0x5894bb[_0x5a81('0x18e')]('SAUCELABS',()=>{return _0x3e536d({'url':'https://saucelabs.com/rest/v1/info/platforms/all','json':!![]})[_0x5a81('0x67')](_0x48ce66=>{const _0x459191=_0x48ce66[_0x5a81('0x8b')](_0x103cdd=>!_0x103cdd[_0x5a81('0x196')])[_0x5a81('0x91')](_0x2e7b50=>({'name':_0x2e7b50[_0x5a81('0x197')]+'\x20'+_0x2e7b50[_0x5a81('0x198')]+',\x20'+_0x2e7b50['os'],'value':JSON['stringify']({'type':_0x5a81('0x199'),'capabilities':{'browserName':_0x2e7b50['api_name'],'platform':_0x2e7b50['os'],'version':_0x2e7b50[_0x5a81('0x198')]}})}))[_0x5a81('0x158')](_0x48ce66[_0x5a81('0x8b')](_0x581fb7=>_0x581fb7['device'])[_0x5a81('0x91')](_0x1f8790=>({'name':_0x1f8790['long_name']+',\x20'+_0x1f8790[_0x5a81('0x198')],'value':JSON[_0x5a81('0x87')]({'type':'MOBILEBROWSER','capabilities':{'browserName':[_0x5a81('0x19a'),_0x5a81('0x19b')][_0x5a81('0x192')](_0x1f8790[_0x5a81('0x19c')])>=0x0?_0x5a81('0x19d'):_0x5a81('0x19e'),'deviceName':_0x1f8790[_0x5a81('0x196')],'platformName':['iphone',_0x5a81('0x19b')][_0x5a81('0x192')](_0x1f8790[_0x5a81('0x19c')])>=0x0?_0x5a81('0x19f'):_0x5a81('0x1a0'),'platformVersion':_0x1f8790[_0x5a81('0x198')]}})})));return _0x49a4dc[_0x5a81('0x1a1')](_0x49a4dc[_0x5a81('0x1a2')](_0x459191,_0x5a81('0x51'),_0x5a81('0x1a3')),'name');});});}else if(_0x455ba2['type']===_0x5a81('0x1a4')){return _0x5894bb['get']('LOCALSELENIUM',()=>{return Promise[_0x5a81('0x45')]([{'name':_0x5a81('0x1a5'),'value':JSON['stringify']({'type':_0x5a81('0x199'),'capabilities':{'browserName':_0x5a81('0x1a6')}})},{'name':_0x5a81('0x1a7'),'value':JSON[_0x5a81('0x87')]({'type':_0x5a81('0x199'),'capabilities':{}})},{'name':_0x5a81('0x1a8'),'value':JSON['stringify']({'type':_0x5a81('0x199'),'capabilities':{'browserName':_0x5a81('0x1a9'),'chromeOptions':{'args':[_0x5a81('0x1aa'),_0x5a81('0x1ab')]}}})}]);});}else if(_0x455ba2[_0x5a81('0x71')]===_0x5a81('0x1ac')){return Promise[_0x5a81('0x45')]([{'name':_0x5a81('0x1a5'),'value':JSON['stringify']({'type':_0x5a81('0x199'),'capabilities':{'browserName':_0x5a81('0x1a6')}})}]);}}};var _0x2f2dba={'testprojects'(_0x232927,{where,orderBy,skip,first},_0x5ef774,_0x5d81fd){orderBy=orderBy||_0x5a81('0x11a');return _0x5ef774['db']['query'][_0x5a81('0x1ad')]({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x5d81fd);},'testproject'(_0x4bb78d,{id},_0x4774b6,_0x36e9a3){return _0x4774b6['db'][_0x5a81('0x4c')][_0x5a81('0xa1')]({'where':{'id':id}},_0x36e9a3);}};var _0x5867d3={'users'(_0xba9020,{where,orderBy,skip,first},_0x3b8e2b,_0x3262e7){orderBy=orderBy||'name_ASC';return _0x3b8e2b['db'][_0x5a81('0x4c')]['users']({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x3262e7);},'user'(_0x4b2447,{id},_0x31820e,_0xa94a85){return _0x31820e['db'][_0x5a81('0x4c')][_0x5a81('0x118')]({'where':{'id':id}},_0xa94a85);},'apikeys'(_0x17d90e,{where,orderBy,skip,first},_0x273d60,_0x5abaf4){orderBy=orderBy||_0x5a81('0x11a');return _0x273d60['db'][_0x5a81('0x4c')][_0x5a81('0x1ae')]({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x5abaf4);},'apikey'(_0x3e9f00,{id},_0x43886c,_0x2fcb48){return _0x43886c['db'][_0x5a81('0x4c')][_0x5a81('0x1af')]({'where':{'id':id}},_0x2fcb48);},'deviceproviders'(_0x10c759,{where,orderBy,skip,first},_0x538360,_0x5a72b9){orderBy=orderBy||_0x5a81('0x11a');return _0x538360['db'][_0x5a81('0x4c')][_0x5a81('0x1b0')]({'where':where,'orderBy':orderBy,'skip':skip,'first':first},_0x5a72b9);},'deviceprovider'(_0x7f5c55,{id},_0x3d30f8,_0x2bae1e){return _0x3d30f8['db'][_0x5a81('0x4c')][_0x5a81('0x195')]({'where':{'id':id}},_0x2bae1e);}};const _0x16d80c=new _0x27096e(0x3c*0x5);const _0x59937f=_0x99c3c8=>{if(_0x99c3c8===_0x5a81('0x1b1')){return _0x3ad386()[_0x5a81('0x1b2')](_0x5a81('0x1b3'));}else if(_0x99c3c8==='LASTWEEK'){return _0x3ad386()[_0x5a81('0x1b4')](0x6,_0x5a81('0x1b5'))['startOf'](_0x5a81('0x1b3'));}else if(_0x99c3c8===_0x5a81('0x1b6')){return _0x3ad386()['subtract'](0xd,_0x5a81('0x1b5'))[_0x5a81('0x1b2')](_0x5a81('0x1b3'));}else if(_0x99c3c8===_0x5a81('0x1b7')){return _0x3ad386()[_0x5a81('0x1b4')](0x1e,_0x5a81('0x1b5'))['startOf']('day');}else if(_0x99c3c8===_0x5a81('0x1b8')){return _0x3ad386()[_0x5a81('0x1b4')](0x3c,_0x5a81('0x1b5'))[_0x5a81('0x1b2')](_0x5a81('0x1b3'));}};var _0x23c3f0={'chartFailedCountByTestSetByDay'(_0x234f02,{testProjectId,timeFrame},_0x2d388a,_0x26699d){const _0x57efc9=_0x59937f(timeFrame||_0x5a81('0x1b6'));const _0x4fed4d=_0x3ad386();const _0x400f1e='chartFailedCountByTestSetByDay_'+JSON[_0x5a81('0x87')]({'fromDate':_0x57efc9,'testProjectId':testProjectId});return _0x16d80c[_0x5a81('0x18e')](_0x400f1e,()=>{return _0x2d388a['db']['query'][_0x5a81('0x184')]({'orderBy':_0x5a81('0x11a')},_0x5a81('0x134'))[_0x5a81('0x67')](_0x119136=>{return Promise[_0x5a81('0x152')](_0x119136[_0x5a81('0x91')](_0x10f896=>{const _0x454180=[];for(const _0x59c332=_0x3ad386(_0x57efc9);_0x59c332['isBefore'](_0x4fed4d);_0x59c332['add'](0x1,'days')){const _0x31a5c7=_0x3ad386(_0x59c332);const _0x1efa2f=_0x3ad386(_0x59c332)[_0x5a81('0x160')](0x1,_0x5a81('0x1b5'));const _0x327390={'status_in':[_0x5a81('0xf0'),_0x5a81('0xf8')],'testSets_some':{'id':_0x10f896['id']},'createdAt_gte':_0x31a5c7[_0x5a81('0x1b9')](),'createdAt_lte':_0x1efa2f[_0x5a81('0x1b9')]()};if(testProjectId){_0x327390[_0x5a81('0xa1')]={'id':testProjectId};}_0x454180['push'](_0x2d388a['db'][_0x5a81('0x4c')][_0x5a81('0x146')]({'where':_0x327390},_0x5a81('0x1ba'))['then'](_0x5dbc05=>{if(!_0x5dbc05)return undefined;return Math[_0x5a81('0x1bb')](_0x5dbc05[_0x5a81('0x47')]((_0xc96809,_0x5ebc9b)=>_0xc96809+_0x5ebc9b[_0x5a81('0x1bc')][_0x5a81('0x8b')](_0x5b3315=>_0x5b3315[_0x5a81('0x53')]&&_0x5b3315[_0x5a81('0x53')]['id']===_0x10f896['id']&&!_0x5b3315[_0x5a81('0xdc')])[_0x5a81('0x4f')],0x0)/_0x5dbc05[_0x5a81('0x4f')]);}));}return Promise[_0x5a81('0x152')](_0x454180)[_0x5a81('0x67')](_0x5797af=>{return{'id':_0x10f896['id'],'name':_0x10f896['name'],'data':_0x5797af};});}));})[_0x5a81('0x67')](_0x2b6ff0=>{if(testProjectId){return _0x2b6ff0[_0x5a81('0x8b')](_0x2dfced=>_0x2dfced[_0x5a81('0x6b')]&&_0x2dfced[_0x5a81('0x6b')]['filter'](_0xab7867=>!isNaN(_0xab7867))[_0x5a81('0x4f')]>0x0);}else{return _0x2b6ff0[_0x5a81('0x8b')](_0x216fbd=>_0x216fbd[_0x5a81('0x6b')]&&_0x216fbd[_0x5a81('0x6b')][_0x5a81('0x8b')](_0x4ef578=>!isNaN(_0x4ef578)&&_0x4ef578>0x0)[_0x5a81('0x4f')]>0x0);}});});},'chartFailedCountByChatbotByDay'(_0x55240b,{timeFrame},_0x58c21d,_0x5062ad){const _0x4db6aa=_0x59937f(timeFrame||_0x5a81('0x1b6'));const _0x305253=_0x3ad386();const _0xd2228b=_0x5a81('0x1bd')+JSON[_0x5a81('0x87')]({'fromDate':_0x4db6aa});return _0x16d80c[_0x5a81('0x18e')](_0xd2228b,()=>{return _0x58c21d['db']['query']['chatbots']({'orderBy':'name_ASC'},_0x5a81('0x134'))['then'](_0x8cdf83=>{return Promise[_0x5a81('0x152')](_0x8cdf83[_0x5a81('0x91')](_0x2de92d=>{const _0x327799=[];for(const _0x17b65c=_0x3ad386(_0x4db6aa);_0x17b65c[_0x5a81('0x1be')](_0x305253);_0x17b65c[_0x5a81('0x160')](0x1,_0x5a81('0x1b5'))){const _0x2d404c=_0x3ad386(_0x17b65c);const _0x20e90c=_0x3ad386(_0x17b65c)['add'](0x1,_0x5a81('0x1b5'));_0x327799[_0x5a81('0x10a')](_0x58c21d['db'][_0x5a81('0x4c')][_0x5a81('0x146')]({'where':{'status_in':[_0x5a81('0xf0'),'FAILED'],'chatbot':{'id':_0x2de92d['id']},'createdAt_gte':_0x2d404c[_0x5a81('0x1b9')](),'createdAt_lte':_0x20e90c[_0x5a81('0x1b9')]()}},_0x5a81('0x1bf'))[_0x5a81('0x67')](_0x21fb48=>{if(!_0x21fb48)return undefined;return Math['ceil'](_0x21fb48[_0x5a81('0x47')]((_0x227a99,_0x2610d5)=>_0x227a99+_0x2610d5['results']['filter'](_0x2ac3b5=>!_0x2ac3b5[_0x5a81('0xdc')])['length'],0x0)/_0x21fb48[_0x5a81('0x4f')]);}));}return Promise[_0x5a81('0x152')](_0x327799)[_0x5a81('0x67')](_0x39f469=>{return{'id':_0x2de92d['id'],'name':_0x2de92d[_0x5a81('0x51')],'data':_0x39f469};});}));})['then'](_0x2e564a=>{return _0x2e564a['filter'](_0x13f308=>_0x13f308[_0x5a81('0x6b')]&&_0x13f308[_0x5a81('0x6b')][_0x5a81('0x8b')](_0x2e6e68=>!isNaN(_0x2e6e68))[_0x5a81('0x4f')]>0x0);});});},'chartTestSetResultCount'(_0x5acb37,{testProjectId},_0xb3e18e,_0x32944a){const _0x5d37bd=_0x5a81('0x1c0')+JSON['stringify']({'testProjectId':testProjectId});return _0x16d80c[_0x5a81('0x18e')](_0x5d37bd,()=>{return _0xb3e18e['db']['query']['testSets']({'orderBy':_0x5a81('0x11a')},_0x5a81('0x134'))[_0x5a81('0x67')](_0x35fc61=>{return Promise[_0x5a81('0x152')](_0x35fc61[_0x5a81('0x91')](_0x8f0de=>{const _0x17eb1b={'status_in':['READY','FAILED'],'testSets_some':{'id':_0x8f0de['id']}};if(testProjectId){_0x17eb1b[_0x5a81('0xa1')]={'id':testProjectId};}return _0xb3e18e['db'][_0x5a81('0x4c')][_0x5a81('0x146')]({'where':_0x17eb1b,'orderBy':_0x5a81('0x145'),'skip':0x0,'first':0x2},'{\x20id\x20createdAt\x20results\x20{\x20success\x20testSet\x20{\x20id\x20}\x20}\x20}')['then'](_0xfa7858=>{const _0x4da8cb={'id':_0x8f0de['id'],'name':_0x8f0de[_0x5a81('0x51')],'testCaseLastTotalCount':0x0,'testCaseLastSuccessCount':0x0,'testCaseLastSuccessRate':0x0,'testCasePreviousTotalCount':0x0,'testCasePreviousSuccessCount':0x0,'testCasePreviousSuccessRate':0x0,'testCaseTrend':'UNKNOWN'};if(_0xfa7858&&_0xfa7858[_0x5a81('0x4f')]>0x0){const _0xb409f6=_0xfa7858[0x0]['results']['filter'](_0x21cb02=>_0x21cb02[_0x5a81('0x53')]&&_0x21cb02['testSet']['id']===_0x8f0de['id']);_0x4da8cb[_0x5a81('0x1c1')]=_0xfa7858[0x0]['createdAt'];_0x4da8cb[_0x5a81('0x1c2')]=_0xfa7858[0x0]['id'];_0x4da8cb[_0x5a81('0x1c3')]=_0xb409f6['length'];_0x4da8cb['testCaseLastSuccessCount']=_0xb409f6[_0x5a81('0x8b')](_0x11b882=>_0x11b882[_0x5a81('0xdc')])[_0x5a81('0x4f')];_0x4da8cb[_0x5a81('0x1c4')]=_0x4da8cb['testCaseLastTotalCount']===_0x4da8cb['testCaseLastSuccessCount']?0x64:_0x4da8cb[_0x5a81('0x1c5')]/_0x4da8cb[_0x5a81('0x1c3')]*0x64;}if(_0xfa7858&&_0xfa7858[_0x5a81('0x4f')]>0x1){const _0x564bc7=_0xfa7858[0x1][_0x5a81('0x1bc')]['filter'](_0x27f397=>_0x27f397[_0x5a81('0x53')]&&_0x27f397['testSet']['id']===_0x8f0de['id']);_0x4da8cb[_0x5a81('0x1c6')]=_0xfa7858[0x1][_0x5a81('0x1c7')];_0x4da8cb[_0x5a81('0x1c8')]=_0xfa7858[0x1]['id'];_0x4da8cb['testCasePreviousTotalCount']=_0x564bc7[_0x5a81('0x4f')];_0x4da8cb[_0x5a81('0x1c9')]=_0x564bc7['filter'](_0xc720ae=>_0xc720ae[_0x5a81('0xdc')])['length'];_0x4da8cb[_0x5a81('0x1ca')]=_0x4da8cb['testCasePreviousTotalCount']===_0x4da8cb[_0x5a81('0x1c9')]?0x64:_0x4da8cb['testCasePreviousSuccessCount']/_0x4da8cb['testCasePreviousTotalCount']*0x64;if(_0x4da8cb[_0x5a81('0x1c4')]>_0x4da8cb[_0x5a81('0x1ca')])_0x4da8cb[_0x5a81('0x1cb')]='GOOD';else if(_0x4da8cb[_0x5a81('0x1c4')]<_0x4da8cb[_0x5a81('0x1ca')])_0x4da8cb[_0x5a81('0x1cb')]=_0x5a81('0x1cc');else _0x4da8cb[_0x5a81('0x1cb')]=_0x5a81('0x1cd');}return _0x4da8cb;});}));})[_0x5a81('0x67')](_0x524a43=>{const _0x3dc70d=_0x524a43[_0x5a81('0x8b')](_0x399605=>_0x399605[_0x5a81('0x1c3')]>0x0);return _0x49a4dc['orderBy'](_0x3dc70d,_0x5a81('0x1c1'),_0x5a81('0x1ce'));});});},'chartTestProjectTrainingStatusByTestSet'(_0x2744ef,{testProjectId},_0x458e2e,_0x178113){const _0x3de64a=_0x5a81('0x1cf')+JSON[_0x5a81('0x87')]({'testProjectId':testProjectId});return _0x16d80c[_0x5a81('0x18e')](_0x3de64a,async()=>{const _0x4d036b={'status_in':[_0x5a81('0xf0'),_0x5a81('0xf8')],'testProject':{'id':testProjectId}};const _0x16c76a=await _0x458e2e['db'][_0x5a81('0x4c')][_0x5a81('0x146')]({'where':_0x4d036b,'orderBy':_0x5a81('0x145'),'skip':0x0,'first':0x1},_0x5a81('0x1d0'));if(!_0x16c76a||_0x16c76a[_0x5a81('0x4f')]===0x0)return null;const _0x78eb09=_0x16c76a[0x0];const _0x28a0d0=_0x49a4dc[_0x5a81('0x1a1')](_0x78eb09[_0x5a81('0x1bc')][_0x5a81('0x91')](_0x3a6c80=>_0x3a6c80['testSet']),'id');_0x28a0d0['forEach'](_0x50e079=>{_0x50e079['totalCount']=_0x78eb09['results'][_0x5a81('0x8b')](_0x19dd55=>_0x19dd55[_0x5a81('0x53')]['id']===_0x50e079['id'])[_0x5a81('0x4f')];_0x50e079[_0x5a81('0x1d1')]=_0x78eb09['results']['filter'](_0x142836=>_0x142836[_0x5a81('0x53')]['id']===_0x50e079['id']&&_0x142836[_0x5a81('0xdc')])[_0x5a81('0x4f')];_0x50e079[_0x5a81('0x1d2')]=_0x78eb09['results'][_0x5a81('0x8b')](_0x278ede=>_0x278ede['testSet']['id']===_0x50e079['id']&&!_0x278ede[_0x5a81('0xdc')])[_0x5a81('0x4f')];});return _0x49a4dc[_0x5a81('0x1d3')](_0x28a0d0,_0x5a81('0x51'));});},'chartTestProjectTrainingStatusByDeviceSet'(_0xbc373f,{testProjectId},_0x4dea2e,_0x560b00){const _0xb1bbc1=_0x5a81('0x1d4')+JSON[_0x5a81('0x87')]({'testProjectId':testProjectId});return _0x16d80c[_0x5a81('0x18e')](_0xb1bbc1,async()=>{const _0x17712f={'status_in':[_0x5a81('0xf0'),_0x5a81('0xf8')],'testProject':{'id':testProjectId}};const _0x23f514=await _0x4dea2e['db'][_0x5a81('0x4c')]['testSessions']({'where':_0x17712f,'orderBy':'createdAt_DESC','skip':0x0,'first':0x1},_0x5a81('0x1d5'));if(!_0x23f514||_0x23f514[_0x5a81('0x4f')]===0x0)return null;const _0x22272a=_0x23f514[0x0];const _0x3c8bcb=_0x49a4dc[_0x5a81('0x1a1')](_0x22272a[_0x5a81('0x1bc')][_0x5a81('0x8b')](_0x5b5229=>_0x5b5229[_0x5a81('0xe7')])[_0x5a81('0x91')](_0x5dbd9d=>_0x5dbd9d[_0x5a81('0xe7')]),'id');_0x3c8bcb[_0x5a81('0x58')](_0x1317cc=>{_0x1317cc[_0x5a81('0x1d6')]=_0x22272a[_0x5a81('0x1bc')][_0x5a81('0x8b')](_0x22fc21=>_0x22fc21['deviceSet']&&_0x22fc21[_0x5a81('0xe7')]['id']===_0x1317cc['id'])[_0x5a81('0x4f')];_0x1317cc[_0x5a81('0x1d1')]=_0x22272a[_0x5a81('0x1bc')][_0x5a81('0x8b')](_0x100210=>_0x100210['deviceSet']&&_0x100210[_0x5a81('0xe7')]['id']===_0x1317cc['id']&&_0x100210[_0x5a81('0xdc')])[_0x5a81('0x4f')];_0x1317cc['failedCount']=_0x22272a['results'][_0x5a81('0x8b')](_0xd95cf0=>_0xd95cf0[_0x5a81('0xe7')]&&_0xd95cf0[_0x5a81('0xe7')]['id']===_0x1317cc['id']&&!_0xd95cf0[_0x5a81('0xdc')])[_0x5a81('0x4f')];});if(_0x22272a[_0x5a81('0x1bc')]['filter'](_0x22c5e5=>!_0x22c5e5[_0x5a81('0xe7')])['length']>0x0){_0x3c8bcb[_0x5a81('0x10a')]({'id':'','name':_0x5a81('0x1d7'),'totalCount':_0x22272a[_0x5a81('0x1bc')]['filter'](_0x435ea4=>!_0x435ea4['deviceSet'])[_0x5a81('0x4f')],'successCount':_0x22272a[_0x5a81('0x1bc')][_0x5a81('0x8b')](_0xce0a0a=>!_0xce0a0a[_0x5a81('0xe7')]&&_0xce0a0a[_0x5a81('0xdc')])[_0x5a81('0x4f')],'failedCount':_0x22272a[_0x5a81('0x1bc')][_0x5a81('0x8b')](_0x1138ea=>!_0x1138ea[_0x5a81('0xe7')]&&!_0x1138ea['success'])[_0x5a81('0x4f')]});}return _0x49a4dc[_0x5a81('0x1d3')](_0x3c8bcb,_0x5a81('0x51'));});}};const {generateToken:generateToken$2}=_0x2324c9;var _0x29a4={async 'login'(_0x416ce6,{name,email,password},_0x87c91c,_0x5a0504){const _0x143089=name?{'name':name}:email?{'email':email}:null;if(!_0x143089){throw new Error('Invalid\x20request');}const _0x334cb2=await _0x87c91c['db'][_0x5a81('0x4c')][_0x5a81('0x118')]({'where':_0x143089});if(!_0x334cb2){throw new Error('No\x20such\x20user\x20found:\x20'+(name?name:email));}const _0x3cdde0=await _0x481218[_0x5a81('0x1d8')](password,_0x334cb2['password']);if(!_0x3cdde0){throw new Error(_0x5a81('0x1d9'));}return{'token':generateToken$2(_0x334cb2),'user':_0x334cb2};}};var _0x21540e={async 'createAgent'(_0x28a2e3,{agent},_0x50bb7d,_0x57d10c){},async 'updateAgent'(_0x14eb23,{id,agent},_0x4981ab,_0x3e20ad){const _0x32cd2a=await _0x4981ab['db']['exists']['Agent']({'id':id});if(!_0x32cd2a){throw new Error(_0x5a81('0x1da')+id);}return _0x4981ab['db']['mutation'][_0x5a81('0x80')]({'where':{'id':id},'data':agent},_0x3e20ad);},async 'deleteAgent'(_0x1dc9ed,{id},_0xa9a9e){}};var _0x11aeda={async 'createChatbot'(_0x22bee6,{chatbot},_0x4c378d,_0x332934){return _0x4c378d['db'][_0x5a81('0x7f')][_0x5a81('0x1db')]({'data':chatbot},_0x332934);},async 'updateChatbot'(_0x149526,{id,chatbot},_0x2fc1ca,_0x40867b){const _0x4b4ef5=await _0x2fc1ca['db'][_0x5a81('0x1dc')]['Chatbot']({'id':id});if(!_0x4b4ef5){throw new Error(_0x5a81('0x1dd')+id);}return _0x2fc1ca['db']['mutation']['updateChatbot']({'where':{'id':id},'data':chatbot},_0x40867b);},async 'deleteChatbot'(_0x5dabaa,{id},_0x488650){return new Promise((_0x3cfdfe,_0x5b43d6)=>{_0x488650['db'][_0x5a81('0x7f')]['deleteChatbot']({'where':{'id':id}},_0x5a81('0x1de'))['then'](()=>_0x3cfdfe(!![]))[_0x5a81('0x60')](_0x5adade=>_0x5b43d6(_0x5adade));});}};const _0x4e7981=_0x558a61(_0x5a81('0x1df'));var _0x1488b7={async 'createTestSession'(_0x43a181,{testSession},_0x3c5e94,_0x4270c9){return _0x3c5e94['db']['mutation']['createTestSession']({'data':testSession},_0x4270c9)[_0x5a81('0x67')](_0x4aca99=>{return new Promise((_0x2887bb,_0xf417bc)=>{_0x3c5e94[_0x5a81('0xfc')][_0x5a81('0xa8')](_0x5a81('0x100'),{'title':_0x5a81('0x1e0')+testSession[_0x5a81('0x51')],'testSessionId':_0x4aca99['id']})[_0x5a81('0x1e1')](!![])[_0x5a81('0xac')](_0x476f36=>{if(_0x476f36){return _0xf417bc(_0x476f36);}_0x2887bb(_0x4aca99);});});});},async 'deleteTestSession'(_0x550f06,{id},_0x4b02f5){return new Promise((_0x4185bc,_0x5e8c12)=>{_0x4b02f5['db'][_0x5a81('0x7f')][_0x5a81('0x1e2')]({'where':{'testSessionJob':{'testSession':{'id':id}}}})[_0x5a81('0x67')](()=>_0x4b02f5['db'][_0x5a81('0x7f')][_0x5a81('0x1e3')]({'where':{'testSession':{'id':id}}}))[_0x5a81('0x67')](()=>_0x4b02f5['db'][_0x5a81('0x7f')]['deleteManyTestSessionTestCaseResults']({'where':{'testSession':{'id':id}}}))['then'](()=>_0x4b02f5['db'][_0x5a81('0x7f')]['deleteTestSession']({'where':{'id':id}},_0x5a81('0x1de')))[_0x5a81('0x67')](()=>_0x4185bc(!![]))[_0x5a81('0x60')](_0x24fb48=>{_0x4e7981(_0x5a81('0x1e4')+id+':\x20'+_0x24fb48);return _0x5e8c12(_0x24fb48);});});}};var _0x23dcff={async 'createTestSet'(_0x30429c,{testSet},_0x4b1f8a,_0x2fc590){return _0x4b1f8a['db'][_0x5a81('0x7f')][_0x5a81('0x5d')]({'data':testSet},_0x2fc590);},async 'updateTestSet'(_0x58f311,{id,testSet},_0x29f73e,_0x70400a){const _0x32bb6b=await _0x29f73e['db']['exists'][_0x5a81('0x1e5')]({'id':id});if(!_0x32bb6b){throw new Error(_0x5a81('0x1e6')+id);}return _0x29f73e['db'][_0x5a81('0x7f')][_0x5a81('0x1e7')]({'where':{'id':id},'data':testSet},_0x70400a);},async 'deleteTestSet'(_0x2640b9,{id},_0x32becb){return new Promise((_0x43e2dd,_0x27d4a4)=>{_0x32becb['db']['mutation'][_0x5a81('0x1e8')]({'where':{'id':id}},_0x5a81('0x1de'))[_0x5a81('0x67')](()=>_0x43e2dd(!![]))['catch'](_0x31e658=>_0x27d4a4(_0x31e658));});},async 'createTestSetScript'(_0x264d25,{testSetScript},_0x3008d7,_0x4abbbc){return _0x3008d7['db']['mutation'][_0x5a81('0x141')]({'data':testSetScript},_0x4abbbc);},async 'updateTestSetScript'(_0x4aca01,{id,testSetScript},_0x3ea421,_0x4e2592){const _0x4ac086=await _0x3ea421['db'][_0x5a81('0x1dc')]['TestSetScript']({'id':id});if(!_0x4ac086){throw new Error('TestSetScript\x20not\x20found\x20'+id);}return _0x3ea421['db'][_0x5a81('0x7f')][_0x5a81('0x1e9')]({'where':{'id':id},'data':testSetScript},_0x4e2592);},async 'deleteTestSetScript'(_0x5c5326,{id},_0x4d3d0c){return new Promise((_0x14ebf9,_0x168b9d)=>{_0x4d3d0c['db']['mutation']['deleteTestSetScript']({'where':{'id':id}},'{id}')[_0x5a81('0x67')](()=>_0x14ebf9(!![]))[_0x5a81('0x60')](_0x3d8b44=>_0x168b9d(_0x3d8b44));});},async 'createTestSetRepository'(_0x3d3e8d,{testSetRepository},_0x34734c,_0x182507){},async 'updateTestSetRepository'(_0x1679f8,{id,testSetRepository},_0x231669,_0x81881e){},async 'deleteTestSetRepository'(_0x5303d0,{id},_0x423e5d){},async 'createTestSetFolder'(_0x361e45,{testSetFolder},_0x33616e,_0xfaf913){return _0x33616e['db'][_0x5a81('0x7f')][_0x5a81('0x1ea')]({'data':testSetFolder},_0xfaf913);},async 'updateTestSetFolder'(_0x32d460,{id,testSetFolder},_0x1d072a,_0x398431){const _0x111e43=await _0x1d072a['db'][_0x5a81('0x1dc')][_0x5a81('0x1eb')]({'id':id});if(!_0x111e43){throw new Error(_0x5a81('0x1ec')+id);}return _0x1d072a['db'][_0x5a81('0x7f')][_0x5a81('0x1ed')]({'where':{'id':id},'data':testSetFolder},_0x398431);},async 'deleteTestSetFolder'(_0x4f937a,{id},_0x43da12){return new Promise((_0x18e8b7,_0xc98b3c)=>{_0x43da12['db'][_0x5a81('0x7f')]['deleteTestSetFolder']({'where':{'id':id}},'{id}')['then'](()=>_0x18e8b7(!![]))[_0x5a81('0x60')](_0xebb863=>_0xc98b3c(_0xebb863));});},async 'createTestSetExcel'(_0x49aff8,{testSetExcel},_0x332502,_0x2b9047){return _0x332502['db'][_0x5a81('0x7f')][_0x5a81('0x1ee')]({'data':testSetExcel},_0x2b9047);},async 'updateTestSetExcel'(_0x1f9dd3,{id,testSetExcel},_0x4a64c8,_0x381c5e){const _0x52b5c5=await _0x4a64c8['db']['exists'][_0x5a81('0x1ef')]({'id':id});if(!_0x52b5c5){throw new Error(_0x5a81('0x1f0')+id);}return _0x4a64c8['db'][_0x5a81('0x7f')][_0x5a81('0x1f1')]({'where':{'id':id},'data':testSetExcel},_0x381c5e);},async 'deleteTestSetExcel'(_0x26a665,{id},_0x38e0a9){return new Promise((_0x5c10d5,_0x2076ee)=>{_0x38e0a9['db']['mutation'][_0x5a81('0x1f2')]({'where':{'id':id}},_0x5a81('0x1de'))[_0x5a81('0x67')](()=>_0x5c10d5(!![]))[_0x5a81('0x60')](_0x273982=>_0x2076ee(_0x273982));});},async 'cloneTestSet'(_0x4554a2,{id,options},_0x8af997,_0x57f7f8){const _0x511281=await _0x8af997['db'][_0x5a81('0x4c')][_0x5a81('0x53')]({'where':{'id':id}},_0x5a81('0x1f3'));if(!_0x511281){throw new Error(_0x5a81('0x1e6')+id);}const _0x839b0=await _0x1ccb6a[_0x5a81('0x1f4')](_0x511281,_0x284e27);const _0x54dd51=_0x511281[_0x5a81('0x51')]+'/'+_0x2c9d0d['basename'](_0x839b0);const _0x3394f8=_0x511281[_0x5a81('0x51')]+'\x20cloned\x20to\x20\x22'+_0x2c9d0d[_0x5a81('0x1f5')](_0x839b0)+_0x5a81('0x1f6')+(_0x284e27[_0x5a81('0x161')]&&_0x284e27[_0x5a81('0x161')][_0x5a81('0x48')](',\x20'))+'\x22,\x20percentage\x20'+_0x284e27['percentToHumanify']+'.';const _0x55b59c={'data':{..._0x511281,'name':_0x54dd51,'description':_0x3394f8,'tags':{'set':_0x511281[_0x5a81('0x1f7')]?[..._0x511281['tags'],_0x5a81('0x1f8')]:[_0x5a81('0x1f8')]},'folders':{'create':[{'name':'cloned','path':_0x2c9d0d['resolve'](_0x839b0)}]},'repositories':{},'scripts':[],'excels':{}}};delete _0x55b59c[_0x5a81('0x6b')]['id'];console[_0x5a81('0x3e')](_0x55b59c);return _0x8af997['db'][_0x5a81('0x7f')][_0x5a81('0x5d')](_0x55b59c,_0x57f7f8);}};const _0x4ca9f4=_0x1488b7['createTestSession'];const _0x2716c3=_0x558a61(_0x5a81('0x1f9'));var _0x37cd7d={async 'createTestProject'(_0x52625a,{testProject},_0x392075,_0x5c8b46){return _0x392075['db'][_0x5a81('0x7f')][_0x5a81('0x1fa')]({'data':{...testProject,'code':_0x2ec4f2(testProject[_0x5a81('0x51')])}},_0x5c8b46);},async 'startTestProject'(_0x5d6de0,{id,code},_0x5436ff){return _0x5436ff['db'][_0x5a81('0x4c')][_0x5a81('0xa1')]({'where':{'id':id,'code':code}},_0x5a81('0x1fb'))[_0x5a81('0x67')](_0x2922f2=>{if(!_0x2922f2)throw new Error('Test\x20Project\x20'+id+'/'+code+_0x5a81('0x1fc'));return _0x4ca9f4(_0x5d6de0,{'testSession':{'name':_0x2922f2[_0x5a81('0x51')]+_0x5a81('0x1fd'),'status':_0x5a81('0xaf'),'tags':{'set':[_0x5a81('0x1fe')]},'chatbot':{'connect':{'id':_0x2922f2[_0x5a81('0xa3')]['id']}},'testSets':{'connect':_0x2922f2[_0x5a81('0x184')]&&_0x2922f2[_0x5a81('0x184')][_0x5a81('0x91')](_0x3ee438=>{return{'id':_0x3ee438['id']};})},'deviceSets':{'connect':_0x2922f2[_0x5a81('0xb5')]&&_0x2922f2['deviceSets']['map'](_0x36d199=>{return{'id':_0x36d199['id']};})},'testProject':{'connect':{'id':_0x2922f2['id']}},'batchCount':_0x2922f2['batchCount']}},_0x5436ff,_0x5a81('0xd7'));})[_0x5a81('0x67')](_0x5242c8=>_0x5242c8['id']);},async 'quickstartTestProject'(_0x11f957,{testProject},_0x2c8705){return _0x2c8705['db'][_0x5a81('0x7f')]['createTestProject']({'data':{...testProject,'code':_0x2ec4f2(testProject[_0x5a81('0x51')])}},'{\x20id\x20name\x20chatbot\x20{\x20id\x20}\x20testSets\x20{\x20id\x20}\x20deviceSets\x20{\x20id\x20}\x20}')[_0x5a81('0x67')](_0x18534b=>{return _0x4ca9f4(_0x11f957,{'testSession':{'name':_0x18534b[_0x5a81('0x51')]+_0x5a81('0x1ff'),'status':_0x5a81('0xaf'),'tags':{'set':['QuickStart']},'chatbot':{'connect':{'id':_0x18534b[_0x5a81('0xa3')]['id']}},'testSets':{'connect':_0x18534b['testSets']&&_0x18534b[_0x5a81('0x184')]['map'](_0x34d082=>{return{'id':_0x34d082['id']};})},'deviceSets':{'connect':_0x18534b['deviceSets']&&_0x18534b[_0x5a81('0xb5')][_0x5a81('0x91')](_0x3fcdbf=>{return{'id':_0x3fcdbf['id']};})},'testProject':{'connect':{'id':_0x18534b['id']}}}},_0x2c8705,'{\x20id\x20}');})[_0x5a81('0x67')](_0x2e3761=>_0x2e3761['id']);},async 'updateTestProject'(_0x2c2d24,{id,testProject},_0x5cbf49,_0x21ed9f){const _0x299dd5=await _0x5cbf49['db']['exists'][_0x5a81('0x200')]({'id':id});if(!_0x299dd5){throw new Error(_0x5a81('0x201')+id);}return _0x5cbf49['db'][_0x5a81('0x7f')][_0x5a81('0x202')]({'where':{'id':id},'data':{...testProject,'code':_0x2ec4f2(testProject[_0x5a81('0x51')])}},_0x21ed9f);},async 'deleteTestProject'(_0x58ae2e,{id},_0x100e12){return new Promise((_0x4b1be6,_0x5adcca)=>{_0x100e12['db'][_0x5a81('0x7f')][_0x5a81('0xf7')]({'data':{'testProject':{'disconnect':!![]}},'where':{'testProject':{'id':id}}})['then'](()=>_0x100e12['db'][_0x5a81('0x7f')][_0x5a81('0x203')]({'where':{'id':id}},'{id}'))['then'](()=>_0x4b1be6(!![]))[_0x5a81('0x60')](_0x22c889=>{_0x2716c3(_0x5a81('0x204')+id+':\x20'+_0x22c889);return _0x5adcca(_0x22c889);});});}};const _0x534eef=_0x558a61(_0x5a81('0x205'));let _0x24fc98=[_0x5a81('0x1a4')];var _0x3fcf8b={async 'createUser'(_0x49582d,{user},_0x3855aa,_0x4efd5e){if(user[_0x5a81('0xb9')]){user[_0x5a81('0xb9')]=await _0x481218[_0x5a81('0x206')](user[_0x5a81('0xb9')],0xa);}if(!user[_0x5a81('0x207')]){user[_0x5a81('0x207')]={'set':['USER']};}return _0x3855aa['db']['mutation'][_0x5a81('0x208')]({'data':user},_0x4efd5e);},async 'updateUser'(_0x18d00c,{id,user},_0xfc23be,_0x58a63e){const _0x2d375c=await _0xfc23be['db'][_0x5a81('0x4c')][_0x5a81('0x118')]({'where':{'id':id}});if(!_0x2d375c){throw new Error(_0x5a81('0x209')+id);}if(_0xfc23be[_0x5a81('0x119')][_0x5a81('0x118')]['id']!==id&&_0xfc23be['request']['user'][_0x5a81('0x207')][_0x5a81('0x20a')](_0x48a252=>_0x48a252===_0x5a81('0x20b'))<0x0){throw new Error(_0x5a81('0x20c'));}if(user['password']){user[_0x5a81('0xb9')]=await _0x481218['hash'](user['password'],0xa);}if(_0x2d375c[_0x5a81('0x51')]==='admin'){user[_0x5a81('0x51')]=_0x5a81('0x20d');user[_0x5a81('0x207')]={'set':[_0x5a81('0x20b')]};}if(!user['roles']){user[_0x5a81('0x207')]={'set':[_0x5a81('0x20e')]};}return _0xfc23be['db'][_0x5a81('0x7f')][_0x5a81('0x20f')]({'where':{'id':id},'data':user},_0x58a63e);},async 'deleteUser'(_0x3d0562,{id},_0x31fc7f){const _0x2dd874=await _0x31fc7f['db'][_0x5a81('0x4c')][_0x5a81('0x118')]({'where':{'id':id}});if(!_0x2dd874)return!![];if(_0x2dd874[_0x5a81('0x51')]==='admin'){throw new Error('Not\x20allowed\x20to\x20delete\x20user\x20\x22admin\x22');}return _0x31fc7f['db'][_0x5a81('0x7f')]['deleteUser']({'where':{'id':id}},_0x5a81('0x1de'))[_0x5a81('0x67')](()=>!![])[_0x5a81('0x60')](_0x5b12cb=>{_0x534eef(_0x5a81('0x210')+id+':\x20'+_0x5b12cb);throw _0x5b12cb;});},async 'createApiKey'(_0x23f086,{apiKey},_0x2161c0,_0x55ca0a){apiKey[_0x5a81('0x211')]=_0x539664(_0x5a81('0x167'),0x14);return _0x2161c0['db']['mutation'][_0x5a81('0x212')]({'data':apiKey},_0x55ca0a);},async 'updateApiKey'(_0x1ff5b6,{id,apiKey},_0x1105c6,_0x5de309){const _0x490bb7=await _0x1105c6['db'][_0x5a81('0x1dc')][_0x5a81('0x213')]({'id':id});if(!_0x490bb7){throw new Error(_0x5a81('0x214')+id);}delete apiKey[_0x5a81('0x211')];return _0x1105c6['db']['mutation']['updateApiKey']({'where':{'id':id},'data':apiKey},_0x5de309);},async 'deleteApiKey'(_0x2f120f,{id},_0x3f677b){return _0x3f677b['db']['mutation']['deleteApiKey']({'where':{'id':id}},_0x5a81('0x1de'))[_0x5a81('0x67')](()=>!![])['catch'](_0x43cd63=>{_0x534eef(_0x5a81('0x215')+id+':\x20'+_0x43cd63);throw _0x43cd63;});},async 'createDeviceProvider'(_0x1b639a,{deviceProvider},_0x25c467,_0x46ca52){if(deviceProvider['type']===_0x5a81('0x1ac')){throw new Error(_0x5a81('0x216'));}if(_0x24fc98[_0x5a81('0x192')](deviceProvider[_0x5a81('0x71')])<0x0){throw new Error(_0x5a81('0x217')+deviceProvider['type']+_0x5a81('0x218'));}return _0x25c467['db'][_0x5a81('0x7f')][_0x5a81('0x219')]({'data':deviceProvider},_0x46ca52);},async 'updateDeviceProvider'(_0x42ba5c,{id,deviceProvider},_0x1d7e01,_0x580e0c){const _0x34e7d3=await _0x1d7e01['db'][_0x5a81('0x1dc')]['DeviceProvider']({'id':id});if(!_0x34e7d3){throw new Error('DeviceProvider\x20not\x20found\x20'+id);}if(_0x24fc98[_0x5a81('0x192')](deviceProvider[_0x5a81('0x71')])<0x0){throw new Error('DeviceProvider\x20type\x20'+deviceProvider['type']+_0x5a81('0x218'));}return _0x1d7e01['db']['mutation'][_0x5a81('0x21a')]({'where':{'id':id},'data':deviceProvider},_0x580e0c);},async 'deleteDeviceProvider'(_0x21f96a,{id},_0x426901){const _0x433a49=await _0x426901['db'][_0x5a81('0x4c')][_0x5a81('0x195')]({'where':{'id':id}});if(!_0x433a49)return!![];if(_0x433a49[_0x5a81('0x71')]===_0x5a81('0x1ac')){throw new Error('DeviceProvider\x20type\x20INTEGRATED\x20not\x20allowed\x20to\x20delete');}try{await _0x426901['db'][_0x5a81('0x7f')][_0x5a81('0x21b')]({'where':{'id':id}},_0x5a81('0x1de'));return!![];}catch(_0xfe3d48){_0x534eef(_0x5a81('0x21c')+id+':\x20'+_0xfe3d48);throw _0xfe3d48;}}};const _0x378672=_0x558a61(_0x5a81('0x21d'));var _0x531b3a={async 'createDeviceSet'(_0x4cfb39,{deviceSet},_0x55a026,_0x3e99e3){return _0x55a026['db'][_0x5a81('0x7f')][_0x5a81('0x21e')]({'data':deviceSet},_0x3e99e3);},async 'updateDeviceSet'(_0x334c1c,{id,deviceSet},_0x56f1b2,_0x4352e5){const _0x574158=await _0x56f1b2['db']['exists'][_0x5a81('0x21f')]({'id':id});if(!_0x574158){throw new Error(_0x5a81('0x220')+id);}return _0x56f1b2['db'][_0x5a81('0x7f')][_0x5a81('0x221')]({'where':{'id':id},'data':deviceSet},_0x4352e5);},async 'deleteDeviceSet'(_0x61d031,{id},_0x51424e){return new Promise((_0x3a33de,_0xc1ea0)=>{_0x51424e['db'][_0x5a81('0x4c')][_0x5a81('0xe7')]({'where':{'id':id}},_0x5a81('0x222'))[_0x5a81('0x67')](_0xd1ce3e=>{if(!_0xd1ce3e)throw new Error(_0x5a81('0x220')+id);return _0x51424e['db']['mutation']['deleteManyDeviceDescriptors']({'where':{'id_in':_0xd1ce3e[_0x5a81('0x223')]['map'](_0xbdd739=>_0xbdd739['id'])}});})[_0x5a81('0x67')](()=>_0x51424e['db'][_0x5a81('0x7f')]['deleteDeviceSet']({'where':{'id':id}},_0x5a81('0x1de')))[_0x5a81('0x67')](()=>_0x3a33de(!![]))[_0x5a81('0x60')](_0xb0227a=>{_0x378672(_0x5a81('0x224')+id+':\x20'+_0xb0227a);return _0xc1ea0(_0xb0227a);});});}};const _0x108a53={};var _0x3e07ee=_0x108a53;const {withFilter}=_0x5d4167;var _0x291165={'testSessionProgress':{'subscribe':withFilter((_0x13aaa1,{testSessionId},{pubsub})=>_0x507c18[_0x5a81('0x122')](_0x5a81('0x225')),(_0x9ba677,{testSessionId})=>{return _0x9ba677[_0x5a81('0x10f')]['id']===testSessionId;})},'newTestSession':{'subscribe':(_0x23456b,_0x2537e1,_0x3cc511,_0x48056d)=>{return _0x3cc511['db'][_0x5a81('0x226')]['testSession']({'where':{'mutation_in':[_0x5a81('0x227')]}},_0x48056d);}},'changeTestSession':{'subscribe':(_0x8eac18,{ids},_0x129bf8,_0x4fe598)=>{return _0x129bf8['db'][_0x5a81('0x226')][_0x5a81('0x68')]({'where':{'mutation_in':[_0x5a81('0x228')],'node':{'id_in':ids}}},_0x4fe598);}},'changeTestSessionJobs':{'subscribe':(_0x11914b,{testSessionIds},_0x653efd,_0xc0f845)=>{return _0x653efd['db'][_0x5a81('0x226')][_0x5a81('0x229')]({'where':{'mutation_in':[_0x5a81('0x228')],'node':{'testSession':{'id_in':testSessionIds}}}},_0xc0f845);}},'newTestSessionJobLogs':{'subscribe':(_0x33c23e,{testSessionJobId},_0x3eeaec,_0x299986)=>{return _0x3eeaec['db'][_0x5a81('0x226')][_0x5a81('0x22a')]({'where':{'mutation_in':['CREATED'],'node':{'testSessionJob':{'id':testSessionJobId}}}},_0x299986);}},'newTestSessionTestCaseResults':{'subscribe':(_0x38f177,{testSessionIds},_0x27e26b,_0x3fbf51)=>{return _0x27e26b['db'][_0x5a81('0x226')][_0x5a81('0x148')]({'where':{'mutation_in':[_0x5a81('0x227')],'node':{'testSession':{'id_in':testSessionIds}}}},_0x3fbf51);}}};var _0x547e0b={'Query':{..._0x5ddd7c,..._0x51991a,..._0x1d3deb,..._0x39ce12['Query'],..._0x3da4c2,..._0xe7344c,..._0x218eaf,..._0x2f2dba,..._0x5867d3,..._0x23c3f0},'Mutation':{..._0x29a4,..._0x21540e,..._0x11aeda,..._0x39ce12[_0x5a81('0x22b')],..._0x1488b7,..._0x23dcff,..._0x37cd7d,..._0x3fcf8b,..._0x531b3a},'Subscription':{..._0x3e07ee,..._0x39ce12[_0x5a81('0x22c')],..._0x291165}};const _0x8013d8=_0x5a81('0x22d');const _0x4377f3=_0x5a81('0x22e');const _0x3d8639=_0x3790bc=>_0x18b1f2(_0x3790bc,_0x8013d8);const _0x2357bc=_0x1a3483=>_0x18b1f2(_0x1a3483,_0x4377f3);const _0x295873=_0x528979=>{const _0x470886=_0x3d8639(_0x528979);const _0x10ac89=_0x2357bc(_0x528979);if(!_0x470886&&!_0x10ac89)throw new Error(_0x5a81('0x22f'));return _0x470886||_0x10ac89;};var _0x1a18d2={'isAuthenticated':(_0x202a5c,_0x98ff1f,_0x4515bb,_0xaab2c4)=>{_0x295873(_0xaab2c4);return _0x202a5c();},'hasRole':(_0x426fce,_0x86bd74,{roles},_0x2166ab)=>{const _0xab00fb=_0x295873(_0x2166ab);for(const _0x356b18 in _0xab00fb[_0x5a81('0x207')]||[]){const _0x33b80a=_0xab00fb[_0x5a81('0x207')][_0x356b18];if(roles[_0x5a81('0x230')](_0x33b80a)){return _0x426fce();}}throw new Error('Unauthorized,\x20incorrect\x20role');}};const {jwtSettings:jwtSettings$1,tokenToUserId:tokenToUserId$1}=_0x2324c9;const _0x13770a=_0x558a61(_0x5a81('0x231'));let _0x532e7c=null;const _0x354ad3=async(_0x191d7f,_0x342077,_0x20ca0b,_0x924637)=>{const _0x589b99=_0x191d7f[_0x5a81('0x4c')][_0x5a81('0x232')]||_0x191d7f[_0x5a81('0x233')]&&_0x191d7f[_0x5a81('0x233')][_0x5a81('0x232')]||_0x191d7f[_0x5a81('0x234')][_0x5a81('0x232')];const _0x437679=_0x924637(_0x191d7f);if(_0x589b99){_0x424e74[_0x5a81('0x235')](_0x437679['db'],_0x589b99)[_0x5a81('0x67')](_0x38aedd=>{if(_0x38aedd){_0x13770a('Api\x20Key\x20found\x20-\x20'+_0x1b4f7d[_0x5a81('0x236')](_0x38aedd));_0x191d7f[_0x5a81('0x1af')]=_0x38aedd;return _0x20ca0b();}else{_0x13770a(_0x5a81('0x237')+_0x589b99);return _0x20ca0b();}})[_0x5a81('0x60')](_0x52a33f=>{_0x13770a(_0x5a81('0x238')+_0x589b99+'\x20-\x20'+_0x52a33f);return _0x20ca0b();});}else{return _0x20ca0b();}};const _0x9d7e00=async(_0x22bf2b,_0x1b0962,_0x241f2c,_0x568cee)=>{if(_0x22bf2b[_0x5a81('0x118')]){const _0x50df55=_0x568cee(_0x22bf2b)['db'];const _0x5d378c=_0x22bf2b[_0x5a81('0x118')];const _0x488799=await _0x50df55[_0x5a81('0x4c')][_0x5a81('0x118')]({'where':{'id':tokenToUserId$1(_0x5d378c)}},_0x5a81('0x239'));_0x22bf2b[_0x5a81('0x118')]={..._0x488799,'token':_0x5d378c};return _0x241f2c();}if(process['env'][_0x5a81('0x23a')]){if(!_0x532e7c){const _0xefae8f=_0x568cee(_0x22bf2b)['db'];_0x532e7c=await _0xefae8f['query'][_0x5a81('0x118')]({'where':{'name':process[_0x5a81('0x43')][_0x5a81('0x23a')]}},_0x5a81('0x239'));_0x13770a('Auto\x20login\x20user\x20'+process[_0x5a81('0x43')][_0x5a81('0x23a')]+'.');}_0x22bf2b[_0x5a81('0x118')]={..._0x532e7c,'token':null};return _0x241f2c();}return _0x241f2c();};const _0x51b2b3=()=>_0x23f13f(Object[_0x5a81('0xb8')]({},jwtSettings$1(),{'credentialsRequired':![],'getToken':_0x11cf03=>{if(_0x11cf03[_0x5a81('0x234')][_0x5a81('0x23b')]&&_0x11cf03[_0x5a81('0x234')][_0x5a81('0x23b')][_0x5a81('0x5b')]('\x20')[0x0]===_0x5a81('0x23c')){return _0x11cf03['headers'][_0x5a81('0x23b')][_0x5a81('0x5b')]('\x20')[0x1];}else if(_0x11cf03[_0x5a81('0x4c')]&&_0x11cf03[_0x5a81('0x4c')][_0x5a81('0x23d')]){return _0x11cf03[_0x5a81('0x4c')][_0x5a81('0x23d')];}else if(_0x11cf03[_0x5a81('0x233')]&&_0x11cf03[_0x5a81('0x233')][_0x5a81('0x23d')]){return _0x11cf03['body'][_0x5a81('0x23d')];}return null;}}));var _0x3ad33d=(_0x39e3f6,_0x3fcd2d,_0x59fa78)=>{_0x39e3f6[_0x5a81('0x23e')](_0x51b2b3());_0x39e3f6['use']((_0x4ab797,_0x939ca0,_0x2cadfd)=>_0x9d7e00(_0x4ab797,_0x939ca0,_0x2cadfd,_0x59fa78));_0x39e3f6['use']((_0x2f40d6,_0x45178c,_0x1b9534)=>_0x354ad3(_0x2f40d6,_0x45178c,_0x1b9534,_0x59fa78));};const _0x3cae96=_0x558a61('botium-box-server-endpoints-attachments');var _0x323d54=(_0x4e7dcb,_0x6f4332)=>{_0x4e7dcb[_0x5a81('0x18e')](_0x5a81('0x23f'),(_0x4634dc,_0x2a1759)=>{const _0x3b4e0e=_0x4634dc['params']['id'];const _0x73c98a=_0x6f4332(_0x4634dc);_0x424e74[_0x5a81('0x240')](_0x73c98a['db'],_0x3b4e0e)[_0x5a81('0x67')](_0x30ff7b=>{if(_0x30ff7b){const _0x1e3706=new Buffer(_0x30ff7b[_0x5a81('0x94')],_0x5a81('0xea'));_0x2a1759[_0x5a81('0x241')](0xc8,{'Content-disposition':'attachment;\x20filename='+_0x30ff7b['filename'],'Content-Length':_0x1e3706['length']});_0x2a1759['end'](_0x1e3706);}else{_0x3cae96(_0x5a81('0x242')+_0x3b4e0e);_0x2a1759[_0x5a81('0x243')](0x194);}})['catch'](_0x10bf46=>{_0x3cae96(_0x5a81('0x244')+_0x3b4e0e+_0x5a81('0x144')+_0x10bf46);_0x2a1759['sendStatus'](0x194);});});_0x4e7dcb[_0x5a81('0x18e')]('/api/attachment/screenshot/:id',(_0x54a72f,_0x260ab9)=>{const _0x5ca304=_0x54a72f[_0x5a81('0x245')]['id'];const _0x59b652=_0x6f4332(_0x54a72f);_0x424e74[_0x5a81('0x246')](_0x59b652['db'],_0x5ca304)['then'](_0x323d54=>{if(_0x323d54){const _0x39e3a5=new Buffer(_0x323d54[_0x5a81('0xea')],'base64');_0x260ab9['writeHead'](0xc8,{'Content-Disposition':'inline;\x20filename='+_0x323d54[_0x5a81('0x51')],'Content-Type':_0x323d54[_0x5a81('0xe9')],'Content-Length':_0x39e3a5[_0x5a81('0x4f')]});_0x260ab9[_0x5a81('0x247')](_0x39e3a5);}else{_0x3cae96('Attachment\x20not\x20found\x20-\x20'+_0x5ca304);_0x260ab9[_0x5a81('0x243')](0x194);}})['catch'](_0x59f143=>{_0x3cae96(_0x5a81('0x248')+_0x5ca304+_0x5a81('0x144')+_0x59f143);_0x260ab9[_0x5a81('0x243')](0x194);});});};const _0x41107d=_0x558a61(_0x5a81('0x249'));const _0x25c48d=_0x1488b7[_0x5a81('0x24a')];const _0x659e6d=(_0x425b65,_0x13ea77)=>{return _0x425b65[_0x5a81('0x4c')][_0x13ea77]||_0x425b65[_0x5a81('0x233')]&&_0x425b65['body'][_0x13ea77]||_0x425b65[_0x5a81('0x234')][_0x13ea77];};const _0x4b7b00=(_0x16137d,_0x58dbd6,_0x9ca07a,_0x304319)=>{_0x424e74[_0x5a81('0x24b')](_0x58dbd6['db'],_0x16137d)[_0x5a81('0x67')](_0x462076=>{if(!_0x462076){throw new Error(_0x5a81('0x9c')+_0x16137d+_0x5a81('0x1fc'));}const _0x514e0e=_0x659e6d(_0x9ca07a,'REPORTER')||_0x5a81('0x24c');if(_0x514e0e===_0x5a81('0x24c')){delete _0x462076['results'];if(_0x462076['status']==='FAILED'){_0x304319[_0x5a81('0xc9')](0x1f4)[_0x5a81('0x24d')](_0x462076);}else{_0x304319[_0x5a81('0xc9')](0xc8)[_0x5a81('0x24d')](_0x462076);}}else if(_0x514e0e===_0x5a81('0x24e')){const _0x54614b=_0x49a4dc[_0x5a81('0x24f')](_0x462076[_0x5a81('0x1bc')],_0xef011=>_0xef011[_0x5a81('0x53')]?_0xef011['testSet'][_0x5a81('0x51')]:'');const _0x395157=_0x49a4dc[_0x5a81('0x15c')](_0x54614b)[_0x5a81('0x91')](_0x287ba3=>{const _0x53e7b5=_0x54614b[_0x287ba3];const _0x3169d6={'testsuite':[{'_attr':{'name':_0x287ba3||'unnamed','tests':_0x53e7b5[_0x5a81('0x4f')],'failures':_0x53e7b5[_0x5a81('0x8b')](_0x2d190c=>!_0x2d190c[_0x5a81('0xdc')])['length']}}]};return _0x3169d6;});const _0x4e157f=_0x306601({'testsuites':[{'_attr':{'name':_0x462076[_0x5a81('0x51')],'tests':_0x462076[_0x5a81('0x1bc')][_0x5a81('0x4f')],'failures':_0x462076[_0x5a81('0x1bc')]['filter'](_0x2d6bb6=>!_0x2d6bb6['success'])['length']}}][_0x5a81('0x158')](_0x395157)},{'declaration':!![]});_0x304319[_0x5a81('0x18f')]('Content-Type',_0x5a81('0x250'));_0x304319[_0x5a81('0xc9')](0xc8)['send'](_0x4e157f);}else{_0x304319[_0x5a81('0x243')](0x194)['send'](_0x5a81('0x251'));}})[_0x5a81('0x60')](_0x528c68=>{_0x41107d(_0x5a81('0x252')+_0x16137d+'\x20-\x20'+_0x528c68);_0x304319[_0x5a81('0x243')](0x194);});};const _0x4dfded=(_0x4e1759,_0x3c4240,_0xdf8629,_0x16e42a)=>{const _0x168141=_0x3c4240[_0x5a81('0xfa')][_0x5a81('0x122')](_0x5a81('0x225'));(async function loop(){while(!![]){const {value}=await _0x168141[_0x5a81('0x253')]();if(value['testSessionProgress']&&value[_0x5a81('0x10f')][_0x5a81('0xc9')]&&value[_0x5a81('0x10f')]['id']===_0x4e1759){_0x41107d(_0x5a81('0x254')+_0x4e1759+_0x5a81('0x255')+value[_0x5a81('0x10f')][_0x5a81('0xc9')]);if(value[_0x5a81('0x10f')][_0x5a81('0xc9')]==='READY'){return _0x4b7b00(_0x4e1759,_0x3c4240,_0xdf8629,_0x16e42a);}if(value['testSessionProgress'][_0x5a81('0xc9')]===_0x5a81('0xf8')){return _0x4b7b00(_0x4e1759,_0x3c4240,_0xdf8629,_0x16e42a);}}}}());};const _0x269c2c=({ctxFactory,testProjectCode,req,res})=>{const _0x39d8f5=_0x2f3555(req);_0x39d8f5['db'][_0x5a81('0x4c')][_0x5a81('0xa1')]({'where':{'code':testProjectCode}},_0x5a81('0x256'))['then'](_0x2a2f2d=>{if(!_0x2a2f2d){throw new Error(_0x5a81('0x254')+testProjectCode+'\x20not\x20found');}const _0x39f647=_0x659e6d(req,_0x5a81('0x257'));const _0x20fe17=_0x659e6d(req,'BUILDCOMMENT');const _0x552d6a=_0x659e6d(req,_0x5a81('0x258'));const _0x3ca3f4=_0x181c2a=>{return Object['keys'](_0x181c2a)[_0x5a81('0x47')]((_0x5dc20e,_0x58706f)=>{_0x5dc20e[_0x5a81('0x10a')]({'name':_0x58706f,'type':'STRING','stringValue':_0x181c2a[_0x58706f]});return _0x5dc20e;},[]);};const _0x1465b1=req[_0x5a81('0x233')]&&req[_0x5a81('0x233')][_0x5a81('0x259')]&&_0x3ca3f4(req['body'][_0x5a81('0x259')])||[];const _0x2f03a8=req[_0x5a81('0x233')]&&req['body'][_0x5a81('0x25a')]&&_0x3ca3f4(req[_0x5a81('0x233')]['SOURCES'])||[];const _0x39dea2=req[_0x5a81('0x233')]&&req[_0x5a81('0x233')][_0x5a81('0x25b')]&&_0x3ca3f4(req['body'][_0x5a81('0x25b')])||[];const _0x39dc3f={'name':_0x39f647||_0x2a2f2d[_0x5a81('0x51')]+_0x5a81('0x25c'),'description':_0x20fe17,'status':_0x5a81('0xaf'),'tags':{'set':_0x552d6a?_0x49a4dc[_0x5a81('0x25d')](_0x552d6a)?_0x552d6a:[_0x552d6a]:[]},'chatbot':{'connect':{'id':_0x2a2f2d[_0x5a81('0xa3')]['id']}},'testSets':{'connect':_0x2a2f2d[_0x5a81('0x184')]&&_0x2a2f2d[_0x5a81('0x184')][_0x5a81('0x91')](_0x56761c=>{return{'id':_0x56761c['id']};})},'deviceSets':{'connect':_0x2a2f2d['deviceSets']&&_0x2a2f2d[_0x5a81('0xb5')][_0x5a81('0x91')](_0xc95cf0=>{return{'id':_0xc95cf0['id']};})},'testProject':{'connect':{'id':_0x2a2f2d['id']}},'capabilities':{'create':_0x1465b1},'sources':{'create':_0x2f03a8},'envs':{'create':_0x39dea2},'batchCount':_0x2a2f2d[_0x5a81('0x25e')]};_0x41107d(_0x5a81('0x25f')+JSON[_0x5a81('0x87')](_0x39dc3f,null,0x2));return _0x25c48d(null,{'testSession':_0x39dc3f},_0x39d8f5,_0x5a81('0x260'));})[_0x5a81('0x67')](_0x5e7dc5=>{const _0x6622ce=_0x659e6d(req,_0x5a81('0x261'));if(_0x5e7dc5[_0x5a81('0xc9')]!=='READY'&&_0x5e7dc5[_0x5a81('0xc9')]!==_0x5a81('0xf8')&&_0x6622ce==='1'){_0x4dfded(_0x5e7dc5['id'],_0x39d8f5,req,res);}else{_0x4b7b00(_0x5e7dc5['id'],_0x39d8f5,req,res);}})['catch'](_0x2e2fed=>{_0x41107d(_0x5a81('0x262')+testProjectCode+_0x5a81('0x144')+_0x2e2fed);res[_0x5a81('0x243')](0x194);});};const _0x3e9298=({ctxFactory,nameOrId,req,res})=>{const _0x4d0b34=_0x2f3555(req);_0x4d0b34['db'][_0x5a81('0x4c')][_0x5a81('0x146')]({'where':{'OR':[{'id':nameOrId},{'name':nameOrId}]},'orderBy':_0x5a81('0x145'),'first':0x1},_0x5a81('0x263'))[_0x5a81('0x67')](_0x32995e=>{if(!_0x32995e){return res[_0x5a81('0x243')](0x194);}const _0x230528=_0x32995e[0x0];const _0x38a325=_0x659e6d(req,_0x5a81('0x261'));if(_0x230528['status']!==_0x5a81('0xf0')&&_0x230528[_0x5a81('0xc9')]!=='FAILED'&&_0x38a325==='1'){_0x4dfded(_0x230528['id'],_0x4d0b34,req,res);}else{_0x4b7b00(_0x230528['id'],_0x4d0b34,req,res);}})[_0x5a81('0x60')](_0x4e05ec=>{_0x41107d(_0x5a81('0x252')+nameOrId+'\x20-\x20'+_0x4e05ec);res[_0x5a81('0x243')](0x194);});};var _0x11fb51=(_0x413ec4,_0x266237)=>{const _0x2a89dd=(_0x2d6678,_0x2261d9)=>{_0x269c2c({'testProjectCode':_0x2d6678[_0x5a81('0x245')]['code'],'ctxFactory':_0x266237,'req':_0x2d6678,'res':_0x2261d9});};const _0xe64648=(_0x1ab65b,_0x51f99f)=>{_0x3e9298({'nameOrId':_0x1ab65b[_0x5a81('0x245')][_0x5a81('0x264')],'ctxFactory':_0x266237,'req':_0x1ab65b,'res':_0x51f99f});};_0x413ec4[_0x5a81('0x265')](_0x5a81('0x266'),_0x2a89dd);_0x413ec4[_0x5a81('0x18e')](_0x5a81('0x266'),_0x2a89dd);_0x413ec4[_0x5a81('0x18e')](_0x5a81('0x267'),_0xe64648);};var _0x576ac1=(_0x3b6b68,_0x5db9ce)=>{_0x3b6b68[_0x5a81('0x18e')](_0x5a81('0x268'),(_0x540829,_0x4b2875)=>{_0x4b2875[_0x5a81('0xc9')](0xc8)[_0x5a81('0x24d')](_0x35b747[_0x5a81('0x269')]);});};const _0xd0a7c4=_0x558a61('botium-box-server-endpoints');const _0x4aa1c2=(_0x149c1,_0x45ebd1,_0xe9206f,_0x2a3777)=>{if(!_0x45ebd1[_0x5a81('0x1af')]&&!_0x45ebd1[_0x5a81('0x118')])return _0xe9206f[_0x5a81('0x243')](0x191);else return _0x2a3777();};var _0x2e5821=(_0x400b9e,_0x13f380)=>{_0x400b9e[_0x5a81('0x23e')](_0x4ae9e3[_0x5a81('0x24c')]({'limit':_0x5a81('0x26a'),'extended':!![]}));_0x400b9e[_0x5a81('0x23e')]([_0x5a81('0x26b'),_0x5a81('0x26c'),_0x5a81('0x26d')],_0x4aa1c2[_0x5a81('0x26e')](null,_0x13f380));_0x323d54(_0x400b9e,_0x13f380);_0x11fb51(_0x400b9e,_0x13f380);_0x576ac1(_0x400b9e,_0x13f380);};_0x59f2df['config']();_0x35b747[_0x5a81('0x26f')]();const {GraphQLServer,PubSub}=_0x5d4167;const {Prisma}=_0xf1416c;const {validateToken:validateToken$1}=_0x2324c9;const _0xe53b46=_0x558a61(_0x5a81('0x270'));const _0x1f1fac=()=>{return new Prisma({'typeDefs':process[_0x5a81('0x43')][_0x5a81('0x271')]||_0x5a81('0x272'),'endpoint':process[_0x5a81('0x43')][_0x5a81('0x273')],'debug':process[_0x5a81('0x43')][_0x5a81('0x274')],'secret':process[_0x5a81('0x43')][_0x5a81('0x275')]});};const _0x12b292=(_0x3562e9,_0x530907)=>{if(_0x3562e9)console[_0x5a81('0x3e')](_0x3562e9);if(_0x530907)console['log'](_0x530907);process[_0x5a81('0x276')](0x1);};let _0x54acb3={};if(process['env'][_0x5a81('0x277')]){try{_0x54acb3=JSON[_0x5a81('0x7a')](process[_0x5a81('0x43')][_0x5a81('0x277')]);_0xe53b46('Got\x20queue\x20settings\x20\x27'+JSON[_0x5a81('0x87')](_0x54acb3)+'\x27');}catch(_0x732574){_0x12b292(_0x5a81('0x278')+process['env'][_0x5a81('0x277')]+'\x22:',_0x732574);}}else{if(process[_0x5a81('0x43')]['BOTIUMBOX_QUEUE_PREFIX']){_0x54acb3[_0x5a81('0x279')]=process[_0x5a81('0x43')][_0x5a81('0x27a')];}if(process['env'][_0x5a81('0x27b')]){_0x54acb3[_0x5a81('0x27c')]=process[_0x5a81('0x43')]['BOTIUMBOX_QUEUE_REDISURL'];}}_0xe53b46(_0x5a81('0x27d')+JSON[_0x5a81('0x87')](_0x54acb3)+'\x27');const _0xdd4c7c=_0x5ba110['createQueue'](_0x54acb3);_0xdd4c7c['on']('error',_0x2bca32=>{_0x12b292(_0x5a81('0x27e')+JSON['stringify'](_0x54acb3)+'\x27:',_0x2bca32);});process[_0x5a81('0x43')]['BOTIUM_TEMPDIR']=process[_0x5a81('0x43')][_0x5a81('0x165')]||_0x5a81('0x27f');try{_0x7fec69['sync'](process[_0x5a81('0x43')][_0x5a81('0x165')]);_0xe53b46('Using\x20BOTIUM_TEMPDIR\x20'+process[_0x5a81('0x43')][_0x5a81('0x165')]);}catch(_0x33b230){_0x12b292(_0x5a81('0x280')+process[_0x5a81('0x43')][_0x5a81('0x165')]+'\x27:',_0x33b230);}process['env'][_0x5a81('0x5f')]=process[_0x5a81('0x43')][_0x5a81('0x5f')]||'./testsets';try{_0x7fec69[_0x5a81('0x168')](process[_0x5a81('0x43')]['TESTSETDIR']);_0xe53b46(_0x5a81('0x281')+process[_0x5a81('0x43')]['TESTSETDIR']);}catch(_0x2d25c0){_0x12b292(_0x5a81('0x282')+process[_0x5a81('0x43')][_0x5a81('0x5f')]+'\x27:',_0x2d25c0);}_0x9ba8fa[_0x5a81('0x283')](_0x1f1fac());const _0x507c18=new PubSub();const _0x2f3555=_0x52e0b1=>({..._0x52e0b1||{},'db':_0x1f1fac(),'queueConnector':_0xdd4c7c,'pubsub':_0x507c18});const _0x3c54cc=new GraphQLServer({'typeDefs':process[_0x5a81('0x43')][_0x5a81('0x284')]||_0x5a81('0x285'),'resolvers':_0x547e0b,'resolverValidationOptions':{'requireResolversForResolveType':![]},'directiveResolvers':_0x1a18d2,'context':_0x2f3555});const _0x284e27={'port':process[_0x5a81('0x43')][_0x5a81('0x286')]||0xfa0,'endpoint':_0x5a81('0x287'),'subscriptions':{'path':_0x5a81('0x288'),'onConnect':async(_0x2adf53,_0x46c0a5,_0x1595ec)=>{if(_0x2adf53['Authorization']){_0xe53b46('onConnect\x20called,\x20authorization\x20'+_0x2adf53['Authorization']);const _0x3fbbf1=await validateToken$1(_0x2adf53[_0x5a81('0x289')],_0x1f1fac());return{'user':_0x3fbbf1};}throw new Error(_0x5a81('0x28a'));},'onDisconnect':(_0x372ffb,_0x5e90b2)=>{}},'playground':_0x5a81('0x28b')};_0x3ad33d(_0x3c54cc[_0x5a81('0x20')],_0x284e27,_0x2f3555);_0x2e5821(_0x3c54cc[_0x5a81('0x20')],_0x2f3555);_0x3c54cc[_0x5a81('0x28c')](_0x284e27,({port})=>{const _0x59e280=_0x2c9d0d[_0x5a81('0x48')](__dirname,_0x5a81('0x28d'));_0x3c54cc[_0x5a81('0x20')]['use'](_0x165baa());_0x3c54cc[_0x5a81('0x20')]['use']('/',_0x244e7e[_0x5a81('0x28e')](_0x59e280));console[_0x5a81('0x3e')]('Server\x20started,\x20listening\x20on\x20port\x20'+port+_0x5a81('0x28f')+_0x59e280);});const _0x276a64=new _0x3c5c1c(_0x2f3555);_0x276a64[_0x5a81('0x28c')]();var _0x2bab40={};return _0x2bab40;}));