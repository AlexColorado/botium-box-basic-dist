var _0x6aab=['header','\x20from\x20','Running\x20Convo\x20\x22','container','\x22\x20completed\x20successfully.','transcript','Stop','err','message','stringify','steps','toString','Clean','Test\x20Session\x20cancelled','Exec','printVersion','env','BOTIUMBOX_AGENT_NAME','hostname','BOTIUMBOX_AGENT_NUM','Default\x20Agent','BOTIUMBOX_AGENT_GROUP','Default\x20Group','Connecting\x20agent\x20','\x20to\x20group\x20','\x20...','BOTIUMBOX_QUEUE_SETTINGS','ERROR\x20parsing\x20queue\x20settings\x20\x27','exit','BOTIUMBOX_QUEUE_PREFIX','BOTIUMBOX_QUEUE_REDISURL','redis','connecting\x20to\x20Botium\x20queue\x20\x27','BOTIUMBOX_QUEUE_CONCURRENCY','error','ERROR\x20connecting\x20to\x20queue\x20\x27','create','agent.register','register\x20agent\x20','priority','attempts','removeOnComplete','failed','ERROR\x20registering\x20agent:','Registration\x20completed\x20with\x20result\x20\x27','\x27,\x20now\x20accepting\x20processing\x20jobs\x20(concurrency\x20','Processing\x20Job\x20','run','\x20finished\x20with\x20result:','\x20failed:','Cancel\x20Test\x20Session\x20event\x20received,\x20but\x20no\x20testSessionId\x20given','Canceling\x20Test\x20Session\x20Job\x20','jobId','cancel','Trying\x20to\x20reconfigure\x20agent\x20...','high','ttl','save','ERROR\x20reconfiguring\x20agent:','complete','Reconfiguration\x20completed\x20with\x20result\x20\x27','process','process.','agent.reconfigure.','agent.heartbeat','heartbeat\x20from\x20agent\x20','object','undefined','exports','slugify','botium-core/src/scripting/Constants','botium-core/src/repos/GitRepo','botium-core','kue','function','amd','util','botium-core/src/Source','botium-core/src/Capabilities','lodash','debug','dotenv-flow','path','Source','Capabilities','botiumCore','dotenvFlow','hasOwnProperty','default','COMMUNITY\x20EDITION','release/1.1.2','2019-02-11T13:49:37+01:00','log','BUILD_TARGET:\x20','buildTarget','BUILD_BRANCH:\x20','buildBranch','BUILD_REVISION:\x20','buildRevision','buildDate','botium-retrieve-all-test-cases','convos','forEach','from','content','base64','Compile','SCRIPTING_TYPE_CONVO','format','sourceTag','name',':\x20Convo\x20Script\x20compilation\x20failed:\x20','inspect','utterances','SCRIPTING_FORMAT_TXT','SCRIPTING_TYPE_UTTERANCES','folders','ReadScriptsFromDirectory','globFilter','assign',':\x20Folder\x20','\x20script\x20compilation\x20failed:\x20','resolve','excels','length','all','SCRIPTING_XLSX_SHEETNAMES','caps','SCRIPTING_XLSX_STARTROW','SCRIPTING_XLSX_STARTCOL','SCRIPTING_FORMAT_XSLX','BotDriver','botium-box-worker-runtestcases','unhook','replace','progress','total','push','title','botium','data','Sources','Envs','BuildFluent','compiler','BuildCompiler','_validate','then','tempDirectory','sources','testSets','expandConvos','expanding\x20convos\x20...','ExpandConvos','filter','expandUtterancesToConvos','uniq','map','expandUtterancesIncomprehension','expanding\x20utterances\x20to\x20convos\x20not\x20possible,\x20found\x20multiple\x20INCOMPREHENSION\x20utterances:\x20','expanding\x20utterances\x20to\x20convos\x20...','SCRIPTING_UTTEXPANSION_INCOMPREHENSION','ExpandUtterancesToConvos','found\x20','\x20convos\x20...','reduce','catch','batchCount','ceil','min','batchNum:\x20','\x20batchCount:\x20','\x20convosPerBatch:\x20','\x20batchStart:\x20',':\x20batchNum:\x20','attachments','eventEmitter','MESSAGE_SENTTOBOT','removeListener','MESSAGE_ATTACHMENT','MESSAGE_RECEIVEDFROMBOT','CONTAINER_STARTED','Call'];(function(_0x323e47,_0x10aea3){var _0x55f925=function(_0x16c8f4){while(--_0x16c8f4){_0x323e47['push'](_0x323e47['shift']());}};var _0x4c0859=function(){var _0x4aa61e={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x2c94ca,_0x1caf4b,_0x5a9785,_0x4944fa){_0x4944fa=_0x4944fa||{};var _0x36372c=_0x1caf4b+'='+_0x5a9785;var _0x2064ef=0x0;for(var _0x2064ef=0x0,_0x423f9d=_0x2c94ca['length'];_0x2064ef<_0x423f9d;_0x2064ef++){var _0x29fc31=_0x2c94ca[_0x2064ef];_0x36372c+=';\x20'+_0x29fc31;var _0x1643a6=_0x2c94ca[_0x29fc31];_0x2c94ca['push'](_0x1643a6);_0x423f9d=_0x2c94ca['length'];if(_0x1643a6!==!![]){_0x36372c+='='+_0x1643a6;}}_0x4944fa['cookie']=_0x36372c;},'removeCookie':function(){return'dev';},'getCookie':function(_0x51c79b,_0x4aee38){_0x51c79b=_0x51c79b||function(_0x4ba9dd){return _0x4ba9dd;};var _0x3a5b12=_0x51c79b(new RegExp('(?:^|;\x20)'+_0x4aee38['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x43f7e4=function(_0x3b2c88,_0x3e3b70){_0x3b2c88(++_0x3e3b70);};_0x43f7e4(_0x55f925,_0x10aea3);return _0x3a5b12?decodeURIComponent(_0x3a5b12[0x1]):undefined;}};var _0x350e8b=function(){var _0x5e2595=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x5e2595['test'](_0x4aa61e['removeCookie']['toString']());};_0x4aa61e['updateCookie']=_0x350e8b;var _0x5bda0d='';var _0x460042=_0x4aa61e['updateCookie']();if(!_0x460042){_0x4aa61e['setCookie'](['*'],'counter',0x1);}else if(_0x460042){_0x5bda0d=_0x4aa61e['getCookie'](null,'counter');}else{_0x4aa61e['removeCookie']();}};_0x4c0859();}(_0x6aab,0x1b0));var _0x6772=function(_0x516d65,_0x59cc06){_0x516d65=_0x516d65-0x0;var _0x5a731e=_0x6aab[_0x516d65];return _0x5a731e;};(function(_0x3f223d,_0x4a18aa){var _0x4a0b5e=function(){var _0x1b4955=!![];return function(_0x336bd2,_0xc7e00c){var _0x20d6e9=_0x1b4955?function(){if(_0xc7e00c){var _0x2ce5c3=_0xc7e00c['apply'](_0x336bd2,arguments);_0xc7e00c=null;return _0x2ce5c3;}}:function(){};_0x1b4955=![];return _0x20d6e9;};}();var _0x4c8f5b=_0x4a0b5e(this,function(){var _0x13a021=function(){return'\x64\x65\x76';},_0xcee454=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x5eef4b=function(){var _0x2702b8=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x2702b8['\x74\x65\x73\x74'](_0x13a021['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x3122ad=function(){var _0x105cd4=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x105cd4['\x74\x65\x73\x74'](_0xcee454['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x5380d5=function(_0x469213){var _0xc5ce9c=~-0x1>>0x1+0xff%0x0;if(_0x469213['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0xc5ce9c)){_0x5375f8(_0x469213);}};var _0x5375f8=function(_0x3f1071){var _0x801c13=~-0x4>>0x1+0xff%0x0;if(_0x3f1071['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x801c13){_0x5380d5(_0x3f1071);}};if(!_0x5eef4b()){if(!_0x3122ad()){_0x5380d5('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x5380d5('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x5380d5('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x4c8f5b();typeof exports===_0x6772('0x0')&&typeof module!==_0x6772('0x1')?module[_0x6772('0x2')]=_0x4a18aa(require('util'),require('path'),require(_0x6772('0x3')),require(_0x6772('0x4')),require('botium-core/src/Source'),require(_0x6772('0x5')),require('botium-core/src/Capabilities'),require('intercept-stdout'),require('lodash'),require(_0x6772('0x6')),require('debug'),require('dotenv-flow'),require('os'),require(_0x6772('0x7'))):typeof define===_0x6772('0x8')&&define[_0x6772('0x9')]?define([_0x6772('0xa'),'path','slugify','botium-core/src/scripting/Constants',_0x6772('0xb'),_0x6772('0x5'),_0x6772('0xc'),'intercept-stdout',_0x6772('0xd'),'botium-core',_0x6772('0xe'),_0x6772('0xf'),'os',_0x6772('0x7')],_0x4a18aa):_0x3f223d['main']=_0x4a18aa(_0x3f223d[_0x6772('0xa')],_0x3f223d[_0x6772('0x10')],_0x3f223d[_0x6772('0x3')],_0x3f223d['Constants'],_0x3f223d[_0x6772('0x11')],_0x3f223d['GitRepo'],_0x3f223d[_0x6772('0x12')],_0x3f223d['interceptStdout'],_0x3f223d[_0x6772('0xd')],_0x3f223d[_0x6772('0x13')],_0x3f223d[_0x6772('0xe')],_0x3f223d[_0x6772('0x14')],_0x3f223d['os'],_0x3f223d[_0x6772('0x7')]);}(this,function(_0x443eb2,_0x3f9340,_0x2651ee,_0x1dc004,_0x3ef77f,_0x1a6022,_0x260ae8,_0x4c7ff0,_0x3052c5,_0x225f9c,_0x1c5f64,_0x487133,_0x44b581,_0x172459){'use strict';_0x443eb2=_0x443eb2&&_0x443eb2[_0x6772('0x15')]('default')?_0x443eb2[_0x6772('0x16')]:_0x443eb2;_0x3f9340=_0x3f9340&&_0x3f9340[_0x6772('0x15')](_0x6772('0x16'))?_0x3f9340[_0x6772('0x16')]:_0x3f9340;_0x2651ee=_0x2651ee&&_0x2651ee[_0x6772('0x15')]('default')?_0x2651ee[_0x6772('0x16')]:_0x2651ee;_0x1dc004=_0x1dc004&&_0x1dc004['hasOwnProperty'](_0x6772('0x16'))?_0x1dc004[_0x6772('0x16')]:_0x1dc004;_0x3ef77f=_0x3ef77f&&_0x3ef77f[_0x6772('0x15')]('default')?_0x3ef77f[_0x6772('0x16')]:_0x3ef77f;_0x1a6022=_0x1a6022&&_0x1a6022[_0x6772('0x15')](_0x6772('0x16'))?_0x1a6022[_0x6772('0x16')]:_0x1a6022;_0x260ae8=_0x260ae8&&_0x260ae8[_0x6772('0x15')]('default')?_0x260ae8[_0x6772('0x16')]:_0x260ae8;_0x4c7ff0=_0x4c7ff0&&_0x4c7ff0['hasOwnProperty'](_0x6772('0x16'))?_0x4c7ff0[_0x6772('0x16')]:_0x4c7ff0;_0x3052c5=_0x3052c5&&_0x3052c5[_0x6772('0x15')](_0x6772('0x16'))?_0x3052c5[_0x6772('0x16')]:_0x3052c5;_0x225f9c=_0x225f9c&&_0x225f9c[_0x6772('0x15')](_0x6772('0x16'))?_0x225f9c[_0x6772('0x16')]:_0x225f9c;_0x1c5f64=_0x1c5f64&&_0x1c5f64['hasOwnProperty'](_0x6772('0x16'))?_0x1c5f64[_0x6772('0x16')]:_0x1c5f64;_0x487133=_0x487133&&_0x487133['hasOwnProperty'](_0x6772('0x16'))?_0x487133[_0x6772('0x16')]:_0x487133;_0x44b581=_0x44b581&&_0x44b581['hasOwnProperty'](_0x6772('0x16'))?_0x44b581['default']:_0x44b581;_0x172459=_0x172459&&_0x172459['hasOwnProperty'](_0x6772('0x16'))?_0x172459[_0x6772('0x16')]:_0x172459;const _0x969d8={'buildTarget':_0x6772('0x17'),'buildBranch':_0x6772('0x18'),'buildRevision':'bdc9d7c053239ee37ef7c71fa0b140670580264d','buildDate':_0x6772('0x19')};const _0x23323f=()=>{console['log']('BOTIUM\x20BOX\x20-\x20AGENT');console[_0x6772('0x1a')](_0x6772('0x1b')+_0x969d8[_0x6772('0x1c')]);console[_0x6772('0x1a')](_0x6772('0x1d')+_0x969d8[_0x6772('0x1e')]);console[_0x6772('0x1a')](_0x6772('0x1f')+_0x969d8[_0x6772('0x20')]);console[_0x6772('0x1a')]('BUILD_TIMESTAMP:\x20'+_0x969d8[_0x6772('0x21')]);};var _0x104851={'buildInfo':_0x969d8,'printVersion':_0x23323f};const _0x311695=_0x1c5f64(_0x6772('0x22'));var _0x4d4765=(_0x378991,_0x2293e0,_0x286c7b,_0x52db41)=>{_0x378991[_0x6772('0x23')]&&_0x378991[_0x6772('0x23')][_0x6772('0x24')](_0x435db2=>{let _0x32f672=[];let _0x3c4525=[];try{if(_0x435db2['format']===_0x1dc004['SCRIPTING_FORMAT_XSLX']){const _0x5a9b36=Buffer[_0x6772('0x25')](_0x435db2[_0x6772('0x26')],_0x6772('0x27'));_0x3c4525=_0x2293e0[_0x6772('0x28')](_0x5a9b36,_0x1dc004['SCRIPTING_FORMAT_XSLX'],_0x1dc004['SCRIPTING_TYPE_UTTERANCES']);_0x32f672=_0x2293e0[_0x6772('0x28')](_0x5a9b36,_0x1dc004['SCRIPTING_FORMAT_XSLX'],_0x1dc004[_0x6772('0x29')]);}else if(_0x435db2[_0x6772('0x2a')]===_0x1dc004['SCRIPTING_FORMAT_TXT']){_0x32f672=_0x2293e0[_0x6772('0x28')](_0x435db2[_0x6772('0x26')],_0x1dc004['SCRIPTING_FORMAT_TXT'],_0x1dc004['SCRIPTING_TYPE_CONVO']);}if(_0x32f672)_0x32f672['forEach'](_0x15baf6=>{_0x15baf6[_0x6772('0x2b')]=_0x435db2[_0x6772('0x2b')];});if(_0x3c4525)_0x3c4525[_0x6772('0x24')](_0x461a57=>{_0x461a57['sourceTag']=_0x435db2[_0x6772('0x2b')];});}catch(_0x5d8794){_0x311695(_0x5d8794);throw new Error(_0x378991[_0x6772('0x2c')]+_0x6772('0x2d')+_0x443eb2[_0x6772('0x2e')](_0x5d8794));}});_0x378991[_0x6772('0x2f')]&&_0x378991[_0x6772('0x2f')][_0x6772('0x24')](_0x3ee928=>{let _0x46ceb0=[];try{_0x46ceb0=_0x2293e0[_0x6772('0x28')](_0x3ee928[_0x6772('0x26')],_0x1dc004[_0x6772('0x30')],_0x1dc004[_0x6772('0x31')]);if(_0x46ceb0)_0x46ceb0[_0x6772('0x24')](_0x53a4e0=>{_0x53a4e0[_0x6772('0x2b')]=_0x3ee928['sourceTag'];});}catch(_0x360bcb){_0x311695(_0x360bcb);throw new Error(_0x378991['name']+':\x20Utterance\x20script\x20compilation\x20failed:\x20'+_0x443eb2['inspect'](_0x360bcb));}});_0x378991['folders']&&_0x378991[_0x6772('0x32')]['forEach'](_0x4a193d=>{try{const {convos,utterances}=_0x2293e0[_0x6772('0x33')](_0x4a193d[_0x6772('0x10')],_0x4a193d[_0x6772('0x34')]);convos&&convos['forEach'](_0x333344=>{_0x333344[_0x6772('0x2b')]=Object[_0x6772('0x35')]({},_0x333344[_0x6772('0x2b')],_0x4a193d[_0x6772('0x2b')]);});utterances&&utterances['forEach'](_0xf5aead=>{_0xf5aead[_0x6772('0x2b')]=Object['assign']({},_0xf5aead[_0x6772('0x2b')],_0x4a193d[_0x6772('0x2b')]);});}catch(_0x4d770c){_0x311695(_0x4d770c);throw new Error(_0x378991[_0x6772('0x2c')]+_0x6772('0x36')+_0x4a193d+_0x6772('0x37')+_0x443eb2[_0x6772('0x2e')](_0x4d770c));}});let _0x2762a8=Promise[_0x6772('0x38')]();if(_0x378991[_0x6772('0x39')]&&_0x378991[_0x6772('0x39')][_0x6772('0x3a')]>0x0){_0x2762a8=Promise[_0x6772('0x3b')](_0x378991[_0x6772('0x39')]['map'](({id,filename,filecontent,hasConvos,hasUtterances,worksheetsConvos,worksheetsUtterances,startRow,startCol,sourceTag})=>{return new Promise(_0x1b8234=>{const _0x7ceaa6=Buffer[_0x6772('0x25')](filecontent,_0x6772('0x27'));let _0x103a43=[];let _0x43f1e1=[];if(hasConvos){if(worksheetsConvos)_0x2293e0['caps'][_0x260ae8[_0x6772('0x3c')]]=worksheetsConvos;if(!isNaN(startRow))_0x2293e0[_0x6772('0x3d')][_0x260ae8[_0x6772('0x3e')]]=startRow;if(!isNaN(startCol))_0x2293e0[_0x6772('0x3d')][_0x260ae8[_0x6772('0x3f')]]=startCol;_0x103a43=_0x2293e0[_0x6772('0x28')](_0x7ceaa6,_0x1dc004['SCRIPTING_FORMAT_XSLX'],_0x1dc004['SCRIPTING_TYPE_CONVO']);}if(hasUtterances){if(worksheetsUtterances)_0x2293e0[_0x6772('0x3d')][_0x260ae8['SCRIPTING_XLSX_SHEETNAMES_UTTERANCES']]=worksheetsUtterances;if(!isNaN(startRow))_0x2293e0['caps'][_0x260ae8[_0x6772('0x3e')]]=startRow;if(!isNaN(startCol))_0x2293e0[_0x6772('0x3d')][_0x260ae8['SCRIPTING_XLSX_STARTCOL']]=startCol;_0x43f1e1=_0x2293e0[_0x6772('0x28')](_0x7ceaa6,_0x1dc004[_0x6772('0x40')],_0x1dc004[_0x6772('0x31')]);}_0x103a43&&_0x103a43[_0x6772('0x24')](_0x48373a=>{_0x48373a[_0x6772('0x2b')]=Object[_0x6772('0x35')]({},_0x48373a['sourceTag'],sourceTag);});_0x43f1e1&&_0x43f1e1['forEach'](_0x27cf0f=>{_0x27cf0f[_0x6772('0x2b')]=Object['assign']({},_0x27cf0f[_0x6772('0x2b')],sourceTag);});_0x1b8234();});}));}let _0xad3529=Promise['resolve']();return Promise[_0x6772('0x3b')]([_0xad3529,_0x2762a8]);};const _0x296e17=_0x225f9c[_0x6772('0x41')];const _0x22237a=_0x1c5f64(_0x6772('0x42'));const _0x3fedf7={'unhook':null,'progress':0x0,'total':0x0};const _0x5f4134=_0x50c4fa=>{_0x3fedf7[_0x6772('0x43')]=_0x4c7ff0(_0x50eaef=>{const _0x5e3f00=_0x50eaef[_0x6772('0x44')](/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,'');_0x50c4fa[_0x6772('0x45')](_0x3fedf7[_0x6772('0x45')],_0x3fedf7[_0x6772('0x46')],{'log':_0x5e3f00});return _0x50eaef;});};const _0x346be6=()=>{if(_0x3fedf7[_0x6772('0x43')]){_0x3fedf7[_0x6772('0x43')]();_0x3fedf7[_0x6772('0x43')]=null;}_0x3fedf7[_0x6772('0x45')]=0x0;_0x3fedf7[_0x6772('0x46')]=0x0;};const _0xfb6e81={};const _0x445208=(_0x4b5a8c,_0x1ab6bd)=>{if(!_0xfb6e81[_0x4b5a8c])_0xfb6e81[_0x4b5a8c]=[];_0xfb6e81[_0x4b5a8c][_0x6772('0x47')](_0x1ab6bd);};const _0x245792=(_0xdd1392,_0x52fe4b)=>{if(_0xfb6e81[_0xdd1392]){_0xfb6e81[_0xdd1392][_0x6772('0x24')](_0x27a8d1=>_0x27a8d1());delete _0xfb6e81[_0xdd1392];}};const _0x51ebe4=(_0x47267e,_0x3e1153)=>{let _0x3ffb69=![];_0x445208(_0x3e1153['id'],()=>{_0x3ffb69=!![];});return new Promise((_0x6d92dd,_0x37c0c8)=>{_0x3e1153[_0x6772('0x45')](0x0,0x0,{'log':_0x3e1153['data'][_0x6772('0x48')]+':\x20Started\x20processing,\x20JobId\x20#'+_0x3e1153['id']+'.'});_0x5f4134(_0x3e1153);const _0x18ba39={};if(_0x47267e[_0x6772('0x49')]&&_0x47267e[_0x6772('0x49')]['Capabilities'])Object[_0x6772('0x35')](_0x18ba39,_0x47267e[_0x6772('0x49')][_0x6772('0x12')]);if(_0x3e1153[_0x6772('0x4a')]['botium']&&_0x3e1153[_0x6772('0x4a')][_0x6772('0x49')][_0x6772('0x12')])Object[_0x6772('0x35')](_0x18ba39,_0x3e1153[_0x6772('0x4a')][_0x6772('0x49')][_0x6772('0x12')]);const _0x1b7d39={};if(_0x47267e[_0x6772('0x49')]&&_0x47267e[_0x6772('0x49')][_0x6772('0x4b')])Object[_0x6772('0x35')](_0x1b7d39,_0x47267e[_0x6772('0x49')][_0x6772('0x4b')]);if(_0x3e1153[_0x6772('0x4a')][_0x6772('0x49')]&&_0x3e1153['data'][_0x6772('0x49')][_0x6772('0x4b')])Object[_0x6772('0x35')](_0x1b7d39,_0x3e1153[_0x6772('0x4a')][_0x6772('0x49')][_0x6772('0x4b')]);const _0x516907={};if(_0x47267e[_0x6772('0x49')]&&_0x47267e[_0x6772('0x49')][_0x6772('0x4c')])Object[_0x6772('0x35')](_0x516907,_0x47267e[_0x6772('0x49')]['Envs']);if(_0x3e1153['data'][_0x6772('0x49')]&&_0x3e1153[_0x6772('0x4a')][_0x6772('0x49')]['Envs'])Object['assign'](_0x516907,_0x3e1153[_0x6772('0x4a')][_0x6772('0x49')]['Envs']);const _0x4b356d=new _0x296e17(_0x18ba39,_0x1b7d39,_0x516907);const _0x32edbc=_0x4b356d[_0x6772('0x4d')]();_0x32edbc[_0x6772('0x4e')]=_0x4b356d[_0x6772('0x4f')]();_0x4b356d[_0x6772('0x50')]()[_0x6772('0x51')](()=>{return new Promise((_0x6d92dd,_0x37c0c8)=>{const _0xf9dbe9=Promise[_0x6772('0x3b')](_0x3e1153[_0x6772('0x4a')]['testSets']['map'](_0x45a373=>_0x4d4765(_0x45a373,_0x32edbc[_0x6772('0x4e')],_0x4b356d[_0x6772('0x52')],_0x4b356d[_0x6772('0x53')])))['then'](()=>{const _0x4fa5f7=_0x3e1153[_0x6772('0x4a')][_0x6772('0x54')]['filter'](_0x43fbaf=>_0x43fbaf[_0x6772('0x55')])[_0x6772('0x3a')]>0x0;if(_0x4fa5f7){_0x22237a(_0x6772('0x56'));_0x32edbc[_0x6772('0x4e')][_0x6772('0x57')]();}const _0x37e32a=_0x3e1153[_0x6772('0x4a')][_0x6772('0x54')][_0x6772('0x58')](_0x1c299e=>_0x1c299e[_0x6772('0x59')])[_0x6772('0x3a')]>0x0;if(_0x37e32a){const _0x3241ef=_0x3052c5[_0x6772('0x5a')](_0x3e1153[_0x6772('0x4a')][_0x6772('0x54')][_0x6772('0x58')](_0x520bf5=>_0x520bf5[_0x6772('0x59')]&&_0x520bf5['expandUtterancesIncomprehension'])[_0x6772('0x5b')](_0x52ecfb=>_0x52ecfb[_0x6772('0x5c')]));if(_0x3241ef&&_0x3241ef[_0x6772('0x3a')]>0x1){throw new Error(_0x6772('0x5d')+_0x443eb2[_0x6772('0x2e')](_0x3241ef)+'\x20...');}_0x22237a(_0x6772('0x5e'));if(_0x3241ef&&_0x3241ef[_0x6772('0x3a')]>0x0){_0x32edbc[_0x6772('0x4e')][_0x6772('0x3d')][_0x260ae8[_0x6772('0x5f')]]=_0x3241ef[0x0];}_0x32edbc[_0x6772('0x4e')][_0x6772('0x60')]();_0x32edbc[_0x6772('0x4e')][_0x6772('0x57')]();}_0x22237a(_0x6772('0x61')+_0x32edbc['compiler'][_0x6772('0x23')][_0x6772('0x3a')]+_0x6772('0x62'));return _0x32edbc[_0x6772('0x4e')][_0x6772('0x23')];});_0xf9dbe9['then'](_0x53201d=>{_0x6d92dd(_0x53201d[_0x6772('0x63')]((_0x1393c9,_0x42d23d)=>_0x1393c9['concat'](_0x42d23d),[]));})[_0x6772('0x64')](_0x37c0c8);});})[_0x6772('0x51')](()=>{_0x32edbc[_0x6772('0x4e')][_0x6772('0x57')]();const _0x288dbd=_0x3e1153[_0x6772('0x4a')]['batchNum']||0x1;const _0x2a964b=_0x3e1153[_0x6772('0x4a')][_0x6772('0x65')]||0x1;const _0x4096d6=Math[_0x6772('0x66')](_0x32edbc['compiler'][_0x6772('0x23')][_0x6772('0x3a')]/_0x2a964b);const _0x31cb98=_0x4096d6*(_0x288dbd-0x1);const _0xa14c85=Math[_0x6772('0x67')](_0x31cb98+_0x4096d6,_0x32edbc['compiler'][_0x6772('0x23')]['length'])-0x1;_0x22237a(_0x6772('0x68')+_0x288dbd+_0x6772('0x69')+_0x2a964b+_0x6772('0x6a')+_0x4096d6+_0x6772('0x6b')+_0x31cb98+'\x20batchEnd:\x20'+_0xa14c85);_0x3e1153[_0x6772('0x45')](0x0,_0x4096d6,{'log':_0x3e1153[_0x6772('0x4a')][_0x6772('0x48')]+_0x6772('0x6c')+_0x288dbd+'\x20batchCount:\x20'+_0x2a964b+'\x20convosPerBatch:\x20'+_0x4096d6+'\x20batchStart:\x20'+_0x31cb98+'\x20batchEnd:\x20'+_0xa14c85});for(let _0x51168b=_0x31cb98;_0x51168b<=_0xa14c85;_0x51168b++){const _0x23902a=_0x51168b;const _0x279603=_0x32edbc[_0x6772('0x4e')][_0x6772('0x23')][_0x23902a];let _0x518639=null;const _0x21bfb7=[];const _0x40c5f3=(_0x52875e,_0x26f1e8)=>{if(_0x26f1e8['attachments'])_0x21bfb7[_0x6772('0x47')](..._0x26f1e8[_0x6772('0x6d')]);};const _0x15d3bf=(_0x4466cb,_0x35515b)=>{if(_0x35515b[_0x6772('0x6d')])_0x21bfb7[_0x6772('0x47')](..._0x35515b[_0x6772('0x6d')]);};const _0x42fe34=(_0x7c547e,_0x1d0894)=>{_0x21bfb7[_0x6772('0x47')](_0x1d0894);};const _0x5284f1=(_0x32c68e,_0x3fb826)=>{if(_0x3fb826)_0x279603[_0x6772('0x2b')]=Object['assign']({},_0x279603['sourceTag'],_0x3fb826);};const _0x262dcc=()=>{_0x4b356d[_0x6772('0x6e')]['removeListener'](_0x6772('0x6f'),_0x40c5f3);_0x4b356d[_0x6772('0x6e')][_0x6772('0x70')]('MESSAGE_RECEIVEDFROMBOT',_0x15d3bf);_0x4b356d[_0x6772('0x6e')]['removeListener'](_0x6772('0x71'),_0x42fe34);_0x4b356d[_0x6772('0x6e')][_0x6772('0x70')]('CONTAINER_STARTED',_0x5284f1);};const _0x465be1=()=>{_0x4b356d['on'](_0x6772('0x6f'),_0x40c5f3);_0x4b356d['on'](_0x6772('0x72'),_0x15d3bf);_0x4b356d['on'](_0x6772('0x71'),_0x42fe34);_0x4b356d['on'](_0x6772('0x73'),_0x5284f1);};let _0x1311ca=null;_0x32edbc[_0x6772('0x74')](_0x465be1)['Start']();_0x32edbc[_0x6772('0x74')](()=>{return new Promise(_0x6d92dd=>{if(_0x3ffb69){_0x22237a('Test\x20Session\x20cancelled,\x20skipping\x20Convo\x20\x22'+_0x279603[_0x6772('0x75')][_0x6772('0x2c')]+'\x22,\x20Index\x20'+_0x23902a+',\x20'+(_0x23902a-_0x31cb98)+_0x6772('0x76')+_0x4096d6);_0x6d92dd();}else{_0x22237a(_0x6772('0x77')+_0x279603[_0x6772('0x75')][_0x6772('0x2c')]+'\x22,\x20Index\x20'+_0x23902a+',\x20'+(_0x23902a-_0x31cb98)+_0x6772('0x76')+_0x4096d6);return _0x279603['Run'](_0x32edbc[_0x6772('0x78')])[_0x6772('0x51')](_0x56a668=>{_0x22237a(_0x6772('0x77')+_0x279603[_0x6772('0x75')][_0x6772('0x2c')]+_0x6772('0x79'));_0x518639=_0x56a668;_0x6d92dd();})[_0x6772('0x64')](_0x41d950=>{_0x22237a(_0x6772('0x77')+_0x279603[_0x6772('0x75')]['name']+'\x22\x20failed:\x20'+_0x41d950+'.');_0x518639=_0x41d950[_0x6772('0x7a')];_0x1311ca=_0x41d950;_0x6d92dd();});}});});_0x32edbc[_0x6772('0x7b')]()[_0x6772('0x74')](_0x262dcc);_0x32edbc[_0x6772('0x74')](()=>{if(_0x3ffb69)return;if(_0x518639){_0x518639['err']=_0x518639[_0x6772('0x7c')]?_0x518639[_0x6772('0x7c')][_0x6772('0x7d')]?_0x518639['err'][_0x6772('0x7d')]:JSON[_0x6772('0x7e')](_0x518639['err']):null;_0x518639[_0x6772('0x7f')]&&_0x518639['steps'][_0x6772('0x24')](_0x3d86c5=>{_0x3d86c5[_0x6772('0x7c')]=_0x3d86c5['err']?_0x3d86c5[_0x6772('0x7c')][_0x6772('0x7d')]?_0x3d86c5[_0x6772('0x7c')][_0x6772('0x7d')]:JSON[_0x6772('0x7e')](_0x3d86c5[_0x6772('0x7c')]):null;});}_0x3e1153['progress'](_0x23902a-_0x31cb98+0x1,_0x4096d6,{'type':'process','testcase':_0x279603[_0x6772('0x75')][_0x6772('0x2c')],'source':_0x279603[_0x6772('0x80')](),'sourceTag':_0x279603['sourceTag'],'transcript':_0x518639,'attachments':_0x21bfb7,'success':_0x1311ca===null,'err':_0x1311ca?_0x1311ca[_0x6772('0x7d')]?_0x1311ca[_0x6772('0x7d')]:JSON[_0x6772('0x7e')](_0x1311ca):null});});}_0x32edbc[_0x6772('0x81')]();_0x32edbc[_0x6772('0x74')](()=>_0x346be6());_0x32edbc[_0x6772('0x74')](()=>{if(_0x3ffb69){throw new Error(_0x6772('0x82'));}});_0x32edbc[_0x6772('0x83')]()[_0x6772('0x51')](_0x6d92dd)['catch'](_0x37c0c8);})[_0x6772('0x64')](_0x37c0c8);});};var _0x43aa1a={'run':_0x51ebe4,'cancel':_0x245792};_0x487133['config']();_0x104851[_0x6772('0x84')]();const _0x324648=_0x1c5f64('botium-box-worker');const _0x215970=()=>{if(process[_0x6772('0x85')]['BOTIUMBOX_AGENT_NAME']){return process[_0x6772('0x85')][_0x6772('0x86')];}const _0x4c8fe4=_0x44b581[_0x6772('0x87')]();if(_0x4c8fe4&&process[_0x6772('0x85')]['hasOwnProperty'](_0x6772('0x88'))){return _0x4c8fe4+'_'+process[_0x6772('0x85')]['BOTIUMBOX_AGENT_NUM'];}else if(_0x4c8fe4){return _0x4c8fe4;}else{return _0x6772('0x89');}};const _0x35ea09=_0x215970();const _0x54f52d=process[_0x6772('0x85')][_0x6772('0x8a')]||_0x6772('0x8b');_0x324648(_0x6772('0x8c')+_0x35ea09+_0x6772('0x8d')+_0x54f52d+_0x6772('0x8e'));let _0x5bc83b={};if(process[_0x6772('0x85')][_0x6772('0x8f')]){try{_0x5bc83b=JSON['parse'](process[_0x6772('0x85')][_0x6772('0x8f')]);_0x324648('Got\x20queue\x20settings\x20\x27'+JSON[_0x6772('0x7e')](_0x5bc83b)+'\x27');}catch(_0x411431){console[_0x6772('0x1a')](_0x6772('0x90')+process[_0x6772('0x85')][_0x6772('0x8f')]+'\x27:');console[_0x6772('0x1a')](_0x411431);process[_0x6772('0x91')](0x1);}}else{if(process[_0x6772('0x85')][_0x6772('0x92')]){_0x5bc83b['prefix']=process['env'][_0x6772('0x92')];}if(process[_0x6772('0x85')][_0x6772('0x93')]){_0x5bc83b[_0x6772('0x94')]=process[_0x6772('0x85')][_0x6772('0x93')];}}_0x324648(_0x6772('0x95')+JSON[_0x6772('0x7e')](_0x5bc83b)+'\x27');const _0x2788fc=process[_0x6772('0x85')][_0x6772('0x96')]||0x1;let _0x3603f6=process[_0x6772('0x85')]['BOTIUMBOX_QUEUE_HEARTBEAT']||0x493e0;if(_0x3603f6>0x0&&_0x3603f6<0x1388)_0x3603f6=0x1388;const _0x1d1171=_0x172459['createQueue'](_0x5bc83b);_0x1d1171['on'](_0x6772('0x97'),_0x494119=>{console[_0x6772('0x1a')](_0x6772('0x98')+JSON[_0x6772('0x7e')](_0x5bc83b)+'\x27:');console[_0x6772('0x1a')](_0x494119);process[_0x6772('0x91')](0x1);});_0x324648('Trying\x20to\x20register\x20agent\x20...');_0x1d1171[_0x6772('0x99')](_0x6772('0x9a'),{'title':_0x6772('0x9b')+_0x35ea09+_0x6772('0x8d')+_0x54f52d,'name':_0x35ea09,'group':_0x54f52d})[_0x6772('0x9c')]('high')[_0x6772('0x9d')](0x5)['ttl'](0x2710)[_0x6772('0x9e')](!![])['save']()['on'](_0x6772('0x9f'),_0x55f18b=>{console[_0x6772('0x1a')](_0x6772('0xa0'));console[_0x6772('0x1a')](_0x55f18b);process[_0x6772('0x91')](0x1);})['on']('complete',_0x2204d5=>{_0x324648(_0x6772('0xa1')+JSON['stringify'](_0x2204d5)+_0x6772('0xa2')+_0x2788fc+').');let _0x1c3e05=_0x2204d5;const _0x2344e5=(_0x5ad8b9,_0x11bfd7)=>{_0x324648(_0x6772('0xa3')+_0x5ad8b9['id']);try{_0x43aa1a[_0x6772('0xa4')](_0x1c3e05,_0x5ad8b9)[_0x6772('0x51')](_0x2204d5=>{_0x324648(_0x6772('0xa3')+_0x5ad8b9['id']+_0x6772('0xa5'));_0x324648(_0x2204d5);_0x11bfd7(null,_0x2204d5);})[_0x6772('0x64')](_0x2b532a=>{_0x324648('Processing\x20Job\x20'+_0x5ad8b9['id']+_0x6772('0xa6'));_0x324648(_0x2b532a);_0x11bfd7(_0x2b532a);});}catch(_0x1b5e65){_0x324648(_0x6772('0xa3')+_0x5ad8b9['id']+'\x20failed:');_0x324648(_0x1b5e65);_0x11bfd7(_0x1b5e65);}};const _0x3a7f28=(_0x311956,_0x69ccab)=>{if(!_0x311956['data']||!_0x311956[_0x6772('0x4a')]['jobId']){return[_0x324648,_0x69ccab][_0x6772('0x24')](_0xe8ae87=>_0xe8ae87(_0x6772('0xa7')));}_0x324648(_0x6772('0xa8')+(_0x311956[_0x6772('0x4a')]&&_0x311956['data'][_0x6772('0xa9')]));try{_0x43aa1a[_0x6772('0xaa')](_0x311956['data'][_0x6772('0xa9')],_0x311956);_0x324648('Canceling\x20Test\x20Session\x20Job\x20'+_0x311956['data'][_0x6772('0xa9')]+'\x20finished.');_0x69ccab();}catch(_0x58d323){_0x324648('Canceling\x20Test\x20Session\x20Job\x20'+_0x311956[_0x6772('0x4a')][_0x6772('0xa9')]+'\x20failed:');_0x324648(_0x58d323);_0x69ccab(_0x58d323);}};const _0x2c61e7=(_0x2d72a6,_0x2b2d2c)=>{_0x324648(_0x6772('0xab'));_0x1d1171[_0x6772('0x99')](_0x6772('0x9a'),{'title':'reconfigure\x20agent\x20'+_0x35ea09+'\x20for\x20group\x20'+_0x54f52d,'name':_0x35ea09,'group':_0x54f52d})[_0x6772('0x9c')](_0x6772('0xac'))['attempts'](0x5)[_0x6772('0xad')](0x2710)[_0x6772('0x9e')](!![])[_0x6772('0xae')]()['on']('failed',_0x5ec9b0=>{console['log'](_0x6772('0xaf'));console[_0x6772('0x1a')](_0x5ec9b0);})['on'](_0x6772('0xb0'),_0x2204d5=>{_0x324648(_0x6772('0xb1')+JSON[_0x6772('0x7e')](_0x2204d5)+'\x27.');_0x1c3e05=_0x2204d5;});};_0x1d1171[_0x6772('0xb2')](_0x6772('0xb3')+_0x54f52d,_0x2788fc,_0x2344e5);_0x1d1171[_0x6772('0xb2')](_0x6772('0xb3')+_0x35ea09,_0x2788fc,_0x2344e5);_0x1d1171[_0x6772('0xb2')](_0x6772('0xb2'),_0x2788fc,_0x2344e5);_0x1d1171['process'](_0x6772('0xaa'),_0x2788fc,_0x3a7f28);_0x1d1171[_0x6772('0xb2')](_0x6772('0xb4')+_0x35ea09,_0x2788fc,_0x2c61e7);if(_0x3603f6>0x0){const _0x408e70=()=>{_0x324648('sending\x20heartbeat\x20...');const _0x5ce050=_0x1d1171[_0x6772('0x99')](_0x6772('0xb5'),{'title':_0x6772('0xb6')+_0x35ea09+'\x20for\x20group\x20'+_0x54f52d,'name':_0x35ea09,'group':_0x54f52d})[_0x6772('0x9e')](!![])['save']();_0x5ce050['on']('complete',()=>{setTimeout(_0x408e70,_0x3603f6);});};_0x408e70();}});process['on']('uncaughtException',_0xe37e5b=>{console[_0x6772('0x1a')]('Got\x20an\x20uncaughtException',_0xe37e5b);});var _0x2f3afa={};return _0x2f3afa;}));