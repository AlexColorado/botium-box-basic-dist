var _0x2159=['Trying\x20to\x20register\x20agent\x20...','create','agent.register','priority','high','attempts','removeOnComplete','save','failed','ERROR\x20registering\x20agent:','Registration\x20completed\x20with\x20result\x20\x27','\x27,\x20now\x20accepting\x20processing\x20jobs\x20(concurrency\x20','Processing\x20Job\x20','\x20failed:','Trying\x20to\x20reconfigure\x20agent\x20...','ttl','ERROR\x20reconfiguring\x20agent:','complete','Reconfiguration\x20completed\x20with\x20result\x20\x27','process.','process','agent.reconfigure.','sending\x20heartbeat\x20...','heartbeat\x20from\x20agent\x20','uncaughtException','Got\x20an\x20uncaughtException','undefined','path','botium-core/src/scripting/Constants','botium-core/src/Source','botium-core/src/repos/GitRepo','botium-core/src/Capabilities','debug','util','lodash','botium-core','dotenv-flow','kue','function','amd','slug','main','Constants','Source','Capabilities','botiumCore','hasOwnProperty','default','6eaad3123f1cc77ec8a6725c9ebd286fd4e1ad7b','2018-12-06T16:33:45+00:00','log','BOTIUM\x20BOX\x20-\x20AGENT','BUILD_TARGET:\x20','BUILD_BRANCH:\x20','buildBranch','BUILD_REVISION:\x20','BUILD_TIMESTAMP:\x20','buildDate','botium-retrieve-all-test-cases','convos','forEach','format','SCRIPTING_FORMAT_XSLX','content','Compile','SCRIPTING_TYPE_UTTERANCES','SCRIPTING_TYPE_CONVO','SCRIPTING_FORMAT_TXT','sourceTag','name',':\x20Convo\x20Script\x20compilation\x20failed:\x20','stringify','utterances',':\x20Utterance\x20script\x20compilation\x20failed:\x20','folders','ReadScriptsFromDirectory','globFilter','assign',':\x20Folder\x20','\x20script\x20compilation\x20failed:\x20','resolve','excels','length','all','map','from','caps','SCRIPTING_XLSX_STARTROW','SCRIPTING_XLSX_STARTCOL','SCRIPTING_XLSX_SHEETNAMES_UTTERANCES','BotDriver','botium-worker-runtestcases','progress','data','title','botium','Sources','Envs','BuildFluent','compiler','BuildCompiler','_validate','testSets','tempDirectory','sources','then','filter','expandConvos','ExpandConvos','expandUtterancesToConvos','uniq','expandUtterancesIncomprehension','expanding\x20utterances\x20to\x20convos\x20not\x20possible,\x20found\x20multiple\x20INCOMPREHENSION\x20utterances:\x20','inspect','\x20...','SCRIPTING_UTTEXPANSION_INCOMPREHENSION','ExpandUtterancesToConvos','reduce','concat','catch','min','batchNum:\x20','\x20batchCount:\x20','\x20convosPerBatch:\x20','\x20batchEnd:\x20',':\x20batchNum:\x20','\x20batchStart:\x20','push','attachments','eventEmitter','removeListener','MESSAGE_RECEIVEDFROMBOT','MESSAGE_SENTTOBOT','MESSAGE_ATTACHMENT','CONTAINER_STARTED','Call','Start','Running\x20Convo\x20Index\x20','\x20from\x20','header','toString','Clean','printVersion','botium-worker','env','Default\x20Agent','Connecting\x20agent\x20','\x20to\x20group\x20','BOTIUMBOX_QUEUE_SETTINGS','parse','Got\x20queue\x20settings\x20\x27','prefix','BOTIUMBOX_QUEUE_REDISURL','redis','connecting\x20to\x20Botium\x20queue\x20\x27','BOTIUMBOX_QUEUE_CONCURRENCY','BOTIUMBOX_QUEUE_HEARTBEAT','error','ERROR\x20connecting\x20to\x20queue\x20\x27','exit'];(function(_0x5602e2,_0xebab0f){var _0x54baa7=function(_0x3f28a4){while(--_0x3f28a4){_0x5602e2['push'](_0x5602e2['shift']());}};var _0x15d120=function(){var _0x2a45a0={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x5e19ca,_0x2fa714,_0x1fbd16,_0x4813b9){_0x4813b9=_0x4813b9||{};var _0x258c8d=_0x2fa714+'='+_0x1fbd16;var _0x1c38ae=0x0;for(var _0x1c38ae=0x0,_0x8116e6=_0x5e19ca['length'];_0x1c38ae<_0x8116e6;_0x1c38ae++){var _0x1d1ec8=_0x5e19ca[_0x1c38ae];_0x258c8d+=';\x20'+_0x1d1ec8;var _0x22eea6=_0x5e19ca[_0x1d1ec8];_0x5e19ca['push'](_0x22eea6);_0x8116e6=_0x5e19ca['length'];if(_0x22eea6!==!![]){_0x258c8d+='='+_0x22eea6;}}_0x4813b9['cookie']=_0x258c8d;},'removeCookie':function(){return'dev';},'getCookie':function(_0x21b21b,_0x2679bb){_0x21b21b=_0x21b21b||function(_0xcf6e6a){return _0xcf6e6a;};var _0xc678dc=_0x21b21b(new RegExp('(?:^|;\x20)'+_0x2679bb['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x145d60=function(_0x3cbb66,_0x4f7073){_0x3cbb66(++_0x4f7073);};_0x145d60(_0x54baa7,_0xebab0f);return _0xc678dc?decodeURIComponent(_0xc678dc[0x1]):undefined;}};var _0x4a68e4=function(){var _0x4cf499=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x4cf499['test'](_0x2a45a0['removeCookie']['toString']());};_0x2a45a0['updateCookie']=_0x4a68e4;var _0x43ecba='';var _0x48a35e=_0x2a45a0['updateCookie']();if(!_0x48a35e){_0x2a45a0['setCookie'](['*'],'counter',0x1);}else if(_0x48a35e){_0x43ecba=_0x2a45a0['getCookie'](null,'counter');}else{_0x2a45a0['removeCookie']();}};_0x15d120();}(_0x2159,0xba));var _0x1ddf=function(_0x53bd8e,_0x2d5995){_0x53bd8e=_0x53bd8e-0x0;var _0x4d392b=_0x2159[_0x53bd8e];return _0x4d392b;};(function(_0x186278,_0x114598){var _0x427386=function(){var _0x5d0607=!![];return function(_0x1fcb86,_0x5472ec){var _0x5a6f70=_0x5d0607?function(){if(_0x5472ec){var _0x362fb2=_0x5472ec['apply'](_0x1fcb86,arguments);_0x5472ec=null;return _0x362fb2;}}:function(){};_0x5d0607=![];return _0x5a6f70;};}();var _0x450999=_0x427386(this,function(){var _0xac00e1=function(){return'\x64\x65\x76';},_0x5d7674=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x562a66=function(){var _0x1c602c=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x1c602c['\x74\x65\x73\x74'](_0xac00e1['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x4525d7=function(){var _0x6d0856=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x6d0856['\x74\x65\x73\x74'](_0x5d7674['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x379fdc=function(_0x19cd2d){var _0x2d9336=~-0x1>>0x1+0xff%0x0;if(_0x19cd2d['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x2d9336)){_0x50238d(_0x19cd2d);}};var _0x50238d=function(_0x1e97f0){var _0x81a4a6=~-0x4>>0x1+0xff%0x0;if(_0x1e97f0['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x81a4a6){_0x379fdc(_0x1e97f0);}};if(!_0x562a66()){if(!_0x4525d7()){_0x379fdc('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x379fdc('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x379fdc('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x450999();typeof exports==='object'&&typeof module!==_0x1ddf('0x0')?module['exports']=_0x114598(require(_0x1ddf('0x1')),require('slug'),require(_0x1ddf('0x2')),require(_0x1ddf('0x3')),require(_0x1ddf('0x4')),require(_0x1ddf('0x5')),require(_0x1ddf('0x6')),require(_0x1ddf('0x7')),require(_0x1ddf('0x8')),require(_0x1ddf('0x9')),require(_0x1ddf('0xa')),require(_0x1ddf('0xb'))):typeof define===_0x1ddf('0xc')&&define[_0x1ddf('0xd')]?define([_0x1ddf('0x1'),_0x1ddf('0xe'),_0x1ddf('0x2'),'botium-core/src/Source',_0x1ddf('0x4'),_0x1ddf('0x5'),_0x1ddf('0x6'),_0x1ddf('0x7'),_0x1ddf('0x8'),_0x1ddf('0x9'),_0x1ddf('0xa'),_0x1ddf('0xb')],_0x114598):_0x186278[_0x1ddf('0xf')]=_0x114598(_0x186278[_0x1ddf('0x1')],_0x186278[_0x1ddf('0xe')],_0x186278[_0x1ddf('0x10')],_0x186278[_0x1ddf('0x11')],_0x186278['GitRepo'],_0x186278[_0x1ddf('0x12')],_0x186278[_0x1ddf('0x6')],_0x186278[_0x1ddf('0x7')],_0x186278[_0x1ddf('0x8')],_0x186278[_0x1ddf('0x13')],_0x186278['dotenvFlow'],_0x186278[_0x1ddf('0xb')]);}(this,function(_0x5405bf,_0x18d645,_0x1f5321,_0x4dd9ad,_0x3c3e36,_0x6e0707,_0x57f413,_0x4dacae,_0x51c332,_0x7c1a71,_0x510cbb,_0x23a204){'use strict';_0x5405bf=_0x5405bf&&_0x5405bf[_0x1ddf('0x14')](_0x1ddf('0x15'))?_0x5405bf['default']:_0x5405bf;_0x18d645=_0x18d645&&_0x18d645[_0x1ddf('0x14')](_0x1ddf('0x15'))?_0x18d645['default']:_0x18d645;_0x1f5321=_0x1f5321&&_0x1f5321[_0x1ddf('0x14')](_0x1ddf('0x15'))?_0x1f5321['default']:_0x1f5321;_0x4dd9ad=_0x4dd9ad&&_0x4dd9ad['hasOwnProperty'](_0x1ddf('0x15'))?_0x4dd9ad[_0x1ddf('0x15')]:_0x4dd9ad;_0x3c3e36=_0x3c3e36&&_0x3c3e36[_0x1ddf('0x14')](_0x1ddf('0x15'))?_0x3c3e36['default']:_0x3c3e36;_0x6e0707=_0x6e0707&&_0x6e0707['hasOwnProperty'](_0x1ddf('0x15'))?_0x6e0707[_0x1ddf('0x15')]:_0x6e0707;_0x57f413=_0x57f413&&_0x57f413[_0x1ddf('0x14')](_0x1ddf('0x15'))?_0x57f413[_0x1ddf('0x15')]:_0x57f413;_0x4dacae=_0x4dacae&&_0x4dacae[_0x1ddf('0x14')](_0x1ddf('0x15'))?_0x4dacae[_0x1ddf('0x15')]:_0x4dacae;_0x51c332=_0x51c332&&_0x51c332['hasOwnProperty'](_0x1ddf('0x15'))?_0x51c332[_0x1ddf('0x15')]:_0x51c332;_0x7c1a71=_0x7c1a71&&_0x7c1a71['hasOwnProperty'](_0x1ddf('0x15'))?_0x7c1a71[_0x1ddf('0x15')]:_0x7c1a71;_0x510cbb=_0x510cbb&&_0x510cbb[_0x1ddf('0x14')](_0x1ddf('0x15'))?_0x510cbb[_0x1ddf('0x15')]:_0x510cbb;_0x23a204=_0x23a204&&_0x23a204[_0x1ddf('0x14')](_0x1ddf('0x15'))?_0x23a204[_0x1ddf('0x15')]:_0x23a204;const _0x24ded8={'buildTarget':'COMMUNITY\x20EDITION','buildBranch':'bugs/BOT-182_EmptyHumanifiers','buildRevision':_0x1ddf('0x16'),'buildDate':_0x1ddf('0x17')};const _0xcf1393=()=>{console[_0x1ddf('0x18')](_0x1ddf('0x19'));console['log'](_0x1ddf('0x1a')+_0x24ded8['buildTarget']);console[_0x1ddf('0x18')](_0x1ddf('0x1b')+_0x24ded8[_0x1ddf('0x1c')]);console[_0x1ddf('0x18')](_0x1ddf('0x1d')+_0x24ded8['buildRevision']);console[_0x1ddf('0x18')](_0x1ddf('0x1e')+_0x24ded8[_0x1ddf('0x1f')]);};var _0x353747={'buildInfo':_0x24ded8,'printVersion':_0xcf1393};const _0x29dbd2=_0x57f413(_0x1ddf('0x20'));var _0x17db64=(_0x48d761,_0x283d5e,_0x54f316,_0x3314bb)=>{_0x48d761['convos']&&_0x48d761[_0x1ddf('0x21')][_0x1ddf('0x22')](_0x5e07cb=>{let _0x1a9dd9=[];let _0x348551=[];try{if(_0x5e07cb[_0x1ddf('0x23')]===_0x1f5321[_0x1ddf('0x24')]){const _0x4c119e=Buffer['from'](_0x5e07cb[_0x1ddf('0x25')],'base64');_0x348551=_0x283d5e[_0x1ddf('0x26')](_0x4c119e,_0x1f5321[_0x1ddf('0x24')],_0x1f5321[_0x1ddf('0x27')]);_0x1a9dd9=_0x283d5e[_0x1ddf('0x26')](_0x4c119e,_0x1f5321[_0x1ddf('0x24')],_0x1f5321[_0x1ddf('0x28')]);}else if(_0x5e07cb[_0x1ddf('0x23')]===_0x1f5321['SCRIPTING_FORMAT_TXT']){_0x1a9dd9=_0x283d5e['Compile'](_0x5e07cb[_0x1ddf('0x25')],_0x1f5321[_0x1ddf('0x29')],_0x1f5321[_0x1ddf('0x28')]);}if(_0x1a9dd9)_0x1a9dd9['forEach'](_0x43e646=>{_0x43e646[_0x1ddf('0x2a')]=_0x5e07cb[_0x1ddf('0x2a')];});if(_0x348551)_0x348551[_0x1ddf('0x22')](_0x21d579=>{_0x21d579[_0x1ddf('0x2a')]=_0x5e07cb['sourceTag'];});}catch(_0x18cf37){_0x29dbd2(_0x18cf37);throw new Error(_0x48d761[_0x1ddf('0x2b')]+_0x1ddf('0x2c')+JSON[_0x1ddf('0x2d')](_0x18cf37));}});_0x48d761[_0x1ddf('0x2e')]&&_0x48d761[_0x1ddf('0x2e')][_0x1ddf('0x22')](_0x1e7e07=>{let _0x299125=[];try{_0x299125=_0x283d5e[_0x1ddf('0x26')](_0x1e7e07[_0x1ddf('0x25')],_0x1f5321[_0x1ddf('0x29')],_0x1f5321[_0x1ddf('0x27')]);if(_0x299125)_0x299125[_0x1ddf('0x22')](_0x5f096c=>{_0x5f096c[_0x1ddf('0x2a')]=_0x1e7e07[_0x1ddf('0x2a')];});}catch(_0x3e9071){_0x29dbd2(_0x3e9071);throw new Error(_0x48d761[_0x1ddf('0x2b')]+_0x1ddf('0x2f')+JSON[_0x1ddf('0x2d')](_0x3e9071));}});_0x48d761[_0x1ddf('0x30')]&&_0x48d761[_0x1ddf('0x30')]['forEach'](_0x449c76=>{try{const {convos,utterances}=_0x283d5e[_0x1ddf('0x31')](_0x449c76['path'],_0x449c76[_0x1ddf('0x32')]);convos&&convos['forEach'](_0x16f196=>{_0x16f196[_0x1ddf('0x2a')]=Object[_0x1ddf('0x33')]({},_0x16f196['sourceTag'],_0x449c76['sourceTag']);});utterances&&utterances[_0x1ddf('0x22')](_0xe74447=>{_0xe74447['sourceTag']=Object[_0x1ddf('0x33')]({},_0xe74447['sourceTag'],_0x449c76[_0x1ddf('0x2a')]);});}catch(_0x158b7f){_0x29dbd2(_0x158b7f);throw new Error(_0x48d761[_0x1ddf('0x2b')]+_0x1ddf('0x34')+_0x449c76+_0x1ddf('0x35')+JSON[_0x1ddf('0x2d')](_0x158b7f));}});let _0x72d8d1=Promise[_0x1ddf('0x36')]();if(_0x48d761[_0x1ddf('0x37')]&&_0x48d761['excels'][_0x1ddf('0x38')]>0x0){_0x72d8d1=Promise[_0x1ddf('0x39')](_0x48d761[_0x1ddf('0x37')][_0x1ddf('0x3a')](({id,filename,filecontent,hasConvos,hasUtterances,worksheetsConvos,worksheetsUtterances,startRow,startCol,sourceTag})=>{return new Promise(_0x4eadc6=>{const _0x4f60ea=Buffer[_0x1ddf('0x3b')](filecontent,'base64');let _0x2d497d=[];let _0x31491c=[];if(hasConvos){if(worksheetsConvos)_0x283d5e[_0x1ddf('0x3c')][_0x6e0707['SCRIPTING_XLSX_SHEETNAMES']]=worksheetsConvos;if(!isNaN(startRow))_0x283d5e[_0x1ddf('0x3c')][_0x6e0707[_0x1ddf('0x3d')]]=startRow;if(!isNaN(startCol))_0x283d5e[_0x1ddf('0x3c')][_0x6e0707[_0x1ddf('0x3e')]]=startCol;_0x2d497d=_0x283d5e[_0x1ddf('0x26')](_0x4f60ea,_0x1f5321[_0x1ddf('0x24')],_0x1f5321['SCRIPTING_TYPE_CONVO']);}if(hasUtterances){if(worksheetsUtterances)_0x283d5e[_0x1ddf('0x3c')][_0x6e0707[_0x1ddf('0x3f')]]=worksheetsUtterances;if(!isNaN(startRow))_0x283d5e[_0x1ddf('0x3c')][_0x6e0707[_0x1ddf('0x3d')]]=startRow;if(!isNaN(startCol))_0x283d5e[_0x1ddf('0x3c')][_0x6e0707[_0x1ddf('0x3e')]]=startCol;_0x31491c=_0x283d5e[_0x1ddf('0x26')](_0x4f60ea,_0x1f5321[_0x1ddf('0x24')],_0x1f5321[_0x1ddf('0x27')]);}_0x2d497d&&_0x2d497d['forEach'](_0x537fa9=>{_0x537fa9['sourceTag']=Object[_0x1ddf('0x33')]({},_0x537fa9['sourceTag'],sourceTag);});_0x31491c&&_0x31491c[_0x1ddf('0x22')](_0x44593e=>{_0x44593e[_0x1ddf('0x2a')]=Object[_0x1ddf('0x33')]({},_0x44593e[_0x1ddf('0x2a')],sourceTag);});_0x4eadc6();});}));}let _0x4687c6=Promise['resolve']();return Promise[_0x1ddf('0x39')]([_0x4687c6,_0x72d8d1]);};const _0x181e59=_0x7c1a71[_0x1ddf('0x40')];const _0x3546df=_0x57f413(_0x1ddf('0x41'));var _0x1d42e0=(_0x26a3b9,_0x59c76e)=>{return new Promise((_0x5890fd,_0x4fce90)=>{_0x59c76e[_0x1ddf('0x42')](0x0,0x0,{'log':_0x59c76e[_0x1ddf('0x43')][_0x1ddf('0x44')]+':\x20Started\x20processing,\x20JobId\x20#'+_0x59c76e['id']+'.'});const _0x6d8125={};if(_0x26a3b9['botium']&&_0x26a3b9[_0x1ddf('0x45')][_0x1ddf('0x12')])Object[_0x1ddf('0x33')](_0x6d8125,_0x26a3b9[_0x1ddf('0x45')]['Capabilities']);if(_0x59c76e[_0x1ddf('0x43')][_0x1ddf('0x45')]&&_0x59c76e[_0x1ddf('0x43')][_0x1ddf('0x45')][_0x1ddf('0x12')])Object['assign'](_0x6d8125,_0x59c76e[_0x1ddf('0x43')][_0x1ddf('0x45')][_0x1ddf('0x12')]);const _0x57cfe3={};if(_0x26a3b9[_0x1ddf('0x45')]&&_0x26a3b9[_0x1ddf('0x45')][_0x1ddf('0x46')])Object[_0x1ddf('0x33')](_0x57cfe3,_0x26a3b9[_0x1ddf('0x45')][_0x1ddf('0x46')]);if(_0x59c76e['data']['botium']&&_0x59c76e['data'][_0x1ddf('0x45')][_0x1ddf('0x46')])Object[_0x1ddf('0x33')](_0x57cfe3,_0x59c76e['data']['botium'][_0x1ddf('0x46')]);const _0x1b6a40={};if(_0x26a3b9['botium']&&_0x26a3b9[_0x1ddf('0x45')]['Envs'])Object[_0x1ddf('0x33')](_0x1b6a40,_0x26a3b9[_0x1ddf('0x45')]['Envs']);if(_0x59c76e[_0x1ddf('0x43')][_0x1ddf('0x45')]&&_0x59c76e['data'][_0x1ddf('0x45')]['Envs'])Object[_0x1ddf('0x33')](_0x1b6a40,_0x59c76e[_0x1ddf('0x43')][_0x1ddf('0x45')][_0x1ddf('0x47')]);const _0x3f8917=new _0x181e59(_0x6d8125,_0x57cfe3,_0x1b6a40);const _0x2617ce=_0x3f8917[_0x1ddf('0x48')]();_0x2617ce[_0x1ddf('0x49')]=_0x3f8917[_0x1ddf('0x4a')]();_0x3f8917[_0x1ddf('0x4b')]()['then'](()=>{return new Promise((_0x5890fd,_0x4fce90)=>{const _0x532158=Promise['all'](_0x59c76e['data'][_0x1ddf('0x4c')][_0x1ddf('0x3a')](_0x22b9fa=>_0x17db64(_0x22b9fa,_0x2617ce[_0x1ddf('0x49')],_0x3f8917[_0x1ddf('0x4d')],_0x3f8917[_0x1ddf('0x4e')])))[_0x1ddf('0x4f')](()=>{const _0x49576c=_0x59c76e[_0x1ddf('0x43')]['testSets'][_0x1ddf('0x50')](_0x543b6f=>_0x543b6f[_0x1ddf('0x51')])[_0x1ddf('0x38')]>0x0;if(_0x49576c){_0x3546df('expanding\x20convos\x20...');_0x2617ce[_0x1ddf('0x49')][_0x1ddf('0x52')]();}const _0x58a266=_0x59c76e[_0x1ddf('0x43')][_0x1ddf('0x4c')][_0x1ddf('0x50')](_0x2e2224=>_0x2e2224[_0x1ddf('0x53')])[_0x1ddf('0x38')]>0x0;if(_0x58a266){const _0x20a9f8=_0x51c332[_0x1ddf('0x54')](_0x59c76e[_0x1ddf('0x43')][_0x1ddf('0x4c')][_0x1ddf('0x50')](_0x1baec2=>_0x1baec2[_0x1ddf('0x53')]&&_0x1baec2[_0x1ddf('0x55')])[_0x1ddf('0x3a')](_0x4ec8b2=>_0x4ec8b2['expandUtterancesIncomprehension']));if(_0x20a9f8&&_0x20a9f8[_0x1ddf('0x38')]>0x1){throw new Error(_0x1ddf('0x56')+_0x4dacae[_0x1ddf('0x57')](_0x20a9f8)+_0x1ddf('0x58'));}_0x3546df('expanding\x20utterances\x20to\x20convos\x20...');if(_0x20a9f8&&_0x20a9f8[_0x1ddf('0x38')]>0x0){_0x2617ce[_0x1ddf('0x49')][_0x1ddf('0x3c')][_0x6e0707[_0x1ddf('0x59')]]=_0x20a9f8[0x0];}_0x2617ce[_0x1ddf('0x49')][_0x1ddf('0x5a')]();_0x2617ce[_0x1ddf('0x49')][_0x1ddf('0x52')]();}_0x3546df('found\x20'+_0x2617ce[_0x1ddf('0x49')]['convos']['length']+'\x20convos\x20...');return _0x2617ce[_0x1ddf('0x49')]['convos'];});_0x532158[_0x1ddf('0x4f')](_0x4b0b73=>{_0x5890fd(_0x4b0b73[_0x1ddf('0x5b')]((_0x3a589a,_0xb5d6b)=>_0x3a589a[_0x1ddf('0x5c')](_0xb5d6b),[]));})[_0x1ddf('0x5d')](_0x4fce90);});})[_0x1ddf('0x4f')](()=>{_0x2617ce[_0x1ddf('0x49')]['ExpandConvos']();const _0x44da2c=_0x59c76e[_0x1ddf('0x43')]['batchNum']||0x1;const _0x314651=_0x59c76e[_0x1ddf('0x43')]['batchCount']||0x1;const _0x5c4b92=Math['ceil'](_0x2617ce['compiler'][_0x1ddf('0x21')][_0x1ddf('0x38')]/_0x314651);const _0x56fbb2=_0x5c4b92*(_0x44da2c-0x1);const _0x1ee6c4=Math[_0x1ddf('0x5e')](_0x56fbb2+_0x5c4b92,_0x2617ce['compiler']['convos'][_0x1ddf('0x38')])-0x1;_0x3546df(_0x1ddf('0x5f')+_0x44da2c+_0x1ddf('0x60')+_0x314651+_0x1ddf('0x61')+_0x5c4b92+'\x20batchStart:\x20'+_0x56fbb2+_0x1ddf('0x62')+_0x1ee6c4);_0x59c76e['progress'](0x0,_0x5c4b92,{'log':_0x59c76e['data'][_0x1ddf('0x44')]+_0x1ddf('0x63')+_0x44da2c+_0x1ddf('0x60')+_0x314651+_0x1ddf('0x61')+_0x5c4b92+_0x1ddf('0x64')+_0x56fbb2+_0x1ddf('0x62')+_0x1ee6c4});for(let _0x299891=_0x56fbb2;_0x299891<=_0x1ee6c4;_0x299891++){const _0x237233=_0x299891;const _0x2b2185=_0x2617ce['compiler'][_0x1ddf('0x21')][_0x237233];const _0x72c54f=[];const _0x5df544=[];const _0x402386=(_0xa21d33,_0x57a26d)=>{_0x72c54f['push'](_0x57a26d);if(_0x57a26d['attachments'])_0x5df544[_0x1ddf('0x65')](..._0x57a26d[_0x1ddf('0x66')]);};const _0x5565cd=(_0x14815d,_0x1a0835)=>{_0x72c54f['push'](_0x1a0835);if(_0x1a0835[_0x1ddf('0x66')])_0x5df544[_0x1ddf('0x65')](..._0x1a0835[_0x1ddf('0x66')]);};const _0x176456=(_0x503aaa,_0x41af96)=>{_0x5df544['push'](_0x41af96);};const _0x3a301b=(_0x2f9387,_0x316304)=>{if(_0x316304)_0x2b2185[_0x1ddf('0x2a')]=Object[_0x1ddf('0x33')]({},_0x2b2185['sourceTag'],_0x316304);};const _0x6aa433=()=>{_0x3f8917[_0x1ddf('0x67')][_0x1ddf('0x68')]('MESSAGE_SENTTOBOT',_0x402386);_0x3f8917[_0x1ddf('0x67')]['removeListener'](_0x1ddf('0x69'),_0x5565cd);_0x3f8917['eventEmitter']['removeListener']('MESSAGE_ATTACHMENT',_0x176456);_0x3f8917[_0x1ddf('0x67')]['removeListener']('CONTAINER_STARTED',_0x3a301b);};const _0xdc153b=()=>{_0x3f8917['on'](_0x1ddf('0x6a'),_0x402386);_0x3f8917['on'](_0x1ddf('0x69'),_0x5565cd);_0x3f8917['on'](_0x1ddf('0x6b'),_0x176456);_0x3f8917['on'](_0x1ddf('0x6c'),_0x3a301b);};let _0x3d80d3=null;_0x2617ce[_0x1ddf('0x6d')](_0xdc153b)[_0x1ddf('0x6e')]();_0x2617ce[_0x1ddf('0x6d')](()=>{return new Promise(_0x5890fd=>{_0x3546df(_0x1ddf('0x6f')+_0x237233+',\x20'+(_0x237233-_0x56fbb2)+_0x1ddf('0x70')+_0x5c4b92);return _0x2b2185['Run'](_0x2617ce['container'])['then'](()=>{_0x5890fd();})[_0x1ddf('0x5d')](_0x31956e=>{_0x3d80d3=_0x31956e;_0x5890fd();});});});_0x2617ce['Stop']()['Call'](_0x6aa433);_0x2617ce[_0x1ddf('0x6d')](()=>{_0x59c76e[_0x1ddf('0x42')](_0x237233-_0x56fbb2+0x1,_0x5c4b92,{'type':'process','testcase':_0x2b2185[_0x1ddf('0x71')]['name'],'source':_0x2b2185[_0x1ddf('0x72')](),'sourceTag':_0x2b2185[_0x1ddf('0x2a')],'messages':_0x72c54f,'attachments':_0x5df544,'success':_0x3d80d3===null,'err':_0x3d80d3?_0x3d80d3['message']?_0x3d80d3['message']:JSON[_0x1ddf('0x2d')](_0x3d80d3):null});});}_0x2617ce[_0x1ddf('0x73')]();_0x2617ce['Exec']()[_0x1ddf('0x4f')](_0x5890fd)[_0x1ddf('0x5d')](_0x4fce90);})[_0x1ddf('0x5d')](_0x4fce90);});};_0x510cbb['config']();_0x353747[_0x1ddf('0x74')]();const _0x4f8bdf=_0x57f413(_0x1ddf('0x75'));const _0x51c40f=process[_0x1ddf('0x76')]['BOTIUMBOX_AGENT_NAME']||_0x1ddf('0x77');const _0x42427c=process[_0x1ddf('0x76')]['BOTIUMBOX_AGENT_GROUP']||'Default\x20Group';_0x4f8bdf(_0x1ddf('0x78')+_0x51c40f+_0x1ddf('0x79')+_0x42427c+_0x1ddf('0x58'));let _0xe823e3={};if(process[_0x1ddf('0x76')][_0x1ddf('0x7a')]){try{_0xe823e3=JSON[_0x1ddf('0x7b')](process[_0x1ddf('0x76')][_0x1ddf('0x7a')]);_0x4f8bdf(_0x1ddf('0x7c')+JSON[_0x1ddf('0x2d')](_0xe823e3)+'\x27');}catch(_0x460a13){console['log']('ERROR\x20parsing\x20queue\x20settings\x20\x27'+process['env'][_0x1ddf('0x7a')]+'\x27:');console[_0x1ddf('0x18')](_0x460a13);process['exit'](0x1);}}else{if(process['env']['BOTIUMBOX_QUEUE_PREFIX']){_0xe823e3[_0x1ddf('0x7d')]=process[_0x1ddf('0x76')]['BOTIUMBOX_QUEUE_PREFIX'];}if(process['env'][_0x1ddf('0x7e')]){_0xe823e3[_0x1ddf('0x7f')]=process[_0x1ddf('0x76')][_0x1ddf('0x7e')];}}_0x4f8bdf(_0x1ddf('0x80')+JSON[_0x1ddf('0x2d')](_0xe823e3)+'\x27');const _0x3f93e3=process[_0x1ddf('0x76')][_0x1ddf('0x81')]||0x1;let _0x5630de=process[_0x1ddf('0x76')][_0x1ddf('0x82')]||0x493e0;if(_0x5630de>0x0&&_0x5630de<0x1388)_0x5630de=0x1388;const _0x5db945=_0x23a204['createQueue'](_0xe823e3);_0x5db945['on'](_0x1ddf('0x83'),_0x3e79e9=>{console['log'](_0x1ddf('0x84')+JSON[_0x1ddf('0x2d')](_0xe823e3)+'\x27:');console[_0x1ddf('0x18')](_0x3e79e9);process[_0x1ddf('0x85')](0x1);});_0x4f8bdf(_0x1ddf('0x86'));_0x5db945[_0x1ddf('0x87')](_0x1ddf('0x88'),{'title':'register\x20agent\x20'+_0x51c40f+_0x1ddf('0x79')+_0x42427c,'name':_0x51c40f,'group':_0x42427c})[_0x1ddf('0x89')](_0x1ddf('0x8a'))[_0x1ddf('0x8b')](0x5)['ttl'](0x2710)[_0x1ddf('0x8c')](!![])[_0x1ddf('0x8d')]()['on'](_0x1ddf('0x8e'),_0x31a394=>{console[_0x1ddf('0x18')](_0x1ddf('0x8f'));console[_0x1ddf('0x18')](_0x31a394);process[_0x1ddf('0x85')](0x1);})['on']('complete',_0xa678e8=>{_0x4f8bdf(_0x1ddf('0x90')+JSON[_0x1ddf('0x2d')](_0xa678e8)+_0x1ddf('0x91')+_0x3f93e3+').');let _0x130bf3=_0xa678e8;const _0x24a3c5=(_0x3844f3,_0x5134a8)=>{_0x4f8bdf(_0x1ddf('0x92')+_0x3844f3['id']);try{_0x1d42e0(_0x130bf3,_0x3844f3)[_0x1ddf('0x4f')](_0xa678e8=>{_0x4f8bdf(_0x1ddf('0x92')+_0x3844f3['id']+'\x20finished\x20with\x20result:');_0x4f8bdf(_0xa678e8);_0x5134a8(null,_0xa678e8);})[_0x1ddf('0x5d')](_0x1a0f84=>{_0x4f8bdf('Processing\x20Job\x20'+_0x3844f3['id']+_0x1ddf('0x93'));_0x4f8bdf(_0x1a0f84);_0x5134a8(_0x1a0f84);});}catch(_0x3ae38f){_0x4f8bdf(_0x1ddf('0x92')+_0x3844f3['id']+_0x1ddf('0x93'));_0x4f8bdf(_0x3ae38f);_0x5134a8(_0x3ae38f);}};const _0x4cca71=(_0x13810a,_0x610ae8)=>{_0x4f8bdf(_0x1ddf('0x94'));_0x5db945[_0x1ddf('0x87')](_0x1ddf('0x88'),{'title':'reconfigure\x20agent\x20'+_0x51c40f+'\x20for\x20group\x20'+_0x42427c,'name':_0x51c40f,'group':_0x42427c})[_0x1ddf('0x89')](_0x1ddf('0x8a'))['attempts'](0x5)[_0x1ddf('0x95')](0x2710)[_0x1ddf('0x8c')](!![])['save']()['on'](_0x1ddf('0x8e'),_0x2a8980=>{console[_0x1ddf('0x18')](_0x1ddf('0x96'));console[_0x1ddf('0x18')](_0x2a8980);})['on'](_0x1ddf('0x97'),_0xa678e8=>{_0x4f8bdf(_0x1ddf('0x98')+JSON[_0x1ddf('0x2d')](_0xa678e8)+'\x27.');_0x130bf3=_0xa678e8;});};_0x5db945['process'](_0x1ddf('0x99')+_0x42427c,_0x3f93e3,_0x24a3c5);_0x5db945['process'](_0x1ddf('0x99')+_0x51c40f,_0x3f93e3,_0x24a3c5);_0x5db945[_0x1ddf('0x9a')](_0x1ddf('0x9a'),_0x3f93e3,_0x24a3c5);_0x5db945[_0x1ddf('0x9a')](_0x1ddf('0x9b')+_0x51c40f,_0x3f93e3,_0x4cca71);if(_0x5630de>0x0){const _0x3b8a92=()=>{_0x4f8bdf(_0x1ddf('0x9c'));const _0x1ba424=_0x5db945['create']('agent.heartbeat',{'title':_0x1ddf('0x9d')+_0x51c40f+'\x20for\x20group\x20'+_0x42427c,'name':_0x51c40f,'group':_0x42427c})[_0x1ddf('0x8c')](!![])['save']();_0x1ba424['on'](_0x1ddf('0x97'),()=>{setTimeout(_0x3b8a92,_0x5630de);});};_0x3b8a92();}});process['on'](_0x1ddf('0x9e'),_0x366895=>{console[_0x1ddf('0x18')](_0x1ddf('0x9f'),_0x366895);});var _0x27de0d={};return _0x27de0d;}));