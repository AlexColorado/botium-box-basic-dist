var _0x3caf=['object','undefined','exports','botium-core/src/scripting/Constants','botium-core/src/Source','botium-core/src/repos/GitRepo','intercept-stdout','lodash','botium-core','dotenv-flow','kue','util','slugify','botium-core/src/Capabilities','debug','main','path','Source','GitRepo','Capabilities','botiumCore','dotenvFlow','hasOwnProperty','default','COMMUNITY\x20EDITION','feature/BOT-411-box-merge-all-repositories-to-on','91783eebedd3b771240817007b7d433710298d5e','2019-02-11T13:20:52+01:00','BOTIUM\x20BOX\x20-\x20AGENT','log','BUILD_TARGET:\x20','BUILD_BRANCH:\x20','BUILD_REVISION:\x20','buildRevision','BUILD_TIMESTAMP:\x20','botium-retrieve-all-test-cases','convos','forEach','format','from','content','base64','SCRIPTING_FORMAT_XSLX','SCRIPTING_TYPE_UTTERANCES','Compile','SCRIPTING_TYPE_CONVO','SCRIPTING_FORMAT_TXT','sourceTag',':\x20Convo\x20Script\x20compilation\x20failed:\x20','inspect','name',':\x20Utterance\x20script\x20compilation\x20failed:\x20','folders','ReadScriptsFromDirectory','globFilter','assign',':\x20Folder\x20','resolve','excels','length','all','map','caps','SCRIPTING_XLSX_SHEETNAMES','SCRIPTING_XLSX_STARTROW','SCRIPTING_XLSX_STARTCOL','SCRIPTING_XLSX_SHEETNAMES_UTTERANCES','BotDriver','unhook','replace','progress','total','push','data','title','botium','Sources','Envs','BuildCompiler','_validate','then','testSets','compiler','tempDirectory','ExpandConvos','uniq','filter','expandUtterancesToConvos','expandUtterancesIncomprehension','\x20...','expanding\x20utterances\x20to\x20convos\x20...','SCRIPTING_UTTEXPANSION_INCOMPREHENSION','ExpandUtterancesToConvos','found\x20','\x20convos\x20...','reduce','concat','catch','batchCount','min','batchNum:\x20','\x20batchCount:\x20','\x20convosPerBatch:\x20','\x20batchStart:\x20','\x20batchEnd:\x20','attachments','eventEmitter','removeListener','MESSAGE_SENTTOBOT','MESSAGE_RECEIVEDFROMBOT','MESSAGE_ATTACHMENT','CONTAINER_STARTED','Call','Start','Test\x20Session\x20cancelled,\x20skipping\x20Convo\x20\x22','\x22,\x20Index\x20','Running\x20Convo\x20\x22','header','\x20from\x20','Run','container','\x22\x20completed\x20successfully.','\x22\x20failed:\x20','Stop','err','message','steps','process','toString','stringify','Exec','printVersion','env','BOTIUMBOX_AGENT_NAME','hostname','BOTIUMBOX_AGENT_NUM','Default\x20Agent','Default\x20Group','\x20to\x20group\x20','BOTIUMBOX_QUEUE_SETTINGS','parse','Got\x20queue\x20settings\x20\x27','ERROR\x20parsing\x20queue\x20settings\x20\x27','exit','BOTIUMBOX_QUEUE_PREFIX','prefix','BOTIUMBOX_QUEUE_REDISURL','redis','connecting\x20to\x20Botium\x20queue\x20\x27','BOTIUMBOX_QUEUE_CONCURRENCY','BOTIUMBOX_QUEUE_HEARTBEAT','error','ERROR\x20connecting\x20to\x20queue\x20\x27','agent.register','register\x20agent\x20','priority','attempts','ttl','failed','ERROR\x20registering\x20agent:','complete','Registration\x20completed\x20with\x20result\x20\x27','\x27,\x20now\x20accepting\x20processing\x20jobs\x20(concurrency\x20','Processing\x20Job\x20','run','\x20finished\x20with\x20result:','\x20failed:','jobId','Canceling\x20Test\x20Session\x20Job\x20','\x20finished.','create','reconfigure\x20agent\x20','\x20for\x20group\x20','high','save','ERROR\x20reconfiguring\x20agent:','Reconfiguration\x20completed\x20with\x20result\x20\x27','process.','agent.reconfigure.','sending\x20heartbeat\x20...','agent.heartbeat','heartbeat\x20from\x20agent\x20','removeOnComplete','Got\x20an\x20uncaughtException'];(function(_0xb00f45,_0x442e98){var _0x4440df=function(_0x2b63e2){while(--_0x2b63e2){_0xb00f45['push'](_0xb00f45['shift']());}};var _0x57221f=function(){var _0x3ce0bd={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x53511d,_0xb05939,_0x3a6285,_0x5f33d5){_0x5f33d5=_0x5f33d5||{};var _0x326cc2=_0xb05939+'='+_0x3a6285;var _0x36bba7=0x0;for(var _0x36bba7=0x0,_0x1b6eda=_0x53511d['length'];_0x36bba7<_0x1b6eda;_0x36bba7++){var _0x1b6da4=_0x53511d[_0x36bba7];_0x326cc2+=';\x20'+_0x1b6da4;var _0x52e8c2=_0x53511d[_0x1b6da4];_0x53511d['push'](_0x52e8c2);_0x1b6eda=_0x53511d['length'];if(_0x52e8c2!==!![]){_0x326cc2+='='+_0x52e8c2;}}_0x5f33d5['cookie']=_0x326cc2;},'removeCookie':function(){return'dev';},'getCookie':function(_0x718011,_0x4d7528){_0x718011=_0x718011||function(_0x48fb35){return _0x48fb35;};var _0x17d8f1=_0x718011(new RegExp('(?:^|;\x20)'+_0x4d7528['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x35db1f=function(_0x45912d,_0x139d69){_0x45912d(++_0x139d69);};_0x35db1f(_0x4440df,_0x442e98);return _0x17d8f1?decodeURIComponent(_0x17d8f1[0x1]):undefined;}};var _0xfce319=function(){var _0x5257e6=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x5257e6['test'](_0x3ce0bd['removeCookie']['toString']());};_0x3ce0bd['updateCookie']=_0xfce319;var _0x407435='';var _0x58df47=_0x3ce0bd['updateCookie']();if(!_0x58df47){_0x3ce0bd['setCookie'](['*'],'counter',0x1);}else if(_0x58df47){_0x407435=_0x3ce0bd['getCookie'](null,'counter');}else{_0x3ce0bd['removeCookie']();}};_0x57221f();}(_0x3caf,0xb8));var _0x38c2=function(_0x56cd4d,_0x49cc4b){_0x56cd4d=_0x56cd4d-0x0;var _0x20ae32=_0x3caf[_0x56cd4d];return _0x20ae32;};(function(_0x43c8c9,_0x40affd){var _0x569a7d=function(){var _0x198f8e=!![];return function(_0x22c3d5,_0x1d260d){var _0x311c73=_0x198f8e?function(){if(_0x1d260d){var _0x5a7671=_0x1d260d['apply'](_0x22c3d5,arguments);_0x1d260d=null;return _0x5a7671;}}:function(){};_0x198f8e=![];return _0x311c73;};}();var _0xfa33dc=_0x569a7d(this,function(){var _0x20b441=function(){return'\x64\x65\x76';},_0x3e33a0=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x350804=function(){var _0x17e607=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x17e607['\x74\x65\x73\x74'](_0x20b441['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x2e4487=function(){var _0x4e5843=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x4e5843['\x74\x65\x73\x74'](_0x3e33a0['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0xb17827=function(_0xbdaeab){var _0x3e1453=~-0x1>>0x1+0xff%0x0;if(_0xbdaeab['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x3e1453)){_0x5f0b02(_0xbdaeab);}};var _0x5f0b02=function(_0x5ac19b){var _0x24f3f7=~-0x4>>0x1+0xff%0x0;if(_0x5ac19b['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x24f3f7){_0xb17827(_0x5ac19b);}};if(!_0x350804()){if(!_0x2e4487()){_0xb17827('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0xb17827('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0xb17827('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0xfa33dc();typeof exports===_0x38c2('0x0')&&typeof module!==_0x38c2('0x1')?module[_0x38c2('0x2')]=_0x40affd(require('util'),require('path'),require('slugify'),require(_0x38c2('0x3')),require(_0x38c2('0x4')),require(_0x38c2('0x5')),require('botium-core/src/Capabilities'),require(_0x38c2('0x6')),require(_0x38c2('0x7')),require(_0x38c2('0x8')),require('debug'),require(_0x38c2('0x9')),require('os'),require(_0x38c2('0xa'))):typeof define==='function'&&define['amd']?define([_0x38c2('0xb'),'path',_0x38c2('0xc'),_0x38c2('0x3'),'botium-core/src/Source',_0x38c2('0x5'),_0x38c2('0xd'),_0x38c2('0x6'),_0x38c2('0x7'),_0x38c2('0x8'),_0x38c2('0xe'),_0x38c2('0x9'),'os',_0x38c2('0xa')],_0x40affd):_0x43c8c9[_0x38c2('0xf')]=_0x40affd(_0x43c8c9[_0x38c2('0xb')],_0x43c8c9[_0x38c2('0x10')],_0x43c8c9[_0x38c2('0xc')],_0x43c8c9['Constants'],_0x43c8c9[_0x38c2('0x11')],_0x43c8c9[_0x38c2('0x12')],_0x43c8c9[_0x38c2('0x13')],_0x43c8c9['interceptStdout'],_0x43c8c9[_0x38c2('0x7')],_0x43c8c9[_0x38c2('0x14')],_0x43c8c9[_0x38c2('0xe')],_0x43c8c9[_0x38c2('0x15')],_0x43c8c9['os'],_0x43c8c9[_0x38c2('0xa')]);}(this,function(_0x114250,_0x12c302,_0x2c5e02,_0x4311b8,_0x4e78d3,_0x5adcd5,_0x5b764a,_0xd27ef8,_0x3ab49a,_0x4c36ee,_0x4b7bfb,_0x4e4960,_0x483822,_0x1be3f6){'use strict';_0x114250=_0x114250&&_0x114250[_0x38c2('0x16')](_0x38c2('0x17'))?_0x114250[_0x38c2('0x17')]:_0x114250;_0x12c302=_0x12c302&&_0x12c302[_0x38c2('0x16')](_0x38c2('0x17'))?_0x12c302[_0x38c2('0x17')]:_0x12c302;_0x2c5e02=_0x2c5e02&&_0x2c5e02[_0x38c2('0x16')](_0x38c2('0x17'))?_0x2c5e02[_0x38c2('0x17')]:_0x2c5e02;_0x4311b8=_0x4311b8&&_0x4311b8[_0x38c2('0x16')](_0x38c2('0x17'))?_0x4311b8[_0x38c2('0x17')]:_0x4311b8;_0x4e78d3=_0x4e78d3&&_0x4e78d3[_0x38c2('0x16')]('default')?_0x4e78d3['default']:_0x4e78d3;_0x5adcd5=_0x5adcd5&&_0x5adcd5[_0x38c2('0x16')](_0x38c2('0x17'))?_0x5adcd5[_0x38c2('0x17')]:_0x5adcd5;_0x5b764a=_0x5b764a&&_0x5b764a[_0x38c2('0x16')](_0x38c2('0x17'))?_0x5b764a[_0x38c2('0x17')]:_0x5b764a;_0xd27ef8=_0xd27ef8&&_0xd27ef8[_0x38c2('0x16')]('default')?_0xd27ef8[_0x38c2('0x17')]:_0xd27ef8;_0x3ab49a=_0x3ab49a&&_0x3ab49a['hasOwnProperty'](_0x38c2('0x17'))?_0x3ab49a[_0x38c2('0x17')]:_0x3ab49a;_0x4c36ee=_0x4c36ee&&_0x4c36ee['hasOwnProperty'](_0x38c2('0x17'))?_0x4c36ee[_0x38c2('0x17')]:_0x4c36ee;_0x4b7bfb=_0x4b7bfb&&_0x4b7bfb[_0x38c2('0x16')](_0x38c2('0x17'))?_0x4b7bfb[_0x38c2('0x17')]:_0x4b7bfb;_0x4e4960=_0x4e4960&&_0x4e4960['hasOwnProperty'](_0x38c2('0x17'))?_0x4e4960[_0x38c2('0x17')]:_0x4e4960;_0x483822=_0x483822&&_0x483822[_0x38c2('0x16')]('default')?_0x483822['default']:_0x483822;_0x1be3f6=_0x1be3f6&&_0x1be3f6['hasOwnProperty'](_0x38c2('0x17'))?_0x1be3f6[_0x38c2('0x17')]:_0x1be3f6;const _0x15babc={'buildTarget':_0x38c2('0x18'),'buildBranch':_0x38c2('0x19'),'buildRevision':_0x38c2('0x1a'),'buildDate':_0x38c2('0x1b')};const _0x5757ee=()=>{console['log'](_0x38c2('0x1c'));console[_0x38c2('0x1d')](_0x38c2('0x1e')+_0x15babc['buildTarget']);console[_0x38c2('0x1d')](_0x38c2('0x1f')+_0x15babc['buildBranch']);console['log'](_0x38c2('0x20')+_0x15babc[_0x38c2('0x21')]);console[_0x38c2('0x1d')](_0x38c2('0x22')+_0x15babc['buildDate']);};var _0x4f8c29={'buildInfo':_0x15babc,'printVersion':_0x5757ee};const _0x4c6c91=_0x4b7bfb(_0x38c2('0x23'));var _0x7fa97b=(_0x53e114,_0x217ab6,_0x412c6a,_0x22911b)=>{_0x53e114['convos']&&_0x53e114[_0x38c2('0x24')][_0x38c2('0x25')](_0x5203a1=>{let _0x1d48be=[];let _0x3b0916=[];try{if(_0x5203a1[_0x38c2('0x26')]===_0x4311b8['SCRIPTING_FORMAT_XSLX']){const _0x19a50c=Buffer[_0x38c2('0x27')](_0x5203a1[_0x38c2('0x28')],_0x38c2('0x29'));_0x3b0916=_0x217ab6['Compile'](_0x19a50c,_0x4311b8[_0x38c2('0x2a')],_0x4311b8[_0x38c2('0x2b')]);_0x1d48be=_0x217ab6[_0x38c2('0x2c')](_0x19a50c,_0x4311b8[_0x38c2('0x2a')],_0x4311b8[_0x38c2('0x2d')]);}else if(_0x5203a1['format']===_0x4311b8[_0x38c2('0x2e')]){_0x1d48be=_0x217ab6[_0x38c2('0x2c')](_0x5203a1[_0x38c2('0x28')],_0x4311b8[_0x38c2('0x2e')],_0x4311b8['SCRIPTING_TYPE_CONVO']);}if(_0x1d48be)_0x1d48be[_0x38c2('0x25')](_0x112577=>{_0x112577[_0x38c2('0x2f')]=_0x5203a1[_0x38c2('0x2f')];});if(_0x3b0916)_0x3b0916['forEach'](_0x2cf043=>{_0x2cf043[_0x38c2('0x2f')]=_0x5203a1['sourceTag'];});}catch(_0x3c29a0){_0x4c6c91(_0x3c29a0);throw new Error(_0x53e114['name']+_0x38c2('0x30')+_0x114250[_0x38c2('0x31')](_0x3c29a0));}});_0x53e114['utterances']&&_0x53e114['utterances']['forEach'](_0x1ff5ba=>{let _0x16f4b2=[];try{_0x16f4b2=_0x217ab6[_0x38c2('0x2c')](_0x1ff5ba['content'],_0x4311b8['SCRIPTING_FORMAT_TXT'],_0x4311b8['SCRIPTING_TYPE_UTTERANCES']);if(_0x16f4b2)_0x16f4b2[_0x38c2('0x25')](_0x225be6=>{_0x225be6[_0x38c2('0x2f')]=_0x1ff5ba[_0x38c2('0x2f')];});}catch(_0x4e42f9){_0x4c6c91(_0x4e42f9);throw new Error(_0x53e114[_0x38c2('0x32')]+_0x38c2('0x33')+_0x114250[_0x38c2('0x31')](_0x4e42f9));}});_0x53e114[_0x38c2('0x34')]&&_0x53e114[_0x38c2('0x34')][_0x38c2('0x25')](_0x301198=>{try{const {convos,utterances}=_0x217ab6[_0x38c2('0x35')](_0x301198[_0x38c2('0x10')],_0x301198[_0x38c2('0x36')]);convos&&convos[_0x38c2('0x25')](_0x2d8255=>{_0x2d8255[_0x38c2('0x2f')]=Object[_0x38c2('0x37')]({},_0x2d8255[_0x38c2('0x2f')],_0x301198[_0x38c2('0x2f')]);});utterances&&utterances[_0x38c2('0x25')](_0x383e8a=>{_0x383e8a[_0x38c2('0x2f')]=Object[_0x38c2('0x37')]({},_0x383e8a[_0x38c2('0x2f')],_0x301198[_0x38c2('0x2f')]);});}catch(_0x198aa1){_0x4c6c91(_0x198aa1);throw new Error(_0x53e114['name']+_0x38c2('0x38')+_0x301198+'\x20script\x20compilation\x20failed:\x20'+_0x114250['inspect'](_0x198aa1));}});let _0x10f529=Promise[_0x38c2('0x39')]();if(_0x53e114[_0x38c2('0x3a')]&&_0x53e114[_0x38c2('0x3a')][_0x38c2('0x3b')]>0x0){_0x10f529=Promise[_0x38c2('0x3c')](_0x53e114[_0x38c2('0x3a')][_0x38c2('0x3d')](({id,filename,filecontent,hasConvos,hasUtterances,worksheetsConvos,worksheetsUtterances,startRow,startCol,sourceTag})=>{return new Promise(_0x3eb7aa=>{const _0x2744b4=Buffer[_0x38c2('0x27')](filecontent,_0x38c2('0x29'));let _0x30f03e=[];let _0x4d7ae8=[];if(hasConvos){if(worksheetsConvos)_0x217ab6[_0x38c2('0x3e')][_0x5b764a[_0x38c2('0x3f')]]=worksheetsConvos;if(!isNaN(startRow))_0x217ab6[_0x38c2('0x3e')][_0x5b764a[_0x38c2('0x40')]]=startRow;if(!isNaN(startCol))_0x217ab6[_0x38c2('0x3e')][_0x5b764a[_0x38c2('0x41')]]=startCol;_0x30f03e=_0x217ab6[_0x38c2('0x2c')](_0x2744b4,_0x4311b8[_0x38c2('0x2a')],_0x4311b8['SCRIPTING_TYPE_CONVO']);}if(hasUtterances){if(worksheetsUtterances)_0x217ab6[_0x38c2('0x3e')][_0x5b764a[_0x38c2('0x42')]]=worksheetsUtterances;if(!isNaN(startRow))_0x217ab6[_0x38c2('0x3e')][_0x5b764a[_0x38c2('0x40')]]=startRow;if(!isNaN(startCol))_0x217ab6[_0x38c2('0x3e')][_0x5b764a[_0x38c2('0x41')]]=startCol;_0x4d7ae8=_0x217ab6[_0x38c2('0x2c')](_0x2744b4,_0x4311b8[_0x38c2('0x2a')],_0x4311b8[_0x38c2('0x2b')]);}_0x30f03e&&_0x30f03e[_0x38c2('0x25')](_0x55bcd6=>{_0x55bcd6[_0x38c2('0x2f')]=Object[_0x38c2('0x37')]({},_0x55bcd6['sourceTag'],sourceTag);});_0x4d7ae8&&_0x4d7ae8[_0x38c2('0x25')](_0x38fba2=>{_0x38fba2[_0x38c2('0x2f')]=Object[_0x38c2('0x37')]({},_0x38fba2[_0x38c2('0x2f')],sourceTag);});_0x3eb7aa();});}));}let _0x4780ca=Promise['resolve']();return Promise['all']([_0x4780ca,_0x10f529]);};const _0x5c1cb8=_0x4c36ee[_0x38c2('0x43')];const _0x3d7dcd=_0x4b7bfb('botium-box-worker-runtestcases');const _0xb3d498={'unhook':null,'progress':0x0,'total':0x0};const _0x3d57dc=_0x4bba6a=>{_0xb3d498[_0x38c2('0x44')]=_0xd27ef8(_0x53d633=>{const _0x3becbd=_0x53d633[_0x38c2('0x45')](/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,'');_0x4bba6a['progress'](_0xb3d498[_0x38c2('0x46')],_0xb3d498[_0x38c2('0x47')],{'log':_0x3becbd});return _0x53d633;});};const _0x1294d6=()=>{if(_0xb3d498[_0x38c2('0x44')]){_0xb3d498[_0x38c2('0x44')]();_0xb3d498[_0x38c2('0x44')]=null;}_0xb3d498['progress']=0x0;_0xb3d498[_0x38c2('0x47')]=0x0;};const _0x2ad218={};const _0x501d6d=(_0x3d48be,_0x439686)=>{if(!_0x2ad218[_0x3d48be])_0x2ad218[_0x3d48be]=[];_0x2ad218[_0x3d48be][_0x38c2('0x48')](_0x439686);};const _0x4ef4df=(_0xa4b217,_0x408119)=>{if(_0x2ad218[_0xa4b217]){_0x2ad218[_0xa4b217][_0x38c2('0x25')](_0x3d30c4=>_0x3d30c4());delete _0x2ad218[_0xa4b217];}};const _0x39817d=(_0xe9356b,_0xb3b46d)=>{let _0x50f1f2=![];_0x501d6d(_0xb3b46d['id'],()=>{_0x50f1f2=!![];});return new Promise((_0x1efb8a,_0x36cdfe)=>{_0xb3b46d[_0x38c2('0x46')](0x0,0x0,{'log':_0xb3b46d[_0x38c2('0x49')][_0x38c2('0x4a')]+':\x20Started\x20processing,\x20JobId\x20#'+_0xb3b46d['id']+'.'});_0x3d57dc(_0xb3b46d);const _0x33df12={};if(_0xe9356b['botium']&&_0xe9356b[_0x38c2('0x4b')][_0x38c2('0x13')])Object[_0x38c2('0x37')](_0x33df12,_0xe9356b[_0x38c2('0x4b')][_0x38c2('0x13')]);if(_0xb3b46d['data'][_0x38c2('0x4b')]&&_0xb3b46d[_0x38c2('0x49')][_0x38c2('0x4b')][_0x38c2('0x13')])Object[_0x38c2('0x37')](_0x33df12,_0xb3b46d[_0x38c2('0x49')][_0x38c2('0x4b')][_0x38c2('0x13')]);const _0x4aadd7={};if(_0xe9356b[_0x38c2('0x4b')]&&_0xe9356b[_0x38c2('0x4b')][_0x38c2('0x4c')])Object[_0x38c2('0x37')](_0x4aadd7,_0xe9356b['botium'][_0x38c2('0x4c')]);if(_0xb3b46d[_0x38c2('0x49')][_0x38c2('0x4b')]&&_0xb3b46d[_0x38c2('0x49')][_0x38c2('0x4b')][_0x38c2('0x4c')])Object[_0x38c2('0x37')](_0x4aadd7,_0xb3b46d['data'][_0x38c2('0x4b')][_0x38c2('0x4c')]);const _0x4f6d18={};if(_0xe9356b['botium']&&_0xe9356b[_0x38c2('0x4b')][_0x38c2('0x4d')])Object['assign'](_0x4f6d18,_0xe9356b['botium'][_0x38c2('0x4d')]);if(_0xb3b46d[_0x38c2('0x49')][_0x38c2('0x4b')]&&_0xb3b46d['data'][_0x38c2('0x4b')]['Envs'])Object[_0x38c2('0x37')](_0x4f6d18,_0xb3b46d['data'][_0x38c2('0x4b')][_0x38c2('0x4d')]);const _0x3ee828=new _0x5c1cb8(_0x33df12,_0x4aadd7,_0x4f6d18);const _0x3ff78b=_0x3ee828['BuildFluent']();_0x3ff78b['compiler']=_0x3ee828[_0x38c2('0x4e')]();_0x3ee828[_0x38c2('0x4f')]()[_0x38c2('0x50')](()=>{return new Promise((_0x1efb8a,_0x36cdfe)=>{const _0x2a61d8=Promise[_0x38c2('0x3c')](_0xb3b46d[_0x38c2('0x49')][_0x38c2('0x51')]['map'](_0x215bdf=>_0x7fa97b(_0x215bdf,_0x3ff78b[_0x38c2('0x52')],_0x3ee828[_0x38c2('0x53')],_0x3ee828['sources'])))[_0x38c2('0x50')](()=>{const _0x31e7e5=_0xb3b46d[_0x38c2('0x49')][_0x38c2('0x51')]['filter'](_0x1f3f95=>_0x1f3f95['expandConvos'])['length']>0x0;if(_0x31e7e5){_0x3d7dcd('expanding\x20convos\x20...');_0x3ff78b[_0x38c2('0x52')][_0x38c2('0x54')]();}const _0x596834=_0xb3b46d[_0x38c2('0x49')]['testSets']['filter'](_0x5d5ea7=>_0x5d5ea7['expandUtterancesToConvos'])[_0x38c2('0x3b')]>0x0;if(_0x596834){const _0x159364=_0x3ab49a[_0x38c2('0x55')](_0xb3b46d[_0x38c2('0x49')][_0x38c2('0x51')][_0x38c2('0x56')](_0x230d52=>_0x230d52[_0x38c2('0x57')]&&_0x230d52[_0x38c2('0x58')])[_0x38c2('0x3d')](_0x50ff7b=>_0x50ff7b[_0x38c2('0x58')]));if(_0x159364&&_0x159364[_0x38c2('0x3b')]>0x1){throw new Error('expanding\x20utterances\x20to\x20convos\x20not\x20possible,\x20found\x20multiple\x20INCOMPREHENSION\x20utterances:\x20'+_0x114250[_0x38c2('0x31')](_0x159364)+_0x38c2('0x59'));}_0x3d7dcd(_0x38c2('0x5a'));if(_0x159364&&_0x159364[_0x38c2('0x3b')]>0x0){_0x3ff78b[_0x38c2('0x52')][_0x38c2('0x3e')][_0x5b764a[_0x38c2('0x5b')]]=_0x159364[0x0];}_0x3ff78b['compiler'][_0x38c2('0x5c')]();_0x3ff78b['compiler'][_0x38c2('0x54')]();}_0x3d7dcd(_0x38c2('0x5d')+_0x3ff78b['compiler'][_0x38c2('0x24')]['length']+_0x38c2('0x5e'));return _0x3ff78b[_0x38c2('0x52')]['convos'];});_0x2a61d8['then'](_0x503248=>{_0x1efb8a(_0x503248[_0x38c2('0x5f')]((_0x3602a3,_0x598f08)=>_0x3602a3[_0x38c2('0x60')](_0x598f08),[]));})[_0x38c2('0x61')](_0x36cdfe);});})[_0x38c2('0x50')](()=>{_0x3ff78b[_0x38c2('0x52')][_0x38c2('0x54')]();const _0x16545a=_0xb3b46d[_0x38c2('0x49')]['batchNum']||0x1;const _0x3af5e8=_0xb3b46d[_0x38c2('0x49')][_0x38c2('0x62')]||0x1;const _0x404237=Math['ceil'](_0x3ff78b[_0x38c2('0x52')][_0x38c2('0x24')][_0x38c2('0x3b')]/_0x3af5e8);const _0x3769cc=_0x404237*(_0x16545a-0x1);const _0x34eb24=Math[_0x38c2('0x63')](_0x3769cc+_0x404237,_0x3ff78b[_0x38c2('0x52')][_0x38c2('0x24')][_0x38c2('0x3b')])-0x1;_0x3d7dcd(_0x38c2('0x64')+_0x16545a+_0x38c2('0x65')+_0x3af5e8+_0x38c2('0x66')+_0x404237+_0x38c2('0x67')+_0x3769cc+_0x38c2('0x68')+_0x34eb24);_0xb3b46d[_0x38c2('0x46')](0x0,_0x404237,{'log':_0xb3b46d[_0x38c2('0x49')]['title']+':\x20batchNum:\x20'+_0x16545a+'\x20batchCount:\x20'+_0x3af5e8+_0x38c2('0x66')+_0x404237+'\x20batchStart:\x20'+_0x3769cc+_0x38c2('0x68')+_0x34eb24});for(let _0x4580b5=_0x3769cc;_0x4580b5<=_0x34eb24;_0x4580b5++){const _0x15fe9d=_0x4580b5;const _0x136bf9=_0x3ff78b[_0x38c2('0x52')][_0x38c2('0x24')][_0x15fe9d];let _0x5bef84=null;const _0xe8a09b=[];const _0x52a66d=(_0x5aae92,_0xc4ffb7)=>{if(_0xc4ffb7[_0x38c2('0x69')])_0xe8a09b[_0x38c2('0x48')](..._0xc4ffb7[_0x38c2('0x69')]);};const _0x371204=(_0x2cfe21,_0x28ed10)=>{if(_0x28ed10[_0x38c2('0x69')])_0xe8a09b[_0x38c2('0x48')](..._0x28ed10[_0x38c2('0x69')]);};const _0x3506dd=(_0xef6209,_0x5ea0a2)=>{_0xe8a09b[_0x38c2('0x48')](_0x5ea0a2);};const _0x28397b=(_0xfbda6d,_0x440db5)=>{if(_0x440db5)_0x136bf9[_0x38c2('0x2f')]=Object[_0x38c2('0x37')]({},_0x136bf9['sourceTag'],_0x440db5);};const _0x46b9d6=()=>{_0x3ee828[_0x38c2('0x6a')][_0x38c2('0x6b')]('MESSAGE_SENTTOBOT',_0x52a66d);_0x3ee828[_0x38c2('0x6a')][_0x38c2('0x6b')]('MESSAGE_RECEIVEDFROMBOT',_0x371204);_0x3ee828[_0x38c2('0x6a')][_0x38c2('0x6b')]('MESSAGE_ATTACHMENT',_0x3506dd);_0x3ee828[_0x38c2('0x6a')]['removeListener']('CONTAINER_STARTED',_0x28397b);};const _0x3d7fa7=()=>{_0x3ee828['on'](_0x38c2('0x6c'),_0x52a66d);_0x3ee828['on'](_0x38c2('0x6d'),_0x371204);_0x3ee828['on'](_0x38c2('0x6e'),_0x3506dd);_0x3ee828['on'](_0x38c2('0x6f'),_0x28397b);};let _0x2b6f0a=null;_0x3ff78b[_0x38c2('0x70')](_0x3d7fa7)[_0x38c2('0x71')]();_0x3ff78b[_0x38c2('0x70')](()=>{return new Promise(_0x1efb8a=>{if(_0x50f1f2){_0x3d7dcd(_0x38c2('0x72')+_0x136bf9['header']['name']+_0x38c2('0x73')+_0x15fe9d+',\x20'+(_0x15fe9d-_0x3769cc)+'\x20from\x20'+_0x404237);_0x1efb8a();}else{_0x3d7dcd(_0x38c2('0x74')+_0x136bf9[_0x38c2('0x75')][_0x38c2('0x32')]+'\x22,\x20Index\x20'+_0x15fe9d+',\x20'+(_0x15fe9d-_0x3769cc)+_0x38c2('0x76')+_0x404237);return _0x136bf9[_0x38c2('0x77')](_0x3ff78b[_0x38c2('0x78')])[_0x38c2('0x50')](_0x55ed45=>{_0x3d7dcd('Running\x20Convo\x20\x22'+_0x136bf9[_0x38c2('0x75')][_0x38c2('0x32')]+_0x38c2('0x79'));_0x5bef84=_0x55ed45;_0x1efb8a();})['catch'](_0x44770c=>{_0x3d7dcd('Running\x20Convo\x20\x22'+_0x136bf9['header'][_0x38c2('0x32')]+_0x38c2('0x7a')+_0x44770c+'.');_0x5bef84=_0x44770c['transcript'];_0x2b6f0a=_0x44770c;_0x1efb8a();});}});});_0x3ff78b[_0x38c2('0x7b')]()[_0x38c2('0x70')](_0x46b9d6);_0x3ff78b[_0x38c2('0x70')](()=>{if(_0x50f1f2)return;if(_0x5bef84){_0x5bef84[_0x38c2('0x7c')]=_0x5bef84[_0x38c2('0x7c')]?_0x5bef84['err']['message']?_0x5bef84['err'][_0x38c2('0x7d')]:JSON['stringify'](_0x5bef84[_0x38c2('0x7c')]):null;_0x5bef84[_0x38c2('0x7e')]&&_0x5bef84['steps'][_0x38c2('0x25')](_0x10cdfb=>{_0x10cdfb['err']=_0x10cdfb[_0x38c2('0x7c')]?_0x10cdfb[_0x38c2('0x7c')]['message']?_0x10cdfb[_0x38c2('0x7c')][_0x38c2('0x7d')]:JSON['stringify'](_0x10cdfb['err']):null;});}_0xb3b46d[_0x38c2('0x46')](_0x15fe9d-_0x3769cc+0x1,_0x404237,{'type':_0x38c2('0x7f'),'testcase':_0x136bf9[_0x38c2('0x75')][_0x38c2('0x32')],'source':_0x136bf9[_0x38c2('0x80')](),'sourceTag':_0x136bf9[_0x38c2('0x2f')],'transcript':_0x5bef84,'attachments':_0xe8a09b,'success':_0x2b6f0a===null,'err':_0x2b6f0a?_0x2b6f0a[_0x38c2('0x7d')]?_0x2b6f0a[_0x38c2('0x7d')]:JSON[_0x38c2('0x81')](_0x2b6f0a):null});});}_0x3ff78b['Clean']();_0x3ff78b[_0x38c2('0x70')](()=>_0x1294d6());_0x3ff78b[_0x38c2('0x70')](()=>{if(_0x50f1f2){throw new Error('Test\x20Session\x20cancelled');}});_0x3ff78b[_0x38c2('0x82')]()[_0x38c2('0x50')](_0x1efb8a)[_0x38c2('0x61')](_0x36cdfe);})[_0x38c2('0x61')](_0x36cdfe);});};var _0xcb26c={'run':_0x39817d,'cancel':_0x4ef4df};_0x4e4960['config']();_0x4f8c29[_0x38c2('0x83')]();const _0x553b08=_0x4b7bfb('botium-box-worker');const _0x35cfa5=()=>{if(process[_0x38c2('0x84')][_0x38c2('0x85')]){return process[_0x38c2('0x84')][_0x38c2('0x85')];}const _0xab4bb9=_0x483822[_0x38c2('0x86')]();if(_0xab4bb9&&process[_0x38c2('0x84')]['hasOwnProperty'](_0x38c2('0x87'))){return _0xab4bb9+'_'+process[_0x38c2('0x84')]['BOTIUMBOX_AGENT_NUM'];}else if(_0xab4bb9){return _0xab4bb9;}else{return _0x38c2('0x88');}};const _0x4007c4=_0x35cfa5();const _0x2a28f6=process[_0x38c2('0x84')]['BOTIUMBOX_AGENT_GROUP']||_0x38c2('0x89');_0x553b08('Connecting\x20agent\x20'+_0x4007c4+_0x38c2('0x8a')+_0x2a28f6+'\x20...');let _0x328a95={};if(process[_0x38c2('0x84')][_0x38c2('0x8b')]){try{_0x328a95=JSON[_0x38c2('0x8c')](process['env'][_0x38c2('0x8b')]);_0x553b08(_0x38c2('0x8d')+JSON[_0x38c2('0x81')](_0x328a95)+'\x27');}catch(_0x169da2){console[_0x38c2('0x1d')](_0x38c2('0x8e')+process[_0x38c2('0x84')][_0x38c2('0x8b')]+'\x27:');console[_0x38c2('0x1d')](_0x169da2);process[_0x38c2('0x8f')](0x1);}}else{if(process[_0x38c2('0x84')][_0x38c2('0x90')]){_0x328a95[_0x38c2('0x91')]=process[_0x38c2('0x84')][_0x38c2('0x90')];}if(process[_0x38c2('0x84')][_0x38c2('0x92')]){_0x328a95[_0x38c2('0x93')]=process[_0x38c2('0x84')][_0x38c2('0x92')];}}_0x553b08(_0x38c2('0x94')+JSON['stringify'](_0x328a95)+'\x27');const _0x2d3dcb=process[_0x38c2('0x84')][_0x38c2('0x95')]||0x1;let _0x4ded3d=process['env'][_0x38c2('0x96')]||0x493e0;if(_0x4ded3d>0x0&&_0x4ded3d<0x1388)_0x4ded3d=0x1388;const _0x23150e=_0x1be3f6['createQueue'](_0x328a95);_0x23150e['on'](_0x38c2('0x97'),_0x421c84=>{console[_0x38c2('0x1d')](_0x38c2('0x98')+JSON[_0x38c2('0x81')](_0x328a95)+'\x27:');console[_0x38c2('0x1d')](_0x421c84);process[_0x38c2('0x8f')](0x1);});_0x553b08('Trying\x20to\x20register\x20agent\x20...');_0x23150e['create'](_0x38c2('0x99'),{'title':_0x38c2('0x9a')+_0x4007c4+_0x38c2('0x8a')+_0x2a28f6,'name':_0x4007c4,'group':_0x2a28f6})[_0x38c2('0x9b')]('high')[_0x38c2('0x9c')](0x5)[_0x38c2('0x9d')](0x2710)['removeOnComplete'](!![])['save']()['on'](_0x38c2('0x9e'),_0x2d6106=>{console[_0x38c2('0x1d')](_0x38c2('0x9f'));console[_0x38c2('0x1d')](_0x2d6106);process[_0x38c2('0x8f')](0x1);})['on'](_0x38c2('0xa0'),_0x4ee07e=>{_0x553b08(_0x38c2('0xa1')+JSON['stringify'](_0x4ee07e)+_0x38c2('0xa2')+_0x2d3dcb+').');let _0x327167=_0x4ee07e;const _0x36ef75=(_0x2b9976,_0x103a53)=>{_0x553b08(_0x38c2('0xa3')+_0x2b9976['id']);try{_0xcb26c[_0x38c2('0xa4')](_0x327167,_0x2b9976)[_0x38c2('0x50')](_0x4ee07e=>{_0x553b08(_0x38c2('0xa3')+_0x2b9976['id']+_0x38c2('0xa5'));_0x553b08(_0x4ee07e);_0x103a53(null,_0x4ee07e);})['catch'](_0x523382=>{_0x553b08(_0x38c2('0xa3')+_0x2b9976['id']+'\x20failed:');_0x553b08(_0x523382);_0x103a53(_0x523382);});}catch(_0x2f2635){_0x553b08(_0x38c2('0xa3')+_0x2b9976['id']+_0x38c2('0xa6'));_0x553b08(_0x2f2635);_0x103a53(_0x2f2635);}};const _0x5d5afa=(_0x20632c,_0x4f43fb)=>{if(!_0x20632c[_0x38c2('0x49')]||!_0x20632c[_0x38c2('0x49')][_0x38c2('0xa7')]){return[_0x553b08,_0x4f43fb][_0x38c2('0x25')](_0x46e6f8=>_0x46e6f8('Cancel\x20Test\x20Session\x20event\x20received,\x20but\x20no\x20testSessionId\x20given'));}_0x553b08(_0x38c2('0xa8')+(_0x20632c[_0x38c2('0x49')]&&_0x20632c['data'][_0x38c2('0xa7')]));try{_0xcb26c['cancel'](_0x20632c[_0x38c2('0x49')]['jobId'],_0x20632c);_0x553b08(_0x38c2('0xa8')+_0x20632c['data'][_0x38c2('0xa7')]+_0x38c2('0xa9'));_0x4f43fb();}catch(_0x52d740){_0x553b08(_0x38c2('0xa8')+_0x20632c[_0x38c2('0x49')][_0x38c2('0xa7')]+'\x20failed:');_0x553b08(_0x52d740);_0x4f43fb(_0x52d740);}};const _0x2abbdc=(_0x322579,_0x8d9487)=>{_0x553b08('Trying\x20to\x20reconfigure\x20agent\x20...');_0x23150e[_0x38c2('0xaa')](_0x38c2('0x99'),{'title':_0x38c2('0xab')+_0x4007c4+_0x38c2('0xac')+_0x2a28f6,'name':_0x4007c4,'group':_0x2a28f6})[_0x38c2('0x9b')](_0x38c2('0xad'))['attempts'](0x5)[_0x38c2('0x9d')](0x2710)['removeOnComplete'](!![])[_0x38c2('0xae')]()['on']('failed',_0x3cdb9c=>{console[_0x38c2('0x1d')](_0x38c2('0xaf'));console[_0x38c2('0x1d')](_0x3cdb9c);})['on'](_0x38c2('0xa0'),_0x4ee07e=>{_0x553b08(_0x38c2('0xb0')+JSON[_0x38c2('0x81')](_0x4ee07e)+'\x27.');_0x327167=_0x4ee07e;});};_0x23150e[_0x38c2('0x7f')](_0x38c2('0xb1')+_0x2a28f6,_0x2d3dcb,_0x36ef75);_0x23150e['process'](_0x38c2('0xb1')+_0x4007c4,_0x2d3dcb,_0x36ef75);_0x23150e[_0x38c2('0x7f')](_0x38c2('0x7f'),_0x2d3dcb,_0x36ef75);_0x23150e['process']('cancel',_0x2d3dcb,_0x5d5afa);_0x23150e['process'](_0x38c2('0xb2')+_0x4007c4,_0x2d3dcb,_0x2abbdc);if(_0x4ded3d>0x0){const _0x47ece4=()=>{_0x553b08(_0x38c2('0xb3'));const _0x440092=_0x23150e[_0x38c2('0xaa')](_0x38c2('0xb4'),{'title':_0x38c2('0xb5')+_0x4007c4+_0x38c2('0xac')+_0x2a28f6,'name':_0x4007c4,'group':_0x2a28f6})[_0x38c2('0xb6')](!![])['save']();_0x440092['on'](_0x38c2('0xa0'),()=>{setTimeout(_0x47ece4,_0x4ded3d);});};_0x47ece4();}});process['on']('uncaughtException',_0x4ce7dc=>{console[_0x38c2('0x1d')](_0x38c2('0xb7'),_0x4ce7dc);});var _0x91b48f={};return _0x91b48f;}));