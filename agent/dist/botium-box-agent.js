var _0x15c5=['Capabilities','interceptStdout','botiumCore','dotenvFlow','hasOwnProperty','default','c8e5ab97659bff2b839a56f27a65172ea2695891','2019-01-15T14:20:00+00:00','BOTIUM\x20BOX\x20-\x20AGENT','log','BUILD_TARGET:\x20','buildTarget','buildBranch','BUILD_REVISION:\x20','buildRevision','BUILD_TIMESTAMP:\x20','buildDate','botium-retrieve-all-test-cases','convos','forEach','SCRIPTING_FORMAT_XSLX','from','content','base64','Compile','SCRIPTING_TYPE_UTTERANCES','SCRIPTING_TYPE_CONVO','format','SCRIPTING_FORMAT_TXT','sourceTag','name','utterances','stringify','folders','ReadScriptsFromDirectory','globFilter','assign',':\x20Folder\x20','\x20script\x20compilation\x20failed:\x20','resolve','excels','all','map','caps','SCRIPTING_XLSX_STARTCOL','SCRIPTING_XLSX_SHEETNAMES_UTTERANCES','BotDriver','botium-box-worker-runtestcases','unhook','replace','progress','total','push','data',':\x20Started\x20processing,\x20JobId\x20#','botium','Sources','Envs','BuildFluent','compiler','BuildCompiler','_validate','testSets','tempDirectory','sources','then','filter','expandConvos','expanding\x20convos\x20...','ExpandConvos','length','uniq','expandUtterancesIncomprehension','inspect','\x20...','expanding\x20utterances\x20to\x20convos\x20...','SCRIPTING_UTTEXPANSION_INCOMPREHENSION','ExpandUtterancesToConvos','found\x20','reduce','catch','batchNum','ceil','min','\x20batchCount:\x20','\x20convosPerBatch:\x20','\x20batchStart:\x20','\x20batchEnd:\x20','title',':\x20batchNum:\x20','attachments','MESSAGE_RECEIVEDFROMBOT','removeListener','MESSAGE_ATTACHMENT','eventEmitter','CONTAINER_STARTED','MESSAGE_SENTTOBOT','Call','Start','Test\x20Session\x20cancelled,\x20skipping\x20Convo\x20\x22','header','\x22,\x20Index\x20','\x20from\x20','Running\x20Convo\x20\x22','Run','container','\x22\x20completed\x20successfully.','transcript','err','message','steps','process','toString','Clean','Test\x20Session\x20cancelled','Exec','config','botium-box-worker','env','BOTIUMBOX_AGENT_NAME','hostname','BOTIUMBOX_AGENT_NUM','Default\x20Agent','BOTIUMBOX_AGENT_GROUP','Connecting\x20agent\x20','\x20to\x20group\x20','parse','BOTIUMBOX_QUEUE_SETTINGS','Got\x20queue\x20settings\x20\x27','ERROR\x20parsing\x20queue\x20settings\x20\x27','exit','BOTIUMBOX_QUEUE_PREFIX','prefix','BOTIUMBOX_QUEUE_REDISURL','redis','connecting\x20to\x20Botium\x20queue\x20\x27','BOTIUMBOX_QUEUE_CONCURRENCY','BOTIUMBOX_QUEUE_HEARTBEAT','createQueue','ERROR\x20connecting\x20to\x20queue\x20\x27','Trying\x20to\x20register\x20agent\x20...','create','agent.register','register\x20agent\x20','high','save','ERROR\x20registering\x20agent:','complete','Registration\x20completed\x20with\x20result\x20\x27','Processing\x20Job\x20','run','\x20finished\x20with\x20result:','\x20failed:','jobId','Cancel\x20Test\x20Session\x20event\x20received,\x20but\x20no\x20testSessionId\x20given','cancel','Canceling\x20Test\x20Session\x20Job\x20','reconfigure\x20agent\x20','\x20for\x20group\x20','failed','Reconfiguration\x20completed\x20with\x20result\x20\x27','process.','sending\x20heartbeat\x20...','heartbeat\x20from\x20agent\x20','removeOnComplete','Got\x20an\x20uncaughtException','undefined','exports','path','slug','botium-core/src/Source','botium-core/src/Capabilities','util','intercept-stdout','lodash','botium-core','dotenv-flow','function','amd','botium-core/src/scripting/Constants','debug','kue','main','Source'];(function(_0xa1d278,_0xc467e7){var _0x2bd3e5=function(_0x53c35b){while(--_0x53c35b){_0xa1d278['push'](_0xa1d278['shift']());}};var _0x20c817=function(){var _0x511364={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x49f08a,_0x558a49,_0x3147a9,_0x1ef8dd){_0x1ef8dd=_0x1ef8dd||{};var _0x2e5dc3=_0x558a49+'='+_0x3147a9;var _0x2bd35b=0x0;for(var _0x2bd35b=0x0,_0x14999b=_0x49f08a['length'];_0x2bd35b<_0x14999b;_0x2bd35b++){var _0x507e31=_0x49f08a[_0x2bd35b];_0x2e5dc3+=';\x20'+_0x507e31;var _0x1e39cf=_0x49f08a[_0x507e31];_0x49f08a['push'](_0x1e39cf);_0x14999b=_0x49f08a['length'];if(_0x1e39cf!==!![]){_0x2e5dc3+='='+_0x1e39cf;}}_0x1ef8dd['cookie']=_0x2e5dc3;},'removeCookie':function(){return'dev';},'getCookie':function(_0x3b282c,_0x486fa0){_0x3b282c=_0x3b282c||function(_0x465b82){return _0x465b82;};var _0xb28f8f=_0x3b282c(new RegExp('(?:^|;\x20)'+_0x486fa0['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x17d4f2=function(_0x3d069d,_0x309d52){_0x3d069d(++_0x309d52);};_0x17d4f2(_0x2bd3e5,_0xc467e7);return _0xb28f8f?decodeURIComponent(_0xb28f8f[0x1]):undefined;}};var _0x2edbec=function(){var _0x64ec6e=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x64ec6e['test'](_0x511364['removeCookie']['toString']());};_0x511364['updateCookie']=_0x2edbec;var _0x18943f='';var _0x495815=_0x511364['updateCookie']();if(!_0x495815){_0x511364['setCookie'](['*'],'counter',0x1);}else if(_0x495815){_0x18943f=_0x511364['getCookie'](null,'counter');}else{_0x511364['removeCookie']();}};_0x20c817();}(_0x15c5,0xa6));var _0x4edc=function(_0xe03515,_0x46c016){_0xe03515=_0xe03515-0x0;var _0x17ff91=_0x15c5[_0xe03515];return _0x17ff91;};(function(_0x1d845a,_0x5b583d){var _0x1d16ad=function(){var _0x401f5e=!![];return function(_0x4a501f,_0x3e9681){var _0x3a215b=_0x401f5e?function(){if(_0x3e9681){var _0x467fc8=_0x3e9681['apply'](_0x4a501f,arguments);_0x3e9681=null;return _0x467fc8;}}:function(){};_0x401f5e=![];return _0x3a215b;};}();var _0x287479=_0x1d16ad(this,function(){var _0x593048=function(){return'\x64\x65\x76';},_0x34d6d3=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x121b73=function(){var _0x2fec10=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x2fec10['\x74\x65\x73\x74'](_0x593048['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x4c20f2=function(){var _0x5f1f56=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x5f1f56['\x74\x65\x73\x74'](_0x34d6d3['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x5c128f=function(_0x44b494){var _0x5d001d=~-0x1>>0x1+0xff%0x0;if(_0x44b494['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x5d001d)){_0x28d219(_0x44b494);}};var _0x28d219=function(_0x88250){var _0x1d7010=~-0x4>>0x1+0xff%0x0;if(_0x88250['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x1d7010){_0x5c128f(_0x88250);}};if(!_0x121b73()){if(!_0x4c20f2()){_0x5c128f('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x5c128f('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x5c128f('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x287479();typeof exports==='object'&&typeof module!==_0x4edc('0x0')?module[_0x4edc('0x1')]=_0x5b583d(require(_0x4edc('0x2')),require(_0x4edc('0x3')),require('botium-core/src/scripting/Constants'),require(_0x4edc('0x4')),require('botium-core/src/repos/GitRepo'),require(_0x4edc('0x5')),require(_0x4edc('0x6')),require(_0x4edc('0x7')),require(_0x4edc('0x8')),require(_0x4edc('0x9')),require('debug'),require(_0x4edc('0xa')),require('os'),require('kue')):typeof define===_0x4edc('0xb')&&define[_0x4edc('0xc')]?define([_0x4edc('0x2'),_0x4edc('0x3'),_0x4edc('0xd'),_0x4edc('0x4'),'botium-core/src/repos/GitRepo',_0x4edc('0x5'),'util',_0x4edc('0x7'),'lodash',_0x4edc('0x9'),_0x4edc('0xe'),_0x4edc('0xa'),'os',_0x4edc('0xf')],_0x5b583d):_0x1d845a[_0x4edc('0x10')]=_0x5b583d(_0x1d845a['path'],_0x1d845a[_0x4edc('0x3')],_0x1d845a['Constants'],_0x1d845a[_0x4edc('0x11')],_0x1d845a['GitRepo'],_0x1d845a[_0x4edc('0x12')],_0x1d845a[_0x4edc('0x6')],_0x1d845a[_0x4edc('0x13')],_0x1d845a[_0x4edc('0x8')],_0x1d845a[_0x4edc('0x14')],_0x1d845a['debug'],_0x1d845a[_0x4edc('0x15')],_0x1d845a['os'],_0x1d845a[_0x4edc('0xf')]);}(this,function(_0x17b12b,_0x15e46c,_0x120c46,_0x45a009,_0x162dbb,_0x3147dc,_0x2d7d24,_0x5f088a,_0x4257bb,_0x35d30f,_0x290b41,_0x275271,_0x537a9c,_0x521905){'use strict';_0x17b12b=_0x17b12b&&_0x17b12b[_0x4edc('0x16')](_0x4edc('0x17'))?_0x17b12b[_0x4edc('0x17')]:_0x17b12b;_0x15e46c=_0x15e46c&&_0x15e46c['hasOwnProperty']('default')?_0x15e46c[_0x4edc('0x17')]:_0x15e46c;_0x120c46=_0x120c46&&_0x120c46[_0x4edc('0x16')](_0x4edc('0x17'))?_0x120c46[_0x4edc('0x17')]:_0x120c46;_0x45a009=_0x45a009&&_0x45a009[_0x4edc('0x16')](_0x4edc('0x17'))?_0x45a009[_0x4edc('0x17')]:_0x45a009;_0x162dbb=_0x162dbb&&_0x162dbb[_0x4edc('0x16')](_0x4edc('0x17'))?_0x162dbb[_0x4edc('0x17')]:_0x162dbb;_0x3147dc=_0x3147dc&&_0x3147dc['hasOwnProperty'](_0x4edc('0x17'))?_0x3147dc[_0x4edc('0x17')]:_0x3147dc;_0x2d7d24=_0x2d7d24&&_0x2d7d24[_0x4edc('0x16')](_0x4edc('0x17'))?_0x2d7d24[_0x4edc('0x17')]:_0x2d7d24;_0x5f088a=_0x5f088a&&_0x5f088a[_0x4edc('0x16')]('default')?_0x5f088a[_0x4edc('0x17')]:_0x5f088a;_0x4257bb=_0x4257bb&&_0x4257bb[_0x4edc('0x16')]('default')?_0x4257bb['default']:_0x4257bb;_0x35d30f=_0x35d30f&&_0x35d30f[_0x4edc('0x16')](_0x4edc('0x17'))?_0x35d30f['default']:_0x35d30f;_0x290b41=_0x290b41&&_0x290b41[_0x4edc('0x16')](_0x4edc('0x17'))?_0x290b41[_0x4edc('0x17')]:_0x290b41;_0x275271=_0x275271&&_0x275271[_0x4edc('0x16')]('default')?_0x275271[_0x4edc('0x17')]:_0x275271;_0x537a9c=_0x537a9c&&_0x537a9c[_0x4edc('0x16')](_0x4edc('0x17'))?_0x537a9c[_0x4edc('0x17')]:_0x537a9c;_0x521905=_0x521905&&_0x521905[_0x4edc('0x16')](_0x4edc('0x17'))?_0x521905[_0x4edc('0x17')]:_0x521905;const _0x1b97c1={'buildTarget':'COMMUNITY\x20EDITION','buildBranch':'master','buildRevision':_0x4edc('0x18'),'buildDate':_0x4edc('0x19')};const _0x231255=()=>{console['log'](_0x4edc('0x1a'));console[_0x4edc('0x1b')](_0x4edc('0x1c')+_0x1b97c1[_0x4edc('0x1d')]);console['log']('BUILD_BRANCH:\x20'+_0x1b97c1[_0x4edc('0x1e')]);console[_0x4edc('0x1b')](_0x4edc('0x1f')+_0x1b97c1[_0x4edc('0x20')]);console[_0x4edc('0x1b')](_0x4edc('0x21')+_0x1b97c1[_0x4edc('0x22')]);};var _0x39aa18={'buildInfo':_0x1b97c1,'printVersion':_0x231255};const _0x1206b4=_0x290b41(_0x4edc('0x23'));var _0x1582a3=(_0x4f2e16,_0x3c5a46,_0x1bbc84,_0x5497ac)=>{_0x4f2e16[_0x4edc('0x24')]&&_0x4f2e16[_0x4edc('0x24')][_0x4edc('0x25')](_0x60638=>{let _0x7f9501=[];let _0x4a9e55=[];try{if(_0x60638['format']===_0x120c46[_0x4edc('0x26')]){const _0x192003=Buffer[_0x4edc('0x27')](_0x60638[_0x4edc('0x28')],_0x4edc('0x29'));_0x4a9e55=_0x3c5a46[_0x4edc('0x2a')](_0x192003,_0x120c46[_0x4edc('0x26')],_0x120c46[_0x4edc('0x2b')]);_0x7f9501=_0x3c5a46[_0x4edc('0x2a')](_0x192003,_0x120c46['SCRIPTING_FORMAT_XSLX'],_0x120c46[_0x4edc('0x2c')]);}else if(_0x60638[_0x4edc('0x2d')]===_0x120c46[_0x4edc('0x2e')]){_0x7f9501=_0x3c5a46[_0x4edc('0x2a')](_0x60638[_0x4edc('0x28')],_0x120c46[_0x4edc('0x2e')],_0x120c46[_0x4edc('0x2c')]);}if(_0x7f9501)_0x7f9501[_0x4edc('0x25')](_0x2b13b6=>{_0x2b13b6['sourceTag']=_0x60638[_0x4edc('0x2f')];});if(_0x4a9e55)_0x4a9e55[_0x4edc('0x25')](_0x25fb47=>{_0x25fb47[_0x4edc('0x2f')]=_0x60638[_0x4edc('0x2f')];});}catch(_0x5433ea){_0x1206b4(_0x5433ea);throw new Error(_0x4f2e16[_0x4edc('0x30')]+':\x20Convo\x20Script\x20compilation\x20failed:\x20'+JSON['stringify'](_0x5433ea));}});_0x4f2e16[_0x4edc('0x31')]&&_0x4f2e16[_0x4edc('0x31')]['forEach'](_0x47fa69=>{let _0x4b318b=[];try{_0x4b318b=_0x3c5a46[_0x4edc('0x2a')](_0x47fa69[_0x4edc('0x28')],_0x120c46[_0x4edc('0x2e')],_0x120c46[_0x4edc('0x2b')]);if(_0x4b318b)_0x4b318b[_0x4edc('0x25')](_0x3cee70=>{_0x3cee70[_0x4edc('0x2f')]=_0x47fa69[_0x4edc('0x2f')];});}catch(_0x2c8ab2){_0x1206b4(_0x2c8ab2);throw new Error(_0x4f2e16[_0x4edc('0x30')]+':\x20Utterance\x20script\x20compilation\x20failed:\x20'+JSON[_0x4edc('0x32')](_0x2c8ab2));}});_0x4f2e16[_0x4edc('0x33')]&&_0x4f2e16[_0x4edc('0x33')][_0x4edc('0x25')](_0x707ff9=>{try{const {convos,utterances}=_0x3c5a46[_0x4edc('0x34')](_0x707ff9[_0x4edc('0x2')],_0x707ff9[_0x4edc('0x35')]);convos&&convos['forEach'](_0x17bd76=>{_0x17bd76['sourceTag']=Object[_0x4edc('0x36')]({},_0x17bd76[_0x4edc('0x2f')],_0x707ff9[_0x4edc('0x2f')]);});utterances&&utterances['forEach'](_0x5c98c8=>{_0x5c98c8[_0x4edc('0x2f')]=Object['assign']({},_0x5c98c8[_0x4edc('0x2f')],_0x707ff9[_0x4edc('0x2f')]);});}catch(_0xea5fc){_0x1206b4(_0xea5fc);throw new Error(_0x4f2e16[_0x4edc('0x30')]+_0x4edc('0x37')+_0x707ff9+_0x4edc('0x38')+JSON[_0x4edc('0x32')](_0xea5fc));}});let _0x34a2a8=Promise[_0x4edc('0x39')]();if(_0x4f2e16[_0x4edc('0x3a')]&&_0x4f2e16['excels']['length']>0x0){_0x34a2a8=Promise[_0x4edc('0x3b')](_0x4f2e16[_0x4edc('0x3a')][_0x4edc('0x3c')](({id,filename,filecontent,hasConvos,hasUtterances,worksheetsConvos,worksheetsUtterances,startRow,startCol,sourceTag})=>{return new Promise(_0x11ff79=>{const _0xbec87d=Buffer[_0x4edc('0x27')](filecontent,_0x4edc('0x29'));let _0x1f01f4=[];let _0x452ffd=[];if(hasConvos){if(worksheetsConvos)_0x3c5a46['caps'][_0x3147dc['SCRIPTING_XLSX_SHEETNAMES']]=worksheetsConvos;if(!isNaN(startRow))_0x3c5a46[_0x4edc('0x3d')][_0x3147dc['SCRIPTING_XLSX_STARTROW']]=startRow;if(!isNaN(startCol))_0x3c5a46[_0x4edc('0x3d')][_0x3147dc[_0x4edc('0x3e')]]=startCol;_0x1f01f4=_0x3c5a46[_0x4edc('0x2a')](_0xbec87d,_0x120c46[_0x4edc('0x26')],_0x120c46[_0x4edc('0x2c')]);}if(hasUtterances){if(worksheetsUtterances)_0x3c5a46[_0x4edc('0x3d')][_0x3147dc[_0x4edc('0x3f')]]=worksheetsUtterances;if(!isNaN(startRow))_0x3c5a46[_0x4edc('0x3d')][_0x3147dc['SCRIPTING_XLSX_STARTROW']]=startRow;if(!isNaN(startCol))_0x3c5a46[_0x4edc('0x3d')][_0x3147dc[_0x4edc('0x3e')]]=startCol;_0x452ffd=_0x3c5a46[_0x4edc('0x2a')](_0xbec87d,_0x120c46[_0x4edc('0x26')],_0x120c46[_0x4edc('0x2b')]);}_0x1f01f4&&_0x1f01f4[_0x4edc('0x25')](_0x3fd923=>{_0x3fd923[_0x4edc('0x2f')]=Object[_0x4edc('0x36')]({},_0x3fd923['sourceTag'],sourceTag);});_0x452ffd&&_0x452ffd[_0x4edc('0x25')](_0x5778b1=>{_0x5778b1['sourceTag']=Object[_0x4edc('0x36')]({},_0x5778b1[_0x4edc('0x2f')],sourceTag);});_0x11ff79();});}));}let _0x830e3f=Promise['resolve']();return Promise[_0x4edc('0x3b')]([_0x830e3f,_0x34a2a8]);};const _0xb30104=_0x35d30f[_0x4edc('0x40')];const _0x3f0898=_0x290b41(_0x4edc('0x41'));const _0x587dc9={'unhook':null,'progress':0x0,'total':0x0};const _0x3d4897=_0x45eb50=>{_0x587dc9[_0x4edc('0x42')]=_0x5f088a(_0x3d1183=>{const _0x532a59=_0x3d1183[_0x4edc('0x43')](/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,'');_0x45eb50[_0x4edc('0x44')](_0x587dc9[_0x4edc('0x44')],_0x587dc9[_0x4edc('0x45')],{'log':_0x532a59});return _0x3d1183;});};const _0x3859d2=()=>{if(_0x587dc9[_0x4edc('0x42')]){_0x587dc9['unhook']();_0x587dc9[_0x4edc('0x42')]=null;}_0x587dc9[_0x4edc('0x44')]=0x0;_0x587dc9[_0x4edc('0x45')]=0x0;};const _0x5207f1={};const _0x402a82=(_0x3d1e3e,_0x322172)=>{if(!_0x5207f1[_0x3d1e3e])_0x5207f1[_0x3d1e3e]=[];_0x5207f1[_0x3d1e3e][_0x4edc('0x46')](_0x322172);};const _0x294c9d=(_0x4f5d97,_0x4361c0)=>{if(_0x5207f1[_0x4f5d97]){_0x5207f1[_0x4f5d97][_0x4edc('0x25')](_0xa3a11d=>_0xa3a11d());delete _0x5207f1[_0x4f5d97];}};const _0x4d9897=(_0x25db54,_0x58c29c)=>{let _0x331944=![];_0x402a82(_0x58c29c['id'],()=>{_0x331944=!![];});return new Promise((_0x5336bc,_0xd62c4d)=>{_0x58c29c[_0x4edc('0x44')](0x0,0x0,{'log':_0x58c29c[_0x4edc('0x47')]['title']+_0x4edc('0x48')+_0x58c29c['id']+'.'});_0x3d4897(_0x58c29c);const _0x47354c={};if(_0x25db54[_0x4edc('0x49')]&&_0x25db54['botium'][_0x4edc('0x12')])Object[_0x4edc('0x36')](_0x47354c,_0x25db54[_0x4edc('0x49')][_0x4edc('0x12')]);if(_0x58c29c[_0x4edc('0x47')][_0x4edc('0x49')]&&_0x58c29c[_0x4edc('0x47')][_0x4edc('0x49')][_0x4edc('0x12')])Object[_0x4edc('0x36')](_0x47354c,_0x58c29c['data'][_0x4edc('0x49')][_0x4edc('0x12')]);const _0x38552c={};if(_0x25db54[_0x4edc('0x49')]&&_0x25db54[_0x4edc('0x49')][_0x4edc('0x4a')])Object[_0x4edc('0x36')](_0x38552c,_0x25db54[_0x4edc('0x49')][_0x4edc('0x4a')]);if(_0x58c29c[_0x4edc('0x47')]['botium']&&_0x58c29c['data'][_0x4edc('0x49')][_0x4edc('0x4a')])Object[_0x4edc('0x36')](_0x38552c,_0x58c29c[_0x4edc('0x47')][_0x4edc('0x49')][_0x4edc('0x4a')]);const _0x244a87={};if(_0x25db54['botium']&&_0x25db54[_0x4edc('0x49')]['Envs'])Object[_0x4edc('0x36')](_0x244a87,_0x25db54[_0x4edc('0x49')]['Envs']);if(_0x58c29c[_0x4edc('0x47')]['botium']&&_0x58c29c[_0x4edc('0x47')][_0x4edc('0x49')][_0x4edc('0x4b')])Object[_0x4edc('0x36')](_0x244a87,_0x58c29c['data'][_0x4edc('0x49')][_0x4edc('0x4b')]);const _0x2e6d7b=new _0xb30104(_0x47354c,_0x38552c,_0x244a87);const _0x431f07=_0x2e6d7b[_0x4edc('0x4c')]();_0x431f07[_0x4edc('0x4d')]=_0x2e6d7b[_0x4edc('0x4e')]();_0x2e6d7b[_0x4edc('0x4f')]()['then'](()=>{return new Promise((_0x5336bc,_0xd62c4d)=>{const _0x1d7d49=Promise['all'](_0x58c29c['data'][_0x4edc('0x50')][_0x4edc('0x3c')](_0x5ae815=>_0x1582a3(_0x5ae815,_0x431f07[_0x4edc('0x4d')],_0x2e6d7b[_0x4edc('0x51')],_0x2e6d7b[_0x4edc('0x52')])))[_0x4edc('0x53')](()=>{const _0x58bea9=_0x58c29c[_0x4edc('0x47')][_0x4edc('0x50')][_0x4edc('0x54')](_0x2d21c4=>_0x2d21c4[_0x4edc('0x55')])['length']>0x0;if(_0x58bea9){_0x3f0898(_0x4edc('0x56'));_0x431f07[_0x4edc('0x4d')][_0x4edc('0x57')]();}const _0x138765=_0x58c29c[_0x4edc('0x47')][_0x4edc('0x50')][_0x4edc('0x54')](_0x1c8705=>_0x1c8705['expandUtterancesToConvos'])[_0x4edc('0x58')]>0x0;if(_0x138765){const _0x43b16e=_0x4257bb[_0x4edc('0x59')](_0x58c29c['data'][_0x4edc('0x50')][_0x4edc('0x54')](_0x249178=>_0x249178['expandUtterancesToConvos']&&_0x249178[_0x4edc('0x5a')])[_0x4edc('0x3c')](_0x1ce5bf=>_0x1ce5bf[_0x4edc('0x5a')]));if(_0x43b16e&&_0x43b16e[_0x4edc('0x58')]>0x1){throw new Error('expanding\x20utterances\x20to\x20convos\x20not\x20possible,\x20found\x20multiple\x20INCOMPREHENSION\x20utterances:\x20'+_0x2d7d24[_0x4edc('0x5b')](_0x43b16e)+_0x4edc('0x5c'));}_0x3f0898(_0x4edc('0x5d'));if(_0x43b16e&&_0x43b16e['length']>0x0){_0x431f07[_0x4edc('0x4d')][_0x4edc('0x3d')][_0x3147dc[_0x4edc('0x5e')]]=_0x43b16e[0x0];}_0x431f07[_0x4edc('0x4d')][_0x4edc('0x5f')]();_0x431f07[_0x4edc('0x4d')][_0x4edc('0x57')]();}_0x3f0898(_0x4edc('0x60')+_0x431f07[_0x4edc('0x4d')][_0x4edc('0x24')][_0x4edc('0x58')]+'\x20convos\x20...');return _0x431f07[_0x4edc('0x4d')]['convos'];});_0x1d7d49[_0x4edc('0x53')](_0x264a0b=>{_0x5336bc(_0x264a0b[_0x4edc('0x61')]((_0x15e456,_0x546739)=>_0x15e456['concat'](_0x546739),[]));})[_0x4edc('0x62')](_0xd62c4d);});})[_0x4edc('0x53')](()=>{_0x431f07['compiler'][_0x4edc('0x57')]();const _0x71a408=_0x58c29c[_0x4edc('0x47')][_0x4edc('0x63')]||0x1;const _0x57fb8a=_0x58c29c[_0x4edc('0x47')]['batchCount']||0x1;const _0x5d740d=Math[_0x4edc('0x64')](_0x431f07['compiler'][_0x4edc('0x24')]['length']/_0x57fb8a);const _0xf5bb31=_0x5d740d*(_0x71a408-0x1);const _0x2f3ab2=Math[_0x4edc('0x65')](_0xf5bb31+_0x5d740d,_0x431f07[_0x4edc('0x4d')]['convos']['length'])-0x1;_0x3f0898('batchNum:\x20'+_0x71a408+_0x4edc('0x66')+_0x57fb8a+_0x4edc('0x67')+_0x5d740d+_0x4edc('0x68')+_0xf5bb31+_0x4edc('0x69')+_0x2f3ab2);_0x58c29c[_0x4edc('0x44')](0x0,_0x5d740d,{'log':_0x58c29c['data'][_0x4edc('0x6a')]+_0x4edc('0x6b')+_0x71a408+_0x4edc('0x66')+_0x57fb8a+_0x4edc('0x67')+_0x5d740d+_0x4edc('0x68')+_0xf5bb31+_0x4edc('0x69')+_0x2f3ab2});for(let _0x8699a3=_0xf5bb31;_0x8699a3<=_0x2f3ab2;_0x8699a3++){const _0x2bd2b4=_0x8699a3;const _0x495822=_0x431f07[_0x4edc('0x4d')][_0x4edc('0x24')][_0x2bd2b4];let _0x1c9fda=null;const _0x55fed0=[];const _0x45287e=(_0x36017a,_0x3a9488)=>{if(_0x3a9488[_0x4edc('0x6c')])_0x55fed0['push'](..._0x3a9488['attachments']);};const _0x5323d7=(_0x178cef,_0x4b424e)=>{if(_0x4b424e[_0x4edc('0x6c')])_0x55fed0[_0x4edc('0x46')](..._0x4b424e['attachments']);};const _0x314fe2=(_0x156266,_0x48903a)=>{_0x55fed0[_0x4edc('0x46')](_0x48903a);};const _0x4d88a8=(_0x3ec313,_0x23f886)=>{if(_0x23f886)_0x495822[_0x4edc('0x2f')]=Object[_0x4edc('0x36')]({},_0x495822[_0x4edc('0x2f')],_0x23f886);};const _0x3e2aeb=()=>{_0x2e6d7b['eventEmitter']['removeListener']('MESSAGE_SENTTOBOT',_0x45287e);_0x2e6d7b['eventEmitter']['removeListener'](_0x4edc('0x6d'),_0x5323d7);_0x2e6d7b['eventEmitter'][_0x4edc('0x6e')](_0x4edc('0x6f'),_0x314fe2);_0x2e6d7b[_0x4edc('0x70')]['removeListener'](_0x4edc('0x71'),_0x4d88a8);};const _0x57304f=()=>{_0x2e6d7b['on'](_0x4edc('0x72'),_0x45287e);_0x2e6d7b['on'](_0x4edc('0x6d'),_0x5323d7);_0x2e6d7b['on']('MESSAGE_ATTACHMENT',_0x314fe2);_0x2e6d7b['on']('CONTAINER_STARTED',_0x4d88a8);};let _0x415e65=null;_0x431f07[_0x4edc('0x73')](_0x57304f)[_0x4edc('0x74')]();_0x431f07[_0x4edc('0x73')](()=>{return new Promise(_0x5336bc=>{if(_0x331944){_0x3f0898(_0x4edc('0x75')+_0x495822[_0x4edc('0x76')][_0x4edc('0x30')]+_0x4edc('0x77')+_0x2bd2b4+',\x20'+(_0x2bd2b4-_0xf5bb31)+_0x4edc('0x78')+_0x5d740d);_0x5336bc();}else{_0x3f0898(_0x4edc('0x79')+_0x495822[_0x4edc('0x76')][_0x4edc('0x30')]+'\x22,\x20Index\x20'+_0x2bd2b4+',\x20'+(_0x2bd2b4-_0xf5bb31)+_0x4edc('0x78')+_0x5d740d);return _0x495822[_0x4edc('0x7a')](_0x431f07[_0x4edc('0x7b')])[_0x4edc('0x53')](_0x1b7d7e=>{_0x3f0898('Running\x20Convo\x20\x22'+_0x495822[_0x4edc('0x76')][_0x4edc('0x30')]+_0x4edc('0x7c'));_0x1c9fda=_0x1b7d7e;_0x5336bc();})[_0x4edc('0x62')](_0x26d191=>{_0x3f0898(_0x4edc('0x79')+_0x495822[_0x4edc('0x76')][_0x4edc('0x30')]+'\x22\x20failed:\x20'+_0x26d191+'.');_0x1c9fda=_0x26d191[_0x4edc('0x7d')];_0x415e65=_0x26d191;_0x5336bc();});}});});_0x431f07['Stop']()[_0x4edc('0x73')](_0x3e2aeb);_0x431f07['Call'](()=>{if(_0x331944)return;if(_0x1c9fda){_0x1c9fda[_0x4edc('0x7e')]=_0x1c9fda[_0x4edc('0x7e')]?_0x1c9fda['err'][_0x4edc('0x7f')]?_0x1c9fda[_0x4edc('0x7e')][_0x4edc('0x7f')]:JSON[_0x4edc('0x32')](_0x1c9fda[_0x4edc('0x7e')]):null;_0x1c9fda['steps']&&_0x1c9fda[_0x4edc('0x80')][_0x4edc('0x25')](_0xae06eb=>{_0xae06eb[_0x4edc('0x7e')]=_0xae06eb[_0x4edc('0x7e')]?_0xae06eb[_0x4edc('0x7e')]['message']?_0xae06eb['err'][_0x4edc('0x7f')]:JSON[_0x4edc('0x32')](_0xae06eb[_0x4edc('0x7e')]):null;});}_0x58c29c[_0x4edc('0x44')](_0x2bd2b4-_0xf5bb31+0x1,_0x5d740d,{'type':_0x4edc('0x81'),'testcase':_0x495822[_0x4edc('0x76')][_0x4edc('0x30')],'source':_0x495822[_0x4edc('0x82')](),'sourceTag':_0x495822['sourceTag'],'transcript':_0x1c9fda,'attachments':_0x55fed0,'success':_0x415e65===null,'err':_0x415e65?_0x415e65['message']?_0x415e65[_0x4edc('0x7f')]:JSON[_0x4edc('0x32')](_0x415e65):null});});}_0x431f07[_0x4edc('0x83')]();_0x431f07[_0x4edc('0x73')](()=>_0x3859d2());_0x431f07[_0x4edc('0x73')](()=>{if(_0x331944){throw new Error(_0x4edc('0x84'));}});_0x431f07[_0x4edc('0x85')]()[_0x4edc('0x53')](_0x5336bc)['catch'](_0xd62c4d);})[_0x4edc('0x62')](_0xd62c4d);});};var _0x2341f5={'run':_0x4d9897,'cancel':_0x294c9d};_0x275271[_0x4edc('0x86')]();_0x39aa18['printVersion']();const _0x74c4f8=_0x290b41(_0x4edc('0x87'));const _0x5888da=()=>{if(process[_0x4edc('0x88')][_0x4edc('0x89')]){return process[_0x4edc('0x88')]['BOTIUMBOX_AGENT_NAME'];}const _0x2fdb04=_0x537a9c[_0x4edc('0x8a')]();if(_0x2fdb04&&process[_0x4edc('0x88')]['hasOwnProperty']('BOTIUMBOX_AGENT_NUM')){return _0x2fdb04+'_'+process[_0x4edc('0x88')][_0x4edc('0x8b')];}else if(_0x2fdb04){return _0x2fdb04;}else{return _0x4edc('0x8c');}};const _0x4f33d3=_0x5888da();const _0x1c153d=process['env'][_0x4edc('0x8d')]||'Default\x20Group';_0x74c4f8(_0x4edc('0x8e')+_0x4f33d3+_0x4edc('0x8f')+_0x1c153d+_0x4edc('0x5c'));let _0x170a3e={};if(process[_0x4edc('0x88')]['BOTIUMBOX_QUEUE_SETTINGS']){try{_0x170a3e=JSON[_0x4edc('0x90')](process[_0x4edc('0x88')][_0x4edc('0x91')]);_0x74c4f8(_0x4edc('0x92')+JSON[_0x4edc('0x32')](_0x170a3e)+'\x27');}catch(_0x2d9266){console['log'](_0x4edc('0x93')+process[_0x4edc('0x88')][_0x4edc('0x91')]+'\x27:');console['log'](_0x2d9266);process[_0x4edc('0x94')](0x1);}}else{if(process['env'][_0x4edc('0x95')]){_0x170a3e[_0x4edc('0x96')]=process[_0x4edc('0x88')][_0x4edc('0x95')];}if(process[_0x4edc('0x88')][_0x4edc('0x97')]){_0x170a3e[_0x4edc('0x98')]=process['env']['BOTIUMBOX_QUEUE_REDISURL'];}}_0x74c4f8(_0x4edc('0x99')+JSON[_0x4edc('0x32')](_0x170a3e)+'\x27');const _0x54e6c8=process['env'][_0x4edc('0x9a')]||0x1;let _0x2d2006=process[_0x4edc('0x88')][_0x4edc('0x9b')]||0x493e0;if(_0x2d2006>0x0&&_0x2d2006<0x1388)_0x2d2006=0x1388;const _0x3d93c8=_0x521905[_0x4edc('0x9c')](_0x170a3e);_0x3d93c8['on']('error',_0x10df9a=>{console[_0x4edc('0x1b')](_0x4edc('0x9d')+JSON['stringify'](_0x170a3e)+'\x27:');console[_0x4edc('0x1b')](_0x10df9a);process['exit'](0x1);});_0x74c4f8(_0x4edc('0x9e'));_0x3d93c8[_0x4edc('0x9f')](_0x4edc('0xa0'),{'title':_0x4edc('0xa1')+_0x4f33d3+_0x4edc('0x8f')+_0x1c153d,'name':_0x4f33d3,'group':_0x1c153d})['priority'](_0x4edc('0xa2'))['attempts'](0x5)['ttl'](0x2710)['removeOnComplete'](!![])[_0x4edc('0xa3')]()['on']('failed',_0x52ba97=>{console[_0x4edc('0x1b')](_0x4edc('0xa4'));console['log'](_0x52ba97);process['exit'](0x1);})['on'](_0x4edc('0xa5'),_0x4d5acb=>{_0x74c4f8(_0x4edc('0xa6')+JSON[_0x4edc('0x32')](_0x4d5acb)+'\x27,\x20now\x20accepting\x20processing\x20jobs\x20(concurrency\x20'+_0x54e6c8+').');let _0x37ceba=_0x4d5acb;const _0x11d014=(_0x511362,_0x16f4b9)=>{_0x74c4f8(_0x4edc('0xa7')+_0x511362['id']);try{_0x2341f5[_0x4edc('0xa8')](_0x37ceba,_0x511362)[_0x4edc('0x53')](_0x4d5acb=>{_0x74c4f8('Processing\x20Job\x20'+_0x511362['id']+_0x4edc('0xa9'));_0x74c4f8(_0x4d5acb);_0x16f4b9(null,_0x4d5acb);})[_0x4edc('0x62')](_0x387f09=>{_0x74c4f8('Processing\x20Job\x20'+_0x511362['id']+'\x20failed:');_0x74c4f8(_0x387f09);_0x16f4b9(_0x387f09);});}catch(_0x3c5459){_0x74c4f8(_0x4edc('0xa7')+_0x511362['id']+_0x4edc('0xaa'));_0x74c4f8(_0x3c5459);_0x16f4b9(_0x3c5459);}};const _0x391c8c=(_0x293b48,_0x51b767)=>{if(!_0x293b48[_0x4edc('0x47')]||!_0x293b48[_0x4edc('0x47')][_0x4edc('0xab')]){return[_0x74c4f8,_0x51b767][_0x4edc('0x25')](_0x472419=>_0x472419(_0x4edc('0xac')));}_0x74c4f8('Canceling\x20Test\x20Session\x20Job\x20'+(_0x293b48['data']&&_0x293b48[_0x4edc('0x47')][_0x4edc('0xab')]));try{_0x2341f5[_0x4edc('0xad')](_0x293b48['data'][_0x4edc('0xab')],_0x293b48);_0x74c4f8('Canceling\x20Test\x20Session\x20Job\x20'+_0x293b48[_0x4edc('0x47')]['jobId']+'\x20finished.');_0x51b767();}catch(_0x56f05f){_0x74c4f8(_0x4edc('0xae')+_0x293b48[_0x4edc('0x47')][_0x4edc('0xab')]+_0x4edc('0xaa'));_0x74c4f8(_0x56f05f);_0x51b767(_0x56f05f);}};const _0x31aa83=(_0x1338f6,_0x23f0d9)=>{_0x74c4f8('Trying\x20to\x20reconfigure\x20agent\x20...');_0x3d93c8[_0x4edc('0x9f')](_0x4edc('0xa0'),{'title':_0x4edc('0xaf')+_0x4f33d3+_0x4edc('0xb0')+_0x1c153d,'name':_0x4f33d3,'group':_0x1c153d})['priority']('high')['attempts'](0x5)['ttl'](0x2710)['removeOnComplete'](!![])[_0x4edc('0xa3')]()['on'](_0x4edc('0xb1'),_0xd05b09=>{console[_0x4edc('0x1b')]('ERROR\x20reconfiguring\x20agent:');console['log'](_0xd05b09);})['on'](_0x4edc('0xa5'),_0x4d5acb=>{_0x74c4f8(_0x4edc('0xb2')+JSON[_0x4edc('0x32')](_0x4d5acb)+'\x27.');_0x37ceba=_0x4d5acb;});};_0x3d93c8[_0x4edc('0x81')](_0x4edc('0xb3')+_0x1c153d,_0x54e6c8,_0x11d014);_0x3d93c8[_0x4edc('0x81')](_0x4edc('0xb3')+_0x4f33d3,_0x54e6c8,_0x11d014);_0x3d93c8[_0x4edc('0x81')](_0x4edc('0x81'),_0x54e6c8,_0x11d014);_0x3d93c8[_0x4edc('0x81')](_0x4edc('0xad'),_0x54e6c8,_0x391c8c);_0x3d93c8[_0x4edc('0x81')]('agent.reconfigure.'+_0x4f33d3,_0x54e6c8,_0x31aa83);if(_0x2d2006>0x0){const _0x8790f1=()=>{_0x74c4f8(_0x4edc('0xb4'));const _0x20abea=_0x3d93c8['create']('agent.heartbeat',{'title':_0x4edc('0xb5')+_0x4f33d3+_0x4edc('0xb0')+_0x1c153d,'name':_0x4f33d3,'group':_0x1c153d})[_0x4edc('0xb6')](!![])[_0x4edc('0xa3')]();_0x20abea['on'](_0x4edc('0xa5'),()=>{setTimeout(_0x8790f1,_0x2d2006);});};_0x8790f1();}});process['on']('uncaughtException',_0x21c947=>{console[_0x4edc('0x1b')](_0x4edc('0xb7'),_0x21c947);});var _0x46dba4={};return _0x46dba4;}));