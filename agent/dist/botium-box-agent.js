var _0xb786=['hasOwnProperty','default','COMMUNITY\x20EDITION','release/1.2.0','e658c471090832fa63f0fb6d42f0a828f9cddfcc','log','BOTIUM\x20BOX\x20-\x20AGENT','BUILD_TARGET:\x20','buildTarget','BUILD_BRANCH:\x20','buildBranch','BUILD_TIMESTAMP:\x20','buildDate','botium-retrieve-all-test-cases','convos','format','SCRIPTING_FORMAT_XSLX','content','base64','Compile','SCRIPTING_TYPE_CONVO','SCRIPTING_FORMAT_TXT','forEach','sourceTag',':\x20Convo\x20Script\x20compilation\x20failed:\x20','inspect','utterances','SCRIPTING_TYPE_UTTERANCES','name','folders','ReadScriptsFromDirectory','globFilter','assign',':\x20Folder\x20','excels','length','all','map','caps','SCRIPTING_XLSX_SHEETNAMES','SCRIPTING_XLSX_STARTROW','SCRIPTING_XLSX_STARTCOL','SCRIPTING_XLSX_SHEETNAMES_UTTERANCES','resolve','BotDriver','unhook','replace','progress','total','push','data','title',':\x20Started\x20processing,\x20JobId\x20#','botium','Sources','Envs','BuildFluent','compiler','BuildCompiler','_validate','then','testSets','tempDirectory','sources','filter','expandConvos','expanding\x20convos\x20...','ExpandConvos','expandUtterancesToConvos','uniq','expandUtterancesIncomprehension','expanding\x20utterances\x20to\x20convos\x20not\x20possible,\x20found\x20multiple\x20INCOMPREHENSION\x20utterances:\x20','expanding\x20utterances\x20to\x20convos\x20...','ExpandUtterancesToConvos','found\x20','\x20convos\x20...','reduce','concat','catch','batchNum','batchCount','ceil','min','\x20batchCount:\x20','\x20batchEnd:\x20',':\x20batchNum:\x20','\x20batchStart:\x20','attachments','removeListener','MESSAGE_SENTTOBOT','eventEmitter','MESSAGE_RECEIVEDFROMBOT','CONTAINER_STARTED','Call','Start','Test\x20Session\x20cancelled,\x20skipping\x20Convo\x20\x22','header','\x22,\x20Index\x20','\x20from\x20','Run','container','Running\x20Convo\x20\x22','\x22\x20completed\x20successfully.','\x22\x20failed:\x20','Stop','err','message','stringify','steps','process','toString','Clean','Test\x20Session\x20cancelled','Exec','config','printVersion','env','BOTIUMBOX_AGENT_NAME','hostname','BOTIUMBOX_AGENT_NUM','Connecting\x20agent\x20','\x20to\x20group\x20','\x20...','parse','BOTIUMBOX_QUEUE_SETTINGS','Got\x20queue\x20settings\x20\x27','ERROR\x20parsing\x20queue\x20settings\x20\x27','exit','BOTIUMBOX_QUEUE_PREFIX','prefix','BOTIUMBOX_QUEUE_REDISURL','connecting\x20to\x20Botium\x20queue\x20\x27','BOTIUMBOX_QUEUE_CONCURRENCY','error','ERROR\x20connecting\x20to\x20queue\x20\x27','Trying\x20to\x20register\x20agent\x20...','create','register\x20agent\x20','priority','high','ttl','removeOnComplete','save','failed','\x27,\x20now\x20accepting\x20processing\x20jobs\x20(concurrency\x20','run','Processing\x20Job\x20','\x20finished\x20with\x20result:','\x20failed:','jobId','Cancel\x20Test\x20Session\x20event\x20received,\x20but\x20no\x20testSessionId\x20given','cancel','Canceling\x20Test\x20Session\x20Job\x20','\x20finished.','Trying\x20to\x20reconfigure\x20agent\x20...','agent.register','reconfigure\x20agent\x20','\x20for\x20group\x20','attempts','ERROR\x20reconfiguring\x20agent:','complete','Reconfiguration\x20completed\x20with\x20result\x20\x27','process.','sending\x20heartbeat\x20...','agent.heartbeat','heartbeat\x20from\x20agent\x20','uncaughtException','object','undefined','path','slugify','botium-core/src/Source','botium-core/src/repos/GitRepo','botium-core/src/Capabilities','intercept-stdout','lodash','debug','dotenv-flow','kue','function','amd','botium-core/src/scripting/Constants','main','Constants','Source','GitRepo','Capabilities','interceptStdout','botiumCore','dotenvFlow'];(function(_0xb5fe28,_0x3ef01a){var _0x3096a1=function(_0x325763){while(--_0x325763){_0xb5fe28['push'](_0xb5fe28['shift']());}};var _0x128352=function(){var _0xc13032={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x19344d,_0x3e12a3,_0x55a223,_0x7b34e5){_0x7b34e5=_0x7b34e5||{};var _0x5ae52f=_0x3e12a3+'='+_0x55a223;var _0x44bdae=0x0;for(var _0x44bdae=0x0,_0x207b2d=_0x19344d['length'];_0x44bdae<_0x207b2d;_0x44bdae++){var _0x124c29=_0x19344d[_0x44bdae];_0x5ae52f+=';\x20'+_0x124c29;var _0x13430b=_0x19344d[_0x124c29];_0x19344d['push'](_0x13430b);_0x207b2d=_0x19344d['length'];if(_0x13430b!==!![]){_0x5ae52f+='='+_0x13430b;}}_0x7b34e5['cookie']=_0x5ae52f;},'removeCookie':function(){return'dev';},'getCookie':function(_0x1b587d,_0x5c236a){_0x1b587d=_0x1b587d||function(_0x5298fd){return _0x5298fd;};var _0x2c859e=_0x1b587d(new RegExp('(?:^|;\x20)'+_0x5c236a['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x327df5=function(_0x23a37b,_0x66b6c){_0x23a37b(++_0x66b6c);};_0x327df5(_0x3096a1,_0x3ef01a);return _0x2c859e?decodeURIComponent(_0x2c859e[0x1]):undefined;}};var _0x2a7066=function(){var _0x2c4678=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2c4678['test'](_0xc13032['removeCookie']['toString']());};_0xc13032['updateCookie']=_0x2a7066;var _0x38c116='';var _0x5d622f=_0xc13032['updateCookie']();if(!_0x5d622f){_0xc13032['setCookie'](['*'],'counter',0x1);}else if(_0x5d622f){_0x38c116=_0xc13032['getCookie'](null,'counter');}else{_0xc13032['removeCookie']();}};_0x128352();}(_0xb786,0x165));var _0x4918=function(_0x2a7a0d,_0x35bc75){_0x2a7a0d=_0x2a7a0d-0x0;var _0x4b51aa=_0xb786[_0x2a7a0d];return _0x4b51aa;};(function(_0x29d818,_0x44c8e6){var _0x51d498=function(){var _0x2d158c=!![];return function(_0x5267c3,_0x228c42){var _0x247644=_0x2d158c?function(){if(_0x228c42){var _0x3a135d=_0x228c42['apply'](_0x5267c3,arguments);_0x228c42=null;return _0x3a135d;}}:function(){};_0x2d158c=![];return _0x247644;};}();var _0x34a14b=_0x51d498(this,function(){var _0x2d204d=function(){return'\x64\x65\x76';},_0x2dd144=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0xdffce6=function(){var _0x454029=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x454029['\x74\x65\x73\x74'](_0x2d204d['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x24a56c=function(){var _0x4e21ef=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x4e21ef['\x74\x65\x73\x74'](_0x2dd144['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x14b480=function(_0x27946f){var _0x83270b=~-0x1>>0x1+0xff%0x0;if(_0x27946f['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x83270b)){_0xba3300(_0x27946f);}};var _0xba3300=function(_0x4d1147){var _0x50ee12=~-0x4>>0x1+0xff%0x0;if(_0x4d1147['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x50ee12){_0x14b480(_0x4d1147);}};if(!_0xdffce6()){if(!_0x24a56c()){_0x14b480('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x14b480('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x14b480('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x34a14b();typeof exports===_0x4918('0x0')&&typeof module!==_0x4918('0x1')?module['exports']=_0x44c8e6(require('util'),require(_0x4918('0x2')),require(_0x4918('0x3')),require('botium-core/src/scripting/Constants'),require(_0x4918('0x4')),require(_0x4918('0x5')),require(_0x4918('0x6')),require(_0x4918('0x7')),require(_0x4918('0x8')),require('botium-core'),require(_0x4918('0x9')),require(_0x4918('0xa')),require('os'),require(_0x4918('0xb'))):typeof define===_0x4918('0xc')&&define[_0x4918('0xd')]?define(['util',_0x4918('0x2'),_0x4918('0x3'),_0x4918('0xe'),_0x4918('0x4'),_0x4918('0x5'),_0x4918('0x6'),_0x4918('0x7'),_0x4918('0x8'),'botium-core',_0x4918('0x9'),_0x4918('0xa'),'os','kue'],_0x44c8e6):_0x29d818[_0x4918('0xf')]=_0x44c8e6(_0x29d818['util'],_0x29d818[_0x4918('0x2')],_0x29d818[_0x4918('0x3')],_0x29d818[_0x4918('0x10')],_0x29d818[_0x4918('0x11')],_0x29d818[_0x4918('0x12')],_0x29d818[_0x4918('0x13')],_0x29d818[_0x4918('0x14')],_0x29d818[_0x4918('0x8')],_0x29d818[_0x4918('0x15')],_0x29d818[_0x4918('0x9')],_0x29d818[_0x4918('0x16')],_0x29d818['os'],_0x29d818[_0x4918('0xb')]);}(this,function(_0x4aee18,_0x57ee81,_0x3e97f4,_0x39586b,_0x1b520c,_0x3fc184,_0x11ad26,_0x44cacc,_0x577a60,_0x3d55b7,_0x39bec5,_0x541e69,_0xe78257,_0x3ca9b4){'use strict';_0x4aee18=_0x4aee18&&_0x4aee18[_0x4918('0x17')](_0x4918('0x18'))?_0x4aee18[_0x4918('0x18')]:_0x4aee18;_0x57ee81=_0x57ee81&&_0x57ee81[_0x4918('0x17')](_0x4918('0x18'))?_0x57ee81[_0x4918('0x18')]:_0x57ee81;_0x3e97f4=_0x3e97f4&&_0x3e97f4[_0x4918('0x17')](_0x4918('0x18'))?_0x3e97f4[_0x4918('0x18')]:_0x3e97f4;_0x39586b=_0x39586b&&_0x39586b['hasOwnProperty'](_0x4918('0x18'))?_0x39586b[_0x4918('0x18')]:_0x39586b;_0x1b520c=_0x1b520c&&_0x1b520c[_0x4918('0x17')]('default')?_0x1b520c['default']:_0x1b520c;_0x3fc184=_0x3fc184&&_0x3fc184[_0x4918('0x17')](_0x4918('0x18'))?_0x3fc184[_0x4918('0x18')]:_0x3fc184;_0x11ad26=_0x11ad26&&_0x11ad26[_0x4918('0x17')](_0x4918('0x18'))?_0x11ad26[_0x4918('0x18')]:_0x11ad26;_0x44cacc=_0x44cacc&&_0x44cacc[_0x4918('0x17')](_0x4918('0x18'))?_0x44cacc[_0x4918('0x18')]:_0x44cacc;_0x577a60=_0x577a60&&_0x577a60[_0x4918('0x17')](_0x4918('0x18'))?_0x577a60['default']:_0x577a60;_0x3d55b7=_0x3d55b7&&_0x3d55b7[_0x4918('0x17')](_0x4918('0x18'))?_0x3d55b7['default']:_0x3d55b7;_0x39bec5=_0x39bec5&&_0x39bec5['hasOwnProperty'](_0x4918('0x18'))?_0x39bec5[_0x4918('0x18')]:_0x39bec5;_0x541e69=_0x541e69&&_0x541e69[_0x4918('0x17')](_0x4918('0x18'))?_0x541e69['default']:_0x541e69;_0xe78257=_0xe78257&&_0xe78257[_0x4918('0x17')](_0x4918('0x18'))?_0xe78257[_0x4918('0x18')]:_0xe78257;_0x3ca9b4=_0x3ca9b4&&_0x3ca9b4[_0x4918('0x17')](_0x4918('0x18'))?_0x3ca9b4[_0x4918('0x18')]:_0x3ca9b4;const _0x132709={'buildTarget':_0x4918('0x19'),'buildBranch':_0x4918('0x1a'),'buildRevision':_0x4918('0x1b'),'buildDate':'2019-02-21T15:35:24+01:00'};const _0x13da90=()=>{console[_0x4918('0x1c')](_0x4918('0x1d'));console[_0x4918('0x1c')](_0x4918('0x1e')+_0x132709[_0x4918('0x1f')]);console[_0x4918('0x1c')](_0x4918('0x20')+_0x132709[_0x4918('0x21')]);console[_0x4918('0x1c')]('BUILD_REVISION:\x20'+_0x132709['buildRevision']);console['log'](_0x4918('0x22')+_0x132709[_0x4918('0x23')]);};var _0x1af169={'buildInfo':_0x132709,'printVersion':_0x13da90};const _0x28f815=_0x39bec5(_0x4918('0x24'));var _0x238989=(_0x47fd4e,_0x12bdda,_0xfaed88,_0x2f591a)=>{_0x47fd4e['convos']&&_0x47fd4e[_0x4918('0x25')]['forEach'](_0x2ab061=>{let _0xb6c03=[];let _0x3918b7=[];try{if(_0x2ab061[_0x4918('0x26')]===_0x39586b[_0x4918('0x27')]){const _0x3e6ab3=Buffer['from'](_0x2ab061[_0x4918('0x28')],_0x4918('0x29'));_0x3918b7=_0x12bdda[_0x4918('0x2a')](_0x3e6ab3,_0x39586b[_0x4918('0x27')],_0x39586b['SCRIPTING_TYPE_UTTERANCES']);_0xb6c03=_0x12bdda[_0x4918('0x2a')](_0x3e6ab3,_0x39586b[_0x4918('0x27')],_0x39586b[_0x4918('0x2b')]);}else if(_0x2ab061[_0x4918('0x26')]===_0x39586b[_0x4918('0x2c')]){_0xb6c03=_0x12bdda['Compile'](_0x2ab061['content'],_0x39586b[_0x4918('0x2c')],_0x39586b[_0x4918('0x2b')]);}if(_0xb6c03)_0xb6c03[_0x4918('0x2d')](_0x2c4e02=>{_0x2c4e02[_0x4918('0x2e')]=_0x2ab061['sourceTag'];});if(_0x3918b7)_0x3918b7[_0x4918('0x2d')](_0x32ec68=>{_0x32ec68[_0x4918('0x2e')]=_0x2ab061['sourceTag'];});}catch(_0x3083e0){_0x28f815(_0x3083e0);throw new Error(_0x47fd4e['name']+_0x4918('0x2f')+_0x4aee18[_0x4918('0x30')](_0x3083e0));}});_0x47fd4e[_0x4918('0x31')]&&_0x47fd4e['utterances']['forEach'](_0x42d906=>{let _0x4b1fee=[];try{_0x4b1fee=_0x12bdda[_0x4918('0x2a')](_0x42d906[_0x4918('0x28')],_0x39586b['SCRIPTING_FORMAT_TXT'],_0x39586b[_0x4918('0x32')]);if(_0x4b1fee)_0x4b1fee[_0x4918('0x2d')](_0x304029=>{_0x304029[_0x4918('0x2e')]=_0x42d906[_0x4918('0x2e')];});}catch(_0x10d569){_0x28f815(_0x10d569);throw new Error(_0x47fd4e[_0x4918('0x33')]+':\x20Utterance\x20script\x20compilation\x20failed:\x20'+_0x4aee18[_0x4918('0x30')](_0x10d569));}});_0x47fd4e['folders']&&_0x47fd4e[_0x4918('0x34')][_0x4918('0x2d')](_0x136572=>{try{const {convos,utterances}=_0x12bdda[_0x4918('0x35')](_0x136572['path'],_0x136572[_0x4918('0x36')]);convos&&convos['forEach'](_0x53a4e4=>{_0x53a4e4[_0x4918('0x2e')]=Object[_0x4918('0x37')]({},_0x53a4e4[_0x4918('0x2e')],_0x136572[_0x4918('0x2e')]);});utterances&&utterances[_0x4918('0x2d')](_0x2af297=>{_0x2af297['sourceTag']=Object[_0x4918('0x37')]({},_0x2af297[_0x4918('0x2e')],_0x136572['sourceTag']);});}catch(_0x3298b7){_0x28f815(_0x3298b7);throw new Error(_0x47fd4e[_0x4918('0x33')]+_0x4918('0x38')+_0x136572+'\x20script\x20compilation\x20failed:\x20'+_0x4aee18[_0x4918('0x30')](_0x3298b7));}});let _0x5a47f4=Promise['resolve']();if(_0x47fd4e[_0x4918('0x39')]&&_0x47fd4e[_0x4918('0x39')][_0x4918('0x3a')]>0x0){_0x5a47f4=Promise[_0x4918('0x3b')](_0x47fd4e[_0x4918('0x39')][_0x4918('0x3c')](({id,filename,filecontent,hasConvos,hasUtterances,worksheetsConvos,worksheetsUtterances,startRow,startCol,sourceTag})=>{return new Promise(_0x210122=>{const _0x9b7f65=Buffer['from'](filecontent,'base64');let _0x681ea0=[];let _0x25379c=[];if(hasConvos){if(worksheetsConvos)_0x12bdda[_0x4918('0x3d')][_0x11ad26[_0x4918('0x3e')]]=worksheetsConvos;if(!isNaN(startRow))_0x12bdda['caps'][_0x11ad26[_0x4918('0x3f')]]=startRow;if(!isNaN(startCol))_0x12bdda[_0x4918('0x3d')][_0x11ad26[_0x4918('0x40')]]=startCol;_0x681ea0=_0x12bdda[_0x4918('0x2a')](_0x9b7f65,_0x39586b[_0x4918('0x27')],_0x39586b[_0x4918('0x2b')]);}if(hasUtterances){if(worksheetsUtterances)_0x12bdda[_0x4918('0x3d')][_0x11ad26[_0x4918('0x41')]]=worksheetsUtterances;if(!isNaN(startRow))_0x12bdda[_0x4918('0x3d')][_0x11ad26['SCRIPTING_XLSX_STARTROW']]=startRow;if(!isNaN(startCol))_0x12bdda[_0x4918('0x3d')][_0x11ad26[_0x4918('0x40')]]=startCol;_0x25379c=_0x12bdda['Compile'](_0x9b7f65,_0x39586b[_0x4918('0x27')],_0x39586b['SCRIPTING_TYPE_UTTERANCES']);}_0x681ea0&&_0x681ea0[_0x4918('0x2d')](_0x552984=>{_0x552984[_0x4918('0x2e')]=Object[_0x4918('0x37')]({},_0x552984[_0x4918('0x2e')],sourceTag);});_0x25379c&&_0x25379c[_0x4918('0x2d')](_0x509146=>{_0x509146[_0x4918('0x2e')]=Object[_0x4918('0x37')]({},_0x509146[_0x4918('0x2e')],sourceTag);});_0x210122();});}));}let _0x2a053f=Promise[_0x4918('0x42')]();return Promise['all']([_0x2a053f,_0x5a47f4]);};const _0x1cc956=_0x3d55b7[_0x4918('0x43')];const _0x1850ba=_0x39bec5('botium-box-worker-runtestcases');const _0x4c218e={'unhook':null,'progress':0x0,'total':0x0};const _0x542ecf=_0x42ce4f=>{_0x4c218e[_0x4918('0x44')]=_0x44cacc(_0x1b4f0e=>{const _0x2b109b=_0x1b4f0e[_0x4918('0x45')](/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,'');_0x42ce4f[_0x4918('0x46')](_0x4c218e[_0x4918('0x46')],_0x4c218e[_0x4918('0x47')],{'log':_0x2b109b});return _0x1b4f0e;});};const _0x5b9c24=()=>{if(_0x4c218e[_0x4918('0x44')]){_0x4c218e[_0x4918('0x44')]();_0x4c218e['unhook']=null;}_0x4c218e[_0x4918('0x46')]=0x0;_0x4c218e[_0x4918('0x47')]=0x0;};const _0x385edd={};const _0x2f7dfe=(_0x346b9a,_0x2b617e)=>{if(!_0x385edd[_0x346b9a])_0x385edd[_0x346b9a]=[];_0x385edd[_0x346b9a][_0x4918('0x48')](_0x2b617e);};const _0x5dcc2a=(_0x2d52d8,_0x250e61)=>{if(_0x385edd[_0x2d52d8]){_0x385edd[_0x2d52d8]['forEach'](_0x1fd695=>_0x1fd695());delete _0x385edd[_0x2d52d8];}};const _0x6ffcdc=(_0x196145,_0x52c58d)=>{let _0x4d0325=![];_0x2f7dfe(_0x52c58d['id'],()=>{_0x4d0325=!![];});return new Promise((_0x330ff0,_0x566c7d)=>{_0x52c58d[_0x4918('0x46')](0x0,0x0,{'log':_0x52c58d[_0x4918('0x49')][_0x4918('0x4a')]+_0x4918('0x4b')+_0x52c58d['id']+'.'});_0x542ecf(_0x52c58d);const _0x480198={};if(_0x196145[_0x4918('0x4c')]&&_0x196145[_0x4918('0x4c')]['Capabilities'])Object['assign'](_0x480198,_0x196145[_0x4918('0x4c')]['Capabilities']);if(_0x52c58d[_0x4918('0x49')][_0x4918('0x4c')]&&_0x52c58d['data'][_0x4918('0x4c')][_0x4918('0x13')])Object[_0x4918('0x37')](_0x480198,_0x52c58d['data'][_0x4918('0x4c')]['Capabilities']);const _0x50c2={};if(_0x196145[_0x4918('0x4c')]&&_0x196145[_0x4918('0x4c')][_0x4918('0x4d')])Object['assign'](_0x50c2,_0x196145[_0x4918('0x4c')][_0x4918('0x4d')]);if(_0x52c58d[_0x4918('0x49')][_0x4918('0x4c')]&&_0x52c58d['data'][_0x4918('0x4c')][_0x4918('0x4d')])Object['assign'](_0x50c2,_0x52c58d[_0x4918('0x49')][_0x4918('0x4c')][_0x4918('0x4d')]);const _0x3bb9d9={};if(_0x196145[_0x4918('0x4c')]&&_0x196145[_0x4918('0x4c')][_0x4918('0x4e')])Object['assign'](_0x3bb9d9,_0x196145[_0x4918('0x4c')]['Envs']);if(_0x52c58d[_0x4918('0x49')][_0x4918('0x4c')]&&_0x52c58d[_0x4918('0x49')][_0x4918('0x4c')][_0x4918('0x4e')])Object[_0x4918('0x37')](_0x3bb9d9,_0x52c58d[_0x4918('0x49')][_0x4918('0x4c')][_0x4918('0x4e')]);const _0x8d6b87=new _0x1cc956(_0x480198,_0x50c2,_0x3bb9d9);const _0x1f17eb=_0x8d6b87[_0x4918('0x4f')]();_0x1f17eb[_0x4918('0x50')]=_0x8d6b87[_0x4918('0x51')]();_0x8d6b87[_0x4918('0x52')]()[_0x4918('0x53')](()=>{return new Promise((_0x330ff0,_0x566c7d)=>{const _0x2a4d60=Promise[_0x4918('0x3b')](_0x52c58d['data'][_0x4918('0x54')][_0x4918('0x3c')](_0x5301ca=>_0x238989(_0x5301ca,_0x1f17eb[_0x4918('0x50')],_0x8d6b87[_0x4918('0x55')],_0x8d6b87[_0x4918('0x56')])))[_0x4918('0x53')](()=>{const _0x4a13ca=_0x52c58d[_0x4918('0x49')][_0x4918('0x54')][_0x4918('0x57')](_0x70454a=>_0x70454a[_0x4918('0x58')])['length']>0x0;if(_0x4a13ca){_0x1850ba(_0x4918('0x59'));_0x1f17eb['compiler'][_0x4918('0x5a')]();}const _0x2f06a3=_0x52c58d['data'][_0x4918('0x54')][_0x4918('0x57')](_0x5f2772=>_0x5f2772[_0x4918('0x5b')])[_0x4918('0x3a')]>0x0;if(_0x2f06a3){const _0x863d55=_0x577a60[_0x4918('0x5c')](_0x52c58d[_0x4918('0x49')][_0x4918('0x54')][_0x4918('0x57')](_0x32cf1a=>_0x32cf1a[_0x4918('0x5b')]&&_0x32cf1a['expandUtterancesIncomprehension'])[_0x4918('0x3c')](_0x2ac5a7=>_0x2ac5a7[_0x4918('0x5d')]));if(_0x863d55&&_0x863d55[_0x4918('0x3a')]>0x1){throw new Error(_0x4918('0x5e')+_0x4aee18[_0x4918('0x30')](_0x863d55)+'\x20...');}_0x1850ba(_0x4918('0x5f'));if(_0x863d55&&_0x863d55['length']>0x0){_0x1f17eb[_0x4918('0x50')][_0x4918('0x3d')][_0x11ad26['SCRIPTING_UTTEXPANSION_INCOMPREHENSION']]=_0x863d55[0x0];}_0x1f17eb[_0x4918('0x50')][_0x4918('0x60')]();_0x1f17eb[_0x4918('0x50')][_0x4918('0x5a')]();}_0x1850ba(_0x4918('0x61')+_0x1f17eb[_0x4918('0x50')][_0x4918('0x25')]['length']+_0x4918('0x62'));return _0x1f17eb['compiler'][_0x4918('0x25')];});_0x2a4d60[_0x4918('0x53')](_0x12f403=>{_0x330ff0(_0x12f403[_0x4918('0x63')]((_0x2b500e,_0x222353)=>_0x2b500e[_0x4918('0x64')](_0x222353),[]));})[_0x4918('0x65')](_0x566c7d);});})[_0x4918('0x53')](()=>{_0x1f17eb['compiler'][_0x4918('0x5a')]();const _0x445a88=_0x52c58d['data'][_0x4918('0x66')]||0x1;const _0x468a35=_0x52c58d[_0x4918('0x49')][_0x4918('0x67')]||0x1;const _0x1cc21f=Math[_0x4918('0x68')](_0x1f17eb[_0x4918('0x50')][_0x4918('0x25')][_0x4918('0x3a')]/_0x468a35);const _0x4fc8ea=_0x1cc21f*(_0x445a88-0x1);const _0x3171a1=Math[_0x4918('0x69')](_0x4fc8ea+_0x1cc21f,_0x1f17eb[_0x4918('0x50')][_0x4918('0x25')]['length'])-0x1;_0x1850ba('batchNum:\x20'+_0x445a88+_0x4918('0x6a')+_0x468a35+'\x20convosPerBatch:\x20'+_0x1cc21f+'\x20batchStart:\x20'+_0x4fc8ea+_0x4918('0x6b')+_0x3171a1);_0x52c58d[_0x4918('0x46')](0x0,_0x1cc21f,{'log':_0x52c58d['data'][_0x4918('0x4a')]+_0x4918('0x6c')+_0x445a88+_0x4918('0x6a')+_0x468a35+'\x20convosPerBatch:\x20'+_0x1cc21f+_0x4918('0x6d')+_0x4fc8ea+_0x4918('0x6b')+_0x3171a1});for(let _0x46042b=_0x4fc8ea;_0x46042b<=_0x3171a1;_0x46042b++){const _0x4d3de8=_0x46042b;const _0x4c1696=_0x1f17eb[_0x4918('0x50')][_0x4918('0x25')][_0x4d3de8];let _0x58eda6=null;const _0x5d701e=[];const _0x69c55=(_0x4e1b14,_0x44ced2)=>{if(_0x44ced2[_0x4918('0x6e')])_0x5d701e['push'](..._0x44ced2[_0x4918('0x6e')]);};const _0x35f86e=(_0x8fd101,_0x3ed9b6)=>{if(_0x3ed9b6[_0x4918('0x6e')])_0x5d701e[_0x4918('0x48')](..._0x3ed9b6[_0x4918('0x6e')]);};const _0x81a9f9=(_0x110235,_0xe85d9f)=>{_0x5d701e[_0x4918('0x48')](_0xe85d9f);};const _0x2e3b97=(_0x3c2995,_0x53f8d6)=>{if(_0x53f8d6)_0x4c1696[_0x4918('0x2e')]=Object[_0x4918('0x37')]({},_0x4c1696[_0x4918('0x2e')],_0x53f8d6);};const _0x11da4f=()=>{_0x8d6b87['eventEmitter'][_0x4918('0x6f')](_0x4918('0x70'),_0x69c55);_0x8d6b87[_0x4918('0x71')][_0x4918('0x6f')](_0x4918('0x72'),_0x35f86e);_0x8d6b87[_0x4918('0x71')][_0x4918('0x6f')]('MESSAGE_ATTACHMENT',_0x81a9f9);_0x8d6b87[_0x4918('0x71')][_0x4918('0x6f')](_0x4918('0x73'),_0x2e3b97);};const _0x8ced7c=()=>{_0x8d6b87['on'](_0x4918('0x70'),_0x69c55);_0x8d6b87['on'](_0x4918('0x72'),_0x35f86e);_0x8d6b87['on']('MESSAGE_ATTACHMENT',_0x81a9f9);_0x8d6b87['on']('CONTAINER_STARTED',_0x2e3b97);};let _0x68c4a5=null;_0x1f17eb[_0x4918('0x74')](_0x8ced7c)[_0x4918('0x75')]();_0x1f17eb[_0x4918('0x74')](()=>{return new Promise(_0x330ff0=>{if(_0x4d0325){_0x1850ba(_0x4918('0x76')+_0x4c1696[_0x4918('0x77')]['name']+_0x4918('0x78')+_0x4d3de8+',\x20'+(_0x4d3de8-_0x4fc8ea)+_0x4918('0x79')+_0x1cc21f);_0x330ff0();}else{_0x1850ba('Running\x20Convo\x20\x22'+_0x4c1696[_0x4918('0x77')][_0x4918('0x33')]+_0x4918('0x78')+_0x4d3de8+',\x20'+(_0x4d3de8-_0x4fc8ea)+_0x4918('0x79')+_0x1cc21f);return _0x4c1696[_0x4918('0x7a')](_0x1f17eb[_0x4918('0x7b')])[_0x4918('0x53')](_0x1883a1=>{_0x1850ba(_0x4918('0x7c')+_0x4c1696[_0x4918('0x77')]['name']+_0x4918('0x7d'));_0x58eda6=_0x1883a1;_0x330ff0();})[_0x4918('0x65')](_0x46788f=>{_0x1850ba(_0x4918('0x7c')+_0x4c1696[_0x4918('0x77')][_0x4918('0x33')]+_0x4918('0x7e')+_0x46788f+'.');_0x58eda6=_0x46788f['transcript'];_0x68c4a5=_0x46788f;_0x330ff0();});}});});_0x1f17eb[_0x4918('0x7f')]()[_0x4918('0x74')](_0x11da4f);_0x1f17eb[_0x4918('0x74')](()=>{if(_0x4d0325)return;if(_0x58eda6){_0x58eda6[_0x4918('0x80')]=_0x58eda6[_0x4918('0x80')]?_0x58eda6['err'][_0x4918('0x81')]?_0x58eda6[_0x4918('0x80')][_0x4918('0x81')]:JSON[_0x4918('0x82')](_0x58eda6[_0x4918('0x80')]):null;_0x58eda6[_0x4918('0x83')]&&_0x58eda6[_0x4918('0x83')][_0x4918('0x2d')](_0x291796=>{_0x291796['err']=_0x291796[_0x4918('0x80')]?_0x291796[_0x4918('0x80')][_0x4918('0x81')]?_0x291796[_0x4918('0x80')][_0x4918('0x81')]:JSON[_0x4918('0x82')](_0x291796['err']):null;});}_0x52c58d['progress'](_0x4d3de8-_0x4fc8ea+0x1,_0x1cc21f,{'type':_0x4918('0x84'),'testcase':_0x4c1696[_0x4918('0x77')][_0x4918('0x33')],'source':_0x4c1696[_0x4918('0x85')](),'sourceTag':_0x4c1696['sourceTag'],'transcript':_0x58eda6,'attachments':_0x5d701e,'success':_0x68c4a5===null,'err':_0x68c4a5?_0x68c4a5['message']?_0x68c4a5[_0x4918('0x81')]:JSON['stringify'](_0x68c4a5):null});});}_0x1f17eb[_0x4918('0x86')]();_0x1f17eb[_0x4918('0x74')](()=>_0x5b9c24());_0x1f17eb['Call'](()=>{if(_0x4d0325){throw new Error(_0x4918('0x87'));}});_0x1f17eb[_0x4918('0x88')]()['then'](_0x330ff0)[_0x4918('0x65')](_0x566c7d);})[_0x4918('0x65')](_0x566c7d);});};var _0x41f2dc={'run':_0x6ffcdc,'cancel':_0x5dcc2a};_0x541e69[_0x4918('0x89')]();_0x1af169[_0x4918('0x8a')]();const _0x4479c8=_0x39bec5('botium-box-worker');const _0x1711a0=()=>{if(process[_0x4918('0x8b')][_0x4918('0x8c')]){return process['env'][_0x4918('0x8c')];}const _0x49a537=_0xe78257[_0x4918('0x8d')]();if(_0x49a537&&process[_0x4918('0x8b')][_0x4918('0x17')](_0x4918('0x8e'))){return _0x49a537+'_'+process[_0x4918('0x8b')][_0x4918('0x8e')];}else if(_0x49a537){return _0x49a537;}else{return'Default\x20Agent';}};const _0x1f6232=_0x1711a0();const _0x34a918=process[_0x4918('0x8b')]['BOTIUMBOX_AGENT_GROUP']||'Default\x20Group';_0x4479c8(_0x4918('0x8f')+_0x1f6232+_0x4918('0x90')+_0x34a918+_0x4918('0x91'));let _0x1dfd13={};if(process[_0x4918('0x8b')]['BOTIUMBOX_QUEUE_SETTINGS']){try{_0x1dfd13=JSON[_0x4918('0x92')](process[_0x4918('0x8b')][_0x4918('0x93')]);_0x4479c8(_0x4918('0x94')+JSON[_0x4918('0x82')](_0x1dfd13)+'\x27');}catch(_0x4d24f3){console[_0x4918('0x1c')](_0x4918('0x95')+process[_0x4918('0x8b')][_0x4918('0x93')]+'\x27:');console[_0x4918('0x1c')](_0x4d24f3);process[_0x4918('0x96')](0x1);}}else{if(process[_0x4918('0x8b')][_0x4918('0x97')]){_0x1dfd13[_0x4918('0x98')]=process[_0x4918('0x8b')][_0x4918('0x97')];}if(process[_0x4918('0x8b')][_0x4918('0x99')]){_0x1dfd13['redis']=process[_0x4918('0x8b')]['BOTIUMBOX_QUEUE_REDISURL'];}}_0x4479c8(_0x4918('0x9a')+JSON[_0x4918('0x82')](_0x1dfd13)+'\x27');const _0x242daf=process['env'][_0x4918('0x9b')]||0x1;let _0x23ab64=process[_0x4918('0x8b')]['BOTIUMBOX_QUEUE_HEARTBEAT']||0x493e0;if(_0x23ab64>0x0&&_0x23ab64<0x1388)_0x23ab64=0x1388;const _0x244184=_0x3ca9b4['createQueue'](_0x1dfd13);_0x244184['on'](_0x4918('0x9c'),_0x9e50c0=>{console[_0x4918('0x1c')](_0x4918('0x9d')+JSON[_0x4918('0x82')](_0x1dfd13)+'\x27:');console[_0x4918('0x1c')](_0x9e50c0);process[_0x4918('0x96')](0x1);});_0x4479c8(_0x4918('0x9e'));_0x244184[_0x4918('0x9f')]('agent.register',{'title':_0x4918('0xa0')+_0x1f6232+'\x20to\x20group\x20'+_0x34a918,'name':_0x1f6232,'group':_0x34a918})[_0x4918('0xa1')](_0x4918('0xa2'))['attempts'](0x5)[_0x4918('0xa3')](0x2710)[_0x4918('0xa4')](!![])[_0x4918('0xa5')]()['on'](_0x4918('0xa6'),_0x19714f=>{console[_0x4918('0x1c')]('ERROR\x20registering\x20agent:');console['log'](_0x19714f);process['exit'](0x1);})['on']('complete',_0x14afe3=>{_0x4479c8('Registration\x20completed\x20with\x20result\x20\x27'+JSON['stringify'](_0x14afe3)+_0x4918('0xa7')+_0x242daf+').');let _0x276403=_0x14afe3;const _0xbfd5e8=(_0x8a9fc,_0x19cc08)=>{_0x4479c8('Processing\x20Job\x20'+_0x8a9fc['id']);try{_0x41f2dc[_0x4918('0xa8')](_0x276403,_0x8a9fc)['then'](_0x14afe3=>{_0x4479c8(_0x4918('0xa9')+_0x8a9fc['id']+_0x4918('0xaa'));_0x4479c8(_0x14afe3);_0x19cc08(null,_0x14afe3);})['catch'](_0x1e4ea0=>{_0x4479c8('Processing\x20Job\x20'+_0x8a9fc['id']+'\x20failed:');_0x4479c8(_0x1e4ea0);_0x19cc08(_0x1e4ea0);});}catch(_0x42a235){_0x4479c8(_0x4918('0xa9')+_0x8a9fc['id']+_0x4918('0xab'));_0x4479c8(_0x42a235);_0x19cc08(_0x42a235);}};const _0x3e4d9e=(_0x1ecbf6,_0x26c26c)=>{if(!_0x1ecbf6[_0x4918('0x49')]||!_0x1ecbf6[_0x4918('0x49')][_0x4918('0xac')]){return[_0x4479c8,_0x26c26c][_0x4918('0x2d')](_0x4caf2c=>_0x4caf2c(_0x4918('0xad')));}_0x4479c8('Canceling\x20Test\x20Session\x20Job\x20'+(_0x1ecbf6[_0x4918('0x49')]&&_0x1ecbf6['data'][_0x4918('0xac')]));try{_0x41f2dc[_0x4918('0xae')](_0x1ecbf6[_0x4918('0x49')][_0x4918('0xac')],_0x1ecbf6);_0x4479c8(_0x4918('0xaf')+_0x1ecbf6[_0x4918('0x49')][_0x4918('0xac')]+_0x4918('0xb0'));_0x26c26c();}catch(_0x7bfb39){_0x4479c8('Canceling\x20Test\x20Session\x20Job\x20'+_0x1ecbf6[_0x4918('0x49')][_0x4918('0xac')]+_0x4918('0xab'));_0x4479c8(_0x7bfb39);_0x26c26c(_0x7bfb39);}};const _0x208118=(_0x47c2d7,_0x187457)=>{_0x4479c8(_0x4918('0xb1'));_0x244184['create'](_0x4918('0xb2'),{'title':_0x4918('0xb3')+_0x1f6232+_0x4918('0xb4')+_0x34a918,'name':_0x1f6232,'group':_0x34a918})['priority']('high')[_0x4918('0xb5')](0x5)['ttl'](0x2710)['removeOnComplete'](!![])['save']()['on'](_0x4918('0xa6'),_0x61c8ad=>{console[_0x4918('0x1c')](_0x4918('0xb6'));console[_0x4918('0x1c')](_0x61c8ad);})['on'](_0x4918('0xb7'),_0x14afe3=>{_0x4479c8(_0x4918('0xb8')+JSON[_0x4918('0x82')](_0x14afe3)+'\x27.');_0x276403=_0x14afe3;});};_0x244184[_0x4918('0x84')](_0x4918('0xb9')+_0x34a918,_0x242daf,_0xbfd5e8);_0x244184['process'](_0x4918('0xb9')+_0x1f6232,_0x242daf,_0xbfd5e8);_0x244184[_0x4918('0x84')](_0x4918('0x84'),_0x242daf,_0xbfd5e8);_0x244184[_0x4918('0x84')](_0x4918('0xae'),_0x242daf,_0x3e4d9e);_0x244184[_0x4918('0x84')]('agent.reconfigure.'+_0x1f6232,_0x242daf,_0x208118);if(_0x23ab64>0x0){const _0x307901=()=>{_0x4479c8(_0x4918('0xba'));const _0x1d62ca=_0x244184['create'](_0x4918('0xbb'),{'title':_0x4918('0xbc')+_0x1f6232+_0x4918('0xb4')+_0x34a918,'name':_0x1f6232,'group':_0x34a918})['removeOnComplete'](!![])[_0x4918('0xa5')]();_0x1d62ca['on'](_0x4918('0xb7'),()=>{setTimeout(_0x307901,_0x23ab64);});};_0x307901();}});process['on'](_0x4918('0xbd'),_0x4370dd=>{console['log']('Got\x20an\x20uncaughtException',_0x4370dd);});var _0x5d9857={};return _0x5d9857;}));