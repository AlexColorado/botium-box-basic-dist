var _0x3b72=['log','exit','BOTIUM_QUEUE_PREFIX','BOTIUM_QUEUE_REDISURL','redis','connecting\x20to\x20Botium\x20queue\x20\x27','BOTIUM_QUEUE_CONCURRENCY','BOTIUM_QUEUE_HEARTBEAT','createQueue','error','ERROR\x20connecting\x20to\x20queue\x20\x27','Trying\x20to\x20register\x20agent\x20...','create','register\x20agent\x20','priority','high','attempts','ttl','removeOnComplete','save','failed','Registration\x20completed\x20with\x20result\x20\x27','\x27,\x20now\x20accepting\x20processing\x20jobs\x20(concurrency\x20','\x20failed:','Processing\x20Job\x20','Trying\x20to\x20reconfigure\x20agent\x20...','agent.register','reconfigure\x20agent\x20','complete','Reconfiguration\x20completed\x20with\x20result\x20\x27','process.','agent.reconfigure.','sending\x20heartbeat\x20...','agent.heartbeat','heartbeat\x20from\x20agent\x20','\x20for\x20group\x20','object','undefined','exports','path','slug','botium-core','botium-core/src/scripting/Constants','botium-core/src/repos/GitRepo','kue','function','amd','botium-core/src/Source','debug','main','Constants','Source','default','hasOwnProperty','BotDriver','botium-worker-runtestcases','data','convos','forEach','SCRIPTING_FORMAT_XSLX','from','content','base64','Compile','SCRIPTING_TYPE_UTTERANCES','SCRIPTING_TYPE_CONVO','SCRIPTING_FORMAT_TXT','sourceTag','Convo\x20Script\x20compilation\x20failed:\x20','stringify','Utterance\x20script\x20compilation\x20failed:\x20','folders','ReadScriptsFromDirectory','repositories','map','tempDirectory','sources','GITURL','GITDIR','Validate','Prepare','then','assign','Repository\x20','\x20scripts\x20compilation\x20failed:\x20','catch','progress',':\x20Started\x20processing,\x20JobId\x20#','botium','Capabilities','Sources','Envs','BuildFluent','BuildCompiler','_validate','compiler','batchNum','batchCount','ceil','min','batchNum:\x20','\x20batchCount:\x20','\x20convosPerBatch:\x20','\x20batchStart:\x20','\x20batchEnd:\x20',':\x20batchNum:\x20','attachments','push','eventEmitter','removeListener','MESSAGE_SENTTOBOT','MESSAGE_ATTACHMENT','CONTAINER_STARTED','MESSAGE_RECEIVEDFROMBOT','Call','Running\x20Convo\x20Index\x20','\x20from\x20','Run','container','Stop','process','header','name','toString','message','Clean','Exec','botium-worker','Default\x20Agent','env','BOTIUM_AGENT_GROUP','Default\x20Group','Connecting\x20agent\x20','\x20to\x20group\x20','\x20...','BOTIUM_QUEUE_SETTINGS','Got\x20queue\x20settings\x20\x27','ERROR\x20parsing\x20queue\x20settings\x20\x27'];(function(_0x2bad7a,_0x4e09ec){var _0x6910c0=function(_0x18adea){while(--_0x18adea){_0x2bad7a['push'](_0x2bad7a['shift']());}};var _0x21564f=function(){var _0xdc449c={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4aa98f,_0x107a8e,_0x3f0eca,_0x2dcded){_0x2dcded=_0x2dcded||{};var _0x30ca07=_0x107a8e+'='+_0x3f0eca;var _0x4f1f19=0x0;for(var _0x4f1f19=0x0,_0x37592a=_0x4aa98f['length'];_0x4f1f19<_0x37592a;_0x4f1f19++){var _0x45c78e=_0x4aa98f[_0x4f1f19];_0x30ca07+=';\x20'+_0x45c78e;var _0x34c73f=_0x4aa98f[_0x45c78e];_0x4aa98f['push'](_0x34c73f);_0x37592a=_0x4aa98f['length'];if(_0x34c73f!==!![]){_0x30ca07+='='+_0x34c73f;}}_0x2dcded['cookie']=_0x30ca07;},'removeCookie':function(){return'dev';},'getCookie':function(_0x2a5d5a,_0x4707b4){_0x2a5d5a=_0x2a5d5a||function(_0x5ecc3b){return _0x5ecc3b;};var _0x419f65=_0x2a5d5a(new RegExp('(?:^|;\x20)'+_0x4707b4['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x52ef49=function(_0x33c241,_0x432136){_0x33c241(++_0x432136);};_0x52ef49(_0x6910c0,_0x4e09ec);return _0x419f65?decodeURIComponent(_0x419f65[0x1]):undefined;}};var _0x33d3c3=function(){var _0x2774b9=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2774b9['test'](_0xdc449c['removeCookie']['toString']());};_0xdc449c['updateCookie']=_0x33d3c3;var _0x515bd0='';var _0xd3340e=_0xdc449c['updateCookie']();if(!_0xd3340e){_0xdc449c['setCookie'](['*'],'counter',0x1);}else if(_0xd3340e){_0x515bd0=_0xdc449c['getCookie'](null,'counter');}else{_0xdc449c['removeCookie']();}};_0x21564f();}(_0x3b72,0x138));var _0x1f3d=function(_0x5c3c54,_0x57c063){_0x5c3c54=_0x5c3c54-0x0;var _0x1fa666=_0x3b72[_0x5c3c54];return _0x1fa666;};(function(_0x3b1d54,_0x3b1a15){var _0x1c518e=function(){var _0xc3f1a6=!![];return function(_0x939a8d,_0x28f000){var _0x5afaf7=_0xc3f1a6?function(){if(_0x28f000){var _0x321c7d=_0x28f000['apply'](_0x939a8d,arguments);_0x28f000=null;return _0x321c7d;}}:function(){};_0xc3f1a6=![];return _0x5afaf7;};}();var _0x59e1e5=_0x1c518e(this,function(){var _0x22fbe4=function(){return'\x64\x65\x76';},_0x58f7b9=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x198435=function(){var _0x3f25ba=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x3f25ba['\x74\x65\x73\x74'](_0x22fbe4['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x1f60d9=function(){var _0x115e94=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x115e94['\x74\x65\x73\x74'](_0x58f7b9['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x5ca73d=function(_0x4ad58a){var _0x16046d=~-0x1>>0x1+0xff%0x0;if(_0x4ad58a['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x16046d)){_0x11e7d3(_0x4ad58a);}};var _0x11e7d3=function(_0x47999b){var _0x4bceeb=~-0x4>>0x1+0xff%0x0;if(_0x47999b['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x4bceeb){_0x5ca73d(_0x47999b);}};if(!_0x198435()){if(!_0x1f60d9()){_0x5ca73d('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x5ca73d('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x5ca73d('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x59e1e5();typeof exports===_0x1f3d('0x0')&&typeof module!==_0x1f3d('0x1')?module[_0x1f3d('0x2')]=_0x3b1a15(require(_0x1f3d('0x3')),require(_0x1f3d('0x4')),require(_0x1f3d('0x5')),require(_0x1f3d('0x6')),require('botium-core/src/Source'),require(_0x1f3d('0x7')),require('debug'),require(_0x1f3d('0x8'))):typeof define===_0x1f3d('0x9')&&define[_0x1f3d('0xa')]?define(['path',_0x1f3d('0x4'),_0x1f3d('0x5'),_0x1f3d('0x6'),_0x1f3d('0xb'),_0x1f3d('0x7'),_0x1f3d('0xc'),'kue'],_0x3b1a15):_0x3b1d54[_0x1f3d('0xd')]=_0x3b1a15(_0x3b1d54[_0x1f3d('0x3')],_0x3b1d54[_0x1f3d('0x4')],_0x3b1d54['botiumCore'],_0x3b1d54[_0x1f3d('0xe')],_0x3b1d54[_0x1f3d('0xf')],_0x3b1d54['GitRepo'],_0x3b1d54[_0x1f3d('0xc')],_0x3b1d54[_0x1f3d('0x8')]);}(this,function(_0x2d74f5,_0x4a4e4f,_0x3eb984,_0x24b67d,_0x2bf63c,_0x34e098,_0x10dff0,_0x3f1f88){'use strict';_0x2d74f5=_0x2d74f5&&_0x2d74f5['hasOwnProperty'](_0x1f3d('0x10'))?_0x2d74f5['default']:_0x2d74f5;_0x4a4e4f=_0x4a4e4f&&_0x4a4e4f[_0x1f3d('0x11')]('default')?_0x4a4e4f[_0x1f3d('0x10')]:_0x4a4e4f;_0x3eb984=_0x3eb984&&_0x3eb984[_0x1f3d('0x11')](_0x1f3d('0x10'))?_0x3eb984['default']:_0x3eb984;_0x24b67d=_0x24b67d&&_0x24b67d[_0x1f3d('0x11')](_0x1f3d('0x10'))?_0x24b67d[_0x1f3d('0x10')]:_0x24b67d;_0x2bf63c=_0x2bf63c&&_0x2bf63c[_0x1f3d('0x11')](_0x1f3d('0x10'))?_0x2bf63c[_0x1f3d('0x10')]:_0x2bf63c;_0x34e098=_0x34e098&&_0x34e098[_0x1f3d('0x11')](_0x1f3d('0x10'))?_0x34e098[_0x1f3d('0x10')]:_0x34e098;_0x10dff0=_0x10dff0&&_0x10dff0[_0x1f3d('0x11')](_0x1f3d('0x10'))?_0x10dff0[_0x1f3d('0x10')]:_0x10dff0;_0x3f1f88=_0x3f1f88&&_0x3f1f88[_0x1f3d('0x11')]('default')?_0x3f1f88[_0x1f3d('0x10')]:_0x3f1f88;const _0x52cc18=_0x3eb984[_0x1f3d('0x12')];const _0x1b34e0=_0x10dff0(_0x1f3d('0x13'));const _0x1dca02=(_0x3a2ff5,_0x5b4a38,_0x58c80e)=>{return new Promise((_0x507865,_0x37d0df)=>{_0x3a2ff5[_0x1f3d('0x14')][_0x1f3d('0x15')]&&_0x3a2ff5['data'][_0x1f3d('0x15')][_0x1f3d('0x16')](_0x250b65=>{let _0x29b79e=[];try{if(_0x250b65['format']===_0x24b67d[_0x1f3d('0x17')]){const _0x320436=Buffer[_0x1f3d('0x18')](_0x250b65[_0x1f3d('0x19')],_0x1f3d('0x1a'));_0x58c80e[_0x1f3d('0x1b')](_0x320436,_0x24b67d['SCRIPTING_FORMAT_XSLX'],_0x24b67d[_0x1f3d('0x1c')]);_0x29b79e=_0x58c80e[_0x1f3d('0x1b')](_0x320436,_0x24b67d[_0x1f3d('0x17')],_0x24b67d[_0x1f3d('0x1d')]);}else if(_0x250b65['format']===_0x24b67d['SCRIPTING_FORMAT_TXT']){_0x29b79e=_0x58c80e[_0x1f3d('0x1b')](_0x250b65[_0x1f3d('0x19')],_0x24b67d[_0x1f3d('0x1e')],_0x24b67d[_0x1f3d('0x1d')]);}if(_0x29b79e)_0x29b79e[_0x1f3d('0x16')](_0x17b85f=>{_0x17b85f['sourceTag']=_0x250b65[_0x1f3d('0x1f')];});}catch(_0x1e1e04){_0x1b34e0(_0x1e1e04);throw new Error(_0x1f3d('0x20')+JSON[_0x1f3d('0x21')](_0x1e1e04));}});_0x3a2ff5[_0x1f3d('0x14')]['utterances']&&_0x3a2ff5[_0x1f3d('0x14')]['utterances']['forEach'](_0x56c787=>{try{_0x58c80e[_0x1f3d('0x1b')](_0x56c787[_0x1f3d('0x19')],_0x24b67d[_0x1f3d('0x1e')],_0x24b67d[_0x1f3d('0x1c')]);}catch(_0x17c97f){_0x1b34e0(_0x17c97f);throw new Error(_0x1f3d('0x22')+JSON[_0x1f3d('0x21')](_0x17c97f));}});_0x3a2ff5[_0x1f3d('0x14')][_0x1f3d('0x23')]&&_0x3a2ff5[_0x1f3d('0x14')][_0x1f3d('0x23')][_0x1f3d('0x16')](_0x3700f1=>{try{const {convos}=_0x58c80e[_0x1f3d('0x24')](_0x3700f1[_0x1f3d('0x3')]);convos&&convos[_0x1f3d('0x16')](_0x1a7e96=>{_0x1a7e96[_0x1f3d('0x1f')]=Object['assign']({},_0x1a7e96[_0x1f3d('0x1f')],_0x3700f1[_0x1f3d('0x1f')]);});}catch(_0x435df4){_0x1b34e0(_0x435df4);throw new Error('Folder\x20'+_0x3700f1+'\x20script\x20compilation\x20failed:\x20'+JSON[_0x1f3d('0x21')](_0x435df4));}});if(_0x3a2ff5['data'][_0x1f3d('0x25')]&&_0x3a2ff5[_0x1f3d('0x14')][_0x1f3d('0x25')]['length']>0x0){Promise['all'](_0x3a2ff5[_0x1f3d('0x14')]['repositories'][_0x1f3d('0x26')](({giturl,gitbranch,gitdir,sourceTag})=>{return new Promise((_0x507865,_0x37d0df)=>{const _0x2734a7=_0x2d74f5['resolve'](_0x5b4a38[_0x1f3d('0x27')],_0x4a4e4f(giturl));const _0x3e5689=Object['assign']({},_0x5b4a38[_0x1f3d('0x28')]);_0x3e5689[_0x2bf63c[_0x1f3d('0x29')]]=giturl;_0x3e5689[_0x2bf63c['GITBRANCH']]=gitbranch;_0x3e5689[_0x2bf63c[_0x1f3d('0x2a')]]=gitdir||'.';const _0x42f960=new _0x34e098(_0x2734a7,_0x3e5689);_0x42f960[_0x1f3d('0x2b')]()['then'](()=>_0x42f960[_0x1f3d('0x2c')]())[_0x1f3d('0x2d')](()=>{try{const {convos}=_0x58c80e[_0x1f3d('0x24')](_0x42f960['workingDirectory']);convos&&convos[_0x1f3d('0x16')](_0x13e603=>{_0x13e603[_0x1f3d('0x1f')]=Object[_0x1f3d('0x2e')]({},_0x13e603[_0x1f3d('0x1f')],sourceTag);});_0x507865();}catch(_0x68735e){_0x1b34e0(_0x68735e);return _0x37d0df(new Error(_0x1f3d('0x2f')+giturl+_0x1f3d('0x30')+JSON[_0x1f3d('0x21')](_0x68735e)));}})[_0x1f3d('0x31')](_0x3a4a30=>{_0x1b34e0(_0x3a4a30);return _0x37d0df(new Error(_0x1f3d('0x2f')+giturl+_0x1f3d('0x30')+JSON[_0x1f3d('0x21')](_0x3a4a30)));});});}))[_0x1f3d('0x2d')](_0x507865)['catch'](_0x37d0df);}else{_0x507865();}});};var _0x3fae2b=(_0x18ff6d,_0x45e8a6)=>{return new Promise((_0x4048f5,_0xc81671)=>{_0x45e8a6[_0x1f3d('0x32')](0x0,0x0,{'log':_0x45e8a6['data']['title']+_0x1f3d('0x33')+_0x45e8a6['id']+'.'});const _0x4ad56a={};if(_0x18ff6d[_0x1f3d('0x34')]&&_0x18ff6d['botium'][_0x1f3d('0x35')])Object[_0x1f3d('0x2e')](_0x4ad56a,_0x18ff6d['botium'][_0x1f3d('0x35')]);if(_0x45e8a6['data'][_0x1f3d('0x34')]&&_0x45e8a6[_0x1f3d('0x14')][_0x1f3d('0x34')]['Capabilities'])Object['assign'](_0x4ad56a,_0x45e8a6[_0x1f3d('0x14')][_0x1f3d('0x34')][_0x1f3d('0x35')]);const _0x2de941={};if(_0x18ff6d[_0x1f3d('0x34')]&&_0x18ff6d[_0x1f3d('0x34')]['Sources'])Object[_0x1f3d('0x2e')](_0x2de941,_0x18ff6d[_0x1f3d('0x34')][_0x1f3d('0x36')]);if(_0x45e8a6[_0x1f3d('0x14')][_0x1f3d('0x34')]&&_0x45e8a6[_0x1f3d('0x14')][_0x1f3d('0x34')][_0x1f3d('0x36')])Object[_0x1f3d('0x2e')](_0x2de941,_0x45e8a6['data'][_0x1f3d('0x34')][_0x1f3d('0x36')]);const _0x1dbf15={};if(_0x18ff6d['botium']&&_0x18ff6d[_0x1f3d('0x34')]['Envs'])Object['assign'](_0x1dbf15,_0x18ff6d['botium'][_0x1f3d('0x37')]);if(_0x45e8a6[_0x1f3d('0x14')][_0x1f3d('0x34')]&&_0x45e8a6[_0x1f3d('0x14')][_0x1f3d('0x34')][_0x1f3d('0x37')])Object['assign'](_0x1dbf15,_0x45e8a6[_0x1f3d('0x14')]['botium']['Envs']);const _0x1ad2cb=new _0x52cc18(_0x4ad56a,_0x2de941,_0x1dbf15);const _0x5859b9=_0x1ad2cb[_0x1f3d('0x38')]();_0x5859b9['compiler']=_0x1ad2cb[_0x1f3d('0x39')]();_0x1ad2cb[_0x1f3d('0x3a')]()[_0x1f3d('0x2d')](()=>_0x1dca02(_0x45e8a6,_0x1ad2cb,_0x5859b9[_0x1f3d('0x3b')]))[_0x1f3d('0x2d')](()=>{_0x5859b9[_0x1f3d('0x3b')]['ExpandConvos']();const _0x4b6750=_0x45e8a6[_0x1f3d('0x14')][_0x1f3d('0x3c')]||0x1;const _0x3a57f4=_0x45e8a6[_0x1f3d('0x14')][_0x1f3d('0x3d')]||0x1;const _0x686217=Math[_0x1f3d('0x3e')](_0x5859b9[_0x1f3d('0x3b')][_0x1f3d('0x15')]['length']/_0x3a57f4);const _0x3ee9b6=_0x686217*(_0x4b6750-0x1);const _0x2c6bfc=Math[_0x1f3d('0x3f')](_0x3ee9b6+_0x686217,_0x5859b9['compiler'][_0x1f3d('0x15')]['length'])-0x1;_0x1b34e0(_0x1f3d('0x40')+_0x4b6750+_0x1f3d('0x41')+_0x3a57f4+_0x1f3d('0x42')+_0x686217+_0x1f3d('0x43')+_0x3ee9b6+_0x1f3d('0x44')+_0x2c6bfc);_0x45e8a6[_0x1f3d('0x32')](0x0,_0x686217,{'log':_0x45e8a6[_0x1f3d('0x14')]['title']+_0x1f3d('0x45')+_0x4b6750+'\x20batchCount:\x20'+_0x3a57f4+_0x1f3d('0x42')+_0x686217+_0x1f3d('0x43')+_0x3ee9b6+_0x1f3d('0x44')+_0x2c6bfc});for(let _0x5ae0d2=_0x3ee9b6;_0x5ae0d2<=_0x2c6bfc;_0x5ae0d2++){const _0xf59b3d=_0x5ae0d2;const _0x3b2bd1=_0x5859b9[_0x1f3d('0x3b')][_0x1f3d('0x15')][_0xf59b3d];const _0x25878c=[];const _0x180fee=[];const _0x4fd4c9=(_0x2e0a9c,_0x408470)=>{_0x25878c['push'](_0x408470);if(_0x408470[_0x1f3d('0x46')])_0x180fee[_0x1f3d('0x47')](..._0x408470[_0x1f3d('0x46')]);};const _0x56e8ca=(_0x3e4406,_0x4c0da6)=>{_0x25878c[_0x1f3d('0x47')](_0x4c0da6);if(_0x4c0da6[_0x1f3d('0x46')])_0x180fee[_0x1f3d('0x47')](..._0x4c0da6[_0x1f3d('0x46')]);};const _0x27dad6=(_0x2b64de,_0x5a8d6d)=>{_0x180fee[_0x1f3d('0x47')](_0x5a8d6d);};const _0x39b569=(_0xda8dfe,_0xf4c236)=>{if(_0xf4c236)_0x3b2bd1[_0x1f3d('0x1f')]=Object['assign']({},_0x3b2bd1[_0x1f3d('0x1f')],_0xf4c236);};const _0x7e8a3d=()=>{_0x1ad2cb[_0x1f3d('0x48')][_0x1f3d('0x49')](_0x1f3d('0x4a'),_0x4fd4c9);_0x1ad2cb[_0x1f3d('0x48')][_0x1f3d('0x49')]('MESSAGE_RECEIVEDFROMBOT',_0x56e8ca);_0x1ad2cb[_0x1f3d('0x48')][_0x1f3d('0x49')](_0x1f3d('0x4b'),_0x27dad6);_0x1ad2cb[_0x1f3d('0x48')]['removeListener'](_0x1f3d('0x4c'),_0x39b569);};const _0xfc9dd9=()=>{_0x1ad2cb['on'](_0x1f3d('0x4a'),_0x4fd4c9);_0x1ad2cb['on'](_0x1f3d('0x4d'),_0x56e8ca);_0x1ad2cb['on'](_0x1f3d('0x4b'),_0x27dad6);_0x1ad2cb['on'](_0x1f3d('0x4c'),_0x39b569);};let _0x1d20da=null;_0x5859b9[_0x1f3d('0x4e')](_0xfc9dd9)['Start']();_0x5859b9[_0x1f3d('0x4e')](()=>{return new Promise(_0x4048f5=>{_0x1b34e0(_0x1f3d('0x4f')+_0xf59b3d+',\x20'+(_0xf59b3d-_0x3ee9b6)+_0x1f3d('0x50')+_0x686217);return _0x3b2bd1[_0x1f3d('0x51')](_0x5859b9[_0x1f3d('0x52')])['then'](()=>{_0x4048f5();})[_0x1f3d('0x31')](_0x3ca5f8=>{_0x1d20da=_0x3ca5f8;_0x4048f5();});});});_0x5859b9[_0x1f3d('0x53')]()[_0x1f3d('0x4e')](_0x7e8a3d);_0x5859b9[_0x1f3d('0x4e')](()=>{_0x45e8a6[_0x1f3d('0x32')](_0xf59b3d-_0x3ee9b6+0x1,_0x686217,{'type':_0x1f3d('0x54'),'testcase':_0x3b2bd1[_0x1f3d('0x55')][_0x1f3d('0x56')],'source':_0x3b2bd1[_0x1f3d('0x57')](),'sourceTag':_0x3b2bd1[_0x1f3d('0x1f')],'messages':_0x25878c,'attachments':_0x180fee,'success':_0x1d20da===null,'err':_0x1d20da?_0x1d20da[_0x1f3d('0x58')]?_0x1d20da[_0x1f3d('0x58')]:JSON[_0x1f3d('0x21')](_0x1d20da):null});});}_0x5859b9[_0x1f3d('0x59')]();_0x5859b9[_0x1f3d('0x5a')]()[_0x1f3d('0x2d')](_0x4048f5)[_0x1f3d('0x31')](_0xc81671);})[_0x1f3d('0x31')](_0xc81671);});};const _0x273d4b=_0x10dff0(_0x1f3d('0x5b'));const _0x3d5f1b=process['env']['BOTIUM_AGENT_NAME']||_0x1f3d('0x5c');const _0x36052f=process[_0x1f3d('0x5d')][_0x1f3d('0x5e')]||_0x1f3d('0x5f');_0x273d4b(_0x1f3d('0x60')+_0x3d5f1b+_0x1f3d('0x61')+_0x36052f+_0x1f3d('0x62'));let _0x3a5764={};if(process[_0x1f3d('0x5d')][_0x1f3d('0x63')]){try{_0x3a5764=JSON['parse'](process['env'][_0x1f3d('0x63')]);_0x273d4b(_0x1f3d('0x64')+JSON[_0x1f3d('0x21')](_0x3a5764)+'\x27');}catch(_0x49ad40){console['log'](_0x1f3d('0x65')+process[_0x1f3d('0x5d')][_0x1f3d('0x63')]+'\x27:');console[_0x1f3d('0x66')](_0x49ad40);process[_0x1f3d('0x67')](0x1);}}else{if(process[_0x1f3d('0x5d')][_0x1f3d('0x68')]){_0x3a5764['prefix']=process[_0x1f3d('0x5d')][_0x1f3d('0x68')];}if(process[_0x1f3d('0x5d')][_0x1f3d('0x69')]){_0x3a5764[_0x1f3d('0x6a')]=process['env']['BOTIUM_QUEUE_REDISURL'];}}_0x273d4b(_0x1f3d('0x6b')+JSON[_0x1f3d('0x21')](_0x3a5764)+'\x27');const _0xce9d6d=process[_0x1f3d('0x5d')][_0x1f3d('0x6c')]||0x1;let _0x2ace40=process[_0x1f3d('0x5d')][_0x1f3d('0x6d')]||0x493e0;if(_0x2ace40>0x0&&_0x2ace40<0x1388)_0x2ace40=0x1388;const _0x46bd73=_0x3f1f88[_0x1f3d('0x6e')](_0x3a5764);_0x46bd73['on'](_0x1f3d('0x6f'),_0x475b77=>{console[_0x1f3d('0x66')](_0x1f3d('0x70')+JSON['stringify'](_0x3a5764)+'\x27:');console[_0x1f3d('0x66')](_0x475b77);process[_0x1f3d('0x67')](0x1);});_0x273d4b(_0x1f3d('0x71'));_0x46bd73[_0x1f3d('0x72')]('agent.register',{'title':_0x1f3d('0x73')+_0x3d5f1b+_0x1f3d('0x61')+_0x36052f,'name':_0x3d5f1b,'group':_0x36052f})[_0x1f3d('0x74')](_0x1f3d('0x75'))[_0x1f3d('0x76')](0x5)[_0x1f3d('0x77')](0x2710)[_0x1f3d('0x78')](!![])[_0x1f3d('0x79')]()['on'](_0x1f3d('0x7a'),_0x3dacd7=>{console[_0x1f3d('0x66')]('ERROR\x20registering\x20agent:');console['log'](_0x3dacd7);process[_0x1f3d('0x67')](0x1);})['on']('complete',_0x37c123=>{_0x273d4b(_0x1f3d('0x7b')+JSON[_0x1f3d('0x21')](_0x37c123)+_0x1f3d('0x7c')+_0xce9d6d+').');let _0x943361=_0x37c123;const _0x239381=(_0xd84513,_0x1f7812)=>{_0x273d4b('Processing\x20Job\x20'+_0xd84513['id']);try{_0x3fae2b(_0x943361,_0xd84513)[_0x1f3d('0x2d')](_0x37c123=>{_0x273d4b('Processing\x20Job\x20'+_0xd84513['id']+'\x20finished\x20with\x20result:');_0x273d4b(_0x37c123);_0x1f7812(null,_0x37c123);})[_0x1f3d('0x31')](_0x4e2477=>{_0x273d4b('Processing\x20Job\x20'+_0xd84513['id']+_0x1f3d('0x7d'));_0x273d4b(_0x4e2477);_0x1f7812(_0x4e2477);});}catch(_0x32e782){_0x273d4b(_0x1f3d('0x7e')+_0xd84513['id']+_0x1f3d('0x7d'));_0x273d4b(_0x32e782);_0x1f7812(_0x32e782);}};const _0x4a372e=(_0x5a2267,_0x1167cc)=>{_0x273d4b(_0x1f3d('0x7f'));_0x46bd73[_0x1f3d('0x72')](_0x1f3d('0x80'),{'title':_0x1f3d('0x81')+_0x3d5f1b+'\x20for\x20group\x20'+_0x36052f,'name':_0x3d5f1b,'group':_0x36052f})[_0x1f3d('0x74')](_0x1f3d('0x75'))['attempts'](0x5)[_0x1f3d('0x77')](0x2710)['removeOnComplete'](!![])[_0x1f3d('0x79')]()['on'](_0x1f3d('0x7a'),_0x21d9b8=>{console[_0x1f3d('0x66')]('ERROR\x20reconfiguring\x20agent:');console[_0x1f3d('0x66')](_0x21d9b8);})['on'](_0x1f3d('0x82'),_0x37c123=>{_0x273d4b(_0x1f3d('0x83')+JSON[_0x1f3d('0x21')](_0x37c123)+'\x27.');_0x943361=_0x37c123;});};_0x46bd73[_0x1f3d('0x54')](_0x1f3d('0x84')+_0x36052f,_0xce9d6d,_0x239381);_0x46bd73[_0x1f3d('0x54')](_0x1f3d('0x84')+_0x3d5f1b,_0xce9d6d,_0x239381);_0x46bd73[_0x1f3d('0x54')](_0x1f3d('0x54'),_0xce9d6d,_0x239381);_0x46bd73[_0x1f3d('0x54')](_0x1f3d('0x85')+_0x3d5f1b,_0xce9d6d,_0x4a372e);if(_0x2ace40>0x0){const _0x32060b=()=>{_0x273d4b(_0x1f3d('0x86'));const _0x164e81=_0x46bd73[_0x1f3d('0x72')](_0x1f3d('0x87'),{'title':_0x1f3d('0x88')+_0x3d5f1b+_0x1f3d('0x89')+_0x36052f,'name':_0x3d5f1b,'group':_0x36052f})[_0x1f3d('0x78')](!![])[_0x1f3d('0x79')]();_0x164e81['on'](_0x1f3d('0x82'),()=>{setTimeout(_0x32060b,_0x2ace40);});};_0x32060b();}});var _0x3b79ea={};return _0x3b79ea;}));