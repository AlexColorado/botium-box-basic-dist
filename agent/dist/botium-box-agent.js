var _0x226a=['Test\x20Session\x20cancelled,\x20skipping\x20Convo\x20\x22','header','\x22,\x20Index\x20','Running\x20Convo\x20\x22','\x20from\x20','Run','\x22\x20completed\x20successfully.','\x22\x20failed:\x20','Stop','err','message','stringify','steps','process','toString','Clean','Test\x20Session\x20cancelled','Exec','printVersion','env','BOTIUMBOX_AGENT_NAME','BOTIUMBOX_AGENT_NUM','Default\x20Agent','BOTIUMBOX_AGENT_GROUP','Default\x20Group','\x20to\x20group\x20','BOTIUMBOX_QUEUE_SETTINGS','parse','exit','prefix','BOTIUMBOX_QUEUE_PREFIX','BOTIUMBOX_QUEUE_REDISURL','connecting\x20to\x20Botium\x20queue\x20\x27','BOTIUMBOX_QUEUE_CONCURRENCY','BOTIUMBOX_QUEUE_HEARTBEAT','createQueue','ERROR\x20connecting\x20to\x20queue\x20\x27','Trying\x20to\x20register\x20agent\x20...','agent.register','priority','high','attempts','ttl','removeOnComplete','failed','complete','Registration\x20completed\x20with\x20result\x20\x27','\x27,\x20now\x20accepting\x20processing\x20jobs\x20(concurrency\x20','Processing\x20Job\x20','\x20failed:','jobId','Cancel\x20Test\x20Session\x20event\x20received,\x20but\x20no\x20testSessionId\x20given','Canceling\x20Test\x20Session\x20Job\x20','cancel','\x20finished.','Trying\x20to\x20reconfigure\x20agent\x20...','reconfigure\x20agent\x20','\x20for\x20group\x20','ERROR\x20reconfiguring\x20agent:','Reconfiguration\x20completed\x20with\x20result\x20\x27','process.','agent.reconfigure.','sending\x20heartbeat\x20...','agent.heartbeat','heartbeat\x20from\x20agent\x20','save','uncaughtException','Got\x20an\x20uncaughtException','object','undefined','util','botium-core/src/scripting/Constants','botium-core/src/Capabilities','intercept-stdout','lodash','debug','dotenv-flow','kue','function','amd','path','botium-core/src/Source','botium-core','main','slugify','Constants','Source','GitRepo','Capabilities','interceptStdout','botiumCore','hasOwnProperty','default','COMMUNITY\x20EDITION','e96a88cdb61fa58a1387f9beaf2dd0a5731f09d5','2019-02-11T18:16:20+01:00','log','BOTIUM\x20BOX\x20-\x20AGENT','BUILD_TARGET:\x20','buildTarget','buildBranch','buildRevision','BUILD_TIMESTAMP:\x20','buildDate','botium-retrieve-all-test-cases','convos','forEach','SCRIPTING_FORMAT_XSLX','content','Compile','SCRIPTING_TYPE_UTTERANCES','SCRIPTING_TYPE_CONVO','sourceTag',':\x20Convo\x20Script\x20compilation\x20failed:\x20','inspect','utterances','SCRIPTING_FORMAT_TXT','name','folders','ReadScriptsFromDirectory','globFilter','assign',':\x20Folder\x20','resolve','excels','length','map','from','base64','caps','SCRIPTING_XLSX_SHEETNAMES','SCRIPTING_XLSX_STARTROW','SCRIPTING_XLSX_STARTCOL','all','progress','total','unhook','data','title',':\x20Started\x20processing,\x20JobId\x20#','botium','Sources','Envs','BuildFluent','compiler','BuildCompiler','_validate','testSets','tempDirectory','filter','expanding\x20convos\x20...','uniq','expandUtterancesToConvos','expandUtterancesIncomprehension','expanding\x20utterances\x20to\x20convos\x20not\x20possible,\x20found\x20multiple\x20INCOMPREHENSION\x20utterances:\x20','\x20...','SCRIPTING_UTTEXPANSION_INCOMPREHENSION','ExpandUtterancesToConvos','ExpandConvos','found\x20','\x20convos\x20...','then','reduce','concat','catch','batchNum','batchCount','ceil','\x20batchCount:\x20','\x20convosPerBatch:\x20','\x20batchStart:\x20','\x20batchEnd:\x20','attachments','push','eventEmitter','MESSAGE_SENTTOBOT','removeListener','MESSAGE_RECEIVEDFROMBOT','MESSAGE_ATTACHMENT','CONTAINER_STARTED','Start','Call'];(function(_0x5412e7,_0x2d0f3e){var _0x50da9a=function(_0x2ac112){while(--_0x2ac112){_0x5412e7['push'](_0x5412e7['shift']());}};var _0x4e91c3=function(){var _0x469edf={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x242d55,_0x35d5a2,_0x10639c,_0x1db236){_0x1db236=_0x1db236||{};var _0x1c665e=_0x35d5a2+'='+_0x10639c;var _0x4458af=0x0;for(var _0x4458af=0x0,_0x1ff72a=_0x242d55['length'];_0x4458af<_0x1ff72a;_0x4458af++){var _0x3c0366=_0x242d55[_0x4458af];_0x1c665e+=';\x20'+_0x3c0366;var _0x2025e5=_0x242d55[_0x3c0366];_0x242d55['push'](_0x2025e5);_0x1ff72a=_0x242d55['length'];if(_0x2025e5!==!![]){_0x1c665e+='='+_0x2025e5;}}_0x1db236['cookie']=_0x1c665e;},'removeCookie':function(){return'dev';},'getCookie':function(_0x18de2d,_0x1d24de){_0x18de2d=_0x18de2d||function(_0x56b7fb){return _0x56b7fb;};var _0x4eccbc=_0x18de2d(new RegExp('(?:^|;\x20)'+_0x1d24de['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x4a5292=function(_0x6e39ef,_0x41cf49){_0x6e39ef(++_0x41cf49);};_0x4a5292(_0x50da9a,_0x2d0f3e);return _0x4eccbc?decodeURIComponent(_0x4eccbc[0x1]):undefined;}};var _0x44d046=function(){var _0x283da0=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x283da0['test'](_0x469edf['removeCookie']['toString']());};_0x469edf['updateCookie']=_0x44d046;var _0x44f805='';var _0x33edeb=_0x469edf['updateCookie']();if(!_0x33edeb){_0x469edf['setCookie'](['*'],'counter',0x1);}else if(_0x33edeb){_0x44f805=_0x469edf['getCookie'](null,'counter');}else{_0x469edf['removeCookie']();}};_0x4e91c3();}(_0x226a,0x1b0));var _0x2a15=function(_0x56cec1,_0x4bf5b3){_0x56cec1=_0x56cec1-0x0;var _0x77f86=_0x226a[_0x56cec1];return _0x77f86;};(function(_0x5c3819,_0x4bb6e6){var _0xcbacbe=function(){var _0x5e4e50=!![];return function(_0x45c1ef,_0x5c781e){var _0x3b6599=_0x5e4e50?function(){if(_0x5c781e){var _0x177eec=_0x5c781e['apply'](_0x45c1ef,arguments);_0x5c781e=null;return _0x177eec;}}:function(){};_0x5e4e50=![];return _0x3b6599;};}();var _0x59375b=_0xcbacbe(this,function(){var _0x6dc4c3=function(){return'\x64\x65\x76';},_0x53f4ec=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x1d38db=function(){var _0x287ccd=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x287ccd['\x74\x65\x73\x74'](_0x6dc4c3['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x16b0c8=function(){var _0x4d4c78=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x4d4c78['\x74\x65\x73\x74'](_0x53f4ec['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x249215=function(_0x35938c){var _0x314885=~-0x1>>0x1+0xff%0x0;if(_0x35938c['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x314885)){_0x40d26c(_0x35938c);}};var _0x40d26c=function(_0x5bb689){var _0x5033ec=~-0x4>>0x1+0xff%0x0;if(_0x5bb689['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x5033ec){_0x249215(_0x5bb689);}};if(!_0x1d38db()){if(!_0x16b0c8()){_0x249215('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x249215('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x249215('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x59375b();typeof exports===_0x2a15('0x0')&&typeof module!==_0x2a15('0x1')?module['exports']=_0x4bb6e6(require(_0x2a15('0x2')),require('path'),require('slugify'),require(_0x2a15('0x3')),require('botium-core/src/Source'),require('botium-core/src/repos/GitRepo'),require(_0x2a15('0x4')),require(_0x2a15('0x5')),require(_0x2a15('0x6')),require('botium-core'),require(_0x2a15('0x7')),require(_0x2a15('0x8')),require('os'),require(_0x2a15('0x9'))):typeof define===_0x2a15('0xa')&&define[_0x2a15('0xb')]?define([_0x2a15('0x2'),_0x2a15('0xc'),'slugify',_0x2a15('0x3'),_0x2a15('0xd'),'botium-core/src/repos/GitRepo',_0x2a15('0x4'),'intercept-stdout',_0x2a15('0x6'),_0x2a15('0xe'),'debug',_0x2a15('0x8'),'os',_0x2a15('0x9')],_0x4bb6e6):_0x5c3819[_0x2a15('0xf')]=_0x4bb6e6(_0x5c3819[_0x2a15('0x2')],_0x5c3819['path'],_0x5c3819[_0x2a15('0x10')],_0x5c3819[_0x2a15('0x11')],_0x5c3819[_0x2a15('0x12')],_0x5c3819[_0x2a15('0x13')],_0x5c3819[_0x2a15('0x14')],_0x5c3819[_0x2a15('0x15')],_0x5c3819['lodash'],_0x5c3819[_0x2a15('0x16')],_0x5c3819[_0x2a15('0x7')],_0x5c3819['dotenvFlow'],_0x5c3819['os'],_0x5c3819[_0x2a15('0x9')]);}(this,function(_0x360a0e,_0x512987,_0x2c9de6,_0x46bb8a,_0x45488,_0xd382c2,_0x259220,_0x925f7c,_0x19d8ef,_0xc39888,_0x27be12,_0x3c882f,_0x335a2c,_0x5c08c4){'use strict';_0x360a0e=_0x360a0e&&_0x360a0e[_0x2a15('0x17')](_0x2a15('0x18'))?_0x360a0e[_0x2a15('0x18')]:_0x360a0e;_0x512987=_0x512987&&_0x512987[_0x2a15('0x17')](_0x2a15('0x18'))?_0x512987[_0x2a15('0x18')]:_0x512987;_0x2c9de6=_0x2c9de6&&_0x2c9de6[_0x2a15('0x17')](_0x2a15('0x18'))?_0x2c9de6[_0x2a15('0x18')]:_0x2c9de6;_0x46bb8a=_0x46bb8a&&_0x46bb8a[_0x2a15('0x17')]('default')?_0x46bb8a[_0x2a15('0x18')]:_0x46bb8a;_0x45488=_0x45488&&_0x45488[_0x2a15('0x17')](_0x2a15('0x18'))?_0x45488[_0x2a15('0x18')]:_0x45488;_0xd382c2=_0xd382c2&&_0xd382c2[_0x2a15('0x17')]('default')?_0xd382c2[_0x2a15('0x18')]:_0xd382c2;_0x259220=_0x259220&&_0x259220[_0x2a15('0x17')]('default')?_0x259220[_0x2a15('0x18')]:_0x259220;_0x925f7c=_0x925f7c&&_0x925f7c[_0x2a15('0x17')]('default')?_0x925f7c[_0x2a15('0x18')]:_0x925f7c;_0x19d8ef=_0x19d8ef&&_0x19d8ef[_0x2a15('0x17')](_0x2a15('0x18'))?_0x19d8ef[_0x2a15('0x18')]:_0x19d8ef;_0xc39888=_0xc39888&&_0xc39888[_0x2a15('0x17')]('default')?_0xc39888['default']:_0xc39888;_0x27be12=_0x27be12&&_0x27be12[_0x2a15('0x17')]('default')?_0x27be12[_0x2a15('0x18')]:_0x27be12;_0x3c882f=_0x3c882f&&_0x3c882f[_0x2a15('0x17')](_0x2a15('0x18'))?_0x3c882f['default']:_0x3c882f;_0x335a2c=_0x335a2c&&_0x335a2c[_0x2a15('0x17')](_0x2a15('0x18'))?_0x335a2c[_0x2a15('0x18')]:_0x335a2c;_0x5c08c4=_0x5c08c4&&_0x5c08c4[_0x2a15('0x17')](_0x2a15('0x18'))?_0x5c08c4[_0x2a15('0x18')]:_0x5c08c4;const _0x388d01={'buildTarget':_0x2a15('0x19'),'buildBranch':'release/1.1.3','buildRevision':_0x2a15('0x1a'),'buildDate':_0x2a15('0x1b')};const _0x2e5966=()=>{console[_0x2a15('0x1c')](_0x2a15('0x1d'));console['log'](_0x2a15('0x1e')+_0x388d01[_0x2a15('0x1f')]);console[_0x2a15('0x1c')]('BUILD_BRANCH:\x20'+_0x388d01[_0x2a15('0x20')]);console['log']('BUILD_REVISION:\x20'+_0x388d01[_0x2a15('0x21')]);console[_0x2a15('0x1c')](_0x2a15('0x22')+_0x388d01[_0x2a15('0x23')]);};var _0x54be64={'buildInfo':_0x388d01,'printVersion':_0x2e5966};const _0xac68a6=_0x27be12(_0x2a15('0x24'));var _0x408eba=(_0x24a57d,_0x530074,_0x282f49,_0x38e223)=>{_0x24a57d[_0x2a15('0x25')]&&_0x24a57d[_0x2a15('0x25')][_0x2a15('0x26')](_0x5b89b2=>{let _0x598cfb=[];let _0x4b791a=[];try{if(_0x5b89b2['format']===_0x46bb8a[_0x2a15('0x27')]){const _0x2876d5=Buffer['from'](_0x5b89b2[_0x2a15('0x28')],'base64');_0x4b791a=_0x530074[_0x2a15('0x29')](_0x2876d5,_0x46bb8a[_0x2a15('0x27')],_0x46bb8a[_0x2a15('0x2a')]);_0x598cfb=_0x530074[_0x2a15('0x29')](_0x2876d5,_0x46bb8a['SCRIPTING_FORMAT_XSLX'],_0x46bb8a[_0x2a15('0x2b')]);}else if(_0x5b89b2['format']===_0x46bb8a['SCRIPTING_FORMAT_TXT']){_0x598cfb=_0x530074[_0x2a15('0x29')](_0x5b89b2[_0x2a15('0x28')],_0x46bb8a['SCRIPTING_FORMAT_TXT'],_0x46bb8a[_0x2a15('0x2b')]);}if(_0x598cfb)_0x598cfb[_0x2a15('0x26')](_0x2ade67=>{_0x2ade67[_0x2a15('0x2c')]=_0x5b89b2[_0x2a15('0x2c')];});if(_0x4b791a)_0x4b791a['forEach'](_0x3fcfd8=>{_0x3fcfd8[_0x2a15('0x2c')]=_0x5b89b2[_0x2a15('0x2c')];});}catch(_0xb5d5b7){_0xac68a6(_0xb5d5b7);throw new Error(_0x24a57d['name']+_0x2a15('0x2d')+_0x360a0e[_0x2a15('0x2e')](_0xb5d5b7));}});_0x24a57d[_0x2a15('0x2f')]&&_0x24a57d[_0x2a15('0x2f')][_0x2a15('0x26')](_0x28914e=>{let _0x533e1b=[];try{_0x533e1b=_0x530074[_0x2a15('0x29')](_0x28914e[_0x2a15('0x28')],_0x46bb8a[_0x2a15('0x30')],_0x46bb8a[_0x2a15('0x2a')]);if(_0x533e1b)_0x533e1b[_0x2a15('0x26')](_0x1c8a7f=>{_0x1c8a7f['sourceTag']=_0x28914e[_0x2a15('0x2c')];});}catch(_0x46a74c){_0xac68a6(_0x46a74c);throw new Error(_0x24a57d[_0x2a15('0x31')]+':\x20Utterance\x20script\x20compilation\x20failed:\x20'+_0x360a0e[_0x2a15('0x2e')](_0x46a74c));}});_0x24a57d[_0x2a15('0x32')]&&_0x24a57d[_0x2a15('0x32')][_0x2a15('0x26')](_0x2c6837=>{try{const {convos,utterances}=_0x530074[_0x2a15('0x33')](_0x2c6837[_0x2a15('0xc')],_0x2c6837[_0x2a15('0x34')]);convos&&convos[_0x2a15('0x26')](_0x40f2bd=>{_0x40f2bd[_0x2a15('0x2c')]=Object[_0x2a15('0x35')]({},_0x40f2bd['sourceTag'],_0x2c6837[_0x2a15('0x2c')]);});utterances&&utterances[_0x2a15('0x26')](_0x195efa=>{_0x195efa[_0x2a15('0x2c')]=Object[_0x2a15('0x35')]({},_0x195efa[_0x2a15('0x2c')],_0x2c6837[_0x2a15('0x2c')]);});}catch(_0x3f05a2){_0xac68a6(_0x3f05a2);throw new Error(_0x24a57d[_0x2a15('0x31')]+_0x2a15('0x36')+_0x2c6837+'\x20script\x20compilation\x20failed:\x20'+_0x360a0e[_0x2a15('0x2e')](_0x3f05a2));}});let _0x5c26a3=Promise[_0x2a15('0x37')]();if(_0x24a57d[_0x2a15('0x38')]&&_0x24a57d[_0x2a15('0x38')][_0x2a15('0x39')]>0x0){_0x5c26a3=Promise['all'](_0x24a57d['excels'][_0x2a15('0x3a')](({id,filename,filecontent,hasConvos,hasUtterances,worksheetsConvos,worksheetsUtterances,startRow,startCol,sourceTag})=>{return new Promise(_0x2d3461=>{const _0x7662ae=Buffer[_0x2a15('0x3b')](filecontent,_0x2a15('0x3c'));let _0x1b1b6b=[];let _0x3e8275=[];if(hasConvos){if(worksheetsConvos)_0x530074[_0x2a15('0x3d')][_0x259220[_0x2a15('0x3e')]]=worksheetsConvos;if(!isNaN(startRow))_0x530074[_0x2a15('0x3d')][_0x259220[_0x2a15('0x3f')]]=startRow;if(!isNaN(startCol))_0x530074[_0x2a15('0x3d')][_0x259220['SCRIPTING_XLSX_STARTCOL']]=startCol;_0x1b1b6b=_0x530074[_0x2a15('0x29')](_0x7662ae,_0x46bb8a[_0x2a15('0x27')],_0x46bb8a[_0x2a15('0x2b')]);}if(hasUtterances){if(worksheetsUtterances)_0x530074[_0x2a15('0x3d')][_0x259220['SCRIPTING_XLSX_SHEETNAMES_UTTERANCES']]=worksheetsUtterances;if(!isNaN(startRow))_0x530074[_0x2a15('0x3d')][_0x259220[_0x2a15('0x3f')]]=startRow;if(!isNaN(startCol))_0x530074['caps'][_0x259220[_0x2a15('0x40')]]=startCol;_0x3e8275=_0x530074[_0x2a15('0x29')](_0x7662ae,_0x46bb8a[_0x2a15('0x27')],_0x46bb8a[_0x2a15('0x2a')]);}_0x1b1b6b&&_0x1b1b6b[_0x2a15('0x26')](_0x50fd6a=>{_0x50fd6a[_0x2a15('0x2c')]=Object[_0x2a15('0x35')]({},_0x50fd6a['sourceTag'],sourceTag);});_0x3e8275&&_0x3e8275['forEach'](_0x37b28c=>{_0x37b28c[_0x2a15('0x2c')]=Object['assign']({},_0x37b28c[_0x2a15('0x2c')],sourceTag);});_0x2d3461();});}));}let _0x59273f=Promise['resolve']();return Promise[_0x2a15('0x41')]([_0x59273f,_0x5c26a3]);};const _0x3a31ec=_0xc39888['BotDriver'];const _0x279de3=_0x27be12('botium-box-worker-runtestcases');const _0x5b5e41={'unhook':null,'progress':0x0,'total':0x0};const _0x377d5c=_0x5daf15=>{_0x5b5e41['unhook']=_0x925f7c(_0x341a24=>{const _0x5b6d5e=_0x341a24['replace'](/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,'');_0x5daf15[_0x2a15('0x42')](_0x5b5e41[_0x2a15('0x42')],_0x5b5e41[_0x2a15('0x43')],{'log':_0x5b6d5e});return _0x341a24;});};const _0x3d8005=()=>{if(_0x5b5e41[_0x2a15('0x44')]){_0x5b5e41[_0x2a15('0x44')]();_0x5b5e41['unhook']=null;}_0x5b5e41[_0x2a15('0x42')]=0x0;_0x5b5e41[_0x2a15('0x43')]=0x0;};const _0x8cd535={};const _0x38e8d3=(_0x4d4d33,_0x4659c6)=>{if(!_0x8cd535[_0x4d4d33])_0x8cd535[_0x4d4d33]=[];_0x8cd535[_0x4d4d33]['push'](_0x4659c6);};const _0x217e5d=(_0x3367af,_0x1e3aba)=>{if(_0x8cd535[_0x3367af]){_0x8cd535[_0x3367af]['forEach'](_0x27c280=>_0x27c280());delete _0x8cd535[_0x3367af];}};const _0x3bb733=(_0x4086ca,_0x5cb89d)=>{let _0x161810=![];_0x38e8d3(_0x5cb89d['id'],()=>{_0x161810=!![];});return new Promise((_0x412b62,_0x22d33a)=>{_0x5cb89d[_0x2a15('0x42')](0x0,0x0,{'log':_0x5cb89d[_0x2a15('0x45')][_0x2a15('0x46')]+_0x2a15('0x47')+_0x5cb89d['id']+'.'});_0x377d5c(_0x5cb89d);const _0x2ce4f3={};if(_0x4086ca[_0x2a15('0x48')]&&_0x4086ca[_0x2a15('0x48')]['Capabilities'])Object[_0x2a15('0x35')](_0x2ce4f3,_0x4086ca[_0x2a15('0x48')][_0x2a15('0x14')]);if(_0x5cb89d['data'][_0x2a15('0x48')]&&_0x5cb89d[_0x2a15('0x45')][_0x2a15('0x48')][_0x2a15('0x14')])Object[_0x2a15('0x35')](_0x2ce4f3,_0x5cb89d[_0x2a15('0x45')][_0x2a15('0x48')][_0x2a15('0x14')]);const _0x1f5a2e={};if(_0x4086ca[_0x2a15('0x48')]&&_0x4086ca[_0x2a15('0x48')][_0x2a15('0x49')])Object['assign'](_0x1f5a2e,_0x4086ca[_0x2a15('0x48')]['Sources']);if(_0x5cb89d[_0x2a15('0x45')][_0x2a15('0x48')]&&_0x5cb89d[_0x2a15('0x45')][_0x2a15('0x48')][_0x2a15('0x49')])Object[_0x2a15('0x35')](_0x1f5a2e,_0x5cb89d[_0x2a15('0x45')]['botium'][_0x2a15('0x49')]);const _0x5754b7={};if(_0x4086ca['botium']&&_0x4086ca[_0x2a15('0x48')]['Envs'])Object['assign'](_0x5754b7,_0x4086ca[_0x2a15('0x48')][_0x2a15('0x4a')]);if(_0x5cb89d[_0x2a15('0x45')][_0x2a15('0x48')]&&_0x5cb89d[_0x2a15('0x45')][_0x2a15('0x48')][_0x2a15('0x4a')])Object[_0x2a15('0x35')](_0x5754b7,_0x5cb89d[_0x2a15('0x45')]['botium'][_0x2a15('0x4a')]);const _0x427d5c=new _0x3a31ec(_0x2ce4f3,_0x1f5a2e,_0x5754b7);const _0x374b46=_0x427d5c[_0x2a15('0x4b')]();_0x374b46[_0x2a15('0x4c')]=_0x427d5c[_0x2a15('0x4d')]();_0x427d5c[_0x2a15('0x4e')]()['then'](()=>{return new Promise((_0x412b62,_0x22d33a)=>{const _0x3ffb5=Promise[_0x2a15('0x41')](_0x5cb89d['data'][_0x2a15('0x4f')][_0x2a15('0x3a')](_0x492bc4=>_0x408eba(_0x492bc4,_0x374b46[_0x2a15('0x4c')],_0x427d5c[_0x2a15('0x50')],_0x427d5c['sources'])))['then'](()=>{const _0x28770d=_0x5cb89d[_0x2a15('0x45')][_0x2a15('0x4f')][_0x2a15('0x51')](_0x3bd642=>_0x3bd642['expandConvos'])[_0x2a15('0x39')]>0x0;if(_0x28770d){_0x279de3(_0x2a15('0x52'));_0x374b46[_0x2a15('0x4c')]['ExpandConvos']();}const _0xde5181=_0x5cb89d[_0x2a15('0x45')][_0x2a15('0x4f')][_0x2a15('0x51')](_0x11dd62=>_0x11dd62['expandUtterancesToConvos'])[_0x2a15('0x39')]>0x0;if(_0xde5181){const _0x42121a=_0x19d8ef[_0x2a15('0x53')](_0x5cb89d[_0x2a15('0x45')][_0x2a15('0x4f')][_0x2a15('0x51')](_0x497dae=>_0x497dae[_0x2a15('0x54')]&&_0x497dae['expandUtterancesIncomprehension'])['map'](_0x506ac8=>_0x506ac8[_0x2a15('0x55')]));if(_0x42121a&&_0x42121a[_0x2a15('0x39')]>0x1){throw new Error(_0x2a15('0x56')+_0x360a0e[_0x2a15('0x2e')](_0x42121a)+_0x2a15('0x57'));}_0x279de3('expanding\x20utterances\x20to\x20convos\x20...');if(_0x42121a&&_0x42121a[_0x2a15('0x39')]>0x0){_0x374b46[_0x2a15('0x4c')]['caps'][_0x259220[_0x2a15('0x58')]]=_0x42121a[0x0];}_0x374b46[_0x2a15('0x4c')][_0x2a15('0x59')]();_0x374b46[_0x2a15('0x4c')][_0x2a15('0x5a')]();}_0x279de3(_0x2a15('0x5b')+_0x374b46[_0x2a15('0x4c')][_0x2a15('0x25')][_0x2a15('0x39')]+_0x2a15('0x5c'));return _0x374b46[_0x2a15('0x4c')][_0x2a15('0x25')];});_0x3ffb5[_0x2a15('0x5d')](_0x5cd936=>{_0x412b62(_0x5cd936[_0x2a15('0x5e')]((_0x5a37e1,_0x4b233d)=>_0x5a37e1[_0x2a15('0x5f')](_0x4b233d),[]));})[_0x2a15('0x60')](_0x22d33a);});})[_0x2a15('0x5d')](()=>{_0x374b46[_0x2a15('0x4c')][_0x2a15('0x5a')]();const _0x59568e=_0x5cb89d[_0x2a15('0x45')][_0x2a15('0x61')]||0x1;const _0x4282bb=_0x5cb89d['data'][_0x2a15('0x62')]||0x1;const _0xfd121a=Math[_0x2a15('0x63')](_0x374b46[_0x2a15('0x4c')][_0x2a15('0x25')][_0x2a15('0x39')]/_0x4282bb);const _0x4b9464=_0xfd121a*(_0x59568e-0x1);const _0x2bce82=Math['min'](_0x4b9464+_0xfd121a,_0x374b46['compiler'][_0x2a15('0x25')]['length'])-0x1;_0x279de3('batchNum:\x20'+_0x59568e+_0x2a15('0x64')+_0x4282bb+_0x2a15('0x65')+_0xfd121a+_0x2a15('0x66')+_0x4b9464+_0x2a15('0x67')+_0x2bce82);_0x5cb89d[_0x2a15('0x42')](0x0,_0xfd121a,{'log':_0x5cb89d[_0x2a15('0x45')]['title']+':\x20batchNum:\x20'+_0x59568e+_0x2a15('0x64')+_0x4282bb+_0x2a15('0x65')+_0xfd121a+_0x2a15('0x66')+_0x4b9464+_0x2a15('0x67')+_0x2bce82});for(let _0x52b9ce=_0x4b9464;_0x52b9ce<=_0x2bce82;_0x52b9ce++){const _0x56303f=_0x52b9ce;const _0x58b87b=_0x374b46[_0x2a15('0x4c')]['convos'][_0x56303f];let _0x3fb123=null;const _0x433793=[];const _0x32de4b=(_0x1838c0,_0x4b5e12)=>{if(_0x4b5e12[_0x2a15('0x68')])_0x433793[_0x2a15('0x69')](..._0x4b5e12['attachments']);};const _0x314aff=(_0x23fa91,_0x5dde82)=>{if(_0x5dde82['attachments'])_0x433793['push'](..._0x5dde82['attachments']);};const _0x328c1f=(_0x5f15d8,_0x45ce86)=>{_0x433793[_0x2a15('0x69')](_0x45ce86);};const _0x34f772=(_0x1b82e8,_0x8826e2)=>{if(_0x8826e2)_0x58b87b[_0x2a15('0x2c')]=Object[_0x2a15('0x35')]({},_0x58b87b[_0x2a15('0x2c')],_0x8826e2);};const _0x258887=()=>{_0x427d5c[_0x2a15('0x6a')]['removeListener'](_0x2a15('0x6b'),_0x32de4b);_0x427d5c[_0x2a15('0x6a')][_0x2a15('0x6c')](_0x2a15('0x6d'),_0x314aff);_0x427d5c[_0x2a15('0x6a')][_0x2a15('0x6c')](_0x2a15('0x6e'),_0x328c1f);_0x427d5c[_0x2a15('0x6a')][_0x2a15('0x6c')](_0x2a15('0x6f'),_0x34f772);};const _0x4f6588=()=>{_0x427d5c['on'](_0x2a15('0x6b'),_0x32de4b);_0x427d5c['on']('MESSAGE_RECEIVEDFROMBOT',_0x314aff);_0x427d5c['on'](_0x2a15('0x6e'),_0x328c1f);_0x427d5c['on'](_0x2a15('0x6f'),_0x34f772);};let _0x335515=null;_0x374b46['Call'](_0x4f6588)[_0x2a15('0x70')]();_0x374b46[_0x2a15('0x71')](()=>{return new Promise(_0x412b62=>{if(_0x161810){_0x279de3(_0x2a15('0x72')+_0x58b87b[_0x2a15('0x73')][_0x2a15('0x31')]+_0x2a15('0x74')+_0x56303f+',\x20'+(_0x56303f-_0x4b9464)+'\x20from\x20'+_0xfd121a);_0x412b62();}else{_0x279de3(_0x2a15('0x75')+_0x58b87b[_0x2a15('0x73')][_0x2a15('0x31')]+'\x22,\x20Index\x20'+_0x56303f+',\x20'+(_0x56303f-_0x4b9464)+_0x2a15('0x76')+_0xfd121a);return _0x58b87b[_0x2a15('0x77')](_0x374b46['container'])['then'](_0x3dfe47=>{_0x279de3(_0x2a15('0x75')+_0x58b87b[_0x2a15('0x73')]['name']+_0x2a15('0x78'));_0x3fb123=_0x3dfe47;_0x412b62();})[_0x2a15('0x60')](_0x506bfe=>{_0x279de3(_0x2a15('0x75')+_0x58b87b['header'][_0x2a15('0x31')]+_0x2a15('0x79')+_0x506bfe+'.');_0x3fb123=_0x506bfe['transcript'];_0x335515=_0x506bfe;_0x412b62();});}});});_0x374b46[_0x2a15('0x7a')]()[_0x2a15('0x71')](_0x258887);_0x374b46['Call'](()=>{if(_0x161810)return;if(_0x3fb123){_0x3fb123[_0x2a15('0x7b')]=_0x3fb123[_0x2a15('0x7b')]?_0x3fb123[_0x2a15('0x7b')][_0x2a15('0x7c')]?_0x3fb123[_0x2a15('0x7b')][_0x2a15('0x7c')]:JSON[_0x2a15('0x7d')](_0x3fb123[_0x2a15('0x7b')]):null;_0x3fb123['steps']&&_0x3fb123[_0x2a15('0x7e')]['forEach'](_0x4ab6e1=>{_0x4ab6e1[_0x2a15('0x7b')]=_0x4ab6e1[_0x2a15('0x7b')]?_0x4ab6e1['err'][_0x2a15('0x7c')]?_0x4ab6e1[_0x2a15('0x7b')][_0x2a15('0x7c')]:JSON['stringify'](_0x4ab6e1['err']):null;});}_0x5cb89d['progress'](_0x56303f-_0x4b9464+0x1,_0xfd121a,{'type':_0x2a15('0x7f'),'testcase':_0x58b87b[_0x2a15('0x73')][_0x2a15('0x31')],'source':_0x58b87b[_0x2a15('0x80')](),'sourceTag':_0x58b87b[_0x2a15('0x2c')],'transcript':_0x3fb123,'attachments':_0x433793,'success':_0x335515===null,'err':_0x335515?_0x335515['message']?_0x335515[_0x2a15('0x7c')]:JSON[_0x2a15('0x7d')](_0x335515):null});});}_0x374b46[_0x2a15('0x81')]();_0x374b46['Call'](()=>_0x3d8005());_0x374b46[_0x2a15('0x71')](()=>{if(_0x161810){throw new Error(_0x2a15('0x82'));}});_0x374b46[_0x2a15('0x83')]()[_0x2a15('0x5d')](_0x412b62)[_0x2a15('0x60')](_0x22d33a);})[_0x2a15('0x60')](_0x22d33a);});};var _0x12420d={'run':_0x3bb733,'cancel':_0x217e5d};_0x3c882f['config']();_0x54be64[_0x2a15('0x84')]();const _0x56026b=_0x27be12('botium-box-worker');const _0x41a94b=()=>{if(process[_0x2a15('0x85')]['BOTIUMBOX_AGENT_NAME']){return process['env'][_0x2a15('0x86')];}const _0x18cace=_0x335a2c['hostname']();if(_0x18cace&&process[_0x2a15('0x85')]['hasOwnProperty'](_0x2a15('0x87'))){return _0x18cace+'_'+process[_0x2a15('0x85')][_0x2a15('0x87')];}else if(_0x18cace){return _0x18cace;}else{return _0x2a15('0x88');}};const _0x1be3ac=_0x41a94b();const _0xaf0f55=process[_0x2a15('0x85')][_0x2a15('0x89')]||_0x2a15('0x8a');_0x56026b('Connecting\x20agent\x20'+_0x1be3ac+_0x2a15('0x8b')+_0xaf0f55+_0x2a15('0x57'));let _0x53e5fb={};if(process[_0x2a15('0x85')][_0x2a15('0x8c')]){try{_0x53e5fb=JSON[_0x2a15('0x8d')](process[_0x2a15('0x85')][_0x2a15('0x8c')]);_0x56026b('Got\x20queue\x20settings\x20\x27'+JSON[_0x2a15('0x7d')](_0x53e5fb)+'\x27');}catch(_0x370e59){console[_0x2a15('0x1c')]('ERROR\x20parsing\x20queue\x20settings\x20\x27'+process['env']['BOTIUMBOX_QUEUE_SETTINGS']+'\x27:');console['log'](_0x370e59);process[_0x2a15('0x8e')](0x1);}}else{if(process[_0x2a15('0x85')]['BOTIUMBOX_QUEUE_PREFIX']){_0x53e5fb[_0x2a15('0x8f')]=process[_0x2a15('0x85')][_0x2a15('0x90')];}if(process[_0x2a15('0x85')][_0x2a15('0x91')]){_0x53e5fb['redis']=process['env'][_0x2a15('0x91')];}}_0x56026b(_0x2a15('0x92')+JSON[_0x2a15('0x7d')](_0x53e5fb)+'\x27');const _0x4e4450=process['env'][_0x2a15('0x93')]||0x1;let _0x23b7a9=process[_0x2a15('0x85')][_0x2a15('0x94')]||0x493e0;if(_0x23b7a9>0x0&&_0x23b7a9<0x1388)_0x23b7a9=0x1388;const _0x17ab55=_0x5c08c4[_0x2a15('0x95')](_0x53e5fb);_0x17ab55['on']('error',_0x31663d=>{console[_0x2a15('0x1c')](_0x2a15('0x96')+JSON[_0x2a15('0x7d')](_0x53e5fb)+'\x27:');console[_0x2a15('0x1c')](_0x31663d);process[_0x2a15('0x8e')](0x1);});_0x56026b(_0x2a15('0x97'));_0x17ab55['create'](_0x2a15('0x98'),{'title':'register\x20agent\x20'+_0x1be3ac+_0x2a15('0x8b')+_0xaf0f55,'name':_0x1be3ac,'group':_0xaf0f55})[_0x2a15('0x99')](_0x2a15('0x9a'))[_0x2a15('0x9b')](0x5)[_0x2a15('0x9c')](0x2710)[_0x2a15('0x9d')](!![])['save']()['on'](_0x2a15('0x9e'),_0x4030c5=>{console['log']('ERROR\x20registering\x20agent:');console[_0x2a15('0x1c')](_0x4030c5);process[_0x2a15('0x8e')](0x1);})['on'](_0x2a15('0x9f'),_0x256eda=>{_0x56026b(_0x2a15('0xa0')+JSON['stringify'](_0x256eda)+_0x2a15('0xa1')+_0x4e4450+').');let _0x3e9038=_0x256eda;const _0x3a1521=(_0x155b3f,_0x5eb6c6)=>{_0x56026b('Processing\x20Job\x20'+_0x155b3f['id']);try{_0x12420d['run'](_0x3e9038,_0x155b3f)[_0x2a15('0x5d')](_0x256eda=>{_0x56026b(_0x2a15('0xa2')+_0x155b3f['id']+'\x20finished\x20with\x20result:');_0x56026b(_0x256eda);_0x5eb6c6(null,_0x256eda);})['catch'](_0xd66709=>{_0x56026b(_0x2a15('0xa2')+_0x155b3f['id']+_0x2a15('0xa3'));_0x56026b(_0xd66709);_0x5eb6c6(_0xd66709);});}catch(_0xe9126c){_0x56026b(_0x2a15('0xa2')+_0x155b3f['id']+_0x2a15('0xa3'));_0x56026b(_0xe9126c);_0x5eb6c6(_0xe9126c);}};const _0x15f89a=(_0x22a6ba,_0x494ecf)=>{if(!_0x22a6ba[_0x2a15('0x45')]||!_0x22a6ba[_0x2a15('0x45')][_0x2a15('0xa4')]){return[_0x56026b,_0x494ecf]['forEach'](_0x4bc7d9=>_0x4bc7d9(_0x2a15('0xa5')));}_0x56026b(_0x2a15('0xa6')+(_0x22a6ba[_0x2a15('0x45')]&&_0x22a6ba[_0x2a15('0x45')][_0x2a15('0xa4')]));try{_0x12420d[_0x2a15('0xa7')](_0x22a6ba[_0x2a15('0x45')][_0x2a15('0xa4')],_0x22a6ba);_0x56026b('Canceling\x20Test\x20Session\x20Job\x20'+_0x22a6ba[_0x2a15('0x45')]['jobId']+_0x2a15('0xa8'));_0x494ecf();}catch(_0x444477){_0x56026b(_0x2a15('0xa6')+_0x22a6ba[_0x2a15('0x45')][_0x2a15('0xa4')]+_0x2a15('0xa3'));_0x56026b(_0x444477);_0x494ecf(_0x444477);}};const _0x4a3937=(_0x142ea2,_0x2b6380)=>{_0x56026b(_0x2a15('0xa9'));_0x17ab55['create'](_0x2a15('0x98'),{'title':_0x2a15('0xaa')+_0x1be3ac+_0x2a15('0xab')+_0xaf0f55,'name':_0x1be3ac,'group':_0xaf0f55})[_0x2a15('0x99')](_0x2a15('0x9a'))[_0x2a15('0x9b')](0x5)['ttl'](0x2710)['removeOnComplete'](!![])['save']()['on'](_0x2a15('0x9e'),_0x2ccec4=>{console[_0x2a15('0x1c')](_0x2a15('0xac'));console[_0x2a15('0x1c')](_0x2ccec4);})['on']('complete',_0x256eda=>{_0x56026b(_0x2a15('0xad')+JSON[_0x2a15('0x7d')](_0x256eda)+'\x27.');_0x3e9038=_0x256eda;});};_0x17ab55[_0x2a15('0x7f')]('process.'+_0xaf0f55,_0x4e4450,_0x3a1521);_0x17ab55[_0x2a15('0x7f')](_0x2a15('0xae')+_0x1be3ac,_0x4e4450,_0x3a1521);_0x17ab55['process'](_0x2a15('0x7f'),_0x4e4450,_0x3a1521);_0x17ab55[_0x2a15('0x7f')]('cancel',_0x4e4450,_0x15f89a);_0x17ab55['process'](_0x2a15('0xaf')+_0x1be3ac,_0x4e4450,_0x4a3937);if(_0x23b7a9>0x0){const _0x8a890=()=>{_0x56026b(_0x2a15('0xb0'));const _0x2e1438=_0x17ab55['create'](_0x2a15('0xb1'),{'title':_0x2a15('0xb2')+_0x1be3ac+_0x2a15('0xab')+_0xaf0f55,'name':_0x1be3ac,'group':_0xaf0f55})[_0x2a15('0x9d')](!![])[_0x2a15('0xb3')]();_0x2e1438['on'](_0x2a15('0x9f'),()=>{setTimeout(_0x8a890,_0x23b7a9);});};_0x8a890();}});process['on'](_0x2a15('0xb4'),_0x1c4551=>{console['log'](_0x2a15('0xb5'),_0x1c4551);});var _0x2b409e={};return _0x2b409e;}));