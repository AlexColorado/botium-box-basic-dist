var _0x108a=['cancel','Canceling\x20Test\x20Session\x20Job\x20','\x20finished.','create','\x20for\x20group\x20','failed','Reconfiguration\x20completed\x20with\x20result\x20\x27','process.','agent.reconfigure.','sending\x20heartbeat\x20...','agent.heartbeat','heartbeat\x20from\x20agent\x20','uncaughtException','object','undefined','exports','path','slug','botium-core/src/repos/GitRepo','botium-core/src/Capabilities','util','intercept-stdout','lodash','botium-core','debug','dotenv-flow','kue','function','amd','botium-core/src/Source','main','Constants','Source','GitRepo','Capabilities','interceptStdout','dotenvFlow','hasOwnProperty','default','COMMUNITY\x20EDITION','master','2019-01-18T20:15:28+00:00','log','BUILD_TARGET:\x20','buildTarget','BUILD_BRANCH:\x20','buildBranch','buildRevision','BUILD_TIMESTAMP:\x20','buildDate','convos','SCRIPTING_FORMAT_XSLX','content','Compile','SCRIPTING_TYPE_UTTERANCES','SCRIPTING_TYPE_CONVO','SCRIPTING_FORMAT_TXT','sourceTag','forEach','name',':\x20Convo\x20Script\x20compilation\x20failed:\x20','utterances',':\x20Utterance\x20script\x20compilation\x20failed:\x20','stringify','folders','ReadScriptsFromDirectory','globFilter','assign',':\x20Folder\x20','\x20script\x20compilation\x20failed:\x20','resolve','excels','length','map','from','base64','caps','SCRIPTING_XLSX_SHEETNAMES','SCRIPTING_XLSX_STARTCOL','SCRIPTING_XLSX_SHEETNAMES_UTTERANCES','SCRIPTING_XLSX_STARTROW','all','BotDriver','unhook','progress','total','push','data','title',':\x20Started\x20processing,\x20JobId\x20#','botium','Sources','Envs','compiler','_validate','then','testSets','tempDirectory','sources','filter','expandConvos','expanding\x20convos\x20...','ExpandConvos','uniq','expandUtterancesToConvos','expandUtterancesIncomprehension','inspect','SCRIPTING_UTTEXPANSION_INCOMPREHENSION','ExpandUtterancesToConvos','found\x20','\x20convos\x20...','concat','catch','batchNum','batchCount','ceil','min','\x20batchCount:\x20','\x20convosPerBatch:\x20','\x20batchStart:\x20','\x20batchEnd:\x20',':\x20batchNum:\x20','attachments','eventEmitter','removeListener','MESSAGE_RECEIVEDFROMBOT','CONTAINER_STARTED','MESSAGE_SENTTOBOT','Call','Start','Test\x20Session\x20cancelled,\x20skipping\x20Convo\x20\x22','header','\x22,\x20Index\x20','\x20from\x20','Running\x20Convo\x20\x22','Run','container','\x22\x20completed\x20successfully.','err','message','steps','process','toString','Test\x20Session\x20cancelled','botium-box-worker','env','BOTIUMBOX_AGENT_NAME','BOTIUMBOX_AGENT_NUM','Default\x20Agent','BOTIUMBOX_AGENT_GROUP','\x20to\x20group\x20','\x20...','BOTIUMBOX_QUEUE_SETTINGS','parse','ERROR\x20parsing\x20queue\x20settings\x20\x27','prefix','BOTIUMBOX_QUEUE_PREFIX','BOTIUMBOX_QUEUE_REDISURL','redis','BOTIUMBOX_QUEUE_HEARTBEAT','createQueue','error','exit','Trying\x20to\x20register\x20agent\x20...','agent.register','register\x20agent\x20','priority','high','attempts','ttl','removeOnComplete','save','ERROR\x20registering\x20agent:','complete','\x27,\x20now\x20accepting\x20processing\x20jobs\x20(concurrency\x20','Processing\x20Job\x20','run','\x20failed:','jobId'];(function(_0xb67384,_0x27295a){var _0x156d7c=function(_0x52a1f8){while(--_0x52a1f8){_0xb67384['push'](_0xb67384['shift']());}};var _0xa9c080=function(){var _0xfd277a={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x2048b2,_0x39f824,_0x23f64f,_0x172f59){_0x172f59=_0x172f59||{};var _0x5489f2=_0x39f824+'='+_0x23f64f;var _0x2ca197=0x0;for(var _0x2ca197=0x0,_0x3d0c7c=_0x2048b2['length'];_0x2ca197<_0x3d0c7c;_0x2ca197++){var _0x1feb4e=_0x2048b2[_0x2ca197];_0x5489f2+=';\x20'+_0x1feb4e;var _0x2722a3=_0x2048b2[_0x1feb4e];_0x2048b2['push'](_0x2722a3);_0x3d0c7c=_0x2048b2['length'];if(_0x2722a3!==!![]){_0x5489f2+='='+_0x2722a3;}}_0x172f59['cookie']=_0x5489f2;},'removeCookie':function(){return'dev';},'getCookie':function(_0x10a05d,_0x5b96eb){_0x10a05d=_0x10a05d||function(_0x86c128){return _0x86c128;};var _0x3c58eb=_0x10a05d(new RegExp('(?:^|;\x20)'+_0x5b96eb['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x1902b4=function(_0x462a03,_0x576d89){_0x462a03(++_0x576d89);};_0x1902b4(_0x156d7c,_0x27295a);return _0x3c58eb?decodeURIComponent(_0x3c58eb[0x1]):undefined;}};var _0x744bea=function(){var _0x1a36d8=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x1a36d8['test'](_0xfd277a['removeCookie']['toString']());};_0xfd277a['updateCookie']=_0x744bea;var _0x137b6b='';var _0x219534=_0xfd277a['updateCookie']();if(!_0x219534){_0xfd277a['setCookie'](['*'],'counter',0x1);}else if(_0x219534){_0x137b6b=_0xfd277a['getCookie'](null,'counter');}else{_0xfd277a['removeCookie']();}};_0xa9c080();}(_0x108a,0x173));var _0x51e7=function(_0x74f69d,_0x4970c7){_0x74f69d=_0x74f69d-0x0;var _0x4dedcd=_0x108a[_0x74f69d];return _0x4dedcd;};(function(_0x5450e5,_0x242320){var _0x1a3b00=function(){var _0x13972f=!![];return function(_0x241907,_0x54494b){var _0x385f15=_0x13972f?function(){if(_0x54494b){var _0x262fde=_0x54494b['apply'](_0x241907,arguments);_0x54494b=null;return _0x262fde;}}:function(){};_0x13972f=![];return _0x385f15;};}();var _0x679e28=_0x1a3b00(this,function(){var _0x2d8f05=function(){return'\x64\x65\x76';},_0x4b81bb=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x34a12b=function(){var _0x36c6a6=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x36c6a6['\x74\x65\x73\x74'](_0x2d8f05['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x33748d=function(){var _0x3e4c21=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x3e4c21['\x74\x65\x73\x74'](_0x4b81bb['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x5c685e=function(_0x3e3156){var _0x1e9e81=~-0x1>>0x1+0xff%0x0;if(_0x3e3156['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x1e9e81)){_0x292610(_0x3e3156);}};var _0x292610=function(_0x151bd2){var _0x558098=~-0x4>>0x1+0xff%0x0;if(_0x151bd2['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x558098){_0x5c685e(_0x151bd2);}};if(!_0x34a12b()){if(!_0x33748d()){_0x5c685e('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x5c685e('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x5c685e('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x679e28();typeof exports===_0x51e7('0x0')&&typeof module!==_0x51e7('0x1')?module[_0x51e7('0x2')]=_0x242320(require(_0x51e7('0x3')),require(_0x51e7('0x4')),require('botium-core/src/scripting/Constants'),require('botium-core/src/Source'),require(_0x51e7('0x5')),require(_0x51e7('0x6')),require(_0x51e7('0x7')),require(_0x51e7('0x8')),require(_0x51e7('0x9')),require(_0x51e7('0xa')),require(_0x51e7('0xb')),require(_0x51e7('0xc')),require('os'),require(_0x51e7('0xd'))):typeof define===_0x51e7('0xe')&&define[_0x51e7('0xf')]?define(['path','slug','botium-core/src/scripting/Constants',_0x51e7('0x10'),'botium-core/src/repos/GitRepo',_0x51e7('0x6'),'util',_0x51e7('0x8'),'lodash',_0x51e7('0xa'),_0x51e7('0xb'),_0x51e7('0xc'),'os','kue'],_0x242320):_0x5450e5[_0x51e7('0x11')]=_0x242320(_0x5450e5[_0x51e7('0x3')],_0x5450e5[_0x51e7('0x4')],_0x5450e5[_0x51e7('0x12')],_0x5450e5[_0x51e7('0x13')],_0x5450e5[_0x51e7('0x14')],_0x5450e5[_0x51e7('0x15')],_0x5450e5[_0x51e7('0x7')],_0x5450e5[_0x51e7('0x16')],_0x5450e5['lodash'],_0x5450e5['botiumCore'],_0x5450e5['debug'],_0x5450e5[_0x51e7('0x17')],_0x5450e5['os'],_0x5450e5[_0x51e7('0xd')]);}(this,function(_0x365898,_0x30fe24,_0x1cdb11,_0x18b050,_0x4db79f,_0x132de0,_0x88af16,_0x393d61,_0xd8e2df,_0x44220f,_0x42b8b2,_0x154d26,_0x22b993,_0xc47e80){'use strict';_0x365898=_0x365898&&_0x365898[_0x51e7('0x18')](_0x51e7('0x19'))?_0x365898[_0x51e7('0x19')]:_0x365898;_0x30fe24=_0x30fe24&&_0x30fe24['hasOwnProperty'](_0x51e7('0x19'))?_0x30fe24[_0x51e7('0x19')]:_0x30fe24;_0x1cdb11=_0x1cdb11&&_0x1cdb11[_0x51e7('0x18')](_0x51e7('0x19'))?_0x1cdb11[_0x51e7('0x19')]:_0x1cdb11;_0x18b050=_0x18b050&&_0x18b050[_0x51e7('0x18')]('default')?_0x18b050[_0x51e7('0x19')]:_0x18b050;_0x4db79f=_0x4db79f&&_0x4db79f['hasOwnProperty'](_0x51e7('0x19'))?_0x4db79f['default']:_0x4db79f;_0x132de0=_0x132de0&&_0x132de0['hasOwnProperty'](_0x51e7('0x19'))?_0x132de0[_0x51e7('0x19')]:_0x132de0;_0x88af16=_0x88af16&&_0x88af16['hasOwnProperty'](_0x51e7('0x19'))?_0x88af16[_0x51e7('0x19')]:_0x88af16;_0x393d61=_0x393d61&&_0x393d61['hasOwnProperty'](_0x51e7('0x19'))?_0x393d61[_0x51e7('0x19')]:_0x393d61;_0xd8e2df=_0xd8e2df&&_0xd8e2df[_0x51e7('0x18')](_0x51e7('0x19'))?_0xd8e2df[_0x51e7('0x19')]:_0xd8e2df;_0x44220f=_0x44220f&&_0x44220f[_0x51e7('0x18')]('default')?_0x44220f[_0x51e7('0x19')]:_0x44220f;_0x42b8b2=_0x42b8b2&&_0x42b8b2[_0x51e7('0x18')](_0x51e7('0x19'))?_0x42b8b2['default']:_0x42b8b2;_0x154d26=_0x154d26&&_0x154d26['hasOwnProperty']('default')?_0x154d26['default']:_0x154d26;_0x22b993=_0x22b993&&_0x22b993[_0x51e7('0x18')](_0x51e7('0x19'))?_0x22b993[_0x51e7('0x19')]:_0x22b993;_0xc47e80=_0xc47e80&&_0xc47e80[_0x51e7('0x18')](_0x51e7('0x19'))?_0xc47e80['default']:_0xc47e80;const _0x11b845={'buildTarget':_0x51e7('0x1a'),'buildBranch':_0x51e7('0x1b'),'buildRevision':'11669459a6f465e528afc82ee78c4b6c8d57f4df','buildDate':_0x51e7('0x1c')};const _0x1245d3=()=>{console[_0x51e7('0x1d')]('BOTIUM\x20BOX\x20-\x20AGENT');console['log'](_0x51e7('0x1e')+_0x11b845[_0x51e7('0x1f')]);console['log'](_0x51e7('0x20')+_0x11b845[_0x51e7('0x21')]);console[_0x51e7('0x1d')]('BUILD_REVISION:\x20'+_0x11b845[_0x51e7('0x22')]);console[_0x51e7('0x1d')](_0x51e7('0x23')+_0x11b845[_0x51e7('0x24')]);};var _0x32d7b1={'buildInfo':_0x11b845,'printVersion':_0x1245d3};const _0x544a41=_0x42b8b2('botium-retrieve-all-test-cases');var _0x1a222b=(_0x1c5bf2,_0x24e509,_0x1ddf65,_0x466e26)=>{_0x1c5bf2[_0x51e7('0x25')]&&_0x1c5bf2[_0x51e7('0x25')]['forEach'](_0x581612=>{let _0x5a4a79=[];let _0x4ae896=[];try{if(_0x581612['format']===_0x1cdb11[_0x51e7('0x26')]){const _0x5be8c9=Buffer['from'](_0x581612[_0x51e7('0x27')],'base64');_0x4ae896=_0x24e509[_0x51e7('0x28')](_0x5be8c9,_0x1cdb11['SCRIPTING_FORMAT_XSLX'],_0x1cdb11[_0x51e7('0x29')]);_0x5a4a79=_0x24e509[_0x51e7('0x28')](_0x5be8c9,_0x1cdb11[_0x51e7('0x26')],_0x1cdb11[_0x51e7('0x2a')]);}else if(_0x581612['format']===_0x1cdb11['SCRIPTING_FORMAT_TXT']){_0x5a4a79=_0x24e509[_0x51e7('0x28')](_0x581612[_0x51e7('0x27')],_0x1cdb11[_0x51e7('0x2b')],_0x1cdb11[_0x51e7('0x2a')]);}if(_0x5a4a79)_0x5a4a79['forEach'](_0x32e218=>{_0x32e218[_0x51e7('0x2c')]=_0x581612[_0x51e7('0x2c')];});if(_0x4ae896)_0x4ae896[_0x51e7('0x2d')](_0x1e81d1=>{_0x1e81d1['sourceTag']=_0x581612[_0x51e7('0x2c')];});}catch(_0x150568){_0x544a41(_0x150568);throw new Error(_0x1c5bf2[_0x51e7('0x2e')]+_0x51e7('0x2f')+JSON['stringify'](_0x150568));}});_0x1c5bf2[_0x51e7('0x30')]&&_0x1c5bf2['utterances'][_0x51e7('0x2d')](_0x10b858=>{let _0x4f9953=[];try{_0x4f9953=_0x24e509['Compile'](_0x10b858[_0x51e7('0x27')],_0x1cdb11[_0x51e7('0x2b')],_0x1cdb11[_0x51e7('0x29')]);if(_0x4f9953)_0x4f9953['forEach'](_0x50b8d0=>{_0x50b8d0['sourceTag']=_0x10b858[_0x51e7('0x2c')];});}catch(_0x2791a8){_0x544a41(_0x2791a8);throw new Error(_0x1c5bf2[_0x51e7('0x2e')]+_0x51e7('0x31')+JSON[_0x51e7('0x32')](_0x2791a8));}});_0x1c5bf2[_0x51e7('0x33')]&&_0x1c5bf2[_0x51e7('0x33')][_0x51e7('0x2d')](_0x307cee=>{try{const {convos,utterances}=_0x24e509[_0x51e7('0x34')](_0x307cee['path'],_0x307cee[_0x51e7('0x35')]);convos&&convos[_0x51e7('0x2d')](_0x53eccc=>{_0x53eccc[_0x51e7('0x2c')]=Object[_0x51e7('0x36')]({},_0x53eccc[_0x51e7('0x2c')],_0x307cee[_0x51e7('0x2c')]);});utterances&&utterances[_0x51e7('0x2d')](_0x5be7dc=>{_0x5be7dc[_0x51e7('0x2c')]=Object[_0x51e7('0x36')]({},_0x5be7dc['sourceTag'],_0x307cee[_0x51e7('0x2c')]);});}catch(_0x2c2e25){_0x544a41(_0x2c2e25);throw new Error(_0x1c5bf2['name']+_0x51e7('0x37')+_0x307cee+_0x51e7('0x38')+JSON['stringify'](_0x2c2e25));}});let _0x527b61=Promise[_0x51e7('0x39')]();if(_0x1c5bf2[_0x51e7('0x3a')]&&_0x1c5bf2['excels'][_0x51e7('0x3b')]>0x0){_0x527b61=Promise['all'](_0x1c5bf2['excels'][_0x51e7('0x3c')](({id,filename,filecontent,hasConvos,hasUtterances,worksheetsConvos,worksheetsUtterances,startRow,startCol,sourceTag})=>{return new Promise(_0x4bacec=>{const _0x196e33=Buffer[_0x51e7('0x3d')](filecontent,_0x51e7('0x3e'));let _0x2fcbe7=[];let _0x51ee98=[];if(hasConvos){if(worksheetsConvos)_0x24e509[_0x51e7('0x3f')][_0x132de0[_0x51e7('0x40')]]=worksheetsConvos;if(!isNaN(startRow))_0x24e509['caps'][_0x132de0['SCRIPTING_XLSX_STARTROW']]=startRow;if(!isNaN(startCol))_0x24e509['caps'][_0x132de0[_0x51e7('0x41')]]=startCol;_0x2fcbe7=_0x24e509['Compile'](_0x196e33,_0x1cdb11['SCRIPTING_FORMAT_XSLX'],_0x1cdb11[_0x51e7('0x2a')]);}if(hasUtterances){if(worksheetsUtterances)_0x24e509[_0x51e7('0x3f')][_0x132de0[_0x51e7('0x42')]]=worksheetsUtterances;if(!isNaN(startRow))_0x24e509[_0x51e7('0x3f')][_0x132de0[_0x51e7('0x43')]]=startRow;if(!isNaN(startCol))_0x24e509[_0x51e7('0x3f')][_0x132de0[_0x51e7('0x41')]]=startCol;_0x51ee98=_0x24e509[_0x51e7('0x28')](_0x196e33,_0x1cdb11[_0x51e7('0x26')],_0x1cdb11[_0x51e7('0x29')]);}_0x2fcbe7&&_0x2fcbe7['forEach'](_0x4e8295=>{_0x4e8295['sourceTag']=Object[_0x51e7('0x36')]({},_0x4e8295[_0x51e7('0x2c')],sourceTag);});_0x51ee98&&_0x51ee98[_0x51e7('0x2d')](_0x58f778=>{_0x58f778['sourceTag']=Object['assign']({},_0x58f778['sourceTag'],sourceTag);});_0x4bacec();});}));}let _0x3b8946=Promise[_0x51e7('0x39')]();return Promise[_0x51e7('0x44')]([_0x3b8946,_0x527b61]);};const _0x9276be=_0x44220f[_0x51e7('0x45')];const _0x748ca=_0x42b8b2('botium-box-worker-runtestcases');const _0x31faf4={'unhook':null,'progress':0x0,'total':0x0};const _0x4d4e06=_0x5076de=>{_0x31faf4[_0x51e7('0x46')]=_0x393d61(_0x1a10a9=>{const _0x4db150=_0x1a10a9['replace'](/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,'');_0x5076de[_0x51e7('0x47')](_0x31faf4[_0x51e7('0x47')],_0x31faf4[_0x51e7('0x48')],{'log':_0x4db150});return _0x1a10a9;});};const _0x2cde7b=()=>{if(_0x31faf4[_0x51e7('0x46')]){_0x31faf4[_0x51e7('0x46')]();_0x31faf4[_0x51e7('0x46')]=null;}_0x31faf4['progress']=0x0;_0x31faf4[_0x51e7('0x48')]=0x0;};const _0x2a84f7={};const _0x2a95d5=(_0x1af9f1,_0x1f97c2)=>{if(!_0x2a84f7[_0x1af9f1])_0x2a84f7[_0x1af9f1]=[];_0x2a84f7[_0x1af9f1][_0x51e7('0x49')](_0x1f97c2);};const _0x5eaecc=(_0x47ff88,_0x29e9fd)=>{if(_0x2a84f7[_0x47ff88]){_0x2a84f7[_0x47ff88][_0x51e7('0x2d')](_0x5684b4=>_0x5684b4());delete _0x2a84f7[_0x47ff88];}};const _0x75dc65=(_0x10434d,_0x3f90e4)=>{let _0x103f06=![];_0x2a95d5(_0x3f90e4['id'],()=>{_0x103f06=!![];});return new Promise((_0x4c6495,_0x228dc7)=>{_0x3f90e4[_0x51e7('0x47')](0x0,0x0,{'log':_0x3f90e4[_0x51e7('0x4a')][_0x51e7('0x4b')]+_0x51e7('0x4c')+_0x3f90e4['id']+'.'});_0x4d4e06(_0x3f90e4);const _0xc8d028={};if(_0x10434d[_0x51e7('0x4d')]&&_0x10434d['botium'][_0x51e7('0x15')])Object[_0x51e7('0x36')](_0xc8d028,_0x10434d[_0x51e7('0x4d')][_0x51e7('0x15')]);if(_0x3f90e4[_0x51e7('0x4a')]['botium']&&_0x3f90e4[_0x51e7('0x4a')][_0x51e7('0x4d')]['Capabilities'])Object[_0x51e7('0x36')](_0xc8d028,_0x3f90e4[_0x51e7('0x4a')]['botium'][_0x51e7('0x15')]);const _0x4d6a33={};if(_0x10434d[_0x51e7('0x4d')]&&_0x10434d[_0x51e7('0x4d')][_0x51e7('0x4e')])Object['assign'](_0x4d6a33,_0x10434d['botium'][_0x51e7('0x4e')]);if(_0x3f90e4[_0x51e7('0x4a')]['botium']&&_0x3f90e4[_0x51e7('0x4a')][_0x51e7('0x4d')][_0x51e7('0x4e')])Object[_0x51e7('0x36')](_0x4d6a33,_0x3f90e4[_0x51e7('0x4a')][_0x51e7('0x4d')][_0x51e7('0x4e')]);const _0x5effe3={};if(_0x10434d[_0x51e7('0x4d')]&&_0x10434d[_0x51e7('0x4d')][_0x51e7('0x4f')])Object[_0x51e7('0x36')](_0x5effe3,_0x10434d[_0x51e7('0x4d')][_0x51e7('0x4f')]);if(_0x3f90e4['data']['botium']&&_0x3f90e4['data']['botium'][_0x51e7('0x4f')])Object['assign'](_0x5effe3,_0x3f90e4['data'][_0x51e7('0x4d')]['Envs']);const _0x222fc1=new _0x9276be(_0xc8d028,_0x4d6a33,_0x5effe3);const _0x37a25f=_0x222fc1['BuildFluent']();_0x37a25f[_0x51e7('0x50')]=_0x222fc1['BuildCompiler']();_0x222fc1[_0x51e7('0x51')]()[_0x51e7('0x52')](()=>{return new Promise((_0x4c6495,_0x228dc7)=>{const _0x5bd6b9=Promise[_0x51e7('0x44')](_0x3f90e4['data'][_0x51e7('0x53')][_0x51e7('0x3c')](_0x41a8c0=>_0x1a222b(_0x41a8c0,_0x37a25f[_0x51e7('0x50')],_0x222fc1[_0x51e7('0x54')],_0x222fc1[_0x51e7('0x55')])))['then'](()=>{const _0x33cb26=_0x3f90e4[_0x51e7('0x4a')][_0x51e7('0x53')][_0x51e7('0x56')](_0x386fd3=>_0x386fd3[_0x51e7('0x57')])['length']>0x0;if(_0x33cb26){_0x748ca(_0x51e7('0x58'));_0x37a25f[_0x51e7('0x50')][_0x51e7('0x59')]();}const _0x1d8352=_0x3f90e4['data'][_0x51e7('0x53')][_0x51e7('0x56')](_0x6937a4=>_0x6937a4['expandUtterancesToConvos'])[_0x51e7('0x3b')]>0x0;if(_0x1d8352){const _0x4a1494=_0xd8e2df[_0x51e7('0x5a')](_0x3f90e4[_0x51e7('0x4a')]['testSets'][_0x51e7('0x56')](_0xa29204=>_0xa29204[_0x51e7('0x5b')]&&_0xa29204[_0x51e7('0x5c')])[_0x51e7('0x3c')](_0x376aeb=>_0x376aeb[_0x51e7('0x5c')]));if(_0x4a1494&&_0x4a1494[_0x51e7('0x3b')]>0x1){throw new Error('expanding\x20utterances\x20to\x20convos\x20not\x20possible,\x20found\x20multiple\x20INCOMPREHENSION\x20utterances:\x20'+_0x88af16[_0x51e7('0x5d')](_0x4a1494)+'\x20...');}_0x748ca('expanding\x20utterances\x20to\x20convos\x20...');if(_0x4a1494&&_0x4a1494['length']>0x0){_0x37a25f[_0x51e7('0x50')][_0x51e7('0x3f')][_0x132de0[_0x51e7('0x5e')]]=_0x4a1494[0x0];}_0x37a25f[_0x51e7('0x50')][_0x51e7('0x5f')]();_0x37a25f[_0x51e7('0x50')][_0x51e7('0x59')]();}_0x748ca(_0x51e7('0x60')+_0x37a25f[_0x51e7('0x50')]['convos'][_0x51e7('0x3b')]+_0x51e7('0x61'));return _0x37a25f[_0x51e7('0x50')][_0x51e7('0x25')];});_0x5bd6b9[_0x51e7('0x52')](_0x2a260c=>{_0x4c6495(_0x2a260c['reduce']((_0x28d3ce,_0x52fc23)=>_0x28d3ce[_0x51e7('0x62')](_0x52fc23),[]));})[_0x51e7('0x63')](_0x228dc7);});})[_0x51e7('0x52')](()=>{_0x37a25f['compiler'][_0x51e7('0x59')]();const _0x163bd0=_0x3f90e4[_0x51e7('0x4a')][_0x51e7('0x64')]||0x1;const _0x186760=_0x3f90e4[_0x51e7('0x4a')][_0x51e7('0x65')]||0x1;const _0x15fbfa=Math[_0x51e7('0x66')](_0x37a25f[_0x51e7('0x50')]['convos']['length']/_0x186760);const _0x32758e=_0x15fbfa*(_0x163bd0-0x1);const _0x1bb6f1=Math[_0x51e7('0x67')](_0x32758e+_0x15fbfa,_0x37a25f[_0x51e7('0x50')][_0x51e7('0x25')][_0x51e7('0x3b')])-0x1;_0x748ca('batchNum:\x20'+_0x163bd0+_0x51e7('0x68')+_0x186760+_0x51e7('0x69')+_0x15fbfa+_0x51e7('0x6a')+_0x32758e+_0x51e7('0x6b')+_0x1bb6f1);_0x3f90e4['progress'](0x0,_0x15fbfa,{'log':_0x3f90e4[_0x51e7('0x4a')][_0x51e7('0x4b')]+_0x51e7('0x6c')+_0x163bd0+_0x51e7('0x68')+_0x186760+_0x51e7('0x69')+_0x15fbfa+_0x51e7('0x6a')+_0x32758e+_0x51e7('0x6b')+_0x1bb6f1});for(let _0x53f564=_0x32758e;_0x53f564<=_0x1bb6f1;_0x53f564++){const _0xd04945=_0x53f564;const _0x3a0f43=_0x37a25f['compiler'][_0x51e7('0x25')][_0xd04945];let _0x154d9e=null;const _0x9dcc13=[];const _0x274f58=(_0x31cbc4,_0x384d4a)=>{if(_0x384d4a['attachments'])_0x9dcc13[_0x51e7('0x49')](..._0x384d4a[_0x51e7('0x6d')]);};const _0x132610=(_0x4998f0,_0x304178)=>{if(_0x304178['attachments'])_0x9dcc13['push'](..._0x304178['attachments']);};const _0xd7524b=(_0x1e8395,_0x19cc3b)=>{_0x9dcc13[_0x51e7('0x49')](_0x19cc3b);};const _0x29f31a=(_0x350641,_0x1aee09)=>{if(_0x1aee09)_0x3a0f43[_0x51e7('0x2c')]=Object['assign']({},_0x3a0f43[_0x51e7('0x2c')],_0x1aee09);};const _0x54ace8=()=>{_0x222fc1[_0x51e7('0x6e')][_0x51e7('0x6f')]('MESSAGE_SENTTOBOT',_0x274f58);_0x222fc1[_0x51e7('0x6e')][_0x51e7('0x6f')](_0x51e7('0x70'),_0x132610);_0x222fc1['eventEmitter'][_0x51e7('0x6f')]('MESSAGE_ATTACHMENT',_0xd7524b);_0x222fc1[_0x51e7('0x6e')][_0x51e7('0x6f')](_0x51e7('0x71'),_0x29f31a);};const _0x2f8b55=()=>{_0x222fc1['on'](_0x51e7('0x72'),_0x274f58);_0x222fc1['on'](_0x51e7('0x70'),_0x132610);_0x222fc1['on']('MESSAGE_ATTACHMENT',_0xd7524b);_0x222fc1['on']('CONTAINER_STARTED',_0x29f31a);};let _0x36e267=null;_0x37a25f[_0x51e7('0x73')](_0x2f8b55)[_0x51e7('0x74')]();_0x37a25f[_0x51e7('0x73')](()=>{return new Promise(_0x4c6495=>{if(_0x103f06){_0x748ca(_0x51e7('0x75')+_0x3a0f43[_0x51e7('0x76')][_0x51e7('0x2e')]+_0x51e7('0x77')+_0xd04945+',\x20'+(_0xd04945-_0x32758e)+_0x51e7('0x78')+_0x15fbfa);_0x4c6495();}else{_0x748ca(_0x51e7('0x79')+_0x3a0f43[_0x51e7('0x76')]['name']+'\x22,\x20Index\x20'+_0xd04945+',\x20'+(_0xd04945-_0x32758e)+_0x51e7('0x78')+_0x15fbfa);return _0x3a0f43[_0x51e7('0x7a')](_0x37a25f[_0x51e7('0x7b')])['then'](_0x4b6816=>{_0x748ca('Running\x20Convo\x20\x22'+_0x3a0f43[_0x51e7('0x76')][_0x51e7('0x2e')]+_0x51e7('0x7c'));_0x154d9e=_0x4b6816;_0x4c6495();})[_0x51e7('0x63')](_0x581ae3=>{_0x748ca('Running\x20Convo\x20\x22'+_0x3a0f43[_0x51e7('0x76')][_0x51e7('0x2e')]+'\x22\x20failed:\x20'+_0x581ae3+'.');_0x154d9e=_0x581ae3['transcript'];_0x36e267=_0x581ae3;_0x4c6495();});}});});_0x37a25f['Stop']()['Call'](_0x54ace8);_0x37a25f[_0x51e7('0x73')](()=>{if(_0x103f06)return;if(_0x154d9e){_0x154d9e[_0x51e7('0x7d')]=_0x154d9e['err']?_0x154d9e['err'][_0x51e7('0x7e')]?_0x154d9e[_0x51e7('0x7d')][_0x51e7('0x7e')]:JSON[_0x51e7('0x32')](_0x154d9e[_0x51e7('0x7d')]):null;_0x154d9e[_0x51e7('0x7f')]&&_0x154d9e[_0x51e7('0x7f')][_0x51e7('0x2d')](_0x5c5c07=>{_0x5c5c07[_0x51e7('0x7d')]=_0x5c5c07[_0x51e7('0x7d')]?_0x5c5c07[_0x51e7('0x7d')][_0x51e7('0x7e')]?_0x5c5c07[_0x51e7('0x7d')][_0x51e7('0x7e')]:JSON[_0x51e7('0x32')](_0x5c5c07[_0x51e7('0x7d')]):null;});}_0x3f90e4[_0x51e7('0x47')](_0xd04945-_0x32758e+0x1,_0x15fbfa,{'type':_0x51e7('0x80'),'testcase':_0x3a0f43[_0x51e7('0x76')][_0x51e7('0x2e')],'source':_0x3a0f43[_0x51e7('0x81')](),'sourceTag':_0x3a0f43[_0x51e7('0x2c')],'transcript':_0x154d9e,'attachments':_0x9dcc13,'success':_0x36e267===null,'err':_0x36e267?_0x36e267['message']?_0x36e267['message']:JSON[_0x51e7('0x32')](_0x36e267):null});});}_0x37a25f['Clean']();_0x37a25f[_0x51e7('0x73')](()=>_0x2cde7b());_0x37a25f['Call'](()=>{if(_0x103f06){throw new Error(_0x51e7('0x82'));}});_0x37a25f['Exec']()['then'](_0x4c6495)[_0x51e7('0x63')](_0x228dc7);})[_0x51e7('0x63')](_0x228dc7);});};var _0x25ba34={'run':_0x75dc65,'cancel':_0x5eaecc};_0x154d26['config']();_0x32d7b1['printVersion']();const _0x63629a=_0x42b8b2(_0x51e7('0x83'));const _0x56e200=()=>{if(process[_0x51e7('0x84')][_0x51e7('0x85')]){return process[_0x51e7('0x84')]['BOTIUMBOX_AGENT_NAME'];}const _0x54b0d7=_0x22b993['hostname']();if(_0x54b0d7&&process[_0x51e7('0x84')][_0x51e7('0x18')](_0x51e7('0x86'))){return _0x54b0d7+'_'+process['env'][_0x51e7('0x86')];}else if(_0x54b0d7){return _0x54b0d7;}else{return _0x51e7('0x87');}};const _0x4a7fc2=_0x56e200();const _0x56a575=process['env'][_0x51e7('0x88')]||'Default\x20Group';_0x63629a('Connecting\x20agent\x20'+_0x4a7fc2+_0x51e7('0x89')+_0x56a575+_0x51e7('0x8a'));let _0x279b09={};if(process[_0x51e7('0x84')][_0x51e7('0x8b')]){try{_0x279b09=JSON[_0x51e7('0x8c')](process[_0x51e7('0x84')][_0x51e7('0x8b')]);_0x63629a('Got\x20queue\x20settings\x20\x27'+JSON[_0x51e7('0x32')](_0x279b09)+'\x27');}catch(_0x42f498){console[_0x51e7('0x1d')](_0x51e7('0x8d')+process[_0x51e7('0x84')]['BOTIUMBOX_QUEUE_SETTINGS']+'\x27:');console[_0x51e7('0x1d')](_0x42f498);process['exit'](0x1);}}else{if(process['env']['BOTIUMBOX_QUEUE_PREFIX']){_0x279b09[_0x51e7('0x8e')]=process[_0x51e7('0x84')][_0x51e7('0x8f')];}if(process['env'][_0x51e7('0x90')]){_0x279b09[_0x51e7('0x91')]=process[_0x51e7('0x84')][_0x51e7('0x90')];}}_0x63629a('connecting\x20to\x20Botium\x20queue\x20\x27'+JSON['stringify'](_0x279b09)+'\x27');const _0x1048cb=process[_0x51e7('0x84')]['BOTIUMBOX_QUEUE_CONCURRENCY']||0x1;let _0x478951=process[_0x51e7('0x84')][_0x51e7('0x92')]||0x493e0;if(_0x478951>0x0&&_0x478951<0x1388)_0x478951=0x1388;const _0x56f926=_0xc47e80[_0x51e7('0x93')](_0x279b09);_0x56f926['on'](_0x51e7('0x94'),_0x5a8589=>{console[_0x51e7('0x1d')]('ERROR\x20connecting\x20to\x20queue\x20\x27'+JSON[_0x51e7('0x32')](_0x279b09)+'\x27:');console[_0x51e7('0x1d')](_0x5a8589);process[_0x51e7('0x95')](0x1);});_0x63629a(_0x51e7('0x96'));_0x56f926['create'](_0x51e7('0x97'),{'title':_0x51e7('0x98')+_0x4a7fc2+_0x51e7('0x89')+_0x56a575,'name':_0x4a7fc2,'group':_0x56a575})[_0x51e7('0x99')](_0x51e7('0x9a'))[_0x51e7('0x9b')](0x5)[_0x51e7('0x9c')](0x2710)[_0x51e7('0x9d')](!![])[_0x51e7('0x9e')]()['on']('failed',_0x34a1f1=>{console[_0x51e7('0x1d')](_0x51e7('0x9f'));console[_0x51e7('0x1d')](_0x34a1f1);process[_0x51e7('0x95')](0x1);})['on'](_0x51e7('0xa0'),_0x2e3a0a=>{_0x63629a('Registration\x20completed\x20with\x20result\x20\x27'+JSON[_0x51e7('0x32')](_0x2e3a0a)+_0x51e7('0xa1')+_0x1048cb+').');let _0x420699=_0x2e3a0a;const _0xf6c35=(_0x1ed895,_0x19dd5e)=>{_0x63629a(_0x51e7('0xa2')+_0x1ed895['id']);try{_0x25ba34[_0x51e7('0xa3')](_0x420699,_0x1ed895)[_0x51e7('0x52')](_0x2e3a0a=>{_0x63629a(_0x51e7('0xa2')+_0x1ed895['id']+'\x20finished\x20with\x20result:');_0x63629a(_0x2e3a0a);_0x19dd5e(null,_0x2e3a0a);})[_0x51e7('0x63')](_0x39089e=>{_0x63629a('Processing\x20Job\x20'+_0x1ed895['id']+'\x20failed:');_0x63629a(_0x39089e);_0x19dd5e(_0x39089e);});}catch(_0x2707b6){_0x63629a(_0x51e7('0xa2')+_0x1ed895['id']+_0x51e7('0xa4'));_0x63629a(_0x2707b6);_0x19dd5e(_0x2707b6);}};const _0x751cc0=(_0x376228,_0xf9830b)=>{if(!_0x376228[_0x51e7('0x4a')]||!_0x376228[_0x51e7('0x4a')][_0x51e7('0xa5')]){return[_0x63629a,_0xf9830b][_0x51e7('0x2d')](_0x302048=>_0x302048('Cancel\x20Test\x20Session\x20event\x20received,\x20but\x20no\x20testSessionId\x20given'));}_0x63629a('Canceling\x20Test\x20Session\x20Job\x20'+(_0x376228['data']&&_0x376228[_0x51e7('0x4a')][_0x51e7('0xa5')]));try{_0x25ba34[_0x51e7('0xa6')](_0x376228['data'][_0x51e7('0xa5')],_0x376228);_0x63629a(_0x51e7('0xa7')+_0x376228[_0x51e7('0x4a')][_0x51e7('0xa5')]+_0x51e7('0xa8'));_0xf9830b();}catch(_0x46d7a2){_0x63629a('Canceling\x20Test\x20Session\x20Job\x20'+_0x376228[_0x51e7('0x4a')][_0x51e7('0xa5')]+_0x51e7('0xa4'));_0x63629a(_0x46d7a2);_0xf9830b(_0x46d7a2);}};const _0x3ba101=(_0x28a4a3,_0x12fa5b)=>{_0x63629a('Trying\x20to\x20reconfigure\x20agent\x20...');_0x56f926[_0x51e7('0xa9')](_0x51e7('0x97'),{'title':'reconfigure\x20agent\x20'+_0x4a7fc2+_0x51e7('0xaa')+_0x56a575,'name':_0x4a7fc2,'group':_0x56a575})[_0x51e7('0x99')](_0x51e7('0x9a'))['attempts'](0x5)[_0x51e7('0x9c')](0x2710)[_0x51e7('0x9d')](!![])[_0x51e7('0x9e')]()['on'](_0x51e7('0xab'),_0x3d1d46=>{console['log']('ERROR\x20reconfiguring\x20agent:');console['log'](_0x3d1d46);})['on'](_0x51e7('0xa0'),_0x2e3a0a=>{_0x63629a(_0x51e7('0xac')+JSON['stringify'](_0x2e3a0a)+'\x27.');_0x420699=_0x2e3a0a;});};_0x56f926[_0x51e7('0x80')]('process.'+_0x56a575,_0x1048cb,_0xf6c35);_0x56f926[_0x51e7('0x80')](_0x51e7('0xad')+_0x4a7fc2,_0x1048cb,_0xf6c35);_0x56f926[_0x51e7('0x80')](_0x51e7('0x80'),_0x1048cb,_0xf6c35);_0x56f926[_0x51e7('0x80')](_0x51e7('0xa6'),_0x1048cb,_0x751cc0);_0x56f926[_0x51e7('0x80')](_0x51e7('0xae')+_0x4a7fc2,_0x1048cb,_0x3ba101);if(_0x478951>0x0){const _0x3616c6=()=>{_0x63629a(_0x51e7('0xaf'));const _0x3aeedb=_0x56f926[_0x51e7('0xa9')](_0x51e7('0xb0'),{'title':_0x51e7('0xb1')+_0x4a7fc2+'\x20for\x20group\x20'+_0x56a575,'name':_0x4a7fc2,'group':_0x56a575})[_0x51e7('0x9d')](!![])[_0x51e7('0x9e')]();_0x3aeedb['on'](_0x51e7('0xa0'),()=>{setTimeout(_0x3616c6,_0x478951);});};_0x3616c6();}});process['on'](_0x51e7('0xb2'),_0xb73a5b=>{console['log']('Got\x20an\x20uncaughtException',_0xb73a5b);});var _0x33b695={};return _0x33b695;}));