var _0x3a15=['toString','complete',',\x20decr\x20redis\x20counter','Clean','Exec','Test\x20Session\x20Run\x20failed\x20(','),\x20doing\x20additional\x20BotDriver\x20Clean.','result','printVersion','botium-box-worker','env','BOTIUMBOX_AGENT_NAME','BOTIUMBOX_AGENT_NUM','Default\x20Agent','BOTIUMBOX_AGENT_GROUP','Connecting\x20agent\x20','BOTIUMBOX_QUEUE_SETTINGS','Got\x20queue\x20settings\x20\x27','ERROR\x20parsing\x20queue\x20settings\x20\x27','exit','BOTIUMBOX_QUEUE_PREFIX','prefix','redis','BOTIUMBOX_QUEUE_REDISURL','connecting\x20to\x20Botium\x20queue\x20\x27','BOTIUMBOX_QUEUE_CONCURRENCY','createQueue','ERROR\x20connecting\x20to\x20queue\x20\x27','removeOnComplete','save','create','attempts','BOTIUMBOX_QUEUE_PROGRESS_RETRY_ATTEMPTS','backoff','BOTIUMBOX_QUEUE_PROGRESS_RETRY_DELAY','fixed','Trying\x20to\x20register\x20agent\x20...','agent.register','register\x20agent\x20','\x20to\x20group\x20','failed','ERROR\x20registering\x20agent:','Registration\x20completed\x20with\x20result\x20\x27','\x27,\x20now\x20accepting\x20processing\x20jobs\x20(concurrency\x20','data','Processing\x20Job\x20','\x20for\x20Test\x20Session\x20','\x20ready','\x20failed:','\x20failed','process.ready.failed','Cancel\x20Test\x20Session\x20event\x20received,\x20but\x20no\x20testSessionId\x20given','testSessionId','testSessionName','cancel','Canceling\x20Test\x20Session\x20','\x20finished.','Canceling\x20Test\x20Session\x20Job\x20','Trying\x20to\x20reconfigure\x20agent\x20...','reconfigure\x20agent\x20','ERROR\x20reconfiguring\x20agent:','Reconfiguration\x20completed\x20with\x20result\x20\x27','process','process.run.','process.run','process.cancel.','agent.reconfigure.','\x20for\x20group\x20','uncaughtException','undefined','exports','path','botium-core/src/Source','botium-core/src/repos/GitRepo','lodash','botium-core','debug','dotenv-flow','kue','slugify','botium-core/src/scripting/Constants','botium-core/src/Capabilities','main','Constants','Source','GitRepo','Capabilities','interceptStdout','botiumCore','dotenvFlow','hasOwnProperty','default','COMMUNITY\x20EDITION','22aa78a8148df7ee6075a154bb490f41ba65eff8','2019-03-07T14:27:56+01:00','log','BUILD_TARGET:\x20','buildTarget','BUILD_BRANCH:\x20','buildRevision','BUILD_TIMESTAMP:\x20','botium-retrieve-all-test-cases','convos','forEach','Compile','content','SCRIPTING_FORMAT_TXT','sourceTag','name','inspect','pconvos','format','SCRIPTING_TYPE_PCONVO','utterances','SCRIPTING_TYPE_UTTERANCES',':\x20Utterance\x20script\x20compilation\x20failed:\x20','folders','ReadScriptsFromDirectory','assign',':\x20Folder\x20','\x20script\x20compilation\x20failed:\x20','resolve','all','excels','from','caps','SCRIPTING_XLSX_SHEETNAMES','SCRIPTING_XLSX_STARTROW','SCRIPTING_FORMAT_XSLX','SCRIPTING_TYPE_CONVO','SCRIPTING_XLSX_SHEETNAMES_PCONVOS','BotDriver','botium-box-worker-runtestcases','replace','process.log','unhook','Started\x20processing,\x20JobId\x20#','botium','Sources','Envs','BuildFluent','compiler','BuildCompiler','then','testSets','map','sources','length','expanding\x20convos\x20...','ExpandConvos','filter','expandUtterancesToConvos','uniq','expandUtterancesIncomprehension','\x20...','expanding\x20utterances\x20to\x20convos\x20...','SCRIPTING_UTTEXPANSION_INCOMPREHENSION','ExpandUtterancesToConvos','found\x20','\x20convos\x20...','reduce','concat','catch','batchNum','batchCount','ceil','min','batchNum:\x20','\x20batchCount:\x20','\x20convosPerBatch:\x20','\x20batchEnd:\x20','\x20batchLength:\x20','attachments','push','eventEmitter','MESSAGE_SENTTOBOT','removeListener','MESSAGE_RECEIVEDFROMBOT','MESSAGE_ATTACHMENT','CONTAINER_STARTED','Call','Test\x20Session\x20cancelled,\x20skipping\x20Convo\x20\x22','header','\x20from\x20','Running\x20Convo\x20\x22','\x22,\x20Index\x20','Run','\x22\x20completed\x20successfully.','\x22\x20failed:\x20','transcript','Stop','Test\x20Session\x20cancelled','err','message','stringify','steps','failedCount','round'];(function(_0x5eb876,_0x1b1739){var _0x5704d8=function(_0x13be1e){while(--_0x13be1e){_0x5eb876['push'](_0x5eb876['shift']());}};var _0x2bbdb9=function(){var _0x19a8e4={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x248217,_0x3b808a,_0x40c63b,_0x1445c2){_0x1445c2=_0x1445c2||{};var _0xfa5228=_0x3b808a+'='+_0x40c63b;var _0x105615=0x0;for(var _0x105615=0x0,_0x10a25c=_0x248217['length'];_0x105615<_0x10a25c;_0x105615++){var _0x4d169e=_0x248217[_0x105615];_0xfa5228+=';\x20'+_0x4d169e;var _0x3da08a=_0x248217[_0x4d169e];_0x248217['push'](_0x3da08a);_0x10a25c=_0x248217['length'];if(_0x3da08a!==!![]){_0xfa5228+='='+_0x3da08a;}}_0x1445c2['cookie']=_0xfa5228;},'removeCookie':function(){return'dev';},'getCookie':function(_0x51b8d0,_0x5eb101){_0x51b8d0=_0x51b8d0||function(_0x2e43f8){return _0x2e43f8;};var _0x3c3ef5=_0x51b8d0(new RegExp('(?:^|;\x20)'+_0x5eb101['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x2275d6=function(_0x15fd6a,_0x587dce){_0x15fd6a(++_0x587dce);};_0x2275d6(_0x5704d8,_0x1b1739);return _0x3c3ef5?decodeURIComponent(_0x3c3ef5[0x1]):undefined;}};var _0x5980ed=function(){var _0xae8ff=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0xae8ff['test'](_0x19a8e4['removeCookie']['toString']());};_0x19a8e4['updateCookie']=_0x5980ed;var _0x57e70='';var _0x421877=_0x19a8e4['updateCookie']();if(!_0x421877){_0x19a8e4['setCookie'](['*'],'counter',0x1);}else if(_0x421877){_0x57e70=_0x19a8e4['getCookie'](null,'counter');}else{_0x19a8e4['removeCookie']();}};_0x2bbdb9();}(_0x3a15,0x10b));var _0x56da=function(_0x2e4e91,_0xa9e967){_0x2e4e91=_0x2e4e91-0x0;var _0x36293c=_0x3a15[_0x2e4e91];return _0x36293c;};(function(_0xf375a3,_0x2f5f20){var _0x33e685=function(){var _0x457595=!![];return function(_0x4b1448,_0xa1424a){var _0x5b015d=_0x457595?function(){if(_0xa1424a){var _0x106170=_0xa1424a['apply'](_0x4b1448,arguments);_0xa1424a=null;return _0x106170;}}:function(){};_0x457595=![];return _0x5b015d;};}();var _0x8e4526=_0x33e685(this,function(){var _0x57e485=function(){return'\x64\x65\x76';},_0x35a838=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x57416b=function(){var _0x433996=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x433996['\x74\x65\x73\x74'](_0x57e485['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x2d92c9=function(){var _0x4f4019=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x4f4019['\x74\x65\x73\x74'](_0x35a838['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x35bcb7=function(_0x348ab2){var _0x102ee7=~-0x1>>0x1+0xff%0x0;if(_0x348ab2['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x102ee7)){_0xad0230(_0x348ab2);}};var _0xad0230=function(_0x143ec5){var _0x3e32b4=~-0x4>>0x1+0xff%0x0;if(_0x143ec5['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x3e32b4){_0x35bcb7(_0x143ec5);}};if(!_0x57416b()){if(!_0x2d92c9()){_0x35bcb7('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x35bcb7('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x35bcb7('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x8e4526();typeof exports==='object'&&typeof module!==_0x56da('0x0')?module[_0x56da('0x1')]=_0x2f5f20(require('util'),require(_0x56da('0x2')),require('slugify'),require('botium-core/src/scripting/Constants'),require(_0x56da('0x3')),require(_0x56da('0x4')),require('botium-core/src/Capabilities'),require('intercept-stdout'),require(_0x56da('0x5')),require(_0x56da('0x6')),require(_0x56da('0x7')),require(_0x56da('0x8')),require('os'),require(_0x56da('0x9'))):typeof define==='function'&&define['amd']?define(['util',_0x56da('0x2'),_0x56da('0xa'),_0x56da('0xb'),_0x56da('0x3'),_0x56da('0x4'),_0x56da('0xc'),'intercept-stdout',_0x56da('0x5'),_0x56da('0x6'),_0x56da('0x7'),'dotenv-flow','os','kue'],_0x2f5f20):_0xf375a3[_0x56da('0xd')]=_0x2f5f20(_0xf375a3['util'],_0xf375a3[_0x56da('0x2')],_0xf375a3[_0x56da('0xa')],_0xf375a3[_0x56da('0xe')],_0xf375a3[_0x56da('0xf')],_0xf375a3[_0x56da('0x10')],_0xf375a3[_0x56da('0x11')],_0xf375a3[_0x56da('0x12')],_0xf375a3[_0x56da('0x5')],_0xf375a3[_0x56da('0x13')],_0xf375a3['debug'],_0xf375a3[_0x56da('0x14')],_0xf375a3['os'],_0xf375a3[_0x56da('0x9')]);}(this,function(_0xcf1eaa,_0x574400,_0x3e0365,_0x5cae01,_0x16990a,_0x37377e,_0x5d2de1,_0x5283e6,_0x2d9c1d,_0x1d536a,_0x21068a,_0x5158ad,_0x44d33e,_0x312587){'use strict';_0xcf1eaa=_0xcf1eaa&&_0xcf1eaa[_0x56da('0x15')](_0x56da('0x16'))?_0xcf1eaa[_0x56da('0x16')]:_0xcf1eaa;_0x574400=_0x574400&&_0x574400[_0x56da('0x15')](_0x56da('0x16'))?_0x574400[_0x56da('0x16')]:_0x574400;_0x3e0365=_0x3e0365&&_0x3e0365[_0x56da('0x15')](_0x56da('0x16'))?_0x3e0365[_0x56da('0x16')]:_0x3e0365;_0x5cae01=_0x5cae01&&_0x5cae01[_0x56da('0x15')](_0x56da('0x16'))?_0x5cae01[_0x56da('0x16')]:_0x5cae01;_0x16990a=_0x16990a&&_0x16990a[_0x56da('0x15')](_0x56da('0x16'))?_0x16990a['default']:_0x16990a;_0x37377e=_0x37377e&&_0x37377e[_0x56da('0x15')](_0x56da('0x16'))?_0x37377e[_0x56da('0x16')]:_0x37377e;_0x5d2de1=_0x5d2de1&&_0x5d2de1[_0x56da('0x15')]('default')?_0x5d2de1['default']:_0x5d2de1;_0x5283e6=_0x5283e6&&_0x5283e6[_0x56da('0x15')](_0x56da('0x16'))?_0x5283e6['default']:_0x5283e6;_0x2d9c1d=_0x2d9c1d&&_0x2d9c1d[_0x56da('0x15')](_0x56da('0x16'))?_0x2d9c1d[_0x56da('0x16')]:_0x2d9c1d;_0x1d536a=_0x1d536a&&_0x1d536a[_0x56da('0x15')](_0x56da('0x16'))?_0x1d536a[_0x56da('0x16')]:_0x1d536a;_0x21068a=_0x21068a&&_0x21068a[_0x56da('0x15')](_0x56da('0x16'))?_0x21068a[_0x56da('0x16')]:_0x21068a;_0x5158ad=_0x5158ad&&_0x5158ad[_0x56da('0x15')](_0x56da('0x16'))?_0x5158ad[_0x56da('0x16')]:_0x5158ad;_0x44d33e=_0x44d33e&&_0x44d33e['hasOwnProperty']('default')?_0x44d33e[_0x56da('0x16')]:_0x44d33e;_0x312587=_0x312587&&_0x312587[_0x56da('0x15')](_0x56da('0x16'))?_0x312587[_0x56da('0x16')]:_0x312587;const _0xe0541b={'buildTarget':_0x56da('0x17'),'buildBranch':'release/1.3.0','buildRevision':_0x56da('0x18'),'buildDate':_0x56da('0x19')};const _0x32d9c5=()=>{console[_0x56da('0x1a')]('BOTIUM\x20BOX\x20-\x20AGENT');console[_0x56da('0x1a')](_0x56da('0x1b')+_0xe0541b[_0x56da('0x1c')]);console['log'](_0x56da('0x1d')+_0xe0541b['buildBranch']);console[_0x56da('0x1a')]('BUILD_REVISION:\x20'+_0xe0541b[_0x56da('0x1e')]);console[_0x56da('0x1a')](_0x56da('0x1f')+_0xe0541b['buildDate']);};var _0x5041dd={'buildInfo':_0xe0541b,'printVersion':_0x32d9c5};const _0x357f36=_0x21068a(_0x56da('0x20'));var _0x344dfc=(_0x5508d0,_0x2839d2,_0x2db5b3,_0x23d497)=>{_0x5508d0[_0x56da('0x21')]&&_0x5508d0[_0x56da('0x21')][_0x56da('0x22')](_0x6e67ac=>{let _0x549c12=[];try{if(_0x6e67ac['format']===_0x5cae01['SCRIPTING_FORMAT_TXT']){_0x549c12=_0x2839d2[_0x56da('0x23')](_0x6e67ac[_0x56da('0x24')],_0x5cae01[_0x56da('0x25')],_0x5cae01['SCRIPTING_TYPE_CONVO']);}if(_0x549c12)_0x549c12[_0x56da('0x22')](_0x52acb6=>{_0x52acb6['sourceTag']=_0x6e67ac[_0x56da('0x26')];});}catch(_0xadda9f){_0x357f36(_0xadda9f);throw new Error(_0x5508d0[_0x56da('0x27')]+':\x20Convo\x20Script\x20compilation\x20failed:\x20'+_0xcf1eaa[_0x56da('0x28')](_0xadda9f));}});_0x5508d0[_0x56da('0x29')]&&_0x5508d0[_0x56da('0x29')]['forEach'](_0x322ca8=>{let _0x5e299f=[];try{if(_0x322ca8[_0x56da('0x2a')]===_0x5cae01[_0x56da('0x25')]){_0x5e299f=_0x2839d2[_0x56da('0x23')](_0x322ca8[_0x56da('0x24')],_0x5cae01[_0x56da('0x25')],_0x5cae01[_0x56da('0x2b')]);}if(_0x5e299f)_0x5e299f[_0x56da('0x22')](_0x3eed9=>{_0x3eed9[_0x56da('0x26')]=_0x322ca8[_0x56da('0x26')];});}catch(_0x4a2021){_0x357f36(_0x4a2021);throw new Error(_0x5508d0['name']+':\x20Partial\x20Convo\x20Script\x20compilation\x20failed:\x20'+_0xcf1eaa[_0x56da('0x28')](_0x4a2021));}});_0x5508d0[_0x56da('0x2c')]&&_0x5508d0['utterances'][_0x56da('0x22')](_0x5481df=>{let _0x49bc28=[];try{if(_0x5481df[_0x56da('0x2a')]===_0x5cae01[_0x56da('0x25')]){_0x49bc28=_0x2839d2[_0x56da('0x23')](_0x5481df[_0x56da('0x24')],_0x5cae01[_0x56da('0x25')],_0x5cae01[_0x56da('0x2d')]);}if(_0x49bc28)_0x49bc28[_0x56da('0x22')](_0x60b285=>{_0x60b285[_0x56da('0x26')]=_0x5481df[_0x56da('0x26')];});}catch(_0x231cc1){_0x357f36(_0x231cc1);throw new Error(_0x5508d0[_0x56da('0x27')]+_0x56da('0x2e')+_0xcf1eaa[_0x56da('0x28')](_0x231cc1));}});_0x5508d0[_0x56da('0x2f')]&&_0x5508d0[_0x56da('0x2f')][_0x56da('0x22')](_0x33c0ee=>{try{const {convos,pconvos,utterances}=_0x2839d2[_0x56da('0x30')](_0x33c0ee[_0x56da('0x2')],_0x33c0ee['globFilter']);convos&&convos[_0x56da('0x22')](_0x426500=>{_0x426500[_0x56da('0x26')]=Object[_0x56da('0x31')]({},_0x426500['sourceTag'],_0x33c0ee['sourceTag']);});pconvos&&pconvos[_0x56da('0x22')](_0x4206a8=>{_0x4206a8[_0x56da('0x26')]=Object[_0x56da('0x31')]({},_0x4206a8['sourceTag'],_0x33c0ee[_0x56da('0x26')]);});utterances&&utterances['forEach'](_0x3030e1=>{_0x3030e1[_0x56da('0x26')]=Object['assign']({},_0x3030e1[_0x56da('0x26')],_0x33c0ee['sourceTag']);});}catch(_0x5f49bd){_0x357f36(_0x5f49bd);throw new Error(_0x5508d0[_0x56da('0x27')]+_0x56da('0x32')+_0x33c0ee+_0x56da('0x33')+_0xcf1eaa[_0x56da('0x28')](_0x5f49bd));}});let _0x5ad1a8=Promise[_0x56da('0x34')]();if(_0x5508d0['excels']&&_0x5508d0['excels']['length']>0x0){_0x5ad1a8=Promise[_0x56da('0x35')](_0x5508d0[_0x56da('0x36')]['map'](({id,filename,filecontent,hasConvos,hasPartialConvos,hasUtterances,worksheetsConvos,worksheetsPartialConvos,worksheetsUtterances,startRow,startCol,sourceTag})=>{return new Promise(_0x499d02=>{const _0x29c43a=Buffer[_0x56da('0x37')](filecontent,'base64');let _0x1a8a4a=[];let _0x5d1030=[];let _0xaf84ea=[];if(hasConvos){if(worksheetsConvos)_0x2839d2[_0x56da('0x38')][_0x5d2de1[_0x56da('0x39')]]=worksheetsConvos;if(!isNaN(startRow))_0x2839d2['caps'][_0x5d2de1[_0x56da('0x3a')]]=startRow;if(!isNaN(startCol))_0x2839d2[_0x56da('0x38')][_0x5d2de1['SCRIPTING_XLSX_STARTCOL']]=startCol;_0x1a8a4a=_0x2839d2[_0x56da('0x23')](_0x29c43a,_0x5cae01[_0x56da('0x3b')],_0x5cae01[_0x56da('0x3c')]);}if(hasPartialConvos){if(worksheetsPartialConvos)_0x2839d2[_0x56da('0x38')][_0x5d2de1[_0x56da('0x3d')]]=worksheetsPartialConvos;if(!isNaN(startRow))_0x2839d2[_0x56da('0x38')][_0x5d2de1[_0x56da('0x3a')]]=startRow;if(!isNaN(startCol))_0x2839d2[_0x56da('0x38')][_0x5d2de1['SCRIPTING_XLSX_STARTCOL']]=startCol;_0x5d1030=_0x2839d2['Compile'](_0x29c43a,_0x5cae01[_0x56da('0x3b')],_0x5cae01[_0x56da('0x2b')]);}if(hasUtterances){if(worksheetsUtterances)_0x2839d2[_0x56da('0x38')][_0x5d2de1['SCRIPTING_XLSX_SHEETNAMES_UTTERANCES']]=worksheetsUtterances;if(!isNaN(startRow))_0x2839d2[_0x56da('0x38')][_0x5d2de1[_0x56da('0x3a')]]=startRow;if(!isNaN(startCol))_0x2839d2[_0x56da('0x38')][_0x5d2de1['SCRIPTING_XLSX_STARTCOL']]=startCol;_0xaf84ea=_0x2839d2[_0x56da('0x23')](_0x29c43a,_0x5cae01[_0x56da('0x3b')],_0x5cae01[_0x56da('0x2d')]);}_0x1a8a4a&&_0x1a8a4a[_0x56da('0x22')](_0x581101=>{_0x581101['sourceTag']=Object['assign']({},_0x581101[_0x56da('0x26')],sourceTag);});_0x5d1030&&_0x5d1030[_0x56da('0x22')](_0x59ccc8=>{_0x59ccc8[_0x56da('0x26')]=Object[_0x56da('0x31')]({},_0x59ccc8[_0x56da('0x26')],sourceTag);});_0xaf84ea&&_0xaf84ea['forEach'](_0x46251e=>{_0x46251e['sourceTag']=Object[_0x56da('0x31')]({},_0x46251e[_0x56da('0x26')],sourceTag);});_0x499d02();});}));}let _0x33d83c=Promise[_0x56da('0x34')]();return Promise[_0x56da('0x35')]([_0x33d83c,_0x5ad1a8]);};const _0x182c1e=_0x1d536a[_0x56da('0x3e')];const _0x4521dd=_0x21068a(_0x56da('0x3f'));const _0x530da8={};const _0x1f7000=(_0x385143,_0x29a990)=>{if(!_0x530da8[_0x385143])_0x530da8[_0x385143]=[];_0x530da8[_0x385143]['push'](_0x29a990);};const _0x2466eb=(_0x559abd,_0x315121)=>{if(_0x530da8[_0x559abd]){_0x530da8[_0x559abd][_0x56da('0x22')](_0x59c76d=>_0x59c76d());delete _0x530da8[_0x559abd];}};const _0x46f720=(_0x44eac6,{id:_0x55caa5,data},_0x4fefec)=>{const {testSessionId,testSessionName,testSessionJobId}=data;let _0x469420=![];_0x1f7000(testSessionId,()=>{_0x469420=!![];});const _0x2d3549={'unhook':null};const _0x1a802b=()=>{_0x2d3549['unhook']=_0x5283e6(_0xbb9087=>{const _0x22962a=_0xbb9087[_0x56da('0x40')](/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,'');_0x4fefec(_0x56da('0x41'),{'testSessionId':testSessionId,'testSessionName':testSessionName,'testSessionJobId':testSessionJobId,'log':_0x22962a});return _0xbb9087;});};const _0x4a2981=()=>{if(_0x2d3549['unhook']){_0x2d3549[_0x56da('0x42')]();_0x2d3549[_0x56da('0x42')]=null;}};return new Promise((_0x13e706,_0x3e38b2)=>{_0x1a802b();_0x4521dd(_0x56da('0x43')+_0x55caa5+'.');const _0x4a4dda={};if(_0x44eac6[_0x56da('0x44')]&&_0x44eac6[_0x56da('0x44')]['Capabilities'])Object['assign'](_0x4a4dda,_0x44eac6['botium'][_0x56da('0x11')]);if(data['botium']&&data['botium'][_0x56da('0x11')])Object['assign'](_0x4a4dda,data['botium'][_0x56da('0x11')]);const _0x505b4f={};if(_0x44eac6[_0x56da('0x44')]&&_0x44eac6[_0x56da('0x44')][_0x56da('0x45')])Object['assign'](_0x505b4f,_0x44eac6['botium'][_0x56da('0x45')]);if(data[_0x56da('0x44')]&&data[_0x56da('0x44')]['Sources'])Object[_0x56da('0x31')](_0x505b4f,data['botium']['Sources']);const _0xf439f4={};if(_0x44eac6[_0x56da('0x44')]&&_0x44eac6[_0x56da('0x44')][_0x56da('0x46')])Object[_0x56da('0x31')](_0xf439f4,_0x44eac6[_0x56da('0x44')][_0x56da('0x46')]);if(data[_0x56da('0x44')]&&data[_0x56da('0x44')][_0x56da('0x46')])Object[_0x56da('0x31')](_0xf439f4,data[_0x56da('0x44')][_0x56da('0x46')]);const _0x1b9e88=new _0x182c1e(_0x4a4dda,_0x505b4f,_0xf439f4);const _0x42cacf=_0x1b9e88[_0x56da('0x47')]();_0x42cacf[_0x56da('0x48')]=_0x1b9e88[_0x56da('0x49')]();_0x1b9e88['_validate']()[_0x56da('0x4a')](()=>new Promise((_0x13e706,_0x3e38b2)=>{const _0x5f10f9=Promise[_0x56da('0x35')](data[_0x56da('0x4b')][_0x56da('0x4c')](_0x4fcf24=>_0x344dfc(_0x4fcf24,_0x42cacf[_0x56da('0x48')],_0x1b9e88['tempDirectory'],_0x1b9e88[_0x56da('0x4d')])))[_0x56da('0x4a')](()=>{const _0x41569d=data[_0x56da('0x4b')]['filter'](_0x100a26=>_0x100a26['expandConvos'])[_0x56da('0x4e')]>0x0;if(_0x41569d){_0x4521dd(_0x56da('0x4f'));_0x42cacf[_0x56da('0x48')][_0x56da('0x50')]();}const _0x1328f0=data[_0x56da('0x4b')][_0x56da('0x51')](_0x346797=>_0x346797[_0x56da('0x52')])[_0x56da('0x4e')]>0x0;if(_0x1328f0){const _0x35fa46=_0x2d9c1d[_0x56da('0x53')](data[_0x56da('0x4b')]['filter'](_0x35186e=>_0x35186e[_0x56da('0x52')]&&_0x35186e[_0x56da('0x54')])['map'](_0x2ff1ec=>_0x2ff1ec[_0x56da('0x54')]));if(_0x35fa46&&_0x35fa46['length']>0x1){throw new Error('expanding\x20utterances\x20to\x20convos\x20not\x20possible,\x20found\x20multiple\x20INCOMPREHENSION\x20utterances:\x20'+_0xcf1eaa[_0x56da('0x28')](_0x35fa46)+_0x56da('0x55'));}_0x4521dd(_0x56da('0x56'));if(_0x35fa46&&_0x35fa46[_0x56da('0x4e')]>0x0){_0x42cacf[_0x56da('0x48')][_0x56da('0x38')][_0x5d2de1[_0x56da('0x57')]]=_0x35fa46[0x0];}_0x42cacf['compiler'][_0x56da('0x58')]();_0x42cacf['compiler'][_0x56da('0x50')]();}_0x4521dd(_0x56da('0x59')+_0x42cacf['compiler'][_0x56da('0x21')]['length']+_0x56da('0x5a'));return _0x42cacf[_0x56da('0x48')][_0x56da('0x21')];});_0x5f10f9['then'](_0x26d57f=>{_0x13e706(_0x26d57f[_0x56da('0x5b')]((_0x37ad76,_0x52a44d)=>_0x37ad76[_0x56da('0x5c')](_0x52a44d),[]));})[_0x56da('0x5d')](_0x3e38b2);}))[_0x56da('0x4a')](()=>{_0x42cacf[_0x56da('0x48')][_0x56da('0x50')]();const _0xd31543=data[_0x56da('0x5e')]||0x1;const _0x108598=data[_0x56da('0x5f')]||0x1;const _0x5b43a9=Math[_0x56da('0x60')](_0x42cacf[_0x56da('0x48')][_0x56da('0x21')]['length']/_0x108598);const _0x266268=_0x5b43a9*(_0xd31543-0x1);const _0x5161c3=Math[_0x56da('0x61')](_0x266268+_0x5b43a9,_0x42cacf[_0x56da('0x48')]['convos'][_0x56da('0x4e')])-0x1;const _0x539447=_0x5161c3-_0x266268+0x1;const _0x465a98={'batchNum':_0xd31543,'totalCount':0x0,'failedCount':0x0,'successCount':0x0};_0x4521dd(_0x56da('0x62')+_0xd31543+_0x56da('0x63')+_0x108598+_0x56da('0x64')+_0x5b43a9+'\x20batchStart:\x20'+_0x266268+_0x56da('0x65')+_0x5161c3+_0x56da('0x66')+_0x539447);for(let _0x9fa989=_0x266268;_0x9fa989<=_0x5161c3;_0x9fa989++){const _0x21398f=_0x9fa989;const _0x255b14=_0x42cacf[_0x56da('0x48')]['convos'][_0x21398f];let _0xf9c79=null;const _0x382d71=[];const _0x552fda=(_0x2800b2,_0x386a2b)=>{if(_0x386a2b[_0x56da('0x67')])_0x382d71[_0x56da('0x68')](..._0x386a2b[_0x56da('0x67')]);};const _0x21667f=(_0x443ddb,_0x5bfc72)=>{if(_0x5bfc72[_0x56da('0x67')])_0x382d71['push'](..._0x5bfc72[_0x56da('0x67')]);};const _0x4a795e=(_0x54f038,_0x3b9017)=>{_0x382d71[_0x56da('0x68')](_0x3b9017);};const _0x137f4c=(_0x1d0a1c,_0x561e95)=>{if(_0x561e95)_0x255b14[_0x56da('0x26')]=Object['assign']({},_0x255b14[_0x56da('0x26')],_0x561e95);};const _0x6d3268=()=>{_0x1b9e88[_0x56da('0x69')]['removeListener'](_0x56da('0x6a'),_0x552fda);_0x1b9e88[_0x56da('0x69')][_0x56da('0x6b')](_0x56da('0x6c'),_0x21667f);_0x1b9e88[_0x56da('0x69')]['removeListener'](_0x56da('0x6d'),_0x4a795e);_0x1b9e88[_0x56da('0x69')][_0x56da('0x6b')]('CONTAINER_STARTED',_0x137f4c);};const _0x58c329=()=>{_0x1b9e88['on']('MESSAGE_SENTTOBOT',_0x552fda);_0x1b9e88['on']('MESSAGE_RECEIVEDFROMBOT',_0x21667f);_0x1b9e88['on'](_0x56da('0x6d'),_0x4a795e);_0x1b9e88['on'](_0x56da('0x6e'),_0x137f4c);};let _0x2caca5=null;_0x42cacf[_0x56da('0x6f')](()=>{if(_0x469420){throw new Error('Test\x20Session\x20cancelled');}});_0x42cacf[_0x56da('0x6f')](_0x58c329)['Start']();_0x42cacf['Call'](()=>new Promise(_0x13e706=>{if(_0x469420){_0x4521dd(_0x56da('0x70')+_0x255b14[_0x56da('0x71')]['name']+'\x22,\x20Index\x20'+_0x21398f+',\x20'+(_0x21398f-_0x266268)+_0x56da('0x72')+_0x5b43a9);_0x13e706();}else{_0x4521dd(_0x56da('0x73')+_0x255b14[_0x56da('0x71')]['name']+_0x56da('0x74')+_0x21398f+',\x20'+(_0x21398f-_0x266268+0x1)+_0x56da('0x72')+_0x539447);return _0x255b14[_0x56da('0x75')](_0x42cacf['container'])[_0x56da('0x4a')](_0x1152ad=>{_0x4521dd(_0x56da('0x73')+_0x255b14[_0x56da('0x71')][_0x56da('0x27')]+_0x56da('0x76'));_0xf9c79=_0x1152ad;_0x13e706();})['catch'](_0x55cfd6=>{_0x4521dd('Running\x20Convo\x20\x22'+_0x255b14[_0x56da('0x71')][_0x56da('0x27')]+_0x56da('0x77')+_0x55cfd6+'.');_0xf9c79=_0x55cfd6[_0x56da('0x78')];_0x2caca5=_0x55cfd6;_0x13e706();});}}));_0x42cacf[_0x56da('0x79')]()[_0x56da('0x6f')](_0x6d3268);_0x42cacf[_0x56da('0x6f')](()=>{if(_0x469420){throw new Error(_0x56da('0x7a'));}});_0x42cacf[_0x56da('0x6f')](()=>new Promise((_0x13e706,_0x3e38b2)=>{if(_0x469420)return _0x13e706();if(_0xf9c79){_0xf9c79['err']=_0xf9c79[_0x56da('0x7b')]?_0xf9c79[_0x56da('0x7b')][_0x56da('0x7c')]?_0xf9c79[_0x56da('0x7b')][_0x56da('0x7c')]:JSON[_0x56da('0x7d')](_0xf9c79[_0x56da('0x7b')]):null;_0xf9c79['steps']&&_0xf9c79[_0x56da('0x7e')][_0x56da('0x22')](_0x4bc103=>{_0x4bc103['err']=_0x4bc103[_0x56da('0x7b')]?_0x4bc103[_0x56da('0x7b')]['message']?_0x4bc103[_0x56da('0x7b')][_0x56da('0x7c')]:JSON[_0x56da('0x7d')](_0x4bc103[_0x56da('0x7b')]):null;});}_0x465a98['totalCount']++;if(_0x2caca5){_0x465a98[_0x56da('0x7f')]++;}else{_0x465a98['successCount']++;}_0x4fefec('process.progress',{'testSessionId':testSessionId,'testSessionName':testSessionName,'testSessionJobId':testSessionJobId,'currentBatchIndex':_0x21398f,'batchNum':_0xd31543,'batchStart':_0x266268,'batchEnd':_0x5161c3,'batchLength':_0x539447,'convosPerBatch':_0x5b43a9,'progress':Math[_0x56da('0x80')]((_0x21398f-_0x266268+0x1)/_0x539447*0x64),'testcase':_0x255b14[_0x56da('0x71')][_0x56da('0x27')],'source':_0x255b14[_0x56da('0x81')](),'sourceTag':_0x255b14[_0x56da('0x26')],'transcript':_0xf9c79,'attachments':_0x382d71,'success':_0x2caca5===null,'err':_0x2caca5?_0x2caca5[_0x56da('0x7c')]?_0x2caca5[_0x56da('0x7c')]:JSON['stringify'](_0x2caca5):null})['on'](_0x56da('0x82'),_0x13e706)['on']('failed',_0xac3ce1=>{_0x3e38b2(new Error('process.progress\x20finally\x20failed\x20after\x20retry\x20attempts:\x20'+_0xac3ce1+_0x56da('0x83')));});}));}_0x42cacf[_0x56da('0x84')]();_0x42cacf[_0x56da('0x6f')](()=>_0x4a2981());_0x42cacf[_0x56da('0x85')]()['then'](()=>_0x13e706(_0x465a98))[_0x56da('0x5d')](_0x2831ab=>{_0x4521dd(_0x56da('0x86')+_0x2831ab+_0x56da('0x87'));_0x42cacf[_0x56da('0x84')]()[_0x56da('0x85')]()[_0x56da('0x5d')](_0x47c302=>_0x4521dd(_0x47c302))[_0x56da('0x4a')](()=>_0x4a2981())[_0x56da('0x4a')](()=>{_0x2831ab[_0x56da('0x88')]=_0x465a98;_0x3e38b2(_0x2831ab);});});})[_0x56da('0x5d')](_0x3e38b2);});};var _0x305553={'run':_0x46f720,'cancel':_0x2466eb};_0x5158ad['config']();_0x5041dd[_0x56da('0x89')]();const _0xd0027d=_0x21068a(_0x56da('0x8a'));const _0x48ee8c=()=>{if(process[_0x56da('0x8b')][_0x56da('0x8c')]){return process[_0x56da('0x8b')]['BOTIUMBOX_AGENT_NAME'];}const _0x99d2bd=_0x44d33e['hostname']();if(_0x99d2bd&&process['env']['hasOwnProperty'](_0x56da('0x8d'))){return _0x99d2bd+'_'+process[_0x56da('0x8b')][_0x56da('0x8d')];}else if(_0x99d2bd){return _0x99d2bd;}else{return _0x56da('0x8e');}};const _0x39363d=_0x48ee8c();const _0x24ee4e=process[_0x56da('0x8b')][_0x56da('0x8f')]||'Default\x20Group';_0xd0027d(_0x56da('0x90')+_0x39363d+'\x20to\x20group\x20'+_0x24ee4e+'\x20...');let _0x5d1c27={};if(process['env'][_0x56da('0x91')]){try{_0x5d1c27=JSON['parse'](process[_0x56da('0x8b')][_0x56da('0x91')]);_0xd0027d(_0x56da('0x92')+JSON[_0x56da('0x7d')](_0x5d1c27)+'\x27');}catch(_0x57c45b){console[_0x56da('0x1a')](_0x56da('0x93')+process[_0x56da('0x8b')][_0x56da('0x91')]+'\x27:');console[_0x56da('0x1a')](_0x57c45b);process[_0x56da('0x94')](0x1);}}else{if(process[_0x56da('0x8b')][_0x56da('0x95')]){_0x5d1c27[_0x56da('0x96')]=process[_0x56da('0x8b')]['BOTIUMBOX_QUEUE_PREFIX'];}if(process[_0x56da('0x8b')]['BOTIUMBOX_QUEUE_REDISURL']){_0x5d1c27[_0x56da('0x97')]=process[_0x56da('0x8b')][_0x56da('0x98')];}}_0xd0027d(_0x56da('0x99')+JSON[_0x56da('0x7d')](_0x5d1c27)+'\x27');const _0x568214=process[_0x56da('0x8b')][_0x56da('0x9a')]||0x1;let _0x17d905=process[_0x56da('0x8b')]['BOTIUMBOX_QUEUE_HEARTBEAT']||0x493e0;if(_0x17d905>0x0&&_0x17d905<0x1388)_0x17d905=0x1388;const _0x349cf5=_0x312587[_0x56da('0x9b')](_0x5d1c27);_0x349cf5['on']('error',_0x87130e=>{console[_0x56da('0x1a')](_0x56da('0x9c')+JSON[_0x56da('0x7d')](_0x5d1c27)+'\x27:');console['log'](_0x87130e);process[_0x56da('0x94')](0x1);});const _0x474dbe=(_0x5ebc90,_0x4f70)=>{return _0x349cf5['create'](_0x5ebc90,_0x4f70)[_0x56da('0x9d')](!![])[_0x56da('0x9e')]();};const _0x261b74=(_0x148d49,_0x238bfc)=>{return _0x349cf5[_0x56da('0x9f')](_0x148d49,_0x238bfc)[_0x56da('0xa0')](process[_0x56da('0x8b')][_0x56da('0x15')]('BOTIUMBOX_QUEUE_PROGRESS_RETRY_ATTEMPTS')?process[_0x56da('0x8b')][_0x56da('0xa1')]:0x5)[_0x56da('0xa2')]({'delay':process[_0x56da('0x8b')][_0x56da('0x15')](_0x56da('0xa3'))?process[_0x56da('0x8b')]['BOTIUMBOX_QUEUE_PROGRESS_RETRY_DELAY']:0x2710,'type':_0x56da('0xa4')})[_0x56da('0x9d')](!![])['save']();};_0xd0027d(_0x56da('0xa5'));_0x474dbe(_0x56da('0xa6'),{'title':_0x56da('0xa7')+_0x39363d+_0x56da('0xa8')+_0x24ee4e,'name':_0x39363d,'group':_0x24ee4e})['on'](_0x56da('0xa9'),_0x3cce89=>{console[_0x56da('0x1a')](_0x56da('0xaa'));console['log'](_0x3cce89);process['exit'](0x1);})['on']('complete',_0x7b09a4=>{_0xd0027d(_0x56da('0xab')+JSON['stringify'](_0x7b09a4)+_0x56da('0xac')+_0x568214+').');let _0x159d6e=_0x7b09a4;const _0x170772=(_0x9dc2c6,_0x3da0bf)=>{const {testSessionId,testSessionName,testSessionJobId}=_0x9dc2c6[_0x56da('0xad')];if(!testSessionId||!testSessionJobId){return _0x3da0bf(new Error(_0x56da('0xae')+_0x9dc2c6['id']+'\x20failed,\x20no\x20testSessionId\x20or\x20testSessionJobId\x20given.'));}_0xd0027d('Processing\x20Job\x20'+_0x9dc2c6['id']+'\x20for\x20Test\x20Session\x20'+testSessionId+'/'+testSessionName+',\x20Job\x20'+testSessionJobId);try{_0x305553['run'](_0x159d6e,_0x9dc2c6,_0x261b74)[_0x56da('0x4a')](_0x7b09a4=>{_0xd0027d(_0x56da('0xae')+_0x9dc2c6['id']+'\x20finished\x20with\x20result:');_0x7b09a4&&_0xd0027d(_0x7b09a4);_0x3da0bf(null,_0x7b09a4);_0x261b74('process.ready.success',{'title':_0x56da('0xae')+_0x9dc2c6['id']+_0x56da('0xaf')+testSessionId+'/'+testSessionName+_0x56da('0xb0'),'testSessionId':testSessionId,'testSessionName':testSessionName,'testSessionJobId':testSessionJobId,'jobId':_0x9dc2c6['id'],'result':_0x7b09a4});})['catch'](_0x2d9df0=>{_0xd0027d(_0x56da('0xae')+_0x9dc2c6['id']+_0x56da('0xb1'));_0xd0027d(_0x2d9df0);_0x3da0bf(_0x2d9df0);_0x261b74('process.ready.failed',{'title':'Processing\x20Job\x20'+_0x9dc2c6['id']+_0x56da('0xaf')+testSessionId+'/'+testSessionName+_0x56da('0xb2'),'testSessionId':testSessionId,'testSessionName':testSessionName,'testSessionJobId':testSessionJobId,'jobId':_0x9dc2c6['id'],'result':_0x2d9df0['result'],'err':''+_0x2d9df0});});}catch(_0x5a95fb){_0xd0027d(_0x56da('0xae')+_0x9dc2c6['id']+_0x56da('0xb1'));_0xd0027d(_0x5a95fb);_0x3da0bf(_0x5a95fb);_0x261b74(_0x56da('0xb3'),{'title':_0x56da('0xae')+_0x9dc2c6['id']+_0x56da('0xaf')+testSessionId+'/'+testSessionName+_0x56da('0xb2'),'testSessionId':testSessionId,'testSessionName':testSessionName,'testSessionJobId':testSessionJobId,'jobId':_0x9dc2c6['id'],'err':_0x5a95fb});}};const _0xa07b04=(_0x5ba233,_0x11a1c7)=>{if(!_0x5ba233[_0x56da('0xad')]||!_0x5ba233[_0x56da('0xad')]['testSessionId']){return[_0xd0027d,_0x11a1c7][_0x56da('0x22')](_0x54573e=>_0x54573e(_0x56da('0xb4')));}_0xd0027d('Canceling\x20Test\x20Session\x20'+_0x5ba233[_0x56da('0xad')][_0x56da('0xb5')]+'/'+_0x5ba233['data'][_0x56da('0xb6')]);try{_0x305553[_0x56da('0xb7')](_0x5ba233['data'][_0x56da('0xb5')],_0x5ba233);_0xd0027d(_0x56da('0xb8')+_0x5ba233[_0x56da('0xad')][_0x56da('0xb5')]+'/'+_0x5ba233[_0x56da('0xad')]['testSessionName']+_0x56da('0xb9'));_0x11a1c7();}catch(_0x49fc5c){_0xd0027d(_0x56da('0xba')+_0x5ba233[_0x56da('0xad')][_0x56da('0xb5')]+'/'+_0x5ba233['data']['testSessionName']+_0x56da('0xb1'));_0xd0027d(_0x49fc5c);_0x11a1c7(_0x49fc5c);}};const _0x1fe6ed=(_0x2b6266,_0x34f730)=>{_0xd0027d(_0x56da('0xbb'));_0x474dbe(_0x56da('0xa6'),{'title':_0x56da('0xbc')+_0x39363d+'\x20for\x20group\x20'+_0x24ee4e,'name':_0x39363d,'group':_0x24ee4e})['on']('failed',_0x4e08f9=>{_0xd0027d(_0x56da('0xbd'));_0xd0027d(_0x4e08f9);})['on']('complete',_0x7b09a4=>{_0xd0027d(_0x56da('0xbe')+JSON['stringify'](_0x7b09a4)+'\x27.');_0x159d6e=_0x7b09a4;});};_0x349cf5[_0x56da('0xbf')](_0x56da('0xc0')+_0x24ee4e,_0x568214,_0x170772);_0x349cf5['process'](_0x56da('0xc0')+_0x39363d,_0x568214,_0x170772);_0x349cf5[_0x56da('0xbf')](_0x56da('0xc1'),_0x568214,_0x170772);_0x349cf5['process'](_0x56da('0xc2')+_0x39363d,_0x568214,_0xa07b04);_0x349cf5[_0x56da('0xbf')](_0x56da('0xc3')+_0x39363d,_0x568214,_0x1fe6ed);if(_0x17d905>0x0){const _0x165a77=()=>{_0xd0027d('sending\x20heartbeat\x20...');_0x474dbe('agent.heartbeat',{'title':'heartbeat\x20from\x20agent\x20'+_0x39363d+_0x56da('0xc4')+_0x24ee4e,'name':_0x39363d,'group':_0x24ee4e})['on'](_0x56da('0x82'),()=>{setTimeout(_0x165a77,_0x17d905);});};_0x165a77();}});process['on'](_0x56da('0xc5'),_0xb7fab8=>{console[_0x56da('0x1a')]('Got\x20an\x20uncaughtException',_0xb7fab8);});var _0x40741b={};return _0x40741b;}));