var _0x10b4=['prefix','redis','connecting\x20to\x20Botium\x20queue\x20\x27','BOTIUMBOX_QUEUE_CONCURRENCY','createQueue','error','ERROR\x20connecting\x20to\x20queue\x20\x27','Trying\x20to\x20register\x20agent\x20...','create','register\x20agent\x20','priority','save','ERROR\x20registering\x20agent:','complete','\x27,\x20now\x20accepting\x20processing\x20jobs\x20(concurrency\x20','Processing\x20Job\x20','run','\x20failed:','jobId','Canceling\x20Test\x20Session\x20Job\x20','\x20finished.','Trying\x20to\x20reconfigure\x20agent\x20...','agent.register','reconfigure\x20agent\x20','\x20for\x20group\x20','ttl','failed','ERROR\x20reconfiguring\x20agent:','Reconfiguration\x20completed\x20with\x20result\x20\x27','process','cancel','agent.reconfigure.','sending\x20heartbeat\x20...','agent.heartbeat','heartbeat\x20from\x20agent\x20','removeOnComplete','uncaughtException','Got\x20an\x20uncaughtException','object','undefined','exports','path','slug','botium-core/src/Source','botium-core/src/repos/GitRepo','botium-core/src/Capabilities','util','lodash','debug','dotenv-flow','function','amd','botium-core/src/scripting/Constants','intercept-stdout','botium-core','kue','main','GitRepo','Capabilities','botiumCore','dotenvFlow','hasOwnProperty','default','COMMUNITY\x20EDITION','release/1.1.0','a6c78cc424e9a10c667ba876e24313cab659487e','2019-02-08T13:08:29+00:00','log','BOTIUM\x20BOX\x20-\x20AGENT','buildTarget','BUILD_BRANCH:\x20','buildBranch','BUILD_REVISION:\x20','buildDate','botium-retrieve-all-test-cases','convos','forEach','format','SCRIPTING_FORMAT_XSLX','base64','SCRIPTING_TYPE_UTTERANCES','Compile','SCRIPTING_TYPE_CONVO','SCRIPTING_FORMAT_TXT','content','sourceTag','stringify','utterances','name',':\x20Utterance\x20script\x20compilation\x20failed:\x20','ReadScriptsFromDirectory','assign',':\x20Folder\x20','\x20script\x20compilation\x20failed:\x20','excels','all','map','from','caps','SCRIPTING_XLSX_SHEETNAMES','SCRIPTING_XLSX_STARTROW','SCRIPTING_XLSX_STARTCOL','botium-box-worker-runtestcases','unhook','replace','progress','total','push','data','title',':\x20Started\x20processing,\x20JobId\x20#','botium','Sources','Envs','BuildFluent','compiler','then','tempDirectory','sources','testSets','filter','length','expanding\x20convos\x20...','ExpandConvos','uniq','expandUtterancesToConvos','expandUtterancesIncomprehension','expanding\x20utterances\x20to\x20convos\x20not\x20possible,\x20found\x20multiple\x20INCOMPREHENSION\x20utterances:\x20','inspect','\x20...','expanding\x20utterances\x20to\x20convos\x20...','SCRIPTING_UTTEXPANSION_INCOMPREHENSION','ExpandUtterancesToConvos','concat','batchNum','batchCount','ceil','min','batchNum:\x20','\x20batchCount:\x20','\x20convosPerBatch:\x20','\x20batchStart:\x20','\x20batchEnd:\x20',':\x20batchNum:\x20','attachments','removeListener','MESSAGE_SENTTOBOT','MESSAGE_RECEIVEDFROMBOT','eventEmitter','MESSAGE_ATTACHMENT','CONTAINER_STARTED','Call','Start','\x22,\x20Index\x20','\x20from\x20','Run','header','\x22\x20completed\x20successfully.','Running\x20Convo\x20\x22','transcript','Stop','err','message','steps','Test\x20Session\x20cancelled','Exec','catch','printVersion','env','BOTIUMBOX_AGENT_NAME','hostname','BOTIUMBOX_AGENT_NUM','Default\x20Agent','BOTIUMBOX_AGENT_GROUP','Connecting\x20agent\x20','\x20to\x20group\x20','BOTIUMBOX_QUEUE_SETTINGS','parse','Got\x20queue\x20settings\x20\x27','ERROR\x20parsing\x20queue\x20settings\x20\x27','exit','BOTIUMBOX_QUEUE_PREFIX'];(function(_0x4df371,_0x29f90e){var _0xa961ef=function(_0x49a730){while(--_0x49a730){_0x4df371['push'](_0x4df371['shift']());}};var _0x61d225=function(){var _0x28051d={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x267f66,_0xf73d7e,_0x1cdfd0,_0x1b677b){_0x1b677b=_0x1b677b||{};var _0x511d77=_0xf73d7e+'='+_0x1cdfd0;var _0x30d669=0x0;for(var _0x30d669=0x0,_0x3dc475=_0x267f66['length'];_0x30d669<_0x3dc475;_0x30d669++){var _0xc54400=_0x267f66[_0x30d669];_0x511d77+=';\x20'+_0xc54400;var _0x53a16b=_0x267f66[_0xc54400];_0x267f66['push'](_0x53a16b);_0x3dc475=_0x267f66['length'];if(_0x53a16b!==!![]){_0x511d77+='='+_0x53a16b;}}_0x1b677b['cookie']=_0x511d77;},'removeCookie':function(){return'dev';},'getCookie':function(_0x5715d5,_0x8628e5){_0x5715d5=_0x5715d5||function(_0x4cab99){return _0x4cab99;};var _0x12475f=_0x5715d5(new RegExp('(?:^|;\x20)'+_0x8628e5['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x155ca9=function(_0x4ccab2,_0x35d15c){_0x4ccab2(++_0x35d15c);};_0x155ca9(_0xa961ef,_0x29f90e);return _0x12475f?decodeURIComponent(_0x12475f[0x1]):undefined;}};var _0x3cc2eb=function(){var _0x2df666=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2df666['test'](_0x28051d['removeCookie']['toString']());};_0x28051d['updateCookie']=_0x3cc2eb;var _0x1ac197='';var _0x479afd=_0x28051d['updateCookie']();if(!_0x479afd){_0x28051d['setCookie'](['*'],'counter',0x1);}else if(_0x479afd){_0x1ac197=_0x28051d['getCookie'](null,'counter');}else{_0x28051d['removeCookie']();}};_0x61d225();}(_0x10b4,0xdc));var _0x299e=function(_0x5ee802,_0xbd87b2){_0x5ee802=_0x5ee802-0x0;var _0x45a2c9=_0x10b4[_0x5ee802];return _0x45a2c9;};(function(_0x7a268f,_0x1fc72b){var _0x34a1d5=function(){var _0x343927=!![];return function(_0x111134,_0x2da6cd){var _0x1a3a07=_0x343927?function(){if(_0x2da6cd){var _0x3d63c0=_0x2da6cd['apply'](_0x111134,arguments);_0x2da6cd=null;return _0x3d63c0;}}:function(){};_0x343927=![];return _0x1a3a07;};}();var _0x17454d=_0x34a1d5(this,function(){var _0x5843df=function(){return'\x64\x65\x76';},_0x1627aa=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x3b688b=function(){var _0x2e46ef=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x2e46ef['\x74\x65\x73\x74'](_0x5843df['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0xdc5ce3=function(){var _0x292ec0=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x292ec0['\x74\x65\x73\x74'](_0x1627aa['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x1b5c11=function(_0x3fdde3){var _0x201c14=~-0x1>>0x1+0xff%0x0;if(_0x3fdde3['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x201c14)){_0x5f57da(_0x3fdde3);}};var _0x5f57da=function(_0x82159b){var _0x16c446=~-0x4>>0x1+0xff%0x0;if(_0x82159b['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x16c446){_0x1b5c11(_0x82159b);}};if(!_0x3b688b()){if(!_0xdc5ce3()){_0x1b5c11('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x1b5c11('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x1b5c11('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x17454d();typeof exports===_0x299e('0x0')&&typeof module!==_0x299e('0x1')?module[_0x299e('0x2')]=_0x1fc72b(require(_0x299e('0x3')),require(_0x299e('0x4')),require('botium-core/src/scripting/Constants'),require(_0x299e('0x5')),require(_0x299e('0x6')),require(_0x299e('0x7')),require(_0x299e('0x8')),require('intercept-stdout'),require(_0x299e('0x9')),require('botium-core'),require(_0x299e('0xa')),require(_0x299e('0xb')),require('os'),require('kue')):typeof define===_0x299e('0xc')&&define[_0x299e('0xd')]?define([_0x299e('0x3'),_0x299e('0x4'),_0x299e('0xe'),'botium-core/src/Source',_0x299e('0x6'),_0x299e('0x7'),_0x299e('0x8'),_0x299e('0xf'),_0x299e('0x9'),_0x299e('0x10'),_0x299e('0xa'),_0x299e('0xb'),'os',_0x299e('0x11')],_0x1fc72b):_0x7a268f[_0x299e('0x12')]=_0x1fc72b(_0x7a268f[_0x299e('0x3')],_0x7a268f[_0x299e('0x4')],_0x7a268f['Constants'],_0x7a268f['Source'],_0x7a268f[_0x299e('0x13')],_0x7a268f[_0x299e('0x14')],_0x7a268f['util'],_0x7a268f['interceptStdout'],_0x7a268f['lodash'],_0x7a268f[_0x299e('0x15')],_0x7a268f[_0x299e('0xa')],_0x7a268f[_0x299e('0x16')],_0x7a268f['os'],_0x7a268f[_0x299e('0x11')]);}(this,function(_0x16cf26,_0x30b6bc,_0x524c15,_0x46f22b,_0x4c8998,_0x1711b1,_0x6417ad,_0x5ec948,_0x3e5d14,_0x322e2a,_0x59b6eb,_0x1df64b,_0x4c6561,_0x143cbc){'use strict';_0x16cf26=_0x16cf26&&_0x16cf26[_0x299e('0x17')](_0x299e('0x18'))?_0x16cf26[_0x299e('0x18')]:_0x16cf26;_0x30b6bc=_0x30b6bc&&_0x30b6bc[_0x299e('0x17')]('default')?_0x30b6bc[_0x299e('0x18')]:_0x30b6bc;_0x524c15=_0x524c15&&_0x524c15[_0x299e('0x17')](_0x299e('0x18'))?_0x524c15['default']:_0x524c15;_0x46f22b=_0x46f22b&&_0x46f22b[_0x299e('0x17')](_0x299e('0x18'))?_0x46f22b['default']:_0x46f22b;_0x4c8998=_0x4c8998&&_0x4c8998[_0x299e('0x17')](_0x299e('0x18'))?_0x4c8998[_0x299e('0x18')]:_0x4c8998;_0x1711b1=_0x1711b1&&_0x1711b1[_0x299e('0x17')]('default')?_0x1711b1[_0x299e('0x18')]:_0x1711b1;_0x6417ad=_0x6417ad&&_0x6417ad[_0x299e('0x17')]('default')?_0x6417ad[_0x299e('0x18')]:_0x6417ad;_0x5ec948=_0x5ec948&&_0x5ec948[_0x299e('0x17')](_0x299e('0x18'))?_0x5ec948['default']:_0x5ec948;_0x3e5d14=_0x3e5d14&&_0x3e5d14[_0x299e('0x17')](_0x299e('0x18'))?_0x3e5d14['default']:_0x3e5d14;_0x322e2a=_0x322e2a&&_0x322e2a['hasOwnProperty']('default')?_0x322e2a[_0x299e('0x18')]:_0x322e2a;_0x59b6eb=_0x59b6eb&&_0x59b6eb[_0x299e('0x17')](_0x299e('0x18'))?_0x59b6eb['default']:_0x59b6eb;_0x1df64b=_0x1df64b&&_0x1df64b[_0x299e('0x17')](_0x299e('0x18'))?_0x1df64b['default']:_0x1df64b;_0x4c6561=_0x4c6561&&_0x4c6561[_0x299e('0x17')](_0x299e('0x18'))?_0x4c6561[_0x299e('0x18')]:_0x4c6561;_0x143cbc=_0x143cbc&&_0x143cbc[_0x299e('0x17')](_0x299e('0x18'))?_0x143cbc[_0x299e('0x18')]:_0x143cbc;const _0x432d72={'buildTarget':_0x299e('0x19'),'buildBranch':_0x299e('0x1a'),'buildRevision':_0x299e('0x1b'),'buildDate':_0x299e('0x1c')};const _0x59e94c=()=>{console[_0x299e('0x1d')](_0x299e('0x1e'));console[_0x299e('0x1d')]('BUILD_TARGET:\x20'+_0x432d72[_0x299e('0x1f')]);console['log'](_0x299e('0x20')+_0x432d72[_0x299e('0x21')]);console['log'](_0x299e('0x22')+_0x432d72['buildRevision']);console[_0x299e('0x1d')]('BUILD_TIMESTAMP:\x20'+_0x432d72[_0x299e('0x23')]);};var _0x157aea={'buildInfo':_0x432d72,'printVersion':_0x59e94c};const _0x1bdeb0=_0x59b6eb(_0x299e('0x24'));var _0x5c6d9f=(_0x5daf19,_0x238ad3,_0x123b1d,_0x5cf303)=>{_0x5daf19[_0x299e('0x25')]&&_0x5daf19['convos'][_0x299e('0x26')](_0x473a24=>{let _0x3f8c66=[];let _0x5baf22=[];try{if(_0x473a24[_0x299e('0x27')]===_0x524c15[_0x299e('0x28')]){const _0x56afab=Buffer['from'](_0x473a24['content'],_0x299e('0x29'));_0x5baf22=_0x238ad3['Compile'](_0x56afab,_0x524c15[_0x299e('0x28')],_0x524c15[_0x299e('0x2a')]);_0x3f8c66=_0x238ad3[_0x299e('0x2b')](_0x56afab,_0x524c15['SCRIPTING_FORMAT_XSLX'],_0x524c15[_0x299e('0x2c')]);}else if(_0x473a24[_0x299e('0x27')]===_0x524c15[_0x299e('0x2d')]){_0x3f8c66=_0x238ad3['Compile'](_0x473a24[_0x299e('0x2e')],_0x524c15['SCRIPTING_FORMAT_TXT'],_0x524c15[_0x299e('0x2c')]);}if(_0x3f8c66)_0x3f8c66[_0x299e('0x26')](_0x2ca610=>{_0x2ca610[_0x299e('0x2f')]=_0x473a24['sourceTag'];});if(_0x5baf22)_0x5baf22[_0x299e('0x26')](_0x5e78a4=>{_0x5e78a4[_0x299e('0x2f')]=_0x473a24[_0x299e('0x2f')];});}catch(_0x40fe7f){_0x1bdeb0(_0x40fe7f);throw new Error(_0x5daf19['name']+':\x20Convo\x20Script\x20compilation\x20failed:\x20'+JSON[_0x299e('0x30')](_0x40fe7f));}});_0x5daf19[_0x299e('0x31')]&&_0x5daf19[_0x299e('0x31')]['forEach'](_0x4ae814=>{let _0x843e1c=[];try{_0x843e1c=_0x238ad3['Compile'](_0x4ae814['content'],_0x524c15[_0x299e('0x2d')],_0x524c15[_0x299e('0x2a')]);if(_0x843e1c)_0x843e1c[_0x299e('0x26')](_0x51a084=>{_0x51a084[_0x299e('0x2f')]=_0x4ae814[_0x299e('0x2f')];});}catch(_0x572551){_0x1bdeb0(_0x572551);throw new Error(_0x5daf19[_0x299e('0x32')]+_0x299e('0x33')+JSON[_0x299e('0x30')](_0x572551));}});_0x5daf19['folders']&&_0x5daf19['folders'][_0x299e('0x26')](_0x5282d5=>{try{const {convos,utterances}=_0x238ad3[_0x299e('0x34')](_0x5282d5[_0x299e('0x3')],_0x5282d5['globFilter']);convos&&convos[_0x299e('0x26')](_0x5e0d6e=>{_0x5e0d6e[_0x299e('0x2f')]=Object[_0x299e('0x35')]({},_0x5e0d6e['sourceTag'],_0x5282d5[_0x299e('0x2f')]);});utterances&&utterances[_0x299e('0x26')](_0x5d46cb=>{_0x5d46cb[_0x299e('0x2f')]=Object[_0x299e('0x35')]({},_0x5d46cb['sourceTag'],_0x5282d5[_0x299e('0x2f')]);});}catch(_0x3a15e7){_0x1bdeb0(_0x3a15e7);throw new Error(_0x5daf19[_0x299e('0x32')]+_0x299e('0x36')+_0x5282d5+_0x299e('0x37')+JSON[_0x299e('0x30')](_0x3a15e7));}});let _0x4c93d2=Promise['resolve']();if(_0x5daf19[_0x299e('0x38')]&&_0x5daf19[_0x299e('0x38')]['length']>0x0){_0x4c93d2=Promise[_0x299e('0x39')](_0x5daf19[_0x299e('0x38')][_0x299e('0x3a')](({id,filename,filecontent,hasConvos,hasUtterances,worksheetsConvos,worksheetsUtterances,startRow,startCol,sourceTag})=>{return new Promise(_0x475722=>{const _0x54db12=Buffer[_0x299e('0x3b')](filecontent,'base64');let _0x5d218e=[];let _0x148675=[];if(hasConvos){if(worksheetsConvos)_0x238ad3[_0x299e('0x3c')][_0x1711b1[_0x299e('0x3d')]]=worksheetsConvos;if(!isNaN(startRow))_0x238ad3[_0x299e('0x3c')][_0x1711b1[_0x299e('0x3e')]]=startRow;if(!isNaN(startCol))_0x238ad3['caps'][_0x1711b1[_0x299e('0x3f')]]=startCol;_0x5d218e=_0x238ad3[_0x299e('0x2b')](_0x54db12,_0x524c15['SCRIPTING_FORMAT_XSLX'],_0x524c15['SCRIPTING_TYPE_CONVO']);}if(hasUtterances){if(worksheetsUtterances)_0x238ad3['caps'][_0x1711b1['SCRIPTING_XLSX_SHEETNAMES_UTTERANCES']]=worksheetsUtterances;if(!isNaN(startRow))_0x238ad3[_0x299e('0x3c')][_0x1711b1['SCRIPTING_XLSX_STARTROW']]=startRow;if(!isNaN(startCol))_0x238ad3['caps'][_0x1711b1[_0x299e('0x3f')]]=startCol;_0x148675=_0x238ad3[_0x299e('0x2b')](_0x54db12,_0x524c15['SCRIPTING_FORMAT_XSLX'],_0x524c15[_0x299e('0x2a')]);}_0x5d218e&&_0x5d218e[_0x299e('0x26')](_0x3d506d=>{_0x3d506d[_0x299e('0x2f')]=Object['assign']({},_0x3d506d[_0x299e('0x2f')],sourceTag);});_0x148675&&_0x148675[_0x299e('0x26')](_0x50f9de=>{_0x50f9de[_0x299e('0x2f')]=Object[_0x299e('0x35')]({},_0x50f9de[_0x299e('0x2f')],sourceTag);});_0x475722();});}));}let _0x54f7b9=Promise['resolve']();return Promise[_0x299e('0x39')]([_0x54f7b9,_0x4c93d2]);};const _0x3a88fb=_0x322e2a['BotDriver'];const _0x49ed20=_0x59b6eb(_0x299e('0x40'));const _0x28c13e={'unhook':null,'progress':0x0,'total':0x0};const _0x52dfe4=_0x3145e0=>{_0x28c13e[_0x299e('0x41')]=_0x5ec948(_0xf19424=>{const _0x27f75a=_0xf19424[_0x299e('0x42')](/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,'');_0x3145e0[_0x299e('0x43')](_0x28c13e[_0x299e('0x43')],_0x28c13e[_0x299e('0x44')],{'log':_0x27f75a});return _0xf19424;});};const _0x45766f=()=>{if(_0x28c13e[_0x299e('0x41')]){_0x28c13e[_0x299e('0x41')]();_0x28c13e[_0x299e('0x41')]=null;}_0x28c13e[_0x299e('0x43')]=0x0;_0x28c13e[_0x299e('0x44')]=0x0;};const _0x340746={};const _0x25b9f1=(_0x170c04,_0x843ba2)=>{if(!_0x340746[_0x170c04])_0x340746[_0x170c04]=[];_0x340746[_0x170c04][_0x299e('0x45')](_0x843ba2);};const _0x34baf2=(_0x17c3d1,_0x33b324)=>{if(_0x340746[_0x17c3d1]){_0x340746[_0x17c3d1]['forEach'](_0x4cdb14=>_0x4cdb14());delete _0x340746[_0x17c3d1];}};const _0x1630db=(_0x3dfdfd,_0x3565f0)=>{let _0x485794=![];_0x25b9f1(_0x3565f0['id'],()=>{_0x485794=!![];});return new Promise((_0x541cd2,_0x36242e)=>{_0x3565f0[_0x299e('0x43')](0x0,0x0,{'log':_0x3565f0[_0x299e('0x46')][_0x299e('0x47')]+_0x299e('0x48')+_0x3565f0['id']+'.'});_0x52dfe4(_0x3565f0);const _0x399304={};if(_0x3dfdfd[_0x299e('0x49')]&&_0x3dfdfd['botium']['Capabilities'])Object['assign'](_0x399304,_0x3dfdfd[_0x299e('0x49')][_0x299e('0x14')]);if(_0x3565f0['data'][_0x299e('0x49')]&&_0x3565f0[_0x299e('0x46')]['botium']['Capabilities'])Object[_0x299e('0x35')](_0x399304,_0x3565f0['data'][_0x299e('0x49')]['Capabilities']);const _0x41497c={};if(_0x3dfdfd['botium']&&_0x3dfdfd[_0x299e('0x49')][_0x299e('0x4a')])Object[_0x299e('0x35')](_0x41497c,_0x3dfdfd[_0x299e('0x49')][_0x299e('0x4a')]);if(_0x3565f0[_0x299e('0x46')]['botium']&&_0x3565f0['data'][_0x299e('0x49')]['Sources'])Object[_0x299e('0x35')](_0x41497c,_0x3565f0[_0x299e('0x46')]['botium']['Sources']);const _0x740570={};if(_0x3dfdfd[_0x299e('0x49')]&&_0x3dfdfd['botium'][_0x299e('0x4b')])Object[_0x299e('0x35')](_0x740570,_0x3dfdfd[_0x299e('0x49')]['Envs']);if(_0x3565f0['data']['botium']&&_0x3565f0[_0x299e('0x46')][_0x299e('0x49')][_0x299e('0x4b')])Object[_0x299e('0x35')](_0x740570,_0x3565f0[_0x299e('0x46')][_0x299e('0x49')]['Envs']);const _0x4c0ca8=new _0x3a88fb(_0x399304,_0x41497c,_0x740570);const _0x5a450f=_0x4c0ca8[_0x299e('0x4c')]();_0x5a450f[_0x299e('0x4d')]=_0x4c0ca8['BuildCompiler']();_0x4c0ca8['_validate']()[_0x299e('0x4e')](()=>{return new Promise((_0x541cd2,_0x36242e)=>{const _0x1a1136=Promise[_0x299e('0x39')](_0x3565f0[_0x299e('0x46')]['testSets'][_0x299e('0x3a')](_0x20cc95=>_0x5c6d9f(_0x20cc95,_0x5a450f[_0x299e('0x4d')],_0x4c0ca8[_0x299e('0x4f')],_0x4c0ca8[_0x299e('0x50')])))[_0x299e('0x4e')](()=>{const _0x3d27aa=_0x3565f0[_0x299e('0x46')][_0x299e('0x51')][_0x299e('0x52')](_0x2f3d37=>_0x2f3d37['expandConvos'])[_0x299e('0x53')]>0x0;if(_0x3d27aa){_0x49ed20(_0x299e('0x54'));_0x5a450f[_0x299e('0x4d')][_0x299e('0x55')]();}const _0x1e3933=_0x3565f0[_0x299e('0x46')][_0x299e('0x51')]['filter'](_0x46fff6=>_0x46fff6['expandUtterancesToConvos'])['length']>0x0;if(_0x1e3933){const _0x2250e4=_0x3e5d14[_0x299e('0x56')](_0x3565f0[_0x299e('0x46')]['testSets'][_0x299e('0x52')](_0x1febaf=>_0x1febaf[_0x299e('0x57')]&&_0x1febaf[_0x299e('0x58')])[_0x299e('0x3a')](_0x2f9923=>_0x2f9923['expandUtterancesIncomprehension']));if(_0x2250e4&&_0x2250e4[_0x299e('0x53')]>0x1){throw new Error(_0x299e('0x59')+_0x6417ad[_0x299e('0x5a')](_0x2250e4)+_0x299e('0x5b'));}_0x49ed20(_0x299e('0x5c'));if(_0x2250e4&&_0x2250e4[_0x299e('0x53')]>0x0){_0x5a450f[_0x299e('0x4d')]['caps'][_0x1711b1[_0x299e('0x5d')]]=_0x2250e4[0x0];}_0x5a450f[_0x299e('0x4d')][_0x299e('0x5e')]();_0x5a450f['compiler'][_0x299e('0x55')]();}_0x49ed20('found\x20'+_0x5a450f['compiler'][_0x299e('0x25')][_0x299e('0x53')]+'\x20convos\x20...');return _0x5a450f[_0x299e('0x4d')][_0x299e('0x25')];});_0x1a1136['then'](_0x1d43e4=>{_0x541cd2(_0x1d43e4['reduce']((_0x32f1af,_0x392d16)=>_0x32f1af[_0x299e('0x5f')](_0x392d16),[]));})['catch'](_0x36242e);});})[_0x299e('0x4e')](()=>{_0x5a450f[_0x299e('0x4d')][_0x299e('0x55')]();const _0x42562e=_0x3565f0['data'][_0x299e('0x60')]||0x1;const _0x4b06b1=_0x3565f0['data'][_0x299e('0x61')]||0x1;const _0x39a61a=Math[_0x299e('0x62')](_0x5a450f[_0x299e('0x4d')][_0x299e('0x25')][_0x299e('0x53')]/_0x4b06b1);const _0x461d0a=_0x39a61a*(_0x42562e-0x1);const _0x279942=Math[_0x299e('0x63')](_0x461d0a+_0x39a61a,_0x5a450f[_0x299e('0x4d')][_0x299e('0x25')][_0x299e('0x53')])-0x1;_0x49ed20(_0x299e('0x64')+_0x42562e+_0x299e('0x65')+_0x4b06b1+_0x299e('0x66')+_0x39a61a+_0x299e('0x67')+_0x461d0a+_0x299e('0x68')+_0x279942);_0x3565f0[_0x299e('0x43')](0x0,_0x39a61a,{'log':_0x3565f0[_0x299e('0x46')][_0x299e('0x47')]+_0x299e('0x69')+_0x42562e+_0x299e('0x65')+_0x4b06b1+_0x299e('0x66')+_0x39a61a+_0x299e('0x67')+_0x461d0a+_0x299e('0x68')+_0x279942});for(let _0x353c70=_0x461d0a;_0x353c70<=_0x279942;_0x353c70++){const _0x4e9043=_0x353c70;const _0x2f267f=_0x5a450f[_0x299e('0x4d')][_0x299e('0x25')][_0x4e9043];let _0x500f27=null;const _0x41e650=[];const _0xd6662e=(_0x453da5,_0x5eeda5)=>{if(_0x5eeda5[_0x299e('0x6a')])_0x41e650[_0x299e('0x45')](..._0x5eeda5['attachments']);};const _0x503190=(_0x1cc1f8,_0x2673fc)=>{if(_0x2673fc[_0x299e('0x6a')])_0x41e650['push'](..._0x2673fc[_0x299e('0x6a')]);};const _0x4bff80=(_0x11dee9,_0x1642a0)=>{_0x41e650[_0x299e('0x45')](_0x1642a0);};const _0x29457f=(_0x21ecf1,_0xd27583)=>{if(_0xd27583)_0x2f267f[_0x299e('0x2f')]=Object['assign']({},_0x2f267f[_0x299e('0x2f')],_0xd27583);};const _0x362bec=()=>{_0x4c0ca8['eventEmitter'][_0x299e('0x6b')](_0x299e('0x6c'),_0xd6662e);_0x4c0ca8['eventEmitter'][_0x299e('0x6b')](_0x299e('0x6d'),_0x503190);_0x4c0ca8[_0x299e('0x6e')][_0x299e('0x6b')](_0x299e('0x6f'),_0x4bff80);_0x4c0ca8[_0x299e('0x6e')]['removeListener'](_0x299e('0x70'),_0x29457f);};const _0x4718f2=()=>{_0x4c0ca8['on'](_0x299e('0x6c'),_0xd6662e);_0x4c0ca8['on']('MESSAGE_RECEIVEDFROMBOT',_0x503190);_0x4c0ca8['on'](_0x299e('0x6f'),_0x4bff80);_0x4c0ca8['on']('CONTAINER_STARTED',_0x29457f);};let _0xe6e93e=null;_0x5a450f[_0x299e('0x71')](_0x4718f2)[_0x299e('0x72')]();_0x5a450f[_0x299e('0x71')](()=>{return new Promise(_0x541cd2=>{if(_0x485794){_0x49ed20('Test\x20Session\x20cancelled,\x20skipping\x20Convo\x20\x22'+_0x2f267f['header'][_0x299e('0x32')]+_0x299e('0x73')+_0x4e9043+',\x20'+(_0x4e9043-_0x461d0a)+_0x299e('0x74')+_0x39a61a);_0x541cd2();}else{_0x49ed20('Running\x20Convo\x20\x22'+_0x2f267f['header'][_0x299e('0x32')]+_0x299e('0x73')+_0x4e9043+',\x20'+(_0x4e9043-_0x461d0a)+_0x299e('0x74')+_0x39a61a);return _0x2f267f[_0x299e('0x75')](_0x5a450f['container'])[_0x299e('0x4e')](_0x2a1ec9=>{_0x49ed20('Running\x20Convo\x20\x22'+_0x2f267f[_0x299e('0x76')][_0x299e('0x32')]+_0x299e('0x77'));_0x500f27=_0x2a1ec9;_0x541cd2();})['catch'](_0x153781=>{_0x49ed20(_0x299e('0x78')+_0x2f267f['header'][_0x299e('0x32')]+'\x22\x20failed:\x20'+_0x153781+'.');_0x500f27=_0x153781[_0x299e('0x79')];_0xe6e93e=_0x153781;_0x541cd2();});}});});_0x5a450f[_0x299e('0x7a')]()['Call'](_0x362bec);_0x5a450f[_0x299e('0x71')](()=>{if(_0x485794)return;if(_0x500f27){_0x500f27[_0x299e('0x7b')]=_0x500f27['err']?_0x500f27[_0x299e('0x7b')]['message']?_0x500f27[_0x299e('0x7b')][_0x299e('0x7c')]:JSON['stringify'](_0x500f27[_0x299e('0x7b')]):null;_0x500f27[_0x299e('0x7d')]&&_0x500f27[_0x299e('0x7d')][_0x299e('0x26')](_0x1d816c=>{_0x1d816c[_0x299e('0x7b')]=_0x1d816c[_0x299e('0x7b')]?_0x1d816c['err'][_0x299e('0x7c')]?_0x1d816c[_0x299e('0x7b')][_0x299e('0x7c')]:JSON[_0x299e('0x30')](_0x1d816c[_0x299e('0x7b')]):null;});}_0x3565f0[_0x299e('0x43')](_0x4e9043-_0x461d0a+0x1,_0x39a61a,{'type':'process','testcase':_0x2f267f[_0x299e('0x76')][_0x299e('0x32')],'source':_0x2f267f['toString'](),'sourceTag':_0x2f267f[_0x299e('0x2f')],'transcript':_0x500f27,'attachments':_0x41e650,'success':_0xe6e93e===null,'err':_0xe6e93e?_0xe6e93e[_0x299e('0x7c')]?_0xe6e93e[_0x299e('0x7c')]:JSON[_0x299e('0x30')](_0xe6e93e):null});});}_0x5a450f['Clean']();_0x5a450f['Call'](()=>_0x45766f());_0x5a450f['Call'](()=>{if(_0x485794){throw new Error(_0x299e('0x7e'));}});_0x5a450f[_0x299e('0x7f')]()[_0x299e('0x4e')](_0x541cd2)[_0x299e('0x80')](_0x36242e);})[_0x299e('0x80')](_0x36242e);});};var _0x428472={'run':_0x1630db,'cancel':_0x34baf2};_0x1df64b['config']();_0x157aea[_0x299e('0x81')]();const _0x1b5e5d=_0x59b6eb('botium-box-worker');const _0xad2ca8=()=>{if(process[_0x299e('0x82')][_0x299e('0x83')]){return process[_0x299e('0x82')][_0x299e('0x83')];}const _0x21acb0=_0x4c6561[_0x299e('0x84')]();if(_0x21acb0&&process['env']['hasOwnProperty']('BOTIUMBOX_AGENT_NUM')){return _0x21acb0+'_'+process[_0x299e('0x82')][_0x299e('0x85')];}else if(_0x21acb0){return _0x21acb0;}else{return _0x299e('0x86');}};const _0x146e78=_0xad2ca8();const _0x4b9192=process[_0x299e('0x82')][_0x299e('0x87')]||'Default\x20Group';_0x1b5e5d(_0x299e('0x88')+_0x146e78+_0x299e('0x89')+_0x4b9192+_0x299e('0x5b'));let _0x352417={};if(process['env'][_0x299e('0x8a')]){try{_0x352417=JSON[_0x299e('0x8b')](process['env'][_0x299e('0x8a')]);_0x1b5e5d(_0x299e('0x8c')+JSON[_0x299e('0x30')](_0x352417)+'\x27');}catch(_0x599e44){console[_0x299e('0x1d')](_0x299e('0x8d')+process[_0x299e('0x82')][_0x299e('0x8a')]+'\x27:');console[_0x299e('0x1d')](_0x599e44);process[_0x299e('0x8e')](0x1);}}else{if(process[_0x299e('0x82')][_0x299e('0x8f')]){_0x352417[_0x299e('0x90')]=process[_0x299e('0x82')][_0x299e('0x8f')];}if(process[_0x299e('0x82')]['BOTIUMBOX_QUEUE_REDISURL']){_0x352417[_0x299e('0x91')]=process['env']['BOTIUMBOX_QUEUE_REDISURL'];}}_0x1b5e5d(_0x299e('0x92')+JSON[_0x299e('0x30')](_0x352417)+'\x27');const _0x40e8c0=process[_0x299e('0x82')][_0x299e('0x93')]||0x1;let _0x22d9d9=process[_0x299e('0x82')]['BOTIUMBOX_QUEUE_HEARTBEAT']||0x493e0;if(_0x22d9d9>0x0&&_0x22d9d9<0x1388)_0x22d9d9=0x1388;const _0x9de471=_0x143cbc[_0x299e('0x94')](_0x352417);_0x9de471['on'](_0x299e('0x95'),_0x594f47=>{console[_0x299e('0x1d')](_0x299e('0x96')+JSON[_0x299e('0x30')](_0x352417)+'\x27:');console[_0x299e('0x1d')](_0x594f47);process[_0x299e('0x8e')](0x1);});_0x1b5e5d(_0x299e('0x97'));_0x9de471[_0x299e('0x98')]('agent.register',{'title':_0x299e('0x99')+_0x146e78+_0x299e('0x89')+_0x4b9192,'name':_0x146e78,'group':_0x4b9192})[_0x299e('0x9a')]('high')['attempts'](0x5)['ttl'](0x2710)['removeOnComplete'](!![])[_0x299e('0x9b')]()['on']('failed',_0x5a8296=>{console[_0x299e('0x1d')](_0x299e('0x9c'));console[_0x299e('0x1d')](_0x5a8296);process[_0x299e('0x8e')](0x1);})['on'](_0x299e('0x9d'),_0x2c7769=>{_0x1b5e5d('Registration\x20completed\x20with\x20result\x20\x27'+JSON[_0x299e('0x30')](_0x2c7769)+_0x299e('0x9e')+_0x40e8c0+').');let _0x3d9df9=_0x2c7769;const _0x39eb21=(_0x4f508d,_0x55976d)=>{_0x1b5e5d(_0x299e('0x9f')+_0x4f508d['id']);try{_0x428472[_0x299e('0xa0')](_0x3d9df9,_0x4f508d)[_0x299e('0x4e')](_0x2c7769=>{_0x1b5e5d(_0x299e('0x9f')+_0x4f508d['id']+'\x20finished\x20with\x20result:');_0x1b5e5d(_0x2c7769);_0x55976d(null,_0x2c7769);})[_0x299e('0x80')](_0x2f833c=>{_0x1b5e5d(_0x299e('0x9f')+_0x4f508d['id']+_0x299e('0xa1'));_0x1b5e5d(_0x2f833c);_0x55976d(_0x2f833c);});}catch(_0x4ea404){_0x1b5e5d('Processing\x20Job\x20'+_0x4f508d['id']+_0x299e('0xa1'));_0x1b5e5d(_0x4ea404);_0x55976d(_0x4ea404);}};const _0x5a07ee=(_0x4dee60,_0x4027f0)=>{if(!_0x4dee60['data']||!_0x4dee60[_0x299e('0x46')][_0x299e('0xa2')]){return[_0x1b5e5d,_0x4027f0][_0x299e('0x26')](_0x1fedcb=>_0x1fedcb('Cancel\x20Test\x20Session\x20event\x20received,\x20but\x20no\x20testSessionId\x20given'));}_0x1b5e5d('Canceling\x20Test\x20Session\x20Job\x20'+(_0x4dee60[_0x299e('0x46')]&&_0x4dee60[_0x299e('0x46')]['jobId']));try{_0x428472['cancel'](_0x4dee60[_0x299e('0x46')][_0x299e('0xa2')],_0x4dee60);_0x1b5e5d(_0x299e('0xa3')+_0x4dee60[_0x299e('0x46')][_0x299e('0xa2')]+_0x299e('0xa4'));_0x4027f0();}catch(_0x3dca91){_0x1b5e5d('Canceling\x20Test\x20Session\x20Job\x20'+_0x4dee60[_0x299e('0x46')]['jobId']+_0x299e('0xa1'));_0x1b5e5d(_0x3dca91);_0x4027f0(_0x3dca91);}};const _0x276048=(_0x2594c2,_0x752a0)=>{_0x1b5e5d(_0x299e('0xa5'));_0x9de471[_0x299e('0x98')](_0x299e('0xa6'),{'title':_0x299e('0xa7')+_0x146e78+_0x299e('0xa8')+_0x4b9192,'name':_0x146e78,'group':_0x4b9192})[_0x299e('0x9a')]('high')['attempts'](0x5)[_0x299e('0xa9')](0x2710)['removeOnComplete'](!![])[_0x299e('0x9b')]()['on'](_0x299e('0xaa'),_0x4de145=>{console['log'](_0x299e('0xab'));console['log'](_0x4de145);})['on']('complete',_0x2c7769=>{_0x1b5e5d(_0x299e('0xac')+JSON['stringify'](_0x2c7769)+'\x27.');_0x3d9df9=_0x2c7769;});};_0x9de471[_0x299e('0xad')]('process.'+_0x4b9192,_0x40e8c0,_0x39eb21);_0x9de471[_0x299e('0xad')]('process.'+_0x146e78,_0x40e8c0,_0x39eb21);_0x9de471[_0x299e('0xad')](_0x299e('0xad'),_0x40e8c0,_0x39eb21);_0x9de471[_0x299e('0xad')](_0x299e('0xae'),_0x40e8c0,_0x5a07ee);_0x9de471[_0x299e('0xad')](_0x299e('0xaf')+_0x146e78,_0x40e8c0,_0x276048);if(_0x22d9d9>0x0){const _0x7eeb1b=()=>{_0x1b5e5d(_0x299e('0xb0'));const _0x118f66=_0x9de471[_0x299e('0x98')](_0x299e('0xb1'),{'title':_0x299e('0xb2')+_0x146e78+'\x20for\x20group\x20'+_0x4b9192,'name':_0x146e78,'group':_0x4b9192})[_0x299e('0xb3')](!![])[_0x299e('0x9b')]();_0x118f66['on'](_0x299e('0x9d'),()=>{setTimeout(_0x7eeb1b,_0x22d9d9);});};_0x7eeb1b();}});process['on'](_0x299e('0xb4'),_0x1e08b6=>{console[_0x299e('0x1d')](_0x299e('0xb5'),_0x1e08b6);});var _0x4ffd09={};return _0x4ffd09;}));