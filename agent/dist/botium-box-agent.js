var _0x3716=['botium-core/src/scripting/Constants','botium-core/src/Capabilities','util','intercept-stdout','lodash','botium-core','dotenv-flow','function','amd','path','botium-core/src/Source','botium-core/src/repos/GitRepo','debug','kue','main','Constants','GitRepo','interceptStdout','dotenvFlow','hasOwnProperty','default','COMMUNITY\x20EDITION','release/1.1.0','2019-02-08T16:11:35+00:00','log','BUILD_TARGET:\x20','BUILD_BRANCH:\x20','buildBranch','BUILD_REVISION:\x20','BUILD_TIMESTAMP:\x20','buildDate','botium-retrieve-all-test-cases','convos','forEach','SCRIPTING_FORMAT_XSLX','from','content','base64','Compile','SCRIPTING_TYPE_UTTERANCES','SCRIPTING_TYPE_CONVO','SCRIPTING_FORMAT_TXT','sourceTag',':\x20Convo\x20Script\x20compilation\x20failed:\x20','stringify','name',':\x20Utterance\x20script\x20compilation\x20failed:\x20','folders','ReadScriptsFromDirectory','assign',':\x20Folder\x20','\x20script\x20compilation\x20failed:\x20','resolve','excels','length','all','caps','SCRIPTING_XLSX_SHEETNAMES','SCRIPTING_XLSX_STARTCOL','SCRIPTING_XLSX_SHEETNAMES_UTTERANCES','SCRIPTING_XLSX_STARTROW','BotDriver','botium-box-worker-runtestcases','unhook','replace','progress','total','data',':\x20Started\x20processing,\x20JobId\x20#','botium','Capabilities','Sources','Envs','BuildFluent','compiler','_validate','testSets','map','tempDirectory','then','filter','expandConvos','expanding\x20convos\x20...','ExpandConvos','expandUtterancesToConvos','uniq','expandUtterancesIncomprehension','inspect','\x20...','expanding\x20utterances\x20to\x20convos\x20...','SCRIPTING_UTTEXPANSION_INCOMPREHENSION','found\x20','\x20convos\x20...','reduce','concat','catch','batchNum','batchCount','ceil','min','batchNum:\x20','\x20batchEnd:\x20','title','\x20batchCount:\x20','\x20convosPerBatch:\x20','\x20batchStart:\x20','push','attachments','MESSAGE_SENTTOBOT','eventEmitter','removeListener','MESSAGE_RECEIVEDFROMBOT','MESSAGE_ATTACHMENT','CONTAINER_STARTED','Call','Start','Test\x20Session\x20cancelled,\x20skipping\x20Convo\x20\x22','header','Running\x20Convo\x20\x22','\x22,\x20Index\x20','\x20from\x20','Run','container','\x22\x20completed\x20successfully.','transcript','Stop','err','message','steps','Clean','Test\x20Session\x20cancelled','Exec','config','printVersion','botium-box-worker','env','BOTIUMBOX_AGENT_NAME','hostname','BOTIUMBOX_AGENT_NUM','BOTIUMBOX_AGENT_GROUP','Default\x20Group','\x20to\x20group\x20','BOTIUMBOX_QUEUE_SETTINGS','parse','Got\x20queue\x20settings\x20\x27','ERROR\x20parsing\x20queue\x20settings\x20\x27','exit','BOTIUMBOX_QUEUE_PREFIX','BOTIUMBOX_QUEUE_REDISURL','connecting\x20to\x20Botium\x20queue\x20\x27','BOTIUMBOX_QUEUE_CONCURRENCY','BOTIUMBOX_QUEUE_HEARTBEAT','createQueue','error','ERROR\x20connecting\x20to\x20queue\x20\x27','Trying\x20to\x20register\x20agent\x20...','create','agent.register','register\x20agent\x20','high','removeOnComplete','failed','complete','Registration\x20completed\x20with\x20result\x20\x27','\x27,\x20now\x20accepting\x20processing\x20jobs\x20(concurrency\x20','run','Processing\x20Job\x20','\x20finished\x20with\x20result:','\x20failed:','jobId','Cancel\x20Test\x20Session\x20event\x20received,\x20but\x20no\x20testSessionId\x20given','Canceling\x20Test\x20Session\x20Job\x20','cancel','\x20finished.','reconfigure\x20agent\x20','\x20for\x20group\x20','ttl','process','process.','agent.reconfigure.','agent.heartbeat','heartbeat\x20from\x20agent\x20','uncaughtException','Got\x20an\x20uncaughtException','object','undefined','exports','slug'];(function(_0x2a83b5,_0x16225c){var _0x49bcf9=function(_0x2a114f){while(--_0x2a114f){_0x2a83b5['push'](_0x2a83b5['shift']());}};var _0x343729=function(){var _0x36df16={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x290531,_0x12cc64,_0x576744,_0x2f75ba){_0x2f75ba=_0x2f75ba||{};var _0x5bb865=_0x12cc64+'='+_0x576744;var _0x11b4b7=0x0;for(var _0x11b4b7=0x0,_0x5b4245=_0x290531['length'];_0x11b4b7<_0x5b4245;_0x11b4b7++){var _0x256ac2=_0x290531[_0x11b4b7];_0x5bb865+=';\x20'+_0x256ac2;var _0x397251=_0x290531[_0x256ac2];_0x290531['push'](_0x397251);_0x5b4245=_0x290531['length'];if(_0x397251!==!![]){_0x5bb865+='='+_0x397251;}}_0x2f75ba['cookie']=_0x5bb865;},'removeCookie':function(){return'dev';},'getCookie':function(_0x4333b0,_0x17e80a){_0x4333b0=_0x4333b0||function(_0x3f9317){return _0x3f9317;};var _0x8ecb75=_0x4333b0(new RegExp('(?:^|;\x20)'+_0x17e80a['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x369228=function(_0xd74ef3,_0x33a676){_0xd74ef3(++_0x33a676);};_0x369228(_0x49bcf9,_0x16225c);return _0x8ecb75?decodeURIComponent(_0x8ecb75[0x1]):undefined;}};var _0xa7db1b=function(){var _0x398763=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x398763['test'](_0x36df16['removeCookie']['toString']());};_0x36df16['updateCookie']=_0xa7db1b;var _0x1f3bcd='';var _0x53e920=_0x36df16['updateCookie']();if(!_0x53e920){_0x36df16['setCookie'](['*'],'counter',0x1);}else if(_0x53e920){_0x1f3bcd=_0x36df16['getCookie'](null,'counter');}else{_0x36df16['removeCookie']();}};_0x343729();}(_0x3716,0xb8));var _0x3646=function(_0x1e7192,_0x2bf367){_0x1e7192=_0x1e7192-0x0;var _0x46c20b=_0x3716[_0x1e7192];return _0x46c20b;};(function(_0x4e9875,_0x221e15){var _0xaf8039=function(){var _0xd5c261=!![];return function(_0x2661f5,_0x16fe48){var _0x227527=_0xd5c261?function(){if(_0x16fe48){var _0x2ce209=_0x16fe48['apply'](_0x2661f5,arguments);_0x16fe48=null;return _0x2ce209;}}:function(){};_0xd5c261=![];return _0x227527;};}();var _0x181173=_0xaf8039(this,function(){var _0x3d299d=function(){return'\x64\x65\x76';},_0x14b622=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x2877f7=function(){var _0x211ef1=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x211ef1['\x74\x65\x73\x74'](_0x3d299d['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x218ed5=function(){var _0x1c9535=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x1c9535['\x74\x65\x73\x74'](_0x14b622['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x1d175a=function(_0xb815df){var _0x49467e=~-0x1>>0x1+0xff%0x0;if(_0xb815df['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x49467e)){_0x129c1c(_0xb815df);}};var _0x129c1c=function(_0x2e87ce){var _0x238536=~-0x4>>0x1+0xff%0x0;if(_0x2e87ce['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x238536){_0x1d175a(_0x2e87ce);}};if(!_0x2877f7()){if(!_0x218ed5()){_0x1d175a('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x1d175a('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x1d175a('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x181173();typeof exports===_0x3646('0x0')&&typeof module!==_0x3646('0x1')?module[_0x3646('0x2')]=_0x221e15(require('path'),require(_0x3646('0x3')),require(_0x3646('0x4')),require('botium-core/src/Source'),require('botium-core/src/repos/GitRepo'),require(_0x3646('0x5')),require(_0x3646('0x6')),require(_0x3646('0x7')),require(_0x3646('0x8')),require(_0x3646('0x9')),require('debug'),require(_0x3646('0xa')),require('os'),require('kue')):typeof define===_0x3646('0xb')&&define[_0x3646('0xc')]?define([_0x3646('0xd'),_0x3646('0x3'),_0x3646('0x4'),_0x3646('0xe'),_0x3646('0xf'),_0x3646('0x5'),_0x3646('0x6'),_0x3646('0x7'),'lodash','botium-core',_0x3646('0x10'),'dotenv-flow','os',_0x3646('0x11')],_0x221e15):_0x4e9875[_0x3646('0x12')]=_0x221e15(_0x4e9875[_0x3646('0xd')],_0x4e9875[_0x3646('0x3')],_0x4e9875[_0x3646('0x13')],_0x4e9875['Source'],_0x4e9875[_0x3646('0x14')],_0x4e9875['Capabilities'],_0x4e9875[_0x3646('0x6')],_0x4e9875[_0x3646('0x15')],_0x4e9875[_0x3646('0x8')],_0x4e9875['botiumCore'],_0x4e9875[_0x3646('0x10')],_0x4e9875[_0x3646('0x16')],_0x4e9875['os'],_0x4e9875['kue']);}(this,function(_0xf7ed9f,_0x2fe4cb,_0x442a29,_0x155298,_0x1334e7,_0x577e84,_0x17d4f5,_0x12f099,_0xa63beb,_0x531ce7,_0x14d880,_0x4c9b9c,_0x112584,_0x17ab0d){'use strict';_0xf7ed9f=_0xf7ed9f&&_0xf7ed9f[_0x3646('0x17')](_0x3646('0x18'))?_0xf7ed9f[_0x3646('0x18')]:_0xf7ed9f;_0x2fe4cb=_0x2fe4cb&&_0x2fe4cb[_0x3646('0x17')](_0x3646('0x18'))?_0x2fe4cb[_0x3646('0x18')]:_0x2fe4cb;_0x442a29=_0x442a29&&_0x442a29[_0x3646('0x17')](_0x3646('0x18'))?_0x442a29[_0x3646('0x18')]:_0x442a29;_0x155298=_0x155298&&_0x155298[_0x3646('0x17')](_0x3646('0x18'))?_0x155298[_0x3646('0x18')]:_0x155298;_0x1334e7=_0x1334e7&&_0x1334e7['hasOwnProperty'](_0x3646('0x18'))?_0x1334e7[_0x3646('0x18')]:_0x1334e7;_0x577e84=_0x577e84&&_0x577e84[_0x3646('0x17')]('default')?_0x577e84[_0x3646('0x18')]:_0x577e84;_0x17d4f5=_0x17d4f5&&_0x17d4f5[_0x3646('0x17')]('default')?_0x17d4f5[_0x3646('0x18')]:_0x17d4f5;_0x12f099=_0x12f099&&_0x12f099[_0x3646('0x17')](_0x3646('0x18'))?_0x12f099['default']:_0x12f099;_0xa63beb=_0xa63beb&&_0xa63beb[_0x3646('0x17')](_0x3646('0x18'))?_0xa63beb['default']:_0xa63beb;_0x531ce7=_0x531ce7&&_0x531ce7[_0x3646('0x17')]('default')?_0x531ce7[_0x3646('0x18')]:_0x531ce7;_0x14d880=_0x14d880&&_0x14d880[_0x3646('0x17')]('default')?_0x14d880[_0x3646('0x18')]:_0x14d880;_0x4c9b9c=_0x4c9b9c&&_0x4c9b9c['hasOwnProperty'](_0x3646('0x18'))?_0x4c9b9c['default']:_0x4c9b9c;_0x112584=_0x112584&&_0x112584['hasOwnProperty']('default')?_0x112584[_0x3646('0x18')]:_0x112584;_0x17ab0d=_0x17ab0d&&_0x17ab0d[_0x3646('0x17')](_0x3646('0x18'))?_0x17ab0d['default']:_0x17ab0d;const _0x25a2e0={'buildTarget':_0x3646('0x19'),'buildBranch':_0x3646('0x1a'),'buildRevision':'eda13b42bc821f8e3b686d202addf0c2cfd2bc60','buildDate':_0x3646('0x1b')};const _0x2bc0c7=()=>{console[_0x3646('0x1c')]('BOTIUM\x20BOX\x20-\x20AGENT');console['log'](_0x3646('0x1d')+_0x25a2e0['buildTarget']);console[_0x3646('0x1c')](_0x3646('0x1e')+_0x25a2e0[_0x3646('0x1f')]);console[_0x3646('0x1c')](_0x3646('0x20')+_0x25a2e0['buildRevision']);console['log'](_0x3646('0x21')+_0x25a2e0[_0x3646('0x22')]);};var _0x76d279={'buildInfo':_0x25a2e0,'printVersion':_0x2bc0c7};const _0x19b2f7=_0x14d880(_0x3646('0x23'));var _0x3cd53d=(_0x54b09a,_0x2c663a,_0x24b42c,_0x468c4f)=>{_0x54b09a[_0x3646('0x24')]&&_0x54b09a[_0x3646('0x24')][_0x3646('0x25')](_0x4cae58=>{let _0x99dbd6=[];let _0x16b473=[];try{if(_0x4cae58['format']===_0x442a29[_0x3646('0x26')]){const _0x3f0ee1=Buffer[_0x3646('0x27')](_0x4cae58[_0x3646('0x28')],_0x3646('0x29'));_0x16b473=_0x2c663a[_0x3646('0x2a')](_0x3f0ee1,_0x442a29[_0x3646('0x26')],_0x442a29[_0x3646('0x2b')]);_0x99dbd6=_0x2c663a[_0x3646('0x2a')](_0x3f0ee1,_0x442a29['SCRIPTING_FORMAT_XSLX'],_0x442a29[_0x3646('0x2c')]);}else if(_0x4cae58['format']===_0x442a29[_0x3646('0x2d')]){_0x99dbd6=_0x2c663a[_0x3646('0x2a')](_0x4cae58[_0x3646('0x28')],_0x442a29[_0x3646('0x2d')],_0x442a29[_0x3646('0x2c')]);}if(_0x99dbd6)_0x99dbd6[_0x3646('0x25')](_0x55f668=>{_0x55f668[_0x3646('0x2e')]=_0x4cae58[_0x3646('0x2e')];});if(_0x16b473)_0x16b473[_0x3646('0x25')](_0x40d1d3=>{_0x40d1d3['sourceTag']=_0x4cae58[_0x3646('0x2e')];});}catch(_0xa44548){_0x19b2f7(_0xa44548);throw new Error(_0x54b09a['name']+_0x3646('0x2f')+JSON[_0x3646('0x30')](_0xa44548));}});_0x54b09a['utterances']&&_0x54b09a['utterances'][_0x3646('0x25')](_0x8c4a11=>{let _0x329676=[];try{_0x329676=_0x2c663a[_0x3646('0x2a')](_0x8c4a11[_0x3646('0x28')],_0x442a29[_0x3646('0x2d')],_0x442a29[_0x3646('0x2b')]);if(_0x329676)_0x329676[_0x3646('0x25')](_0x56d327=>{_0x56d327[_0x3646('0x2e')]=_0x8c4a11['sourceTag'];});}catch(_0x173cae){_0x19b2f7(_0x173cae);throw new Error(_0x54b09a[_0x3646('0x31')]+_0x3646('0x32')+JSON['stringify'](_0x173cae));}});_0x54b09a[_0x3646('0x33')]&&_0x54b09a[_0x3646('0x33')][_0x3646('0x25')](_0x4810cd=>{try{const {convos,utterances}=_0x2c663a[_0x3646('0x34')](_0x4810cd[_0x3646('0xd')],_0x4810cd['globFilter']);convos&&convos[_0x3646('0x25')](_0x4808f6=>{_0x4808f6[_0x3646('0x2e')]=Object[_0x3646('0x35')]({},_0x4808f6[_0x3646('0x2e')],_0x4810cd[_0x3646('0x2e')]);});utterances&&utterances['forEach'](_0x5a2f7e=>{_0x5a2f7e[_0x3646('0x2e')]=Object['assign']({},_0x5a2f7e['sourceTag'],_0x4810cd['sourceTag']);});}catch(_0x1fadc1){_0x19b2f7(_0x1fadc1);throw new Error(_0x54b09a[_0x3646('0x31')]+_0x3646('0x36')+_0x4810cd+_0x3646('0x37')+JSON[_0x3646('0x30')](_0x1fadc1));}});let _0x2cc3a7=Promise[_0x3646('0x38')]();if(_0x54b09a[_0x3646('0x39')]&&_0x54b09a[_0x3646('0x39')][_0x3646('0x3a')]>0x0){_0x2cc3a7=Promise[_0x3646('0x3b')](_0x54b09a[_0x3646('0x39')]['map'](({id,filename,filecontent,hasConvos,hasUtterances,worksheetsConvos,worksheetsUtterances,startRow,startCol,sourceTag})=>{return new Promise(_0x6f781=>{const _0x21a796=Buffer[_0x3646('0x27')](filecontent,_0x3646('0x29'));let _0xc347b8=[];let _0x10eb3e=[];if(hasConvos){if(worksheetsConvos)_0x2c663a[_0x3646('0x3c')][_0x577e84[_0x3646('0x3d')]]=worksheetsConvos;if(!isNaN(startRow))_0x2c663a[_0x3646('0x3c')][_0x577e84['SCRIPTING_XLSX_STARTROW']]=startRow;if(!isNaN(startCol))_0x2c663a['caps'][_0x577e84[_0x3646('0x3e')]]=startCol;_0xc347b8=_0x2c663a['Compile'](_0x21a796,_0x442a29[_0x3646('0x26')],_0x442a29[_0x3646('0x2c')]);}if(hasUtterances){if(worksheetsUtterances)_0x2c663a[_0x3646('0x3c')][_0x577e84[_0x3646('0x3f')]]=worksheetsUtterances;if(!isNaN(startRow))_0x2c663a[_0x3646('0x3c')][_0x577e84[_0x3646('0x40')]]=startRow;if(!isNaN(startCol))_0x2c663a['caps'][_0x577e84[_0x3646('0x3e')]]=startCol;_0x10eb3e=_0x2c663a['Compile'](_0x21a796,_0x442a29['SCRIPTING_FORMAT_XSLX'],_0x442a29['SCRIPTING_TYPE_UTTERANCES']);}_0xc347b8&&_0xc347b8['forEach'](_0x48e086=>{_0x48e086[_0x3646('0x2e')]=Object[_0x3646('0x35')]({},_0x48e086[_0x3646('0x2e')],sourceTag);});_0x10eb3e&&_0x10eb3e[_0x3646('0x25')](_0x17830d=>{_0x17830d[_0x3646('0x2e')]=Object['assign']({},_0x17830d[_0x3646('0x2e')],sourceTag);});_0x6f781();});}));}let _0x318481=Promise[_0x3646('0x38')]();return Promise[_0x3646('0x3b')]([_0x318481,_0x2cc3a7]);};const _0xa7debb=_0x531ce7[_0x3646('0x41')];const _0x95602a=_0x14d880(_0x3646('0x42'));const _0x4f348b={'unhook':null,'progress':0x0,'total':0x0};const _0x559179=_0x44d2dc=>{_0x4f348b[_0x3646('0x43')]=_0x12f099(_0x3ea2d1=>{const _0x4ce739=_0x3ea2d1[_0x3646('0x44')](/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,'');_0x44d2dc[_0x3646('0x45')](_0x4f348b[_0x3646('0x45')],_0x4f348b[_0x3646('0x46')],{'log':_0x4ce739});return _0x3ea2d1;});};const _0x84a2bd=()=>{if(_0x4f348b[_0x3646('0x43')]){_0x4f348b['unhook']();_0x4f348b[_0x3646('0x43')]=null;}_0x4f348b['progress']=0x0;_0x4f348b['total']=0x0;};const _0x5a3954={};const _0x2041f4=(_0x3a68cd,_0x4a34da)=>{if(!_0x5a3954[_0x3a68cd])_0x5a3954[_0x3a68cd]=[];_0x5a3954[_0x3a68cd]['push'](_0x4a34da);};const _0x43753f=(_0x2e4b73,_0x2f7d2e)=>{if(_0x5a3954[_0x2e4b73]){_0x5a3954[_0x2e4b73][_0x3646('0x25')](_0x5525da=>_0x5525da());delete _0x5a3954[_0x2e4b73];}};const _0x49f82b=(_0x472023,_0x5b65aa)=>{let _0x2cda0b=![];_0x2041f4(_0x5b65aa['id'],()=>{_0x2cda0b=!![];});return new Promise((_0x315065,_0x35ba63)=>{_0x5b65aa[_0x3646('0x45')](0x0,0x0,{'log':_0x5b65aa[_0x3646('0x47')]['title']+_0x3646('0x48')+_0x5b65aa['id']+'.'});_0x559179(_0x5b65aa);const _0x92e016={};if(_0x472023[_0x3646('0x49')]&&_0x472023[_0x3646('0x49')][_0x3646('0x4a')])Object['assign'](_0x92e016,_0x472023[_0x3646('0x49')][_0x3646('0x4a')]);if(_0x5b65aa[_0x3646('0x47')][_0x3646('0x49')]&&_0x5b65aa['data'][_0x3646('0x49')][_0x3646('0x4a')])Object[_0x3646('0x35')](_0x92e016,_0x5b65aa['data']['botium'][_0x3646('0x4a')]);const _0x73aba9={};if(_0x472023[_0x3646('0x49')]&&_0x472023[_0x3646('0x49')]['Sources'])Object[_0x3646('0x35')](_0x73aba9,_0x472023[_0x3646('0x49')][_0x3646('0x4b')]);if(_0x5b65aa[_0x3646('0x47')][_0x3646('0x49')]&&_0x5b65aa[_0x3646('0x47')][_0x3646('0x49')][_0x3646('0x4b')])Object[_0x3646('0x35')](_0x73aba9,_0x5b65aa[_0x3646('0x47')]['botium'][_0x3646('0x4b')]);const _0x40d07e={};if(_0x472023[_0x3646('0x49')]&&_0x472023['botium'][_0x3646('0x4c')])Object[_0x3646('0x35')](_0x40d07e,_0x472023[_0x3646('0x49')][_0x3646('0x4c')]);if(_0x5b65aa[_0x3646('0x47')][_0x3646('0x49')]&&_0x5b65aa[_0x3646('0x47')][_0x3646('0x49')]['Envs'])Object[_0x3646('0x35')](_0x40d07e,_0x5b65aa['data']['botium'][_0x3646('0x4c')]);const _0xc62dfd=new _0xa7debb(_0x92e016,_0x73aba9,_0x40d07e);const _0x18fe21=_0xc62dfd[_0x3646('0x4d')]();_0x18fe21[_0x3646('0x4e')]=_0xc62dfd['BuildCompiler']();_0xc62dfd[_0x3646('0x4f')]()['then'](()=>{return new Promise((_0x315065,_0x35ba63)=>{const _0x54c1ed=Promise['all'](_0x5b65aa[_0x3646('0x47')][_0x3646('0x50')][_0x3646('0x51')](_0x2fb94a=>_0x3cd53d(_0x2fb94a,_0x18fe21[_0x3646('0x4e')],_0xc62dfd[_0x3646('0x52')],_0xc62dfd['sources'])))[_0x3646('0x53')](()=>{const _0x24f80d=_0x5b65aa[_0x3646('0x47')][_0x3646('0x50')][_0x3646('0x54')](_0x51d5cb=>_0x51d5cb[_0x3646('0x55')])[_0x3646('0x3a')]>0x0;if(_0x24f80d){_0x95602a(_0x3646('0x56'));_0x18fe21[_0x3646('0x4e')][_0x3646('0x57')]();}const _0x4f19a5=_0x5b65aa[_0x3646('0x47')][_0x3646('0x50')][_0x3646('0x54')](_0x3448b3=>_0x3448b3[_0x3646('0x58')])['length']>0x0;if(_0x4f19a5){const _0x182fd1=_0xa63beb[_0x3646('0x59')](_0x5b65aa['data'][_0x3646('0x50')][_0x3646('0x54')](_0x1a511d=>_0x1a511d['expandUtterancesToConvos']&&_0x1a511d[_0x3646('0x5a')])[_0x3646('0x51')](_0x271987=>_0x271987[_0x3646('0x5a')]));if(_0x182fd1&&_0x182fd1[_0x3646('0x3a')]>0x1){throw new Error('expanding\x20utterances\x20to\x20convos\x20not\x20possible,\x20found\x20multiple\x20INCOMPREHENSION\x20utterances:\x20'+_0x17d4f5[_0x3646('0x5b')](_0x182fd1)+_0x3646('0x5c'));}_0x95602a(_0x3646('0x5d'));if(_0x182fd1&&_0x182fd1[_0x3646('0x3a')]>0x0){_0x18fe21[_0x3646('0x4e')][_0x3646('0x3c')][_0x577e84[_0x3646('0x5e')]]=_0x182fd1[0x0];}_0x18fe21[_0x3646('0x4e')]['ExpandUtterancesToConvos']();_0x18fe21['compiler']['ExpandConvos']();}_0x95602a(_0x3646('0x5f')+_0x18fe21[_0x3646('0x4e')][_0x3646('0x24')][_0x3646('0x3a')]+_0x3646('0x60'));return _0x18fe21['compiler'][_0x3646('0x24')];});_0x54c1ed[_0x3646('0x53')](_0x4b5072=>{_0x315065(_0x4b5072[_0x3646('0x61')]((_0x1eadbc,_0x105e1d)=>_0x1eadbc[_0x3646('0x62')](_0x105e1d),[]));})[_0x3646('0x63')](_0x35ba63);});})['then'](()=>{_0x18fe21[_0x3646('0x4e')][_0x3646('0x57')]();const _0x171f10=_0x5b65aa[_0x3646('0x47')][_0x3646('0x64')]||0x1;const _0x46abb5=_0x5b65aa[_0x3646('0x47')][_0x3646('0x65')]||0x1;const _0x259905=Math[_0x3646('0x66')](_0x18fe21[_0x3646('0x4e')][_0x3646('0x24')]['length']/_0x46abb5);const _0x386713=_0x259905*(_0x171f10-0x1);const _0x389bec=Math[_0x3646('0x67')](_0x386713+_0x259905,_0x18fe21[_0x3646('0x4e')][_0x3646('0x24')][_0x3646('0x3a')])-0x1;_0x95602a(_0x3646('0x68')+_0x171f10+'\x20batchCount:\x20'+_0x46abb5+'\x20convosPerBatch:\x20'+_0x259905+'\x20batchStart:\x20'+_0x386713+_0x3646('0x69')+_0x389bec);_0x5b65aa[_0x3646('0x45')](0x0,_0x259905,{'log':_0x5b65aa[_0x3646('0x47')][_0x3646('0x6a')]+':\x20batchNum:\x20'+_0x171f10+_0x3646('0x6b')+_0x46abb5+_0x3646('0x6c')+_0x259905+_0x3646('0x6d')+_0x386713+_0x3646('0x69')+_0x389bec});for(let _0x1d86e6=_0x386713;_0x1d86e6<=_0x389bec;_0x1d86e6++){const _0x38ea47=_0x1d86e6;const _0x3c3800=_0x18fe21[_0x3646('0x4e')]['convos'][_0x38ea47];let _0x285d14=null;const _0x3c4123=[];const _0x5ec8ce=(_0x2942ba,_0x208f93)=>{if(_0x208f93['attachments'])_0x3c4123[_0x3646('0x6e')](..._0x208f93[_0x3646('0x6f')]);};const _0xe080cc=(_0x4439c1,_0x3c581f)=>{if(_0x3c581f[_0x3646('0x6f')])_0x3c4123['push'](..._0x3c581f['attachments']);};const _0x133314=(_0x1ca491,_0x229b8a)=>{_0x3c4123[_0x3646('0x6e')](_0x229b8a);};const _0x4ae91f=(_0x28d178,_0x3a631f)=>{if(_0x3a631f)_0x3c3800[_0x3646('0x2e')]=Object[_0x3646('0x35')]({},_0x3c3800[_0x3646('0x2e')],_0x3a631f);};const _0x67651d=()=>{_0xc62dfd['eventEmitter']['removeListener'](_0x3646('0x70'),_0x5ec8ce);_0xc62dfd[_0x3646('0x71')][_0x3646('0x72')](_0x3646('0x73'),_0xe080cc);_0xc62dfd[_0x3646('0x71')]['removeListener'](_0x3646('0x74'),_0x133314);_0xc62dfd['eventEmitter']['removeListener']('CONTAINER_STARTED',_0x4ae91f);};const _0x2d6ace=()=>{_0xc62dfd['on'](_0x3646('0x70'),_0x5ec8ce);_0xc62dfd['on'](_0x3646('0x73'),_0xe080cc);_0xc62dfd['on']('MESSAGE_ATTACHMENT',_0x133314);_0xc62dfd['on'](_0x3646('0x75'),_0x4ae91f);};let _0x1d5f84=null;_0x18fe21[_0x3646('0x76')](_0x2d6ace)[_0x3646('0x77')]();_0x18fe21['Call'](()=>{return new Promise(_0x315065=>{if(_0x2cda0b){_0x95602a(_0x3646('0x78')+_0x3c3800[_0x3646('0x79')][_0x3646('0x31')]+'\x22,\x20Index\x20'+_0x38ea47+',\x20'+(_0x38ea47-_0x386713)+'\x20from\x20'+_0x259905);_0x315065();}else{_0x95602a(_0x3646('0x7a')+_0x3c3800['header']['name']+_0x3646('0x7b')+_0x38ea47+',\x20'+(_0x38ea47-_0x386713)+_0x3646('0x7c')+_0x259905);return _0x3c3800[_0x3646('0x7d')](_0x18fe21[_0x3646('0x7e')])['then'](_0x565a79=>{_0x95602a(_0x3646('0x7a')+_0x3c3800['header'][_0x3646('0x31')]+_0x3646('0x7f'));_0x285d14=_0x565a79;_0x315065();})[_0x3646('0x63')](_0x298d12=>{_0x95602a('Running\x20Convo\x20\x22'+_0x3c3800[_0x3646('0x79')]['name']+'\x22\x20failed:\x20'+_0x298d12+'.');_0x285d14=_0x298d12[_0x3646('0x80')];_0x1d5f84=_0x298d12;_0x315065();});}});});_0x18fe21[_0x3646('0x81')]()[_0x3646('0x76')](_0x67651d);_0x18fe21['Call'](()=>{if(_0x2cda0b)return;if(_0x285d14){_0x285d14[_0x3646('0x82')]=_0x285d14[_0x3646('0x82')]?_0x285d14[_0x3646('0x82')]['message']?_0x285d14['err'][_0x3646('0x83')]:JSON[_0x3646('0x30')](_0x285d14['err']):null;_0x285d14[_0x3646('0x84')]&&_0x285d14[_0x3646('0x84')][_0x3646('0x25')](_0x25b1a4=>{_0x25b1a4[_0x3646('0x82')]=_0x25b1a4['err']?_0x25b1a4[_0x3646('0x82')][_0x3646('0x83')]?_0x25b1a4[_0x3646('0x82')][_0x3646('0x83')]:JSON[_0x3646('0x30')](_0x25b1a4['err']):null;});}_0x5b65aa[_0x3646('0x45')](_0x38ea47-_0x386713+0x1,_0x259905,{'type':'process','testcase':_0x3c3800[_0x3646('0x79')][_0x3646('0x31')],'source':_0x3c3800['toString'](),'sourceTag':_0x3c3800[_0x3646('0x2e')],'transcript':_0x285d14,'attachments':_0x3c4123,'success':_0x1d5f84===null,'err':_0x1d5f84?_0x1d5f84[_0x3646('0x83')]?_0x1d5f84[_0x3646('0x83')]:JSON[_0x3646('0x30')](_0x1d5f84):null});});}_0x18fe21[_0x3646('0x85')]();_0x18fe21[_0x3646('0x76')](()=>_0x84a2bd());_0x18fe21[_0x3646('0x76')](()=>{if(_0x2cda0b){throw new Error(_0x3646('0x86'));}});_0x18fe21[_0x3646('0x87')]()['then'](_0x315065)['catch'](_0x35ba63);})[_0x3646('0x63')](_0x35ba63);});};var _0x3bc965={'run':_0x49f82b,'cancel':_0x43753f};_0x4c9b9c[_0x3646('0x88')]();_0x76d279[_0x3646('0x89')]();const _0x559f28=_0x14d880(_0x3646('0x8a'));const _0x4ffbac=()=>{if(process[_0x3646('0x8b')][_0x3646('0x8c')]){return process[_0x3646('0x8b')]['BOTIUMBOX_AGENT_NAME'];}const _0xf981cc=_0x112584[_0x3646('0x8d')]();if(_0xf981cc&&process[_0x3646('0x8b')]['hasOwnProperty']('BOTIUMBOX_AGENT_NUM')){return _0xf981cc+'_'+process[_0x3646('0x8b')][_0x3646('0x8e')];}else if(_0xf981cc){return _0xf981cc;}else{return'Default\x20Agent';}};const _0x4161a9=_0x4ffbac();const _0x137462=process[_0x3646('0x8b')][_0x3646('0x8f')]||_0x3646('0x90');_0x559f28('Connecting\x20agent\x20'+_0x4161a9+_0x3646('0x91')+_0x137462+_0x3646('0x5c'));let _0x286aec={};if(process[_0x3646('0x8b')][_0x3646('0x92')]){try{_0x286aec=JSON[_0x3646('0x93')](process[_0x3646('0x8b')][_0x3646('0x92')]);_0x559f28(_0x3646('0x94')+JSON[_0x3646('0x30')](_0x286aec)+'\x27');}catch(_0x4132cf){console['log'](_0x3646('0x95')+process[_0x3646('0x8b')][_0x3646('0x92')]+'\x27:');console[_0x3646('0x1c')](_0x4132cf);process[_0x3646('0x96')](0x1);}}else{if(process[_0x3646('0x8b')][_0x3646('0x97')]){_0x286aec['prefix']=process[_0x3646('0x8b')]['BOTIUMBOX_QUEUE_PREFIX'];}if(process['env'][_0x3646('0x98')]){_0x286aec['redis']=process[_0x3646('0x8b')][_0x3646('0x98')];}}_0x559f28(_0x3646('0x99')+JSON[_0x3646('0x30')](_0x286aec)+'\x27');const _0x2770d8=process['env'][_0x3646('0x9a')]||0x1;let _0x3e6b3a=process['env'][_0x3646('0x9b')]||0x493e0;if(_0x3e6b3a>0x0&&_0x3e6b3a<0x1388)_0x3e6b3a=0x1388;const _0x4dc7a3=_0x17ab0d[_0x3646('0x9c')](_0x286aec);_0x4dc7a3['on'](_0x3646('0x9d'),_0x10f2ee=>{console[_0x3646('0x1c')](_0x3646('0x9e')+JSON[_0x3646('0x30')](_0x286aec)+'\x27:');console[_0x3646('0x1c')](_0x10f2ee);process[_0x3646('0x96')](0x1);});_0x559f28(_0x3646('0x9f'));_0x4dc7a3[_0x3646('0xa0')](_0x3646('0xa1'),{'title':_0x3646('0xa2')+_0x4161a9+_0x3646('0x91')+_0x137462,'name':_0x4161a9,'group':_0x137462})['priority'](_0x3646('0xa3'))['attempts'](0x5)['ttl'](0x2710)[_0x3646('0xa4')](!![])['save']()['on'](_0x3646('0xa5'),_0x53d16b=>{console[_0x3646('0x1c')]('ERROR\x20registering\x20agent:');console[_0x3646('0x1c')](_0x53d16b);process['exit'](0x1);})['on'](_0x3646('0xa6'),_0x1e0918=>{_0x559f28(_0x3646('0xa7')+JSON[_0x3646('0x30')](_0x1e0918)+_0x3646('0xa8')+_0x2770d8+').');let _0x28a535=_0x1e0918;const _0x1482e9=(_0x27d5b4,_0x54b9fb)=>{_0x559f28('Processing\x20Job\x20'+_0x27d5b4['id']);try{_0x3bc965[_0x3646('0xa9')](_0x28a535,_0x27d5b4)[_0x3646('0x53')](_0x1e0918=>{_0x559f28(_0x3646('0xaa')+_0x27d5b4['id']+_0x3646('0xab'));_0x559f28(_0x1e0918);_0x54b9fb(null,_0x1e0918);})['catch'](_0x18a594=>{_0x559f28(_0x3646('0xaa')+_0x27d5b4['id']+_0x3646('0xac'));_0x559f28(_0x18a594);_0x54b9fb(_0x18a594);});}catch(_0x123961){_0x559f28('Processing\x20Job\x20'+_0x27d5b4['id']+_0x3646('0xac'));_0x559f28(_0x123961);_0x54b9fb(_0x123961);}};const _0x2aa194=(_0x245b76,_0xe9324d)=>{if(!_0x245b76['data']||!_0x245b76[_0x3646('0x47')][_0x3646('0xad')]){return[_0x559f28,_0xe9324d][_0x3646('0x25')](_0x2ac090=>_0x2ac090(_0x3646('0xae')));}_0x559f28(_0x3646('0xaf')+(_0x245b76[_0x3646('0x47')]&&_0x245b76[_0x3646('0x47')][_0x3646('0xad')]));try{_0x3bc965[_0x3646('0xb0')](_0x245b76['data']['jobId'],_0x245b76);_0x559f28(_0x3646('0xaf')+_0x245b76[_0x3646('0x47')][_0x3646('0xad')]+_0x3646('0xb1'));_0xe9324d();}catch(_0x45379b){_0x559f28('Canceling\x20Test\x20Session\x20Job\x20'+_0x245b76[_0x3646('0x47')][_0x3646('0xad')]+'\x20failed:');_0x559f28(_0x45379b);_0xe9324d(_0x45379b);}};const _0xe89b6b=(_0x37fbb0,_0xbad761)=>{_0x559f28('Trying\x20to\x20reconfigure\x20agent\x20...');_0x4dc7a3[_0x3646('0xa0')](_0x3646('0xa1'),{'title':_0x3646('0xb2')+_0x4161a9+_0x3646('0xb3')+_0x137462,'name':_0x4161a9,'group':_0x137462})['priority'](_0x3646('0xa3'))['attempts'](0x5)[_0x3646('0xb4')](0x2710)[_0x3646('0xa4')](!![])['save']()['on']('failed',_0x4cd35c=>{console['log']('ERROR\x20reconfiguring\x20agent:');console['log'](_0x4cd35c);})['on'](_0x3646('0xa6'),_0x1e0918=>{_0x559f28('Reconfiguration\x20completed\x20with\x20result\x20\x27'+JSON[_0x3646('0x30')](_0x1e0918)+'\x27.');_0x28a535=_0x1e0918;});};_0x4dc7a3['process']('process.'+_0x137462,_0x2770d8,_0x1482e9);_0x4dc7a3[_0x3646('0xb5')](_0x3646('0xb6')+_0x4161a9,_0x2770d8,_0x1482e9);_0x4dc7a3[_0x3646('0xb5')](_0x3646('0xb5'),_0x2770d8,_0x1482e9);_0x4dc7a3['process'](_0x3646('0xb0'),_0x2770d8,_0x2aa194);_0x4dc7a3['process'](_0x3646('0xb7')+_0x4161a9,_0x2770d8,_0xe89b6b);if(_0x3e6b3a>0x0){const _0x57c3d1=()=>{_0x559f28('sending\x20heartbeat\x20...');const _0x20f39a=_0x4dc7a3[_0x3646('0xa0')](_0x3646('0xb8'),{'title':_0x3646('0xb9')+_0x4161a9+'\x20for\x20group\x20'+_0x137462,'name':_0x4161a9,'group':_0x137462})[_0x3646('0xa4')](!![])['save']();_0x20f39a['on']('complete',()=>{setTimeout(_0x57c3d1,_0x3e6b3a);});};_0x57c3d1();}});process['on'](_0x3646('0xba'),_0x2e7b2a=>{console[_0x3646('0x1c')](_0x3646('0xbb'),_0x2e7b2a);});var _0x5074a0={};return _0x5074a0;}));