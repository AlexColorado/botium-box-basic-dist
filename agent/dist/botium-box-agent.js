var _0x2247=['progress','total','push','title','botium','data','Sources','Envs','BuildFluent','compiler','BuildCompiler','_validate','then','testSets','tempDirectory','sources','expandConvos','expandUtterancesToConvos','uniq','filter','expandUtterancesIncomprehension','inspect','\x20...','expanding\x20utterances\x20to\x20convos\x20...','ExpandConvos','\x20convos\x20...','reduce','concat','catch','batchNum','batchCount','min','\x20batchCount:\x20','\x20convosPerBatch:\x20','\x20batchStart:\x20','\x20batchEnd:\x20',':\x20batchNum:\x20','attachments','eventEmitter','removeListener','MESSAGE_SENTTOBOT','MESSAGE_RECEIVEDFROMBOT','MESSAGE_ATTACHMENT','CONTAINER_STARTED','Call','Start','header','\x22,\x20Index\x20','\x20from\x20','Running\x20Convo\x20\x22','Run','container','\x22\x20completed\x20successfully.','transcript','Stop','err','message','steps','process','toString','Test\x20Session\x20cancelled','Exec','config','printVersion','botium-box-worker','env','BOTIUMBOX_AGENT_NAME','hostname','BOTIUMBOX_AGENT_NUM','Default\x20Agent','BOTIUMBOX_AGENT_GROUP','Default\x20Group','Connecting\x20agent\x20','BOTIUMBOX_QUEUE_SETTINGS','parse','Got\x20queue\x20settings\x20\x27','ERROR\x20parsing\x20queue\x20settings\x20\x27','BOTIUMBOX_QUEUE_PREFIX','prefix','BOTIUMBOX_QUEUE_REDISURL','BOTIUMBOX_QUEUE_CONCURRENCY','BOTIUMBOX_QUEUE_HEARTBEAT','error','ERROR\x20connecting\x20to\x20queue\x20\x27','exit','Trying\x20to\x20register\x20agent\x20...','create','agent.register','\x20to\x20group\x20','priority','attempts','ttl','removeOnComplete','save','failed','ERROR\x20registering\x20agent:','complete','Registration\x20completed\x20with\x20result\x20\x27','\x27,\x20now\x20accepting\x20processing\x20jobs\x20(concurrency\x20','Processing\x20Job\x20','\x20finished\x20with\x20result:','\x20failed:','jobId','Canceling\x20Test\x20Session\x20Job\x20','cancel','\x20finished.','Trying\x20to\x20reconfigure\x20agent\x20...','reconfigure\x20agent\x20','\x20for\x20group\x20','high','process.','agent.reconfigure.','sending\x20heartbeat\x20...','agent.heartbeat','heartbeat\x20from\x20agent\x20','uncaughtException','exports','slug','botium-core/src/scripting/Constants','botium-core/src/repos/GitRepo','botium-core/src/Capabilities','util','intercept-stdout','lodash','debug','dotenv-flow','kue','function','amd','botium-core/src/Source','botium-core','main','path','Constants','Source','Capabilities','interceptStdout','botiumCore','default','hasOwnProperty','COMMUNITY\x20EDITION','master','30941ab6225d763c6d939e5c3dadfe53f40e3190','2019-01-15T14:08:30+00:00','log','BOTIUM\x20BOX\x20-\x20AGENT','BUILD_BRANCH:\x20','BUILD_REVISION:\x20','buildRevision','BUILD_TIMESTAMP:\x20','buildDate','botium-retrieve-all-test-cases','convos','forEach','format','SCRIPTING_FORMAT_XSLX','from','content','base64','Compile','SCRIPTING_TYPE_UTTERANCES','SCRIPTING_TYPE_CONVO','SCRIPTING_FORMAT_TXT','sourceTag','utterances','name',':\x20Utterance\x20script\x20compilation\x20failed:\x20','stringify','folders','ReadScriptsFromDirectory','globFilter',':\x20Folder\x20','\x20script\x20compilation\x20failed:\x20','resolve','excels','length','all','map','caps','SCRIPTING_XLSX_SHEETNAMES','SCRIPTING_XLSX_STARTROW','SCRIPTING_XLSX_STARTCOL','SCRIPTING_XLSX_SHEETNAMES_UTTERANCES','assign','botium-box-worker-runtestcases','unhook'];(function(_0x5c238e,_0x36e85d){var _0x52e3fc=function(_0x26e932){while(--_0x26e932){_0x5c238e['push'](_0x5c238e['shift']());}};var _0x5c6172=function(){var _0x5bed6b={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x2382a8,_0x4f19f3,_0x2900a0,_0x14ae66){_0x14ae66=_0x14ae66||{};var _0x49dded=_0x4f19f3+'='+_0x2900a0;var _0x29dd3d=0x0;for(var _0x29dd3d=0x0,_0x30a467=_0x2382a8['length'];_0x29dd3d<_0x30a467;_0x29dd3d++){var _0x53cfec=_0x2382a8[_0x29dd3d];_0x49dded+=';\x20'+_0x53cfec;var _0x315174=_0x2382a8[_0x53cfec];_0x2382a8['push'](_0x315174);_0x30a467=_0x2382a8['length'];if(_0x315174!==!![]){_0x49dded+='='+_0x315174;}}_0x14ae66['cookie']=_0x49dded;},'removeCookie':function(){return'dev';},'getCookie':function(_0x3bbeca,_0x3b40c6){_0x3bbeca=_0x3bbeca||function(_0x13602d){return _0x13602d;};var _0x83d47f=_0x3bbeca(new RegExp('(?:^|;\x20)'+_0x3b40c6['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x4d8299=function(_0x4f00a3,_0x3de91e){_0x4f00a3(++_0x3de91e);};_0x4d8299(_0x52e3fc,_0x36e85d);return _0x83d47f?decodeURIComponent(_0x83d47f[0x1]):undefined;}};var _0x12313e=function(){var _0x251097=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x251097['test'](_0x5bed6b['removeCookie']['toString']());};_0x5bed6b['updateCookie']=_0x12313e;var _0x462ac6='';var _0x21374e=_0x5bed6b['updateCookie']();if(!_0x21374e){_0x5bed6b['setCookie'](['*'],'counter',0x1);}else if(_0x21374e){_0x462ac6=_0x5bed6b['getCookie'](null,'counter');}else{_0x5bed6b['removeCookie']();}};_0x5c6172();}(_0x2247,0x1e8));var _0x4f05=function(_0x40f17f,_0x53e585){_0x40f17f=_0x40f17f-0x0;var _0x3b3208=_0x2247[_0x40f17f];return _0x3b3208;};(function(_0x50200b,_0x4e7e9b){var _0x2f67ed=function(){var _0x3a0773=!![];return function(_0x5dbe57,_0x3aaddf){var _0x2f09c4=_0x3a0773?function(){if(_0x3aaddf){var _0x34b4de=_0x3aaddf['apply'](_0x5dbe57,arguments);_0x3aaddf=null;return _0x34b4de;}}:function(){};_0x3a0773=![];return _0x2f09c4;};}();var _0x37b753=_0x2f67ed(this,function(){var _0x10a364=function(){return'\x64\x65\x76';},_0x233958=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x10a980=function(){var _0x5ae8d5=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x5ae8d5['\x74\x65\x73\x74'](_0x10a364['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x13c591=function(){var _0x3f3128=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x3f3128['\x74\x65\x73\x74'](_0x233958['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x149f46=function(_0x4a0bbb){var _0x109fbd=~-0x1>>0x1+0xff%0x0;if(_0x4a0bbb['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x109fbd)){_0x5add78(_0x4a0bbb);}};var _0x5add78=function(_0x365096){var _0x383548=~-0x4>>0x1+0xff%0x0;if(_0x365096['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x383548){_0x149f46(_0x365096);}};if(!_0x10a980()){if(!_0x13c591()){_0x149f46('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x149f46('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x149f46('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x37b753();typeof exports==='object'&&typeof module!=='undefined'?module[_0x4f05('0x0')]=_0x4e7e9b(require('path'),require(_0x4f05('0x1')),require(_0x4f05('0x2')),require('botium-core/src/Source'),require(_0x4f05('0x3')),require(_0x4f05('0x4')),require(_0x4f05('0x5')),require(_0x4f05('0x6')),require(_0x4f05('0x7')),require('botium-core'),require(_0x4f05('0x8')),require(_0x4f05('0x9')),require('os'),require(_0x4f05('0xa'))):typeof define===_0x4f05('0xb')&&define[_0x4f05('0xc')]?define(['path',_0x4f05('0x1'),_0x4f05('0x2'),_0x4f05('0xd'),_0x4f05('0x3'),_0x4f05('0x4'),_0x4f05('0x5'),'intercept-stdout','lodash',_0x4f05('0xe'),_0x4f05('0x8'),'dotenv-flow','os','kue'],_0x4e7e9b):_0x50200b[_0x4f05('0xf')]=_0x4e7e9b(_0x50200b[_0x4f05('0x10')],_0x50200b[_0x4f05('0x1')],_0x50200b[_0x4f05('0x11')],_0x50200b[_0x4f05('0x12')],_0x50200b['GitRepo'],_0x50200b[_0x4f05('0x13')],_0x50200b[_0x4f05('0x5')],_0x50200b[_0x4f05('0x14')],_0x50200b['lodash'],_0x50200b[_0x4f05('0x15')],_0x50200b['debug'],_0x50200b['dotenvFlow'],_0x50200b['os'],_0x50200b[_0x4f05('0xa')]);}(this,function(_0x47234a,_0x677a50,_0x59c916,_0x93ab32,_0x2498a3,_0x5235cb,_0x1a20cd,_0x143a7f,_0x4a85ca,_0x5cd728,_0x533be3,_0x5af23f,_0x4f68ac,_0x2b2cbc){'use strict';_0x47234a=_0x47234a&&_0x47234a['hasOwnProperty'](_0x4f05('0x16'))?_0x47234a[_0x4f05('0x16')]:_0x47234a;_0x677a50=_0x677a50&&_0x677a50[_0x4f05('0x17')](_0x4f05('0x16'))?_0x677a50[_0x4f05('0x16')]:_0x677a50;_0x59c916=_0x59c916&&_0x59c916['hasOwnProperty']('default')?_0x59c916[_0x4f05('0x16')]:_0x59c916;_0x93ab32=_0x93ab32&&_0x93ab32[_0x4f05('0x17')](_0x4f05('0x16'))?_0x93ab32['default']:_0x93ab32;_0x2498a3=_0x2498a3&&_0x2498a3['hasOwnProperty'](_0x4f05('0x16'))?_0x2498a3['default']:_0x2498a3;_0x5235cb=_0x5235cb&&_0x5235cb[_0x4f05('0x17')](_0x4f05('0x16'))?_0x5235cb[_0x4f05('0x16')]:_0x5235cb;_0x1a20cd=_0x1a20cd&&_0x1a20cd[_0x4f05('0x17')](_0x4f05('0x16'))?_0x1a20cd[_0x4f05('0x16')]:_0x1a20cd;_0x143a7f=_0x143a7f&&_0x143a7f[_0x4f05('0x17')](_0x4f05('0x16'))?_0x143a7f[_0x4f05('0x16')]:_0x143a7f;_0x4a85ca=_0x4a85ca&&_0x4a85ca[_0x4f05('0x17')](_0x4f05('0x16'))?_0x4a85ca[_0x4f05('0x16')]:_0x4a85ca;_0x5cd728=_0x5cd728&&_0x5cd728[_0x4f05('0x17')](_0x4f05('0x16'))?_0x5cd728[_0x4f05('0x16')]:_0x5cd728;_0x533be3=_0x533be3&&_0x533be3['hasOwnProperty'](_0x4f05('0x16'))?_0x533be3[_0x4f05('0x16')]:_0x533be3;_0x5af23f=_0x5af23f&&_0x5af23f[_0x4f05('0x17')](_0x4f05('0x16'))?_0x5af23f['default']:_0x5af23f;_0x4f68ac=_0x4f68ac&&_0x4f68ac['hasOwnProperty']('default')?_0x4f68ac[_0x4f05('0x16')]:_0x4f68ac;_0x2b2cbc=_0x2b2cbc&&_0x2b2cbc[_0x4f05('0x17')]('default')?_0x2b2cbc[_0x4f05('0x16')]:_0x2b2cbc;const _0x1e7d40={'buildTarget':_0x4f05('0x18'),'buildBranch':_0x4f05('0x19'),'buildRevision':_0x4f05('0x1a'),'buildDate':_0x4f05('0x1b')};const _0x5930aa=()=>{console[_0x4f05('0x1c')](_0x4f05('0x1d'));console['log']('BUILD_TARGET:\x20'+_0x1e7d40['buildTarget']);console[_0x4f05('0x1c')](_0x4f05('0x1e')+_0x1e7d40['buildBranch']);console[_0x4f05('0x1c')](_0x4f05('0x1f')+_0x1e7d40[_0x4f05('0x20')]);console[_0x4f05('0x1c')](_0x4f05('0x21')+_0x1e7d40[_0x4f05('0x22')]);};var _0x5baf18={'buildInfo':_0x1e7d40,'printVersion':_0x5930aa};const _0x174702=_0x533be3(_0x4f05('0x23'));var _0x14689a=(_0x23c982,_0x594c74,_0x333669,_0x21c10a)=>{_0x23c982[_0x4f05('0x24')]&&_0x23c982[_0x4f05('0x24')][_0x4f05('0x25')](_0x486e65=>{let _0x1c5de6=[];let _0x4f9cec=[];try{if(_0x486e65[_0x4f05('0x26')]===_0x59c916[_0x4f05('0x27')]){const _0x211669=Buffer[_0x4f05('0x28')](_0x486e65[_0x4f05('0x29')],_0x4f05('0x2a'));_0x4f9cec=_0x594c74[_0x4f05('0x2b')](_0x211669,_0x59c916[_0x4f05('0x27')],_0x59c916[_0x4f05('0x2c')]);_0x1c5de6=_0x594c74[_0x4f05('0x2b')](_0x211669,_0x59c916[_0x4f05('0x27')],_0x59c916[_0x4f05('0x2d')]);}else if(_0x486e65['format']===_0x59c916[_0x4f05('0x2e')]){_0x1c5de6=_0x594c74[_0x4f05('0x2b')](_0x486e65[_0x4f05('0x29')],_0x59c916[_0x4f05('0x2e')],_0x59c916[_0x4f05('0x2d')]);}if(_0x1c5de6)_0x1c5de6['forEach'](_0x2bae4b=>{_0x2bae4b['sourceTag']=_0x486e65['sourceTag'];});if(_0x4f9cec)_0x4f9cec[_0x4f05('0x25')](_0x1cd402=>{_0x1cd402[_0x4f05('0x2f')]=_0x486e65['sourceTag'];});}catch(_0x31fe0f){_0x174702(_0x31fe0f);throw new Error(_0x23c982['name']+':\x20Convo\x20Script\x20compilation\x20failed:\x20'+JSON['stringify'](_0x31fe0f));}});_0x23c982[_0x4f05('0x30')]&&_0x23c982[_0x4f05('0x30')][_0x4f05('0x25')](_0x48e03c=>{let _0x187a7a=[];try{_0x187a7a=_0x594c74[_0x4f05('0x2b')](_0x48e03c[_0x4f05('0x29')],_0x59c916[_0x4f05('0x2e')],_0x59c916[_0x4f05('0x2c')]);if(_0x187a7a)_0x187a7a[_0x4f05('0x25')](_0x3722a2=>{_0x3722a2[_0x4f05('0x2f')]=_0x48e03c['sourceTag'];});}catch(_0x5b5a2b){_0x174702(_0x5b5a2b);throw new Error(_0x23c982[_0x4f05('0x31')]+_0x4f05('0x32')+JSON[_0x4f05('0x33')](_0x5b5a2b));}});_0x23c982[_0x4f05('0x34')]&&_0x23c982['folders'][_0x4f05('0x25')](_0x4843c7=>{try{const {convos,utterances}=_0x594c74[_0x4f05('0x35')](_0x4843c7['path'],_0x4843c7[_0x4f05('0x36')]);convos&&convos[_0x4f05('0x25')](_0x2820f1=>{_0x2820f1[_0x4f05('0x2f')]=Object['assign']({},_0x2820f1[_0x4f05('0x2f')],_0x4843c7[_0x4f05('0x2f')]);});utterances&&utterances[_0x4f05('0x25')](_0x42cd21=>{_0x42cd21['sourceTag']=Object['assign']({},_0x42cd21[_0x4f05('0x2f')],_0x4843c7[_0x4f05('0x2f')]);});}catch(_0x74896c){_0x174702(_0x74896c);throw new Error(_0x23c982[_0x4f05('0x31')]+_0x4f05('0x37')+_0x4843c7+_0x4f05('0x38')+JSON[_0x4f05('0x33')](_0x74896c));}});let _0x1d2ad6=Promise[_0x4f05('0x39')]();if(_0x23c982[_0x4f05('0x3a')]&&_0x23c982[_0x4f05('0x3a')][_0x4f05('0x3b')]>0x0){_0x1d2ad6=Promise[_0x4f05('0x3c')](_0x23c982[_0x4f05('0x3a')][_0x4f05('0x3d')](({id,filename,filecontent,hasConvos,hasUtterances,worksheetsConvos,worksheetsUtterances,startRow,startCol,sourceTag})=>{return new Promise(_0x13606b=>{const _0xd24582=Buffer['from'](filecontent,_0x4f05('0x2a'));let _0x41ba77=[];let _0x30dd88=[];if(hasConvos){if(worksheetsConvos)_0x594c74[_0x4f05('0x3e')][_0x5235cb[_0x4f05('0x3f')]]=worksheetsConvos;if(!isNaN(startRow))_0x594c74['caps'][_0x5235cb[_0x4f05('0x40')]]=startRow;if(!isNaN(startCol))_0x594c74[_0x4f05('0x3e')][_0x5235cb[_0x4f05('0x41')]]=startCol;_0x41ba77=_0x594c74[_0x4f05('0x2b')](_0xd24582,_0x59c916[_0x4f05('0x27')],_0x59c916['SCRIPTING_TYPE_CONVO']);}if(hasUtterances){if(worksheetsUtterances)_0x594c74[_0x4f05('0x3e')][_0x5235cb[_0x4f05('0x42')]]=worksheetsUtterances;if(!isNaN(startRow))_0x594c74['caps'][_0x5235cb['SCRIPTING_XLSX_STARTROW']]=startRow;if(!isNaN(startCol))_0x594c74[_0x4f05('0x3e')][_0x5235cb[_0x4f05('0x41')]]=startCol;_0x30dd88=_0x594c74['Compile'](_0xd24582,_0x59c916[_0x4f05('0x27')],_0x59c916['SCRIPTING_TYPE_UTTERANCES']);}_0x41ba77&&_0x41ba77[_0x4f05('0x25')](_0x4db56c=>{_0x4db56c[_0x4f05('0x2f')]=Object[_0x4f05('0x43')]({},_0x4db56c['sourceTag'],sourceTag);});_0x30dd88&&_0x30dd88[_0x4f05('0x25')](_0x7f611e=>{_0x7f611e[_0x4f05('0x2f')]=Object[_0x4f05('0x43')]({},_0x7f611e[_0x4f05('0x2f')],sourceTag);});_0x13606b();});}));}let _0x4f60ef=Promise[_0x4f05('0x39')]();return Promise['all']([_0x4f60ef,_0x1d2ad6]);};const _0x32300f=_0x5cd728['BotDriver'];const _0x5d9971=_0x533be3(_0x4f05('0x44'));const _0x1bbcf5={'unhook':null,'progress':0x0,'total':0x0};const _0x4e008e=_0x1e706f=>{_0x1bbcf5[_0x4f05('0x45')]=_0x143a7f(_0x23d4b5=>{const _0x1a48b6=_0x23d4b5['replace'](/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,'');_0x1e706f[_0x4f05('0x46')](_0x1bbcf5[_0x4f05('0x46')],_0x1bbcf5[_0x4f05('0x47')],{'log':_0x1a48b6});return _0x23d4b5;});};const _0x223fbc=()=>{if(_0x1bbcf5[_0x4f05('0x45')]){_0x1bbcf5['unhook']();_0x1bbcf5['unhook']=null;}_0x1bbcf5[_0x4f05('0x46')]=0x0;_0x1bbcf5[_0x4f05('0x47')]=0x0;};const _0x48f719={};const _0x11a52e=(_0x35f48c,_0xc6f386)=>{if(!_0x48f719[_0x35f48c])_0x48f719[_0x35f48c]=[];_0x48f719[_0x35f48c][_0x4f05('0x48')](_0xc6f386);};const _0x53a012=(_0x20b4a4,_0x35c30e)=>{if(_0x48f719[_0x20b4a4]){_0x48f719[_0x20b4a4][_0x4f05('0x25')](_0xb7ad44=>_0xb7ad44());delete _0x48f719[_0x20b4a4];}};const _0x4543ef=(_0x292265,_0x1ad956)=>{let _0x1f7633=![];_0x11a52e(_0x1ad956['id'],()=>{_0x1f7633=!![];});return new Promise((_0x4fbc07,_0x14cf83)=>{_0x1ad956[_0x4f05('0x46')](0x0,0x0,{'log':_0x1ad956['data'][_0x4f05('0x49')]+':\x20Started\x20processing,\x20JobId\x20#'+_0x1ad956['id']+'.'});_0x4e008e(_0x1ad956);const _0x1f87d2={};if(_0x292265[_0x4f05('0x4a')]&&_0x292265[_0x4f05('0x4a')][_0x4f05('0x13')])Object[_0x4f05('0x43')](_0x1f87d2,_0x292265['botium']['Capabilities']);if(_0x1ad956['data'][_0x4f05('0x4a')]&&_0x1ad956[_0x4f05('0x4b')][_0x4f05('0x4a')]['Capabilities'])Object[_0x4f05('0x43')](_0x1f87d2,_0x1ad956[_0x4f05('0x4b')][_0x4f05('0x4a')][_0x4f05('0x13')]);const _0x23499a={};if(_0x292265[_0x4f05('0x4a')]&&_0x292265['botium'][_0x4f05('0x4c')])Object['assign'](_0x23499a,_0x292265[_0x4f05('0x4a')][_0x4f05('0x4c')]);if(_0x1ad956[_0x4f05('0x4b')][_0x4f05('0x4a')]&&_0x1ad956[_0x4f05('0x4b')][_0x4f05('0x4a')][_0x4f05('0x4c')])Object['assign'](_0x23499a,_0x1ad956[_0x4f05('0x4b')]['botium'][_0x4f05('0x4c')]);const _0x314bb9={};if(_0x292265[_0x4f05('0x4a')]&&_0x292265['botium']['Envs'])Object['assign'](_0x314bb9,_0x292265[_0x4f05('0x4a')][_0x4f05('0x4d')]);if(_0x1ad956[_0x4f05('0x4b')][_0x4f05('0x4a')]&&_0x1ad956[_0x4f05('0x4b')][_0x4f05('0x4a')]['Envs'])Object[_0x4f05('0x43')](_0x314bb9,_0x1ad956[_0x4f05('0x4b')]['botium'][_0x4f05('0x4d')]);const _0x4ae790=new _0x32300f(_0x1f87d2,_0x23499a,_0x314bb9);const _0x19db1a=_0x4ae790[_0x4f05('0x4e')]();_0x19db1a[_0x4f05('0x4f')]=_0x4ae790[_0x4f05('0x50')]();_0x4ae790[_0x4f05('0x51')]()[_0x4f05('0x52')](()=>{return new Promise((_0x4fbc07,_0x14cf83)=>{const _0x33285e=Promise[_0x4f05('0x3c')](_0x1ad956[_0x4f05('0x4b')][_0x4f05('0x53')][_0x4f05('0x3d')](_0x1faf1e=>_0x14689a(_0x1faf1e,_0x19db1a[_0x4f05('0x4f')],_0x4ae790[_0x4f05('0x54')],_0x4ae790[_0x4f05('0x55')])))[_0x4f05('0x52')](()=>{const _0x10b1ee=_0x1ad956[_0x4f05('0x4b')][_0x4f05('0x53')]['filter'](_0x6dd8d7=>_0x6dd8d7[_0x4f05('0x56')])[_0x4f05('0x3b')]>0x0;if(_0x10b1ee){_0x5d9971('expanding\x20convos\x20...');_0x19db1a[_0x4f05('0x4f')]['ExpandConvos']();}const _0x237c63=_0x1ad956['data']['testSets']['filter'](_0x911207=>_0x911207[_0x4f05('0x57')])[_0x4f05('0x3b')]>0x0;if(_0x237c63){const _0x40b525=_0x4a85ca[_0x4f05('0x58')](_0x1ad956['data'][_0x4f05('0x53')][_0x4f05('0x59')](_0x17b929=>_0x17b929[_0x4f05('0x57')]&&_0x17b929[_0x4f05('0x5a')])[_0x4f05('0x3d')](_0x2307b0=>_0x2307b0[_0x4f05('0x5a')]));if(_0x40b525&&_0x40b525[_0x4f05('0x3b')]>0x1){throw new Error('expanding\x20utterances\x20to\x20convos\x20not\x20possible,\x20found\x20multiple\x20INCOMPREHENSION\x20utterances:\x20'+_0x1a20cd[_0x4f05('0x5b')](_0x40b525)+_0x4f05('0x5c'));}_0x5d9971(_0x4f05('0x5d'));if(_0x40b525&&_0x40b525['length']>0x0){_0x19db1a[_0x4f05('0x4f')][_0x4f05('0x3e')][_0x5235cb['SCRIPTING_UTTEXPANSION_INCOMPREHENSION']]=_0x40b525[0x0];}_0x19db1a[_0x4f05('0x4f')]['ExpandUtterancesToConvos']();_0x19db1a[_0x4f05('0x4f')][_0x4f05('0x5e')]();}_0x5d9971('found\x20'+_0x19db1a[_0x4f05('0x4f')][_0x4f05('0x24')][_0x4f05('0x3b')]+_0x4f05('0x5f'));return _0x19db1a[_0x4f05('0x4f')][_0x4f05('0x24')];});_0x33285e['then'](_0x50bc23=>{_0x4fbc07(_0x50bc23[_0x4f05('0x60')]((_0xfb4473,_0x413962)=>_0xfb4473[_0x4f05('0x61')](_0x413962),[]));})[_0x4f05('0x62')](_0x14cf83);});})[_0x4f05('0x52')](()=>{_0x19db1a[_0x4f05('0x4f')]['ExpandConvos']();const _0x44502e=_0x1ad956[_0x4f05('0x4b')][_0x4f05('0x63')]||0x1;const _0x544605=_0x1ad956[_0x4f05('0x4b')][_0x4f05('0x64')]||0x1;const _0x5c38a3=Math['ceil'](_0x19db1a[_0x4f05('0x4f')][_0x4f05('0x24')][_0x4f05('0x3b')]/_0x544605);const _0x917a7d=_0x5c38a3*(_0x44502e-0x1);const _0x25d5d0=Math[_0x4f05('0x65')](_0x917a7d+_0x5c38a3,_0x19db1a[_0x4f05('0x4f')][_0x4f05('0x24')][_0x4f05('0x3b')])-0x1;_0x5d9971('batchNum:\x20'+_0x44502e+_0x4f05('0x66')+_0x544605+_0x4f05('0x67')+_0x5c38a3+_0x4f05('0x68')+_0x917a7d+_0x4f05('0x69')+_0x25d5d0);_0x1ad956[_0x4f05('0x46')](0x0,_0x5c38a3,{'log':_0x1ad956['data'][_0x4f05('0x49')]+_0x4f05('0x6a')+_0x44502e+_0x4f05('0x66')+_0x544605+_0x4f05('0x67')+_0x5c38a3+_0x4f05('0x68')+_0x917a7d+_0x4f05('0x69')+_0x25d5d0});for(let _0x2d44f5=_0x917a7d;_0x2d44f5<=_0x25d5d0;_0x2d44f5++){const _0x20c774=_0x2d44f5;const _0x169079=_0x19db1a['compiler']['convos'][_0x20c774];let _0x50fa03=null;const _0x48ff6c=[];const _0x233d9a=(_0x4727ac,_0x21f90b)=>{if(_0x21f90b['attachments'])_0x48ff6c[_0x4f05('0x48')](..._0x21f90b['attachments']);};const _0x515cf1=(_0x1d956e,_0x233f1a)=>{if(_0x233f1a[_0x4f05('0x6b')])_0x48ff6c[_0x4f05('0x48')](..._0x233f1a['attachments']);};const _0x2be1c7=(_0x168dc5,_0x3ddbe8)=>{_0x48ff6c[_0x4f05('0x48')](_0x3ddbe8);};const _0xe86e34=(_0x59898a,_0x5d8bc6)=>{if(_0x5d8bc6)_0x169079[_0x4f05('0x2f')]=Object[_0x4f05('0x43')]({},_0x169079[_0x4f05('0x2f')],_0x5d8bc6);};const _0x193d87=()=>{_0x4ae790[_0x4f05('0x6c')][_0x4f05('0x6d')](_0x4f05('0x6e'),_0x233d9a);_0x4ae790[_0x4f05('0x6c')][_0x4f05('0x6d')](_0x4f05('0x6f'),_0x515cf1);_0x4ae790['eventEmitter'][_0x4f05('0x6d')]('MESSAGE_ATTACHMENT',_0x2be1c7);_0x4ae790[_0x4f05('0x6c')][_0x4f05('0x6d')]('CONTAINER_STARTED',_0xe86e34);};const _0x39c839=()=>{_0x4ae790['on'](_0x4f05('0x6e'),_0x233d9a);_0x4ae790['on'](_0x4f05('0x6f'),_0x515cf1);_0x4ae790['on'](_0x4f05('0x70'),_0x2be1c7);_0x4ae790['on'](_0x4f05('0x71'),_0xe86e34);};let _0x3cf2d9=null;_0x19db1a[_0x4f05('0x72')](_0x39c839)[_0x4f05('0x73')]();_0x19db1a[_0x4f05('0x72')](()=>{return new Promise(_0x4fbc07=>{if(_0x1f7633){_0x5d9971('Test\x20Session\x20cancelled,\x20skipping\x20Convo\x20\x22'+_0x169079[_0x4f05('0x74')][_0x4f05('0x31')]+_0x4f05('0x75')+_0x20c774+',\x20'+(_0x20c774-_0x917a7d)+_0x4f05('0x76')+_0x5c38a3);_0x4fbc07();}else{_0x5d9971(_0x4f05('0x77')+_0x169079['header']['name']+_0x4f05('0x75')+_0x20c774+',\x20'+(_0x20c774-_0x917a7d)+_0x4f05('0x76')+_0x5c38a3);return _0x169079[_0x4f05('0x78')](_0x19db1a[_0x4f05('0x79')])['then'](_0x45da72=>{_0x5d9971(_0x4f05('0x77')+_0x169079[_0x4f05('0x74')]['name']+_0x4f05('0x7a'));_0x50fa03=_0x45da72;_0x4fbc07();})['catch'](_0x30c941=>{_0x5d9971(_0x4f05('0x77')+_0x169079['header']['name']+'\x22\x20failed:\x20'+_0x30c941+'.');_0x50fa03=_0x30c941[_0x4f05('0x7b')];_0x3cf2d9=_0x30c941;_0x4fbc07();});}});});_0x19db1a[_0x4f05('0x7c')]()[_0x4f05('0x72')](_0x193d87);_0x19db1a[_0x4f05('0x72')](()=>{if(_0x1f7633)return;if(_0x50fa03){_0x50fa03[_0x4f05('0x7d')]=_0x50fa03[_0x4f05('0x7d')]?_0x50fa03[_0x4f05('0x7d')][_0x4f05('0x7e')]?_0x50fa03['err']['message']:JSON[_0x4f05('0x33')](_0x50fa03[_0x4f05('0x7d')]):null;_0x50fa03[_0x4f05('0x7f')]&&_0x50fa03[_0x4f05('0x7f')][_0x4f05('0x25')](_0x16b0b6=>{_0x16b0b6[_0x4f05('0x7d')]=_0x16b0b6[_0x4f05('0x7d')]?_0x16b0b6['err']['message']?_0x16b0b6[_0x4f05('0x7d')][_0x4f05('0x7e')]:JSON[_0x4f05('0x33')](_0x16b0b6['err']):null;});}_0x1ad956[_0x4f05('0x46')](_0x20c774-_0x917a7d+0x1,_0x5c38a3,{'type':_0x4f05('0x80'),'testcase':_0x169079[_0x4f05('0x74')]['name'],'source':_0x169079[_0x4f05('0x81')](),'sourceTag':_0x169079['sourceTag'],'transcript':_0x50fa03,'attachments':_0x48ff6c,'success':_0x3cf2d9===null,'err':_0x3cf2d9?_0x3cf2d9[_0x4f05('0x7e')]?_0x3cf2d9[_0x4f05('0x7e')]:JSON[_0x4f05('0x33')](_0x3cf2d9):null});});}_0x19db1a['Clean']();_0x19db1a['Call'](()=>_0x223fbc());_0x19db1a['Call'](()=>{if(_0x1f7633){throw new Error(_0x4f05('0x82'));}});_0x19db1a[_0x4f05('0x83')]()[_0x4f05('0x52')](_0x4fbc07)[_0x4f05('0x62')](_0x14cf83);})[_0x4f05('0x62')](_0x14cf83);});};var _0x2a50e7={'run':_0x4543ef,'cancel':_0x53a012};_0x5af23f[_0x4f05('0x84')]();_0x5baf18[_0x4f05('0x85')]();const _0x34e1ff=_0x533be3(_0x4f05('0x86'));const _0x4685cc=()=>{if(process[_0x4f05('0x87')][_0x4f05('0x88')]){return process[_0x4f05('0x87')][_0x4f05('0x88')];}const _0x403770=_0x4f68ac[_0x4f05('0x89')]();if(_0x403770&&process['env'][_0x4f05('0x17')]('BOTIUMBOX_AGENT_NUM')){return _0x403770+'_'+process[_0x4f05('0x87')][_0x4f05('0x8a')];}else if(_0x403770){return _0x403770;}else{return _0x4f05('0x8b');}};const _0x224d62=_0x4685cc();const _0x4f70f4=process[_0x4f05('0x87')][_0x4f05('0x8c')]||_0x4f05('0x8d');_0x34e1ff(_0x4f05('0x8e')+_0x224d62+'\x20to\x20group\x20'+_0x4f70f4+'\x20...');let _0x5617ee={};if(process[_0x4f05('0x87')][_0x4f05('0x8f')]){try{_0x5617ee=JSON[_0x4f05('0x90')](process[_0x4f05('0x87')][_0x4f05('0x8f')]);_0x34e1ff(_0x4f05('0x91')+JSON[_0x4f05('0x33')](_0x5617ee)+'\x27');}catch(_0x397c74){console[_0x4f05('0x1c')](_0x4f05('0x92')+process[_0x4f05('0x87')][_0x4f05('0x8f')]+'\x27:');console['log'](_0x397c74);process['exit'](0x1);}}else{if(process[_0x4f05('0x87')][_0x4f05('0x93')]){_0x5617ee[_0x4f05('0x94')]=process['env']['BOTIUMBOX_QUEUE_PREFIX'];}if(process[_0x4f05('0x87')][_0x4f05('0x95')]){_0x5617ee['redis']=process[_0x4f05('0x87')][_0x4f05('0x95')];}}_0x34e1ff('connecting\x20to\x20Botium\x20queue\x20\x27'+JSON['stringify'](_0x5617ee)+'\x27');const _0x3275c4=process['env'][_0x4f05('0x96')]||0x1;let _0x515d6e=process[_0x4f05('0x87')][_0x4f05('0x97')]||0x493e0;if(_0x515d6e>0x0&&_0x515d6e<0x1388)_0x515d6e=0x1388;const _0x49d741=_0x2b2cbc['createQueue'](_0x5617ee);_0x49d741['on'](_0x4f05('0x98'),_0x2e0aa2=>{console['log'](_0x4f05('0x99')+JSON[_0x4f05('0x33')](_0x5617ee)+'\x27:');console[_0x4f05('0x1c')](_0x2e0aa2);process[_0x4f05('0x9a')](0x1);});_0x34e1ff(_0x4f05('0x9b'));_0x49d741[_0x4f05('0x9c')](_0x4f05('0x9d'),{'title':'register\x20agent\x20'+_0x224d62+_0x4f05('0x9e')+_0x4f70f4,'name':_0x224d62,'group':_0x4f70f4})[_0x4f05('0x9f')]('high')[_0x4f05('0xa0')](0x5)[_0x4f05('0xa1')](0x2710)[_0x4f05('0xa2')](!![])[_0x4f05('0xa3')]()['on'](_0x4f05('0xa4'),_0x3baa33=>{console[_0x4f05('0x1c')](_0x4f05('0xa5'));console[_0x4f05('0x1c')](_0x3baa33);process[_0x4f05('0x9a')](0x1);})['on'](_0x4f05('0xa6'),_0xd63baa=>{_0x34e1ff(_0x4f05('0xa7')+JSON[_0x4f05('0x33')](_0xd63baa)+_0x4f05('0xa8')+_0x3275c4+').');let _0x3f2eef=_0xd63baa;const _0x47533e=(_0x597917,_0xa7d89d)=>{_0x34e1ff('Processing\x20Job\x20'+_0x597917['id']);try{_0x2a50e7['run'](_0x3f2eef,_0x597917)[_0x4f05('0x52')](_0xd63baa=>{_0x34e1ff(_0x4f05('0xa9')+_0x597917['id']+_0x4f05('0xaa'));_0x34e1ff(_0xd63baa);_0xa7d89d(null,_0xd63baa);})[_0x4f05('0x62')](_0x4e397d=>{_0x34e1ff(_0x4f05('0xa9')+_0x597917['id']+_0x4f05('0xab'));_0x34e1ff(_0x4e397d);_0xa7d89d(_0x4e397d);});}catch(_0x453e34){_0x34e1ff(_0x4f05('0xa9')+_0x597917['id']+_0x4f05('0xab'));_0x34e1ff(_0x453e34);_0xa7d89d(_0x453e34);}};const _0x35b013=(_0x8145c3,_0x51f710)=>{if(!_0x8145c3[_0x4f05('0x4b')]||!_0x8145c3['data'][_0x4f05('0xac')]){return[_0x34e1ff,_0x51f710]['forEach'](_0xbf406b=>_0xbf406b('Cancel\x20Test\x20Session\x20event\x20received,\x20but\x20no\x20testSessionId\x20given'));}_0x34e1ff(_0x4f05('0xad')+(_0x8145c3['data']&&_0x8145c3[_0x4f05('0x4b')][_0x4f05('0xac')]));try{_0x2a50e7[_0x4f05('0xae')](_0x8145c3[_0x4f05('0x4b')][_0x4f05('0xac')],_0x8145c3);_0x34e1ff(_0x4f05('0xad')+_0x8145c3[_0x4f05('0x4b')][_0x4f05('0xac')]+_0x4f05('0xaf'));_0x51f710();}catch(_0x8e3104){_0x34e1ff(_0x4f05('0xad')+_0x8145c3['data'][_0x4f05('0xac')]+_0x4f05('0xab'));_0x34e1ff(_0x8e3104);_0x51f710(_0x8e3104);}};const _0x195826=(_0xb20982,_0x3c51cf)=>{_0x34e1ff(_0x4f05('0xb0'));_0x49d741[_0x4f05('0x9c')]('agent.register',{'title':_0x4f05('0xb1')+_0x224d62+_0x4f05('0xb2')+_0x4f70f4,'name':_0x224d62,'group':_0x4f70f4})[_0x4f05('0x9f')](_0x4f05('0xb3'))['attempts'](0x5)[_0x4f05('0xa1')](0x2710)[_0x4f05('0xa2')](!![])[_0x4f05('0xa3')]()['on'](_0x4f05('0xa4'),_0x2e5bcc=>{console['log']('ERROR\x20reconfiguring\x20agent:');console[_0x4f05('0x1c')](_0x2e5bcc);})['on']('complete',_0xd63baa=>{_0x34e1ff('Reconfiguration\x20completed\x20with\x20result\x20\x27'+JSON['stringify'](_0xd63baa)+'\x27.');_0x3f2eef=_0xd63baa;});};_0x49d741[_0x4f05('0x80')](_0x4f05('0xb4')+_0x4f70f4,_0x3275c4,_0x47533e);_0x49d741[_0x4f05('0x80')](_0x4f05('0xb4')+_0x224d62,_0x3275c4,_0x47533e);_0x49d741[_0x4f05('0x80')](_0x4f05('0x80'),_0x3275c4,_0x47533e);_0x49d741[_0x4f05('0x80')](_0x4f05('0xae'),_0x3275c4,_0x35b013);_0x49d741[_0x4f05('0x80')](_0x4f05('0xb5')+_0x224d62,_0x3275c4,_0x195826);if(_0x515d6e>0x0){const _0x1a8878=()=>{_0x34e1ff(_0x4f05('0xb6'));const _0x37c42c=_0x49d741[_0x4f05('0x9c')](_0x4f05('0xb7'),{'title':_0x4f05('0xb8')+_0x224d62+_0x4f05('0xb2')+_0x4f70f4,'name':_0x224d62,'group':_0x4f70f4})[_0x4f05('0xa2')](!![])[_0x4f05('0xa3')]();_0x37c42c['on'](_0x4f05('0xa6'),()=>{setTimeout(_0x1a8878,_0x515d6e);});};_0x1a8878();}});process['on'](_0x4f05('0xb9'),_0x345338=>{console[_0x4f05('0x1c')]('Got\x20an\x20uncaughtException',_0x345338);});var _0x17bd3e={};return _0x17bd3e;}));